<div class="box clearfix animated fadeIn delay-400" id="fileSharingComponent">
	<div class="box-body clearfix p-0" *ngIf="permissions">
		<div class="box-subtitle clearfix">
			<div>
				<h5>Permissions and Control</h5>
			</div>
		</div>
		<form [formGroup]="fileSharingSettingsForm" id="fileSharing" class="clearfix">
			<div class="input-block">
				<label>Allow visitors to share files</label>
				<div class="pretty p-switch p-smooth p-fill p-toggle">
					<!-- <input type="checkbox" [checked]="permissions.forVisitors" name="forVisitors" (click)="permissions.forVisitors = !permissions.forVisitors"/> -->
					<input type="checkbox" [checked]="permissions.forVisitors" name="forVisitors"
						(click)="SetPermission('forVisitors')"/>
					<div class="state p-on">
						<label>Allowed</label>
					</div>
					<div class="state p-off">
						<label>Not Allowed</label>
					</div>
				</div>
			</div>
			<div class="input-block">
				<label>Allow agents to share files</label>
				<div class="pretty p-switch p-smooth p-fill p-toggle">
					<input type="checkbox" [checked]="permissions.forAgents" name="forAgents"
						(click)="SetPermission('forAgents')"/>
					<div class="state p-on">
						<label>Allowed</label>
					</div>
					<div class="state p-off">
						<label>Not Allowed</label>
					</div>
				</div>
			</div>
			<div class="input-block">
				<label>Allow Visitors to see chat history</label>
				<div class="pretty p-switch p-smooth p-fill p-toggle">
					<input type="checkbox" [checked]="permissions.showRecentChats" name="showRecentChats"
						(click)="SetPermission('showRecentChats')"/>
					<div class="state p-on">
						<label>Allowed</label>
					</div>
					<div class="state p-off">
						<label>Not Allowed</label>
					</div>
				</div>
			</div>
			<div class="input-block">
				<label>Chat Initiation on Invitation</label>
				<div class="pretty p-switch p-smooth p-fill p-toggle">
					<input type="checkbox" [checked]="permissions.invitationChatInitiations"
						name="invitationChatInitiations" (click)="SetPermission('invitationChatInitiations')"/>
					<div class="state p-on">
						<label>On</label>
					</div>
					<div class="state p-off">
						<label>Off</label>
					</div>
				</div>
			</div>
			<div class="input-block">
				<label>Allow Visitors to chat as Guest</label>
				<div class="pretty p-switch p-smooth p-fill p-toggle">
					<input type="checkbox" [checked]="permissions.chatAsGuest" name="chatAsGuest"
						(click)="SetPermission('chatAsGuest')"/>
					<div class="state p-on">
						<label>Allowed</label>
					</div>
					<div class="state p-off">
						<label>Not Allowed</label>
					</div>
				</div>
			</div>
			<button class="btn btn-sm bg-blue" [ngClass]="(loading) ? 'btnSpinner' : ''" (click)="Submit()">
				<span>Save</span>
			</button>
		</form>
		<div class="text-red" *ngIf="_chatSettings.getSettingsChangedStatus() | async">
			<h5 class="badge bg-red">
				<span><b>Note:</b> Settings have been changed please reload the page.</span>
			</h5>
		</div>
	</div>
</div>