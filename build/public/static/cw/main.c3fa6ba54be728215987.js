(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"+SKG":function(e,t){e.exports=function(e){return n&&global.Buffer.isBuffer(e)||l&&(e instanceof global.ArrayBuffer||i(e))};var n="function"==typeof global.Buffer&&"function"==typeof global.Buffer.isBuffer,l="function"==typeof global.ArrayBuffer,i=l&&"function"==typeof global.ArrayBuffer.isView?global.ArrayBuffer.isView:function(e){return e.buffer instanceof global.ArrayBuffer}},"+qE3":function(e,t){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function l(e){return"function"==typeof e}function i(e){return"object"==typeof e&&null!==e}function o(e){return void 0===e}e.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},n.prototype.emit=function(e){var t,n,r,u,s,a;if(this._events||(this._events={}),"error"===e&&(!this._events.error||i(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var c=new Error('Uncaught, unspecified "error" event. ('+t+")");throw c.context=t,c}if(o(n=this._events[e]))return!1;if(l(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:u=Array.prototype.slice.call(arguments,1),n.apply(this,u)}else if(i(n))for(u=Array.prototype.slice.call(arguments,1),r=(a=n.slice()).length,s=0;s<r;s++)a[s].apply(this,u);return!0},n.prototype.on=n.prototype.addListener=function(e,t){var r;if(!l(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,l(t.listener)?t.listener:t),this._events[e]?i(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,i(this._events[e])&&!this._events[e].warned&&(r=o(this._maxListeners)?n.defaultMaxListeners:this._maxListeners)&&r>0&&this._events[e].length>r&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},n.prototype.once=function(e,t){if(!l(t))throw TypeError("listener must be a function");var n=!1;function i(){this.removeListener(e,i),n||(n=!0,t.apply(this,arguments))}return i.listener=t,this.on(e,i),this},n.prototype.removeListener=function(e,t){var n,o,r,u;if(!l(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(r=(n=this._events[e]).length,o=-1,n===t||l(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(i(n)){for(u=r;u-- >0;)if(n[u]===t||n[u].listener&&n[u].listener===t){o=u;break}if(o<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(o,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},n.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(l(n=this._events[e]))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},n.prototype.listeners=function(e){return this._events&&this._events[e]?l(this._events[e])?[this._events[e]]:this._events[e].slice():[]},n.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(l(t))return 1;if(t)return t.length}return 0},n.listenerCount=function(e,t){return e.listenerCount(t)}},0:function(e,t,n){e.exports=n("zUnb")},"0z79":function(e,t,n){var l=n("AdPF"),i=n("CUme"),o=n("cpc2"),r=n("Yvos"),u=n("HjK1")("engine.io-client:polling-xhr");function s(){}function a(e){if(i.call(this,e),this.requestTimeout=e.requestTimeout,this.extraHeaders=e.extraHeaders,global.location){var t="https:"===location.protocol,n=location.port;n||(n=t?443:80),this.xd=e.hostname!==global.location.hostname||n!==e.port,this.xs=e.secure!==t}}function c(e){this.method=e.method||"GET",this.uri=e.uri,this.xd=!!e.xd,this.xs=!!e.xs,this.async=!1!==e.async,this.data=void 0!==e.data?e.data:null,this.agent=e.agent,this.isBinary=e.isBinary,this.supportsBinary=e.supportsBinary,this.enablesXDR=e.enablesXDR,this.requestTimeout=e.requestTimeout,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.extraHeaders=e.extraHeaders,this.create()}function p(){for(var e in c.requests)c.requests.hasOwnProperty(e)&&c.requests[e].abort()}e.exports=a,e.exports.Request=c,r(a,i),a.prototype.supportsBinary=!0,a.prototype.request=function(e){return(e=e||{}).uri=this.uri(),e.xd=this.xd,e.xs=this.xs,e.agent=this.agent||!1,e.supportsBinary=this.supportsBinary,e.enablesXDR=this.enablesXDR,e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized,e.requestTimeout=this.requestTimeout,e.extraHeaders=this.extraHeaders,new c(e)},a.prototype.doWrite=function(e,t){var n=this.request({method:"POST",data:e,isBinary:"string"!=typeof e&&void 0!==e}),l=this;n.on("success",t),n.on("error",function(e){l.onError("xhr post error",e)}),this.sendXhr=n},a.prototype.doPoll=function(){u("xhr poll");var e=this.request(),t=this;e.on("data",function(e){t.onData(e)}),e.on("error",function(e){t.onError("xhr poll error",e)}),this.pollXhr=e},o(c.prototype),c.prototype.create=function(){var e={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized;var t=this.xhr=new l(e),n=this;try{u("xhr open %s: %s",this.method,this.uri),t.open(this.method,this.uri,this.async);try{if(this.extraHeaders)for(var i in t.setDisableHeaderCheck&&t.setDisableHeaderCheck(!0),this.extraHeaders)this.extraHeaders.hasOwnProperty(i)&&t.setRequestHeader(i,this.extraHeaders[i])}catch(o){}if("POST"===this.method)try{t.setRequestHeader("Content-type",this.isBinary?"application/octet-stream":"text/plain;charset=UTF-8")}catch(o){}try{t.setRequestHeader("Accept","*/*")}catch(o){}"withCredentials"in t&&(t.withCredentials=!0),this.requestTimeout&&(t.timeout=this.requestTimeout),this.hasXDR()?(t.onload=function(){n.onLoad()},t.onerror=function(){n.onError(t.responseText)}):t.onreadystatechange=function(){if(2===t.readyState)try{var e=t.getResponseHeader("Content-Type");n.supportsBinary&&"application/octet-stream"===e&&(t.responseType="arraybuffer")}catch(o){}4===t.readyState&&(200===t.status||1223===t.status?n.onLoad():setTimeout(function(){n.onError(t.status)},0))},u("xhr data %s",this.data),t.send(this.data)}catch(o){return void setTimeout(function(){n.onError(o)},0)}global.document&&(this.index=c.requestsCount++,c.requests[this.index]=this)},c.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},c.prototype.onData=function(e){this.emit("data",e),this.onSuccess()},c.prototype.onError=function(e){this.emit("error",e),this.cleanup(!0)},c.prototype.cleanup=function(e){if(null!=this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=s:this.xhr.onreadystatechange=s,e)try{this.xhr.abort()}catch(t){}global.document&&delete c.requests[this.index],this.xhr=null}},c.prototype.onLoad=function(){var e;try{var t;try{t=this.xhr.getResponseHeader("Content-Type")}catch(n){}e="application/octet-stream"===t&&this.xhr.response||this.xhr.responseText}catch(n){this.onError(n)}null!=e&&this.onData(e)},c.prototype.hasXDR=function(){return void 0!==global.XDomainRequest&&!this.xs&&this.enablesXDR},c.prototype.abort=function(){this.cleanup()},c.requestsCount=0,c.requests={},global.document&&(global.attachEvent?global.attachEvent("onunload",p):global.addEventListener&&global.addEventListener("beforeunload",p,!1))},1:function(e,t){},"14A5":function(e,t){var n=void 0!==n?n:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder&&MozBlobBuilder,l=function(){try{return 2===new Blob(["hi"]).size}catch(e){return!1}}(),i=l&&function(){try{return 2===new Blob([new Uint8Array([1,2])]).size}catch(e){return!1}}(),o=n&&n.prototype.append&&n.prototype.getBlob;function r(e){return e.map(function(e){if(e.buffer instanceof ArrayBuffer){var t=e.buffer;if(e.byteLength!==t.byteLength){var n=new Uint8Array(e.byteLength);n.set(new Uint8Array(t,e.byteOffset,e.byteLength)),t=n.buffer}return t}return e})}function u(e,t){t=t||{};var l=new n;return r(e).forEach(function(e){l.append(e)}),t.type?l.getBlob(t.type):l.getBlob()}function s(e,t){return new Blob(r(e),t||{})}"undefined"!=typeof Blob&&(u.prototype=Blob.prototype,s.prototype=Blob.prototype),e.exports=l?i?Blob:s:o?u:void 0},"1pIY":function(e,t,n){"use strict";var l=n("2tF/");t.async=new(n("NTcF").AsyncScheduler)(l.AsyncAction)},"24jU":function(e,t,n){"use strict";t.errorObject={e:{}}},"2Dig":function(e,t){e.exports=function(e,t,n){return e.on(t,n),{destroy:function(){e.removeListener(t,n)}}}},"2pII":function(e,t,n){var l=n("akSB"),i=n("cpc2"),o=n("HjK1")("engine.io-client:socket"),r=n("7jRU"),u=n("Wm4p"),s=n("Uxeu"),a=n("TypT");function c(e,t){if(!(this instanceof c))return new c(e,t);t=t||{},e&&"object"==typeof e&&(t=e,e=null),e?(e=s(e),t.hostname=e.host,t.secure="https"===e.protocol||"wss"===e.protocol,t.port=e.port,e.query&&(t.query=e.query)):t.host&&(t.hostname=s(t.host).host),this.secure=null!=t.secure?t.secure:global.location&&"https:"===location.protocol,t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.agent=t.agent||!1,this.hostname=t.hostname||(global.location?location.hostname:"localhost"),this.port=t.port||(global.location&&location.port?location.port:this.secure?443:80),this.query=t.query||{},"string"==typeof this.query&&(this.query=a.decode(this.query)),this.upgrade=!1!==t.upgrade,this.path=(t.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!t.forceJSONP,this.jsonp=!1!==t.jsonp,this.forceBase64=!!t.forceBase64,this.enablesXDR=!!t.enablesXDR,this.timestampParam=t.timestampParam||"t",this.timestampRequests=t.timestampRequests,this.transports=t.transports||["polling","websocket"],this.transportOptions=t.transportOptions||{},this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.policyPort=t.policyPort||843,this.rememberUpgrade=t.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=t.onlyBinaryUpgrades,this.perMessageDeflate=!1!==t.perMessageDeflate&&(t.perMessageDeflate||{}),!0===this.perMessageDeflate&&(this.perMessageDeflate={}),this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=t.pfx||null,this.key=t.key||null,this.passphrase=t.passphrase||null,this.cert=t.cert||null,this.ca=t.ca||null,this.ciphers=t.ciphers||null,this.rejectUnauthorized=void 0===t.rejectUnauthorized||t.rejectUnauthorized,this.forceNode=!!t.forceNode;var n="object"==typeof global&&global;n.global===n&&(t.extraHeaders&&Object.keys(t.extraHeaders).length>0&&(this.extraHeaders=t.extraHeaders),t.localAddress&&(this.localAddress=t.localAddress)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingIntervalTimer=null,this.pingTimeoutTimer=null,this.open()}e.exports=c,c.priorWebsocketSuccess=!1,i(c.prototype),c.protocol=u.protocol,c.Socket=c,c.Transport=n("Gbct"),c.transports=n("akSB"),c.parser=n("Wm4p"),c.prototype.createTransport=function(e){o('creating transport "%s"',e);var t=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}(this.query);t.EIO=u.protocol,t.transport=e;var n=this.transportOptions[e]||{};return this.id&&(t.sid=this.id),new l[e]({query:t,socket:this,agent:n.agent||this.agent,hostname:n.hostname||this.hostname,port:n.port||this.port,secure:n.secure||this.secure,path:n.path||this.path,forceJSONP:n.forceJSONP||this.forceJSONP,jsonp:n.jsonp||this.jsonp,forceBase64:n.forceBase64||this.forceBase64,enablesXDR:n.enablesXDR||this.enablesXDR,timestampRequests:n.timestampRequests||this.timestampRequests,timestampParam:n.timestampParam||this.timestampParam,policyPort:n.policyPort||this.policyPort,pfx:n.pfx||this.pfx,key:n.key||this.key,passphrase:n.passphrase||this.passphrase,cert:n.cert||this.cert,ca:n.ca||this.ca,ciphers:n.ciphers||this.ciphers,rejectUnauthorized:n.rejectUnauthorized||this.rejectUnauthorized,perMessageDeflate:n.perMessageDeflate||this.perMessageDeflate,extraHeaders:n.extraHeaders||this.extraHeaders,forceNode:n.forceNode||this.forceNode,localAddress:n.localAddress||this.localAddress,requestTimeout:n.requestTimeout||this.requestTimeout,protocols:n.protocols||void 0})},c.prototype.open=function(){var e;if(this.rememberUpgrade&&c.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))e="websocket";else{if(0===this.transports.length){var t=this;return void setTimeout(function(){t.emit("error","No transports available")},0)}e=this.transports[0]}this.readyState="opening";try{e=this.createTransport(e)}catch(n){return this.transports.shift(),void this.open()}e.open(),this.setTransport(e)},c.prototype.setTransport=function(e){o("setting transport %s",e.name);var t=this;this.transport&&(o("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=e,e.on("drain",function(){t.onDrain()}).on("packet",function(e){t.onPacket(e)}).on("error",function(e){t.onError(e)}).on("close",function(){t.onClose("transport close")})},c.prototype.probe=function(e){o('probing transport "%s"',e);var t=this.createTransport(e,{probe:1}),n=!1,l=this;function i(){l.onlyBinaryUpgrades&&(n=n||!this.supportsBinary&&l.transport.supportsBinary),n||(o('probe transport "%s" opened',e),t.send([{type:"ping",data:"probe"}]),t.once("packet",function(i){if(!n)if("pong"===i.type&&"probe"===i.data){if(o('probe transport "%s" pong',e),l.upgrading=!0,l.emit("upgrading",t),!t)return;c.priorWebsocketSuccess="websocket"===t.name,o('pausing current transport "%s"',l.transport.name),l.transport.pause(function(){n||"closed"!==l.readyState&&(o("changing transport and sending upgrade packet"),d(),l.setTransport(t),t.send([{type:"upgrade"}]),l.emit("upgrade",t),t=null,l.upgrading=!1,l.flush())})}else{o('probe transport "%s" failed',e);var r=new Error("probe error");r.transport=t.name,l.emit("upgradeError",r)}}))}function r(){n||(n=!0,d(),t.close(),t=null)}function u(n){var i=new Error("probe error: "+n);i.transport=t.name,r(),o('probe transport "%s" failed because of error: %s',e,n),l.emit("upgradeError",i)}function s(){u("transport closed")}function a(){u("socket closed")}function p(e){t&&e.name!==t.name&&(o('"%s" works - aborting "%s"',e.name,t.name),r())}function d(){t.removeListener("open",i),t.removeListener("error",u),t.removeListener("close",s),l.removeListener("close",a),l.removeListener("upgrading",p)}c.priorWebsocketSuccess=!1,t.once("open",i),t.once("error",u),t.once("close",s),this.once("close",a),this.once("upgrading",p),t.open()},c.prototype.onOpen=function(){if(o("socket open"),this.readyState="open",c.priorWebsocketSuccess="websocket"===this.transport.name,this.emit("open"),this.flush(),"open"===this.readyState&&this.upgrade&&this.transport.pause){o("starting upgrade probes");for(var e=0,t=this.upgrades.length;e<t;e++)this.probe(this.upgrades[e])}},c.prototype.onPacket=function(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(o('socket receive: type "%s", data "%s"',e.type,e.data),this.emit("packet",e),this.emit("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emit("data",e.data),this.emit("message",e.data)}else o('packet received with socket readyState "%s"',this.readyState)},c.prototype.onHandshake=function(e){this.emit("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.onOpen(),"closed"!==this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},c.prototype.onHeartbeat=function(e){clearTimeout(this.pingTimeoutTimer);var t=this;t.pingTimeoutTimer=setTimeout(function(){"closed"!==t.readyState&&t.onClose("ping timeout")},e||t.pingInterval+t.pingTimeout)},c.prototype.setPing=function(){var e=this;clearTimeout(e.pingIntervalTimer),e.pingIntervalTimer=setTimeout(function(){o("writing ping packet - expecting pong within %sms",e.pingTimeout),e.ping(),e.onHeartbeat(e.pingTimeout)},e.pingInterval)},c.prototype.ping=function(){var e=this;this.sendPacket("ping",function(){e.emit("ping")})},c.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit("drain"):this.flush()},c.prototype.flush=function(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(o("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},c.prototype.write=c.prototype.send=function(e,t,n){return this.sendPacket("message",e,t,n),this},c.prototype.sendPacket=function(e,t,n,l){if("function"==typeof t&&(l=t,t=void 0),"function"==typeof n&&(l=n,n=null),"closing"!==this.readyState&&"closed"!==this.readyState){(n=n||{}).compress=!1!==n.compress;var i={type:e,data:t,options:n};this.emit("packetCreate",i),this.writeBuffer.push(i),l&&this.once("flush",l),this.flush()}},c.prototype.close=function(){if("opening"===this.readyState||"open"===this.readyState){this.readyState="closing";var e=this;this.writeBuffer.length?this.once("drain",function(){this.upgrading?l():t()}):this.upgrading?l():t()}function t(){e.onClose("forced close"),o("socket closing - telling transport to close"),e.transport.close()}function n(){e.removeListener("upgrade",n),e.removeListener("upgradeError",n),t()}function l(){e.once("upgrade",n),e.once("upgradeError",n)}return this},c.prototype.onError=function(e){o("socket error %j",e),c.priorWebsocketSuccess=!1,this.emit("error",e),this.onClose("transport error",e)},c.prototype.onClose=function(e,t){"opening"!==this.readyState&&"open"!==this.readyState&&"closing"!==this.readyState||(o('socket close with reason: "%s"',e),clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",e,t),this.writeBuffer=[],this.prevBufferLen=0)},c.prototype.filterUpgrades=function(e){for(var t=[],n=0,l=e.length;n<l;n++)~r(this.transports,e[n])&&t.push(e[n]);return t}},"2tF/":function(e,t,n){var l=n("mrSG").__extends;t.AsyncAction=function(e){function t(t,n){var l=e.call(this,t,n)||this;return l.scheduler=t,l.work=n,l.pending=!1,l}return l(t,e),t.prototype.schedule=function(e,t){if(void 0===t&&(t=0),this.closed)return this;this.state=e;var n=this.id,l=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(l,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(l,this.id,t),this},t.prototype.requestAsyncId=function(e,t,n){return void 0===n&&(n=0),setInterval(e.flush.bind(e,this),n)},t.prototype.recycleAsyncId=function(e,t,n){if(void 0===n&&(n=0),null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)},t.prototype.execute=function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var n=!1,l=void 0;try{this.work(e)}catch(i){n=!0,l=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),l},t.prototype._unsubscribe=function(){var e=this.id,t=this.scheduler,n=t.actions,l=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==l&&n.splice(l,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null},t}(n("Dz+M").Action)},"4dtt":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=n("ENPf"),i=n("IKIk"),o=n("ENPf"),r=n("Gyns").byEbmlID,u=function(e){return e[e.STATE_TAG=1]="STATE_TAG",e[e.STATE_SIZE=2]="STATE_SIZE",e[e.STATE_CONTENT=3]="STATE_CONTENT",e}({});t.default=function(){function e(){this._buffer=new l.Buffer(0),this._tag_stack=[],this._state=u.STATE_TAG,this._cursor=0,this._total=0,this._schema=r,this._result=[]}return e.prototype.decode=function(e){this.readChunk(e);var t=this._result;return this._result=[],t},e.prototype.readChunk=function(e){for(this._buffer=o.concat([this._buffer,new l.Buffer(e)]);this._cursor<this._buffer.length&&(this._state!==u.STATE_TAG||this.readTag())&&(this._state!==u.STATE_SIZE||this.readSize())&&(this._state!==u.STATE_CONTENT||this.readContent()););},e.prototype.getSchemaInfo=function(e){return this._schema[e]||{name:"unknown",level:-1,type:"unknown",description:"unknown"}},e.prototype.readTag=function(){if(this._cursor>=this._buffer.length)return!1;var e=l.readVint(this._buffer,this._cursor);if(null==e)return!1;var t=this._buffer.slice(this._cursor,this._cursor+e.length).reduce(function(e,t,n,l){return e+t*Math.pow(16,2*(l.length-1-n))},0),n=this.getSchemaInfo(t),i={EBML_ID:t.toString(16),schema:n,type:n.type,name:n.name,level:n.level,tagStart:this._total,tagEnd:this._total+e.length,sizeStart:this._total+e.length,sizeEnd:null,dataStart:null,dataEnd:null,dataSize:null,data:null};return this._tag_stack.push(i),this._cursor+=e.length,this._total+=e.length,this._state=u.STATE_SIZE,!0},e.prototype.readSize=function(){if(this._cursor>=this._buffer.length)return!1;var e=l.readVint(this._buffer,this._cursor);if(null==e)return!1;var t=this._tag_stack[this._tag_stack.length-1];return t.sizeEnd=t.sizeStart+e.length,t.dataStart=t.sizeEnd,t.dataSize=e.value,-1===e.value?(t.dataEnd=-1,"m"===t.type&&(t.unknownSize=!0)):t.dataEnd=t.sizeEnd+e.value,this._cursor+=e.length,this._total+=e.length,this._state=u.STATE_CONTENT,!0},e.prototype.readContent=function(){var e=this._tag_stack[this._tag_stack.length-1];if("m"===e.type){if(e.isEnd=!1,this._result.push(e),this._state=u.STATE_TAG,0===e.dataSize){var t=Object.assign({},e,{isEnd:!0});this._result.push(t),this._tag_stack.pop()}return!0}if(this._buffer.length<this._cursor+e.dataSize)return!1;var n=this._buffer.slice(this._cursor,this._cursor+e.dataSize);switch(this._buffer=this._buffer.slice(this._cursor+e.dataSize),e.data=n,e.type){case"u":e.value=n.readUIntBE(0,n.length);break;case"i":e.value=n.readIntBE(0,n.length);break;case"f":e.value=4===e.dataSize?n.readFloatBE(0):8===e.dataSize?n.readDoubleBE(0):(console.warn("cannot read "+e.dataSize+" octets float. failback to 0"),0);break;case"s":e.value=n.toString("ascii");break;case"8":e.value=n.toString("utf8");break;case"b":e.value=n;break;case"d":e.value=l.convertEBMLDateToJSDate(new i.Int64BE(n).toNumber())}if(null===e.value)throw new Error("unknown tag type:"+e.type);for(this._result.push(e),this._total+=e.dataSize,this._state=u.STATE_TAG,this._cursor=0,this._tag_stack.pop();this._tag_stack.length>0;){var o=this._tag_stack[this._tag_stack.length-1];if(o.dataEnd<0)return this._tag_stack.pop(),!0;if(this._total<o.dataEnd)break;if("m"!==o.type)throw new Error("parent element is not master element");t=Object.assign({},o,{isEnd:!0}),this._result.push(t),this._tag_stack.pop()}return!0},e}()},"5LH7":function(e,t){var n=1e3,l=6e4,i=36e5,o=24*i;function r(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}e.exports=function(e,t){t=t||{};var u,s=typeof e;if("string"===s&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var r=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*r;case"days":case"day":case"d":return r*o;case"hours":case"hour":case"hrs":case"hr":case"h":return r*i;case"minutes":case"minute":case"mins":case"min":case"m":return r*l;case"seconds":case"second":case"secs":case"sec":case"s":return r*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}(e);if("number"===s&&!1===isNaN(e))return t.long?r(u=e,o,"day")||r(u,i,"hour")||r(u,l,"minute")||r(u,n,"second")||u+" ms":function(e){return e>=o?Math.round(e/o)+"d":e>=i?Math.round(e/i)+"h":e>=l?Math.round(e/l)+"m":e>=n?Math.round(e/n)+"s":e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},"5M3R":function(e,t,n){function l(){var e;try{e=t.storage.debug}catch(n){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e}(t=e.exports=n("Nq7k")).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},t.formatArgs=function(e){var n=this.useColors;if(e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+t.humanize(this.diff),n){var l="color: "+this.color;e.splice(1,0,l,"color: inherit");var i=0,o=0;e[0].replace(/%[a-zA-Z%]/g,function(e){"%%"!==e&&(i++,"%c"===e&&(o=i))}),e.splice(o,0,l)}},t.save=function(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(n){}},t.load=l,t.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},t.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},t.enable(l())},"6C75":function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},"6oVD":function(e,t){e.exports=function(e,t,n){t=t||0;for(var l=1;l<=8&&!(e[t]>=Math.pow(2,8-l));l++);if(l>8)throw new Error("Unrepresentable length: "+l+" "+e.toString("hex",t,t+l));if(t+l>e.length)return null;var i,o=e[t]&(1<<8-l)-1;for(i=1;i<l;i++){if(7===i&&o>=Math.pow(2,45)&&e[t+7]>0)return{length:l,value:-1};o*=Math.pow(2,8),o+=e[t+i]}return n&&(o-=Math.pow(2,7*l-1)-1),{length:l,value:o}}},"6qA3":function(e,t,n){"use strict";var l=n("Q1FS"),i=n("OAkW"),o=n("Z5tI"),r=n("poJ0"),u=n("ozli"),s=n("yRPT"),a=n("90cg"),c=n("GMZp"),p=n("VKeD"),d=n("zfKp");t.subscribeTo=function(e){if(e instanceof l.Observable)return function(t){return e._isScalar?(t.next(e.value),void t.complete()):e.subscribe(t)};if(e&&"function"==typeof e[d.observable])return u.subscribeToObservable(e);if(s.isArrayLike(e))return i.subscribeToArray(e);if(a.isPromise(e))return o.subscribeToPromise(e);if(e&&"function"==typeof e[p.iterator])return r.subscribeToIterable(e);var t=c.isObject(e)?"an invalid object":"'"+e+"'";throw new TypeError("You provided "+t+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")}},"7RJT":function(e,t,n){var l=n("mrSG").__extends,i=n("ds6q"),o=n("Mxlh");t.BehaviorSubject=function(e){function t(t){var n=e.call(this)||this;return n._value=t,n}return l(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),t.prototype._subscribe=function(t){var n=e.prototype._subscribe.call(this,t);return n&&!n.closed&&t.next(this._value),n},t.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new o.ObjectUnsubscribedError;return this._value},t.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},t}(i.Subject)},"7jRU":function(e,t){var n=[].indexOf;e.exports=function(e,t){if(n)return e.indexOf(t);for(var l=0;l<e.length;++l)if(e[l]===t)return l;return-1}},"81cv":function(e,t,n){"use strict";var l=n("Q1FS");function i(e){return new l.Observable(function(t){return e.schedule(function(){return t.complete()})})}t.EMPTY=new l.Observable(function(e){return e.complete()}),t.empty=function(e){return e?i(e):t.EMPTY},t.emptyScheduled=i},"90cg":function(e,t,n){"use strict";t.isPromise=function(e){return e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}},"9AGB":function(e,t,n){"use strict";var l=n("w5QO");function i(e){return e?1===e.length?e[0]:function(t){return e.reduce(function(e,t){return t(e)},t)}:l.noop}t.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return i(e)},t.pipeFromArray=i},AdPF:function(e,t,n){var l=n("yeub");e.exports=function(e){var t=e.xdomain,n=e.xscheme,i=e.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!t||l))return new XMLHttpRequest}catch(o){}try{if("undefined"!=typeof XDomainRequest&&!n&&i)return new XDomainRequest}catch(o){}if(!t)try{return new(global[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(o){}}},Aplp:function(e,t,n){"use strict";var l,i="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),o=64,r={},u=0,s=0;function a(e){var t="";do{t=i[e%o]+t,e=Math.floor(e/o)}while(e>0);return t}function c(){var e=a(+new Date);return e!==l?(u=0,l=e):e+"."+a(u++)}for(;s<o;s++)r[i[s]]=s;c.encode=a,c.decode=function(e){var t=0;for(s=0;s<e.length;s++)t=t*o+r[e.charAt(s)];return t},e.exports=c},C2QD:function(e,t){function n(e){this.ms=(e=e||{}).min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}e.exports=n,n.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-n:e+n}return 0|Math.min(e,this.max)},n.prototype.reset=function(){this.attempts=0},n.prototype.setMin=function(e){this.ms=e},n.prototype.setMax=function(e){this.max=e},n.prototype.setJitter=function(e){this.jitter=e}},CIKq:function(e,t,n){var l,i=n("Gbct"),o=n("Wm4p"),r=n("TypT"),u=n("Yvos"),s=n("Aplp"),a=n("HjK1")("engine.io-client:websocket"),c=global.WebSocket||global.MozWebSocket;if("undefined"==typeof window)try{l=n(1)}catch(h){}var p=c;function d(e){e&&e.forceBase64&&(this.supportsBinary=!1),this.perMessageDeflate=e.perMessageDeflate,this.usingBrowserWebSocket=c&&!e.forceNode,this.protocols=e.protocols,this.usingBrowserWebSocket||(p=l),i.call(this,e)}p||"undefined"!=typeof window||(p=l),e.exports=d,u(d,i),d.prototype.name="websocket",d.prototype.supportsBinary=!0,d.prototype.doOpen=function(){if(this.check()){var e=this.uri(),t=this.protocols,n={agent:this.agent,perMessageDeflate:this.perMessageDeflate};n.pfx=this.pfx,n.key=this.key,n.passphrase=this.passphrase,n.cert=this.cert,n.ca=this.ca,n.ciphers=this.ciphers,n.rejectUnauthorized=this.rejectUnauthorized,this.extraHeaders&&(n.headers=this.extraHeaders),this.localAddress&&(n.localAddress=this.localAddress);try{this.ws=this.usingBrowserWebSocket?t?new p(e,t):new p(e):new p(e,t,n)}catch(l){return this.emit("error",l)}void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="nodebuffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},d.prototype.addEventListeners=function(){var e=this;this.ws.onopen=function(){e.onOpen()},this.ws.onclose=function(){e.onClose()},this.ws.onmessage=function(t){e.onData(t.data)},this.ws.onerror=function(t){e.onError("websocket error",t)}},d.prototype.write=function(e){var t=this;this.writable=!1;for(var n=e.length,l=0,i=n;l<i;l++)!function(e){o.encodePacket(e,t.supportsBinary,function(l){if(!t.usingBrowserWebSocket){var i={};e.options&&(i.compress=e.options.compress),t.perMessageDeflate&&("string"==typeof l?global.Buffer.byteLength(l):l.length)<t.perMessageDeflate.threshold&&(i.compress=!1)}try{t.usingBrowserWebSocket?t.ws.send(l):t.ws.send(l,i)}catch(h){a("websocket closed before onclose event")}--n||(t.emit("flush"),setTimeout(function(){t.writable=!0,t.emit("drain")},0))})}(e[l])},d.prototype.onClose=function(){i.prototype.onClose.call(this)},d.prototype.doClose=function(){void 0!==this.ws&&this.ws.close()},d.prototype.uri=function(){var e=this.query||{},t=this.secure?"wss":"ws",n="";return this.port&&("wss"===t&&443!==Number(this.port)||"ws"===t&&80!==Number(this.port))&&(n=":"+this.port),this.timestampRequests&&(e[this.timestampParam]=s()),this.supportsBinary||(e.b64=1),(e=r.encode(e)).length&&(e="?"+e),t+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+e},d.prototype.check=function(){return!(!p||"__initialize"in p&&this.name===d.prototype.name)}},CUme:function(e,t,n){var l=n("Gbct"),i=n("TypT"),o=n("Wm4p"),r=n("Yvos"),u=n("Aplp"),s=n("HjK1")("engine.io-client:polling");e.exports=c;var a=null!=new(n("AdPF"))({xdomain:!1}).responseType;function c(e){a&&!(e&&e.forceBase64)||(this.supportsBinary=!1),l.call(this,e)}r(c,l),c.prototype.name="polling",c.prototype.doOpen=function(){this.poll()},c.prototype.pause=function(e){var t=this;function n(){s("paused"),t.readyState="paused",e()}if(this.readyState="pausing",this.polling||!this.writable){var l=0;this.polling&&(s("we are currently polling - waiting to pause"),l++,this.once("pollComplete",function(){s("pre-pause polling complete"),--l||n()})),this.writable||(s("we are currently writing - waiting to pause"),l++,this.once("drain",function(){s("pre-pause writing complete"),--l||n()}))}else n()},c.prototype.poll=function(){s("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},c.prototype.onData=function(e){var t=this;s("polling got data %s",e),o.decodePayload(e,this.socket.binaryType,function(e,n,l){if("opening"===t.readyState&&t.onOpen(),"close"===e.type)return t.onClose(),!1;t.onPacket(e)}),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState?this.poll():s('ignoring poll - transport state "%s"',this.readyState))},c.prototype.doClose=function(){var e=this;function t(){s("writing close packet"),e.write([{type:"close"}])}"open"===this.readyState?(s("transport open - closing"),t()):(s("transport not open - deferring close"),this.once("open",t))},c.prototype.write=function(e){var t=this;this.writable=!1;var n=function(){t.writable=!0,t.emit("drain")};o.encodePayload(e,this.supportsBinary,function(e){t.doWrite(e,n)})},c.prototype.uri=function(){var e=this.query||{},t=this.secure?"https":"http",n="";return!1!==this.timestampRequests&&(e[this.timestampParam]=u()),this.supportsBinary||e.sid||(e.b64=1),e=i.encode(e),this.port&&("https"===t&&443!==Number(this.port)||"http"===t&&80!==Number(this.port))&&(n=":"+this.port),e.length&&(e="?"+e),t+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+e}},Cl5A:function(e,t,n){var l=n("CUme"),i=n("Yvos");e.exports=a;var o,r=/\n/g,u=/\\n/g;function s(){}function a(e){l.call(this,e),this.query=this.query||{},o||(global.___eio||(global.___eio=[]),o=global.___eio),this.index=o.length;var t=this;o.push(function(e){t.onData(e)}),this.query.j=this.index,global.document&&global.addEventListener&&global.addEventListener("beforeunload",function(){t.script&&(t.script.onerror=s)},!1)}i(a,l),a.prototype.supportsBinary=!1,a.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),l.prototype.doClose.call(this)},a.prototype.doPoll=function(){var e=this,t=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),t.async=!0,t.src=this.uri(),t.onerror=function(t){e.onError("jsonp poll error",t)};var n=document.getElementsByTagName("script")[0];n?n.parentNode.insertBefore(t,n):(document.head||document.body).appendChild(t),this.script=t,"undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent)&&setTimeout(function(){var e=document.createElement("iframe");document.body.appendChild(e),document.body.removeChild(e)},100)},a.prototype.doWrite=function(e,t){var n=this;if(!this.form){var l,i=document.createElement("form"),o=document.createElement("textarea"),s=this.iframeId="eio_iframe_"+this.index;i.className="socketio",i.style.position="absolute",i.style.top="-1000px",i.style.left="-1000px",i.target=s,i.method="POST",i.setAttribute("accept-charset","utf-8"),o.name="d",i.appendChild(o),document.body.appendChild(i),this.form=i,this.area=o}function a(){c(),t()}function c(){if(n.iframe)try{n.form.removeChild(n.iframe)}catch(e){n.onError("jsonp polling iframe removal error",e)}try{l=document.createElement('<iframe src="javascript:0" name="'+n.iframeId+'">')}catch(e){(l=document.createElement("iframe")).name=n.iframeId,l.src="javascript:0"}l.id=n.iframeId,n.form.appendChild(l),n.iframe=l}this.form.action=this.uri(),c(),e=e.replace(u,"\\\n"),this.area.value=e.replace(r,"\\n");try{this.form.submit()}catch(p){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"===n.iframe.readyState&&a()}:this.iframe.onload=a}},"Dz+M":function(e,t,n){var l=n("mrSG").__extends;t.Action=function(e){function t(t,n){return e.call(this)||this}return l(t,e),t.prototype.schedule=function(e,t){return void 0===t&&(t=0),this},t}(n("zB/H").Subscription)},ENPf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=n("IKIk"),i=n("PrVB"),o=n("tjlA"),r=n("FDRY"),u=n("ZsMB");function s(e){return e.reduce(function(e,n){return"b"!==n.type?e:"SimpleBlock"!==n.name?e:t.ebmlBlock(n.data).frames.some(function(e){return"9d012a"===e.slice(3,6).toString("hex")})?e.concat(n):e},[])}function a(e){var n=c("VP8 ",e);return c("RIFF",m([new t.Buffer("WEBP","ascii"),n]))}function c(e,n){var l=new t.Buffer(4);return l.writeUInt32LE(n.byteLength,0),m([new t.Buffer(e.substr(0,4),"ascii"),l,n,new t.Buffer(n.byteLength%2==0?0:1)])}function p(e,t){for(var n=-1,l=0;l<t.length;l++){var i=t[l];if(i.name===e){if("m"!==i.type)return void t.splice(l,1);if(i.isEnd){if(-1==n)throw new Error("Detected "+e+" closing element before finding the start");return void t.splice(n,l-n+1)}n=l}}}function d(e,t){for(var n=[],l=-1,i=0;i<t.length;i++){var o=t[i];if(o.name===e){if("m"!==o.type){n.push(t[i]);break}if(o.isEnd){if(-1==l)throw new Error("Detected "+e+" closing element before finding the start");n=t.slice(l,i+1);break}l=i}}return n}function h(e){var t=new i.default;return e.reduce(function(e,n){return e.concat(t.encode([n]))},[]).reduce(function(e,t){return e+t.byteLength},0)}function f(e,n,l){var i=l.duration,o=l.clusterPtrs,r=l.cues,u=e.slice(0);if("number"==typeof i){var s=!1;u.forEach(function(e){"f"===e.type&&"Duration"===e.name&&(s=!0,e.data=y(i,8))}),s||g(u,"Info",[{name:"Duration",type:"f",data:y(i,8)}])}Array.isArray(r)&&g(u,"Cues",function(e,t){var n=[];return e.forEach(function(e){var l=e.CueTrack,i=e.CueClusterPosition,o=e.CueTime;n.push({name:"CuePoint",type:"m",isEnd:!1}),n.push({name:"CueTime",type:"u",data:v(o)}),n.push({name:"CueTrackPositions",type:"m",isEnd:!1}),n.push({name:"CueTrack",type:"u",data:v(l)}),n.push({name:"CueClusterPosition",type:"u",data:v(i+t)}),n.push({name:"CueTrackPositions",type:"m",isEnd:!0}),n.push({name:"CuePoint",type:"m",isEnd:!0})}),n}(r,n));var a=[];return Array.isArray(o)&&(console.warn("append cluster pointers to seekhead is deprecated. please use cues"),a=function(e,n){var l=[];return e.forEach(function(e){l.push({name:"Seek",type:"m",isEnd:!1}),l.push({name:"SeekID",type:"b",data:new t.Buffer([31,67,182,117])}),l.push({name:"SeekPosition",type:"u",data:v(e+n)}),l.push({name:"Seek",type:"m",isEnd:!0})}),l}(o,n)),g(u,"SeekHead",a,!0),u}function g(e,t,n,l){void 0===l&&(l=!1);for(var i=-1,o=0;o<e.length;o++){var r=e[o];if("m"===r.type&&r.name===t&&!1===r.isEnd){i=o;break}}i>=0?Array.prototype.splice.apply(e,[i+1,0].concat(n)):l?[].concat([{name:t,type:"m",isEnd:!1}],n,[{name:t,type:"m",isEnd:!0}]).reverse().forEach(function(t){e.unshift(t)}):(e.push({name:t,type:"m",isEnd:!1}),n.forEach(function(t){e.push(t)}),e.push({name:t,type:"m",isEnd:!0}))}function m(e){for(var n=0,l=0;n<e.length;++n)l+=e[n].length;var i=t.Buffer.allocUnsafe(l),o=0;for(n=0;n<e.length;++n){var r=e[n];r.copy(i,o),o+=r.length}return i}function v(e){for(var n=1;e>=Math.pow(2,8*n);n++);if(n>=7)return console.warn("7bit or more bigger uint not supported."),new l.Uint64BE(e).toBuffer();var i=new t.Buffer(n);return i.writeUIntBE(e,0,n),i}function D(e){for(var n=1;e>=Math.pow(2,8*n);n++);if(n>=7)return console.warn("7bit or more bigger uint not supported."),new l.Int64BE(e).toBuffer();var i=new t.Buffer(n);return i.writeIntBE(e,0,n),i}function y(e,n){var l;if(void 0===n&&(n=8),8===n)return(l=new t.Buffer(8)).writeDoubleBE(e,0),l;if(4===n)return(l=new t.Buffer(4)).writeFloatBE(e,0),l;throw new Error("float type bits must 4bytes or 8bytes")}t.Buffer=o.Buffer,t.readVint=r.readVint,t.writeVint=r.writeVint,t.ebmlBlock=u,t.readBlock=function(e){return t.ebmlBlock(new t.Buffer(e))},t.encodeTag=function(e,n,l){return void 0===l&&(l=!1),m([e,l?new t.Buffer("01ffffffffffffff","hex"):t.writeVint(n.length),n])},t.WebPFrameFilter=function(e){return s(e).reduce(function(e,n){return t.ebmlBlock(n.data).frames.reduce(function(e,t){var n=a(t),l=new Blob([n],{type:"image/webp"});return e.concat(l)},e)},[])},t.WebPBlockFilter=s,t.VP8BitStreamToRiffWebPBuffer=a,t.createRIFFChunk=c,t.makeMetadataSeekable=function(e,n,l){var o=d("EBML",e),r=h(o)+12,u=e[e.length-1].dataEnd-r,s=d("Info",e);p("Duration",s),s.splice(1,0,{name:"Duration",type:"f",data:y(n,8)});for(var a=h(s),c=d("Tracks",e),f=h(c),g=47,m=[],D=5+15*l.length,b=[],C=-1,S=function(e){var n=g,i=n+a,o=i+f,s=o+D-u;if((m=[]).push({name:"SeekHead",type:"m",isEnd:!1}),m.push({name:"Seek",type:"m",isEnd:!1}),m.push({name:"SeekID",type:"b",data:new t.Buffer([21,73,169,102])}),m.push({name:"SeekPosition",type:"u",data:v(n)}),m.push({name:"Seek",type:"m",isEnd:!0}),m.push({name:"Seek",type:"m",isEnd:!1}),m.push({name:"SeekID",type:"b",data:new t.Buffer([22,84,174,107])}),m.push({name:"SeekPosition",type:"u",data:v(i)}),m.push({name:"Seek",type:"m",isEnd:!0}),m.push({name:"Seek",type:"m",isEnd:!1}),m.push({name:"SeekID",type:"b",data:new t.Buffer([28,83,187,107])}),m.push({name:"SeekPosition",type:"u",data:v(o)}),m.push({name:"Seek",type:"m",isEnd:!0}),m.push({name:"SeekHead",type:"m",isEnd:!0}),g=h(m),(b=[]).push({name:"Cues",type:"m",isEnd:!1}),l.forEach(function(e){var t=e.CueTrack,n=e.CueClusterPosition,l=e.CueTime;b.push({name:"CuePoint",type:"m",isEnd:!1}),b.push({name:"CueTime",type:"u",data:v(l)}),b.push({name:"CueTrackPositions",type:"m",isEnd:!1}),b.push({name:"CueTrack",type:"u",data:v(t)}),n-=r,b.push({name:"CueClusterPosition",type:"u",data:v(n+=s)}),b.push({name:"CueTrackPositions",type:"m",isEnd:!0}),b.push({name:"CuePoint",type:"m",isEnd:!0})}),b.push({name:"Cues",type:"m",isEnd:!0}),D=h(b),C===s)return"break";if(C=s,9===e)throw new Error("Failed to converge to a stable metadata size")},_=0;_<10&&"break"!==S(_);_++);var w=[].concat.apply([],[o,{name:"Segment",type:"m",isEnd:!1,unknownSize:!0},m,s,c,b]);return(new i.default).encode(w)},t.removeElement=p,t.extractElement=d,t.putRefinedMetaData=function(e,n){Array.isArray(n.cueInfos)&&!Array.isArray(n.cues)&&(console.warn("putRefinedMetaData: info.cueInfos property is deprecated. please use info.cues"),n.cues=n.cueInfos);for(var l=[],o=[],r=0;r<e.length;r++){var u=e[r];if("m"===u.type&&"Segment"===u.name){if(l=e.slice(0,r),o=e.slice(r),u.unknownSize){o.shift();break}throw new Error("this metadata is not streaming webm file")}}if(!(o[o.length-1].dataEnd>0))throw new Error("metadata dataEnd has wrong number");var s,a=o[o.length-1].dataEnd,c=l[l.length-1].dataEnd,p=(new i.default).encode(l).byteLength-c,d=a-o[0].tagStart,h=new t.Buffer([24,83,128,103]),g=new t.Buffer("01ffffffffffffff","hex"),m=h.byteLength+g.byteLength,v=d;for(s=1;s<20;s++){var D=f(o,p+(c+m+v-a),n),y=(new i.default).encode(D).byteLength;if(y===v)return(new i.default).encode([].concat(l,[{type:"m",name:"Segment",isEnd:!1,unknownSize:!0}],D));v=y}throw new Error("unable to refine metadata, stable size could not be found in "+s+" iterations!")},t.concat=m,t.encodeValueToBuffer=function(e){var n=new t.Buffer(0);if("m"===e.type)return e;switch(e.type){case"u":n=v(e.value);break;case"i":n=D(e.value);break;case"f":n=y(e.value);break;case"s":n=new t.Buffer(e.value,"ascii");break;case"8":n=new t.Buffer(e.value,"utf8");break;case"b":n=e.value;break;case"d":n=new l.Int64BE(e.value.getTime().toString()).toBuffer()}return Object.assign({},e,{data:n})},t.createUIntBuffer=v,t.createIntBuffer=D,t.createFloatBuffer=y,t.convertEBMLDateToJSDate=function(e){return e instanceof Date?e:new Date(new Date("2001-01-01T00:00:00.000Z").getTime()+Number(e)/1e3/1e3)}},FDRY:function(e,t){e.exports={readVint:function(e,t){t=t||0;for(var n=1;n<=8&&!(e[t]>=Math.pow(2,8-n));n++);if(n>8)throw new Error("Unrepresentable length: "+n+" "+e.toString("hex",t,t+n));if(t+n>e.length)return null;for(var l=e[t]&(1<<8-n)-1,i=1;i<n;i++){if(7===i&&l>=Math.pow(2,45)&&e[t+7]>0)return{length:n,value:-1};l*=Math.pow(2,8),l+=e[t+i]}return{length:n,value:l}},writeVint:function(e){if(e<0||e>Math.pow(2,53))throw new Error("Unrepresentable value: "+e);for(var t=1;t<=8&&!(e<Math.pow(2,7*t)-1);t++);for(var n=new Buffer(t),l=1;l<=t;l++){var i=255&e;n[t-l]=i,e-=i,e/=Math.pow(2,8)}return n[0]=n[0]|1<<8-t,n}}},FWf1:function(e,t,n){var l=n("mrSG").__extends,i=n("pshJ"),o=n("GiSu"),r=n("zB/H"),u=n("p//D"),s=n("n3uD"),a=n("MkmW"),c=function(e){function t(n,l,i){var r=e.call(this)||this;switch(r.syncErrorValue=null,r.syncErrorThrown=!1,r.syncErrorThrowable=!1,r.isStopped=!1,r._parentSubscription=null,arguments.length){case 0:r.destination=o.empty;break;case 1:if(!n){r.destination=o.empty;break}if("object"==typeof n){n instanceof t?(r.syncErrorThrowable=n.syncErrorThrowable,r.destination=n,n.add(r)):(r.syncErrorThrowable=!0,r.destination=new p(r,n));break}default:r.syncErrorThrowable=!0,r.destination=new p(r,n,l,i)}return r}return l(t,e),t.prototype[u.rxSubscriber]=function(){return this},t.create=function(e,n,l){var i=new t(e,n,l);return i.syncErrorThrowable=!1,i},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this))},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},t.prototype._unsubscribeAndRecycle=function(){var e=this._parent,t=this._parents;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=e,this._parents=t,this._parentSubscription=null,this},t}(r.Subscription);t.Subscriber=c;var p=function(e){function t(t,n,l,r){var u,s=e.call(this)||this;s._parentSubscriber=t;var a=s;return i.isFunction(n)?u=n:n&&(u=n.next,l=n.error,r=n.complete,n!==o.empty&&(a=Object.create(n),i.isFunction(a.unsubscribe)&&s.add(a.unsubscribe.bind(a)),a.unsubscribe=s.unsubscribe.bind(s))),s._context=a,s._next=u,s._error=l,s._complete=r,s}return l(t,e),t.prototype.next=function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;s.config.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}},t.prototype.error=function(e){if(!this.isStopped){var t=this._parentSubscriber,n=s.config.useDeprecatedSynchronousErrorHandling;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):a.hostReportError(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;a.hostReportError(e)}}},t.prototype.complete=function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var n=function(){return e._complete.call(e._context)};s.config.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},t.prototype.__tryOrUnsub=function(e,t){try{e.call(this._context,t)}catch(n){if(this.unsubscribe(),s.config.useDeprecatedSynchronousErrorHandling)throw n;a.hostReportError(n)}},t.prototype.__tryOrSetError=function(e,t,n){if(!s.config.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(l){return s.config.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=l,e.syncErrorThrown=!0,!0):(a.hostReportError(l),!0)}return!1},t.prototype._unsubscribe=function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()},t}(c);t.SafeSubscriber=p},FiyT:function(e,t,n){var l=n("mrSG").__extends;t.SubjectSubscription=function(e){function t(t,n){var l=e.call(this)||this;return l.subject=t,l.subscriber=n,l.closed=!1,l}return l(t,e),t.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var e=this.subject,t=e.observers;if(this.subject=null,t&&0!==t.length&&!e.isStopped&&!e.closed){var n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}},t}(n("zB/H").Subscription)},GMZp:function(e,t,n){"use strict";t.isObject=function(e){return null!=e&&"object"==typeof e}},Gbct:function(e,t,n){var l=n("Wm4p"),i=n("cpc2");function o(e){this.path=e.path,this.hostname=e.hostname,this.port=e.port,this.secure=e.secure,this.query=e.query,this.timestampParam=e.timestampParam,this.timestampRequests=e.timestampRequests,this.readyState="",this.agent=e.agent||!1,this.socket=e.socket,this.enablesXDR=e.enablesXDR,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.forceNode=e.forceNode,this.extraHeaders=e.extraHeaders,this.localAddress=e.localAddress}e.exports=o,i(o.prototype),o.prototype.onError=function(e,t){var n=new Error(e);return n.type="TransportError",n.description=t,this.emit("error",n),this},o.prototype.open=function(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this},o.prototype.close=function(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this},o.prototype.send=function(e){if("open"!==this.readyState)throw new Error("Transport not open");this.write(e)},o.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},o.prototype.onData=function(e){var t=l.decodePacket(e,this.socket.binaryType);this.onPacket(t)},o.prototype.onPacket=function(e){this.emit("packet",e)},o.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},GiSu:function(e,t,n){"use strict";var l=n("n3uD"),i=n("MkmW");t.empty={closed:!0,next:function(e){},error:function(e){if(l.config.useDeprecatedSynchronousErrorHandling)throw e;i.hostReportError(e)},complete:function(){}}},Gyns:function(e,t,n){"use strict";var l={128:{name:"ChapterDisplay",level:4,type:"m",multiple:!0,minver:1,webm:!0,description:"Contains all possible strings to use for the chapter display."},131:{name:"TrackType",level:3,type:"u",mandatory:!0,minver:1,range:"1-254",description:"A set of track types coded on 8 bits (1: video, 2: audio, 3: complex, 0x10: logo, 0x11: subtitle, 0x12: buttons, 0x20: control)."},133:{name:"ChapString",cppname:"ChapterString",level:5,type:"8",mandatory:!0,minver:1,webm:!0,description:"Contains the string to use as the chapter atom."},134:{name:"CodecID",level:3,type:"s",mandatory:!0,minver:1,description:"An ID corresponding to the codec, see the codec page for more info."},136:{name:"FlagDefault",cppname:"TrackFlagDefault",level:3,type:"u",mandatory:!0,minver:1,default:1,range:"0-1",description:"Set if that track (audio, video or subs) SHOULD be active if no language found matches the user preference. (1 bit)"},137:{name:"ChapterTrackNumber",level:5,type:"u",mandatory:!0,multiple:!0,minver:1,webm:!1,range:"not 0",description:"UID of the Track to apply this chapter too. In the absense of a control track, choosing this chapter will select the listed Tracks and deselect unlisted tracks. Absense of this element indicates that the Chapter should be applied to any currently used Tracks."},145:{name:"ChapterTimeStart",level:4,type:"u",mandatory:!0,minver:1,webm:!0,description:"Timestamp of the start of Chapter (not scaled)."},146:{name:"ChapterTimeEnd",level:4,type:"u",minver:1,webm:!1,description:"Timestamp of the end of Chapter (timestamp excluded, not scaled)."},150:{name:"CueRefTime",level:5,type:"u",mandatory:!0,minver:2,webm:!1,description:"Timestamp of the referenced Block."},151:{name:"CueRefCluster",level:5,type:"u",mandatory:!0,webm:!1,description:"The Position of the Cluster containing the referenced Block."},152:{name:"ChapterFlagHidden",level:4,type:"u",mandatory:!0,minver:1,webm:!1,default:0,range:"0-1",description:"If a chapter is hidden (1), it should not be available to the user interface (but still to Control Tracks; see flag notes). (1 bit)"},16980:{name:"ContentCompAlgo",level:6,type:"u",mandatory:!0,minver:1,webm:!1,default:0,description:"The compression algorithm used. Algorithms that have been specified so far are: 0 - zlib,   3 - Header Stripping"},16981:{name:"ContentCompSettings",level:6,type:"b",minver:1,webm:!1,description:"Settings that might be needed by the decompressor. For Header Stripping (ContentCompAlgo=3), the bytes that were removed from the beggining of each frames of the track."},17026:{name:"DocType",level:1,type:"s",mandatory:!0,default:"matroska",minver:1,description:"A string that describes the type of document that follows this EBML header. 'matroska' in our case or 'webm' for webm files."},17029:{name:"DocTypeReadVersion",level:1,type:"u",mandatory:!0,default:1,minver:1,description:"The minimum DocType version an interpreter has to support to read this file."},17030:{name:"EBMLVersion",level:1,type:"u",mandatory:!0,default:1,minver:1,description:"The version of EBML parser used to create the file."},17031:{name:"DocTypeVersion",level:1,type:"u",mandatory:!0,default:1,minver:1,description:"The version of DocType interpreter used to create the file."},17476:{name:"SegmentFamily",level:2,type:"b",multiple:!0,minver:1,webm:!1,bytesize:16,description:"A randomly generated unique ID that all segments related to each other must use (128 bits)."},17505:{name:"DateUTC",level:2,type:"d",minver:1,description:"Date of the origin of timestamp (value 0), i.e. production date."},17540:{name:"TagDefault",level:4,type:"u",mandatory:!0,minver:1,webm:!1,default:1,range:"0-1",description:"Indication to know if this is the default/original language to use for the given tag. (1 bit)"},17541:{name:"TagBinary",level:4,type:"b",minver:1,webm:!1,description:"The values of the Tag if it is binary. Note that this cannot be used in the same SimpleTag as TagString."},17543:{name:"TagString",level:4,type:"8",minver:1,webm:!1,description:"The value of the Element."},17545:{name:"Duration",level:2,type:"f",minver:1,range:"> 0",description:"Duration of the segment (based on TimecodeScale)."},17816:{name:"ChapterFlagEnabled",level:4,type:"u",mandatory:!0,minver:1,webm:!1,default:1,range:"0-1",description:"Specify wether the chapter is enabled. It can be enabled/disabled by a Control Track. When disabled, the movie should skip all the content between the TimeStart and TimeEnd of this chapter (see flag notes). (1 bit)"},18016:{name:"FileMimeType",level:3,type:"s",mandatory:!0,minver:1,webm:!1,description:"MIME type of the file."},18017:{name:"FileUsedStartTime",level:3,type:"u",divx:!0,description:"DivX font extension"},18018:{name:"FileUsedEndTime",level:3,type:"u",divx:!0,description:"DivX font extension"},18037:{name:"FileReferral",level:3,type:"b",webm:!1,description:"A binary value that a track/codec can refer to when the attachment is needed."},20529:{name:"ContentEncodingOrder",level:5,type:"u",mandatory:!0,minver:1,webm:!1,default:0,description:"Tells when this modification was used during encoding/muxing starting with 0 and counting upwards. The decoder/demuxer has to start with the highest order number it finds and work its way down. This value has to be unique over all ContentEncodingOrder elements in the segment."},20530:{name:"ContentEncodingScope",level:5,type:"u",mandatory:!0,minver:1,webm:!1,default:1,range:"not 0",description:"A bit field that describes which elements have been modified in this way. Values (big endian) can be OR'ed. Possible values: 1 - all frame contents, 2 - the track's private data, 4 - the next ContentEncoding (next ContentEncodingOrder. Either the data inside ContentCompression and/or ContentEncryption)"},20531:{name:"ContentEncodingType",level:5,type:"u",mandatory:!0,minver:1,webm:!1,default:0,description:"A value describing what kind of transformation has been done. Possible values: 0 - compression, 1 - encryption"},20532:{name:"ContentCompression",level:5,type:"m",minver:1,webm:!1,description:"Settings describing the compression used. Must be present if the value of ContentEncodingType is 0 and absent otherwise. Each block must be decompressable even if no previous block is available in order not to prevent seeking."},20533:{name:"ContentEncryption",level:5,type:"m",minver:1,webm:!1,description:"Settings describing the encryption used. Must be present if the value of ContentEncodingType is 1 and absent otherwise."},21368:{name:"CueBlockNumber",level:4,type:"u",minver:1,default:1,range:"not 0",description:"Number of the Block in the specified Cluster."},22100:{name:"ChapterStringUID",level:4,type:"8",mandatory:!1,minver:3,webm:!0,description:"A unique string ID to identify the Chapter. Use for WebVTT cue identifier storage."},22337:{name:"WritingApp",level:2,type:"8",mandatory:!0,minver:1,description:'Writing application ("mkvmerge-0.3.3").'},22612:{name:"SilentTracks",cppname:"ClusterSilentTracks",level:2,type:"m",minver:1,webm:!1,description:"The list of tracks that are not used in that part of the stream. It is useful when using overlay tracks on seeking. Then you should decide what track to use."},25152:{name:"ContentEncoding",level:4,type:"m",mandatory:!0,multiple:!0,minver:1,webm:!1,description:"Settings for one content encoding like compression or encryption."},25188:{name:"BitDepth",cppname:"AudioBitDepth",level:4,type:"u",minver:1,range:"not 0",description:"Bits per sample, mostly used for PCM."},25906:{name:"SignedElement",level:3,type:"b",multiple:!0,webm:!1,description:"An element ID whose data will be used to compute the signature."},26148:{name:"TrackTranslate",level:3,type:"m",multiple:!0,minver:1,webm:!1,description:"The track identification for the given Chapter Codec."},26897:{name:"ChapProcessCommand",cppname:"ChapterProcessCommand",level:5,type:"m",multiple:!0,minver:1,webm:!1,description:"Contains all the commands associated to the Atom."},26914:{name:"ChapProcessTime",cppname:"ChapterProcessTime",level:6,type:"u",mandatory:!0,minver:1,webm:!1,description:"Defines when the process command should be handled (0: during the whole chapter, 1: before starting playback, 2: after playback of the chapter)."},26916:{name:"ChapterTranslate",level:2,type:"m",multiple:!0,minver:1,webm:!1,description:"A tuple of corresponding ID used by chapter codecs to represent this segment."},26931:{name:"ChapProcessData",cppname:"ChapterProcessData",level:6,type:"b",mandatory:!0,minver:1,webm:!1,description:"Contains the command information. The data should be interpreted depending on the ChapProcessCodecID value. For ChapProcessCodecID = 1, the data correspond to the binary DVD cell pre/post commands."},26948:{name:"ChapProcess",cppname:"ChapterProcess",level:4,type:"m",multiple:!0,minver:1,webm:!1,description:"Contains all the commands associated to the Atom."},26965:{name:"ChapProcessCodecID",cppname:"ChapterProcessCodecID",level:5,type:"u",mandatory:!0,minver:1,webm:!1,default:0,description:"Contains the type of the codec used for the processing. A value of 0 means native Matroska processing (to be defined), a value of 1 means the DVD command set is used. More codec IDs can be added later."},29555:{name:"Tag",level:2,type:"m",mandatory:!0,multiple:!0,minver:1,webm:!1,description:"Element containing elements specific to Tracks/Chapters."},29572:{name:"SegmentFilename",level:2,type:"8",minver:1,webm:!1,description:"A filename corresponding to this segment."},29766:{name:"AttachmentLink",cppname:"TrackAttachmentLink",level:3,type:"u",minver:1,webm:!1,range:"not 0",description:"The UID of an attachment that is used by this codec."},2459272:{name:"CodecName",level:3,type:"8",minver:1,description:"A human-readable string specifying the codec."},408125543:{name:"Segment",level:"0",type:"m",mandatory:!0,multiple:!0,minver:1,description:"This element contains all other top-level (level 1) elements. Typically a Matroska file is composed of 1 segment."},17530:{name:"TagLanguage",level:4,type:"s",mandatory:!0,minver:1,webm:!1,default:"und",description:"Specifies the language of the tag specified, in the Matroska languages form."},17827:{name:"TagName",level:4,type:"8",mandatory:!0,minver:1,webm:!1,description:"The name of the Tag that is going to be stored."},26568:{name:"SimpleTag",cppname:"TagSimple",level:3,recursive:"1",type:"m",mandatory:!0,multiple:!0,minver:1,webm:!1,description:"Contains general information about the target."},25542:{name:"TagAttachmentUID",level:4,type:"u",multiple:!0,minver:1,webm:!1,default:0,description:"A unique ID to identify the Attachment(s) the tags belong to. If the value is 0 at this level, the tags apply to all the attachments in the Segment."},25540:{name:"TagChapterUID",level:4,type:"u",multiple:!0,minver:1,webm:!1,default:0,description:"A unique ID to identify the Chapter(s) the tags belong to. If the value is 0 at this level, the tags apply to all chapters in the Segment."},25545:{name:"TagEditionUID",level:4,type:"u",multiple:!0,minver:1,webm:!1,default:0,description:"A unique ID to identify the EditionEntry(s) the tags belong to. If the value is 0 at this level, the tags apply to all editions in the Segment."},25541:{name:"TagTrackUID",level:4,type:"u",multiple:!0,minver:1,webm:!1,default:0,description:"A unique ID to identify the Track(s) the tags belong to. If the value is 0 at this level, the tags apply to all tracks in the Segment."},25546:{name:"TargetType",cppname:"TagTargetType",level:4,type:"s",minver:1,webm:!1,strong:"informational",description:'An  string that can be used to display the logical level of the target like "ALBUM", "TRACK", "MOVIE", "CHAPTER", etc (see TargetType).'},26826:{name:"TargetTypeValue",cppname:"TagTargetTypeValue",level:4,type:"u",minver:1,webm:!1,default:50,description:"A number to indicate the logical level of the target (see TargetType)."},25536:{name:"Targets",cppname:"TagTargets",level:3,type:"m",mandatory:!0,minver:1,webm:!1,description:"Contain all UIDs where the specified meta data apply. It is empty to describe everything in the segment."},307544935:{name:"Tags",level:1,type:"m",multiple:!0,minver:1,webm:!1,description:"Element containing elements specific to Tracks/Chapters. A list of valid tags can be found here."},17677:{name:"ChapProcessPrivate",cppname:"ChapterProcessPrivate",level:5,type:"b",minver:1,webm:!1,description:'Some optional data attached to the ChapProcessCodecID information. For ChapProcessCodecID = 1, it is the "DVD level" equivalent.'},17278:{name:"ChapCountry",cppname:"ChapterCountry",level:5,type:"s",multiple:!0,minver:1,webm:!1,description:"The countries corresponding to the string, same 2 octets as in Internet domains."},17276:{name:"ChapLanguage",cppname:"ChapterLanguage",level:5,type:"s",mandatory:!0,multiple:!0,minver:1,webm:!0,default:"eng",description:"The languages corresponding to the string, in the bibliographic ISO-639-2 form."},143:{name:"ChapterTrack",level:4,type:"m",minver:1,webm:!1,description:"List of tracks on which the chapter applies. If this element is not present, all tracks apply"},25539:{name:"ChapterPhysicalEquiv",level:4,type:"u",minver:1,webm:!1,description:'Specify the physical equivalent of this ChapterAtom like "DVD" (60) or "SIDE" (50), see complete list of values.'},28348:{name:"ChapterSegmentEditionUID",level:4,type:"u",minver:1,webm:!1,range:"not 0",description:"The EditionUID to play from the segment linked in ChapterSegmentUID."},28263:{name:"ChapterSegmentUID",level:4,type:"b",minver:1,webm:!1,range:">0",bytesize:16,description:"A segment to play in place of this chapter. Edition ChapterSegmentEditionUID should be used for this segment, otherwise no edition is used."},29636:{name:"ChapterUID",level:4,type:"u",mandatory:!0,minver:1,webm:!0,range:"not 0",description:"A unique ID to identify the Chapter."},182:{name:"ChapterAtom",level:3,recursive:"1",type:"m",mandatory:!0,multiple:!0,minver:1,webm:!0,description:"Contains the atom information to use as the chapter atom (apply to all tracks)."},17885:{name:"EditionFlagOrdered",level:3,type:"u",minver:1,webm:!1,default:0,range:"0-1",description:"Specify if the chapters can be defined multiple times and the order to play them is enforced. (1 bit)"},17883:{name:"EditionFlagDefault",level:3,type:"u",mandatory:!0,minver:1,webm:!1,default:0,range:"0-1",description:"If a flag is set (1) the edition should be used as the default one. (1 bit)"},17853:{name:"EditionFlagHidden",level:3,type:"u",mandatory:!0,minver:1,webm:!1,default:0,range:"0-1",description:"If an edition is hidden (1), it should not be available to the user interface (but still to Control Tracks; see flag notes). (1 bit)"},17852:{name:"EditionUID",level:3,type:"u",minver:1,webm:!1,range:"not 0",description:"A unique ID to identify the edition. It's useful for tagging an edition."},17849:{name:"EditionEntry",level:2,type:"m",mandatory:!0,multiple:!0,minver:1,webm:!0,description:"Contains all information about a segment edition."},272869232:{name:"Chapters",level:1,type:"m",minver:1,webm:!0,description:"A system to define basic menus and partition data. For more detailed information, look at the Chapters Explanation."},18094:{name:"FileUID",level:3,type:"u",mandatory:!0,minver:1,webm:!1,range:"not 0",description:"Unique ID representing the file, as random as possible."},18012:{name:"FileData",level:3,type:"b",mandatory:!0,minver:1,webm:!1,description:"The data of the file."},18030:{name:"FileName",level:3,type:"8",mandatory:!0,minver:1,webm:!1,description:"Filename of the attached file."},18046:{name:"FileDescription",level:3,type:"8",minver:1,webm:!1,description:"A human-friendly name for the attached file."},24999:{name:"AttachedFile",level:2,type:"m",mandatory:!0,multiple:!0,minver:1,webm:!1,description:"An attached file."},423732329:{name:"Attachments",level:1,type:"m",minver:1,webm:!1,description:"Contain attached files."},235:{name:"CueRefCodecState",level:5,type:"u",webm:!1,default:0,description:"The position of the Codec State corresponding to this referenced element. 0 means that the data is taken from the initial Track Entry."},21343:{name:"CueRefNumber",level:5,type:"u",webm:!1,default:1,range:"not 0",description:"Number of the referenced Block of Track X in the specified Cluster."},219:{name:"CueReference",level:4,type:"m",multiple:!0,minver:2,webm:!1,description:"The Clusters containing the required referenced Blocks."},234:{name:"CueCodecState",level:4,type:"u",minver:2,webm:!1,default:0,description:"The position of the Codec State corresponding to this Cue element. 0 means that the data is taken from the initial Track Entry."},178:{name:"CueDuration",level:4,type:"u",mandatory:!1,minver:4,webm:!1,description:"The duration of the block according to the segment time base. If missing the track's DefaultDuration does not apply and no duration information is available in terms of the cues."},240:{name:"CueRelativePosition",level:4,type:"u",mandatory:!1,minver:4,webm:!1,description:"The relative position of the referenced block inside the cluster with 0 being the first possible position for an element inside that cluster.",position:"clusterRelative"},241:{name:"CueClusterPosition",level:4,type:"u",mandatory:!0,minver:1,description:"The position of the Cluster containing the required Block.",position:"segment"},247:{name:"CueTrack",level:4,type:"u",mandatory:!0,minver:1,range:"not 0",description:"The track for which a position is given."},183:{name:"CueTrackPositions",level:3,type:"m",mandatory:!0,multiple:!0,minver:1,description:"Contain positions for different tracks corresponding to the timestamp."},179:{name:"CueTime",level:3,type:"u",mandatory:!0,minver:1,description:"Absolute timestamp according to the segment time base."},187:{name:"CuePoint",level:2,type:"m",mandatory:!0,multiple:!0,minver:1,description:"Contains all information relative to a seek point in the segment."},475249515:{name:"Cues",level:1,type:"m",minver:1,description:'A top-level element to speed seeking access. All entries are local to the segment. Should be mandatory for non "live" streams.'},18406:{name:"ContentSigHashAlgo",level:6,type:"u",minver:1,webm:!1,default:0,description:"The hash algorithm used for the signature. A value of '0' means that the contents have not been signed but only encrypted. Predefined values: 1 - SHA1-160 2 - MD5"},18405:{name:"ContentSigAlgo",level:6,type:"u",minver:1,webm:!1,default:0,description:"The algorithm used for the signature. A value of '0' means that the contents have not been signed but only encrypted. Predefined values: 1 - RSA"},18404:{name:"ContentSigKeyID",level:6,type:"b",minver:1,webm:!1,description:"This is the ID of the private key the data was signed with."},18403:{name:"ContentSignature",level:6,type:"b",minver:1,webm:!1,description:"A cryptographic signature of the contents."},18402:{name:"ContentEncKeyID",level:6,type:"b",minver:1,webm:!1,description:"For public key algorithms this is the ID of the public key the the data was encrypted with."},18401:{name:"ContentEncAlgo",level:6,type:"u",minver:1,webm:!1,default:0,description:"The encryption algorithm used. The value '0' means that the contents have not been encrypted but only signed. Predefined values: 1 - DES, 2 - 3DES, 3 - Twofish, 4 - Blowfish, 5 - AES"},28032:{name:"ContentEncodings",level:3,type:"m",minver:1,webm:!1,description:"Settings for several content encoding mechanisms like compression or encryption."},196:{name:"TrickMasterTrackSegmentUID",level:3,type:"b",divx:!0,bytesize:16,description:"DivX trick track extenstions"},199:{name:"TrickMasterTrackUID",level:3,type:"u",divx:!0,description:"DivX trick track extenstions"},198:{name:"TrickTrackFlag",level:3,type:"u",divx:!0,default:0,description:"DivX trick track extenstions"},193:{name:"TrickTrackSegmentUID",level:3,type:"b",divx:!0,bytesize:16,description:"DivX trick track extenstions"},192:{name:"TrickTrackUID",level:3,type:"u",divx:!0,description:"DivX trick track extenstions"},237:{name:"TrackJoinUID",level:5,type:"u",mandatory:!0,multiple:!0,minver:3,webm:!1,range:"not 0",description:"The trackUID number of a track whose blocks are used to create this virtual track."},233:{name:"TrackJoinBlocks",level:4,type:"m",minver:3,webm:!1,description:"Contains the list of all tracks whose Blocks need to be combined to create this virtual track"},230:{name:"TrackPlaneType",level:6,type:"u",mandatory:!0,minver:3,webm:!1,description:"The kind of plane this track corresponds to (0: left eye, 1: right eye, 2: background)."},229:{name:"TrackPlaneUID",level:6,type:"u",mandatory:!0,minver:3,webm:!1,range:"not 0",description:"The trackUID number of the track representing the plane."},228:{name:"TrackPlane",level:5,type:"m",mandatory:!0,multiple:!0,minver:3,webm:!1,description:"Contains a video plane track that need to be combined to create this 3D track"},227:{name:"TrackCombinePlanes",level:4,type:"m",minver:3,webm:!1,description:"Contains the list of all video plane tracks that need to be combined to create this 3D track"},226:{name:"TrackOperation",level:3,type:"m",minver:3,webm:!1,description:"Operation that needs to be applied on tracks to create this virtual track. For more details look at the Specification Notes on the subject."},32123:{name:"ChannelPositions",cppname:"AudioPosition",level:4,type:"b",webm:!1,description:"Table of horizontal angles for each successive channel, see appendix."},159:{name:"Channels",cppname:"AudioChannels",level:4,type:"u",mandatory:!0,minver:1,default:1,range:"not 0",description:"Numbers of channels in the track."},30901:{name:"OutputSamplingFrequency",cppname:"AudioOutputSamplingFreq",level:4,type:"f",minver:1,default:"Sampling Frequency",range:"> 0",description:"Real output sampling frequency in Hz (used for SBR techniques)."},181:{name:"SamplingFrequency",cppname:"AudioSamplingFreq",level:4,type:"f",mandatory:!0,minver:1,default:8e3,range:"> 0",description:"Sampling frequency in Hz."},225:{name:"Audio",cppname:"TrackAudio",level:3,type:"m",minver:1,description:"Audio settings."},2327523:{name:"FrameRate",cppname:"VideoFrameRate",level:4,type:"f",range:"> 0",strong:"Informational",description:"Number of frames per second.  only."},3126563:{name:"GammaValue",cppname:"VideoGamma",level:4,type:"f",webm:!1,range:"> 0",description:"Gamma Value."},3061028:{name:"ColourSpace",cppname:"VideoColourSpace",level:4,type:"b",minver:1,webm:!1,bytesize:4,description:"Same value as in AVI (32 bits)."},21683:{name:"AspectRatioType",cppname:"VideoAspectRatio",level:4,type:"u",minver:1,default:0,description:"Specify the possible modifications to the aspect ratio (0: free resizing, 1: keep aspect ratio, 2: fixed)."},21682:{name:"DisplayUnit",cppname:"VideoDisplayUnit",level:4,type:"u",minver:1,default:0,description:"How DisplayWidth & DisplayHeight should be interpreted (0: pixels, 1: centimeters, 2: inches, 3: Display Aspect Ratio)."},21690:{name:"DisplayHeight",cppname:"VideoDisplayHeight",level:4,type:"u",minver:1,default:"PixelHeight",range:"not 0",description:"Height of the video frames to display. The default value is only valid when DisplayUnit is 0."},21680:{name:"DisplayWidth",cppname:"VideoDisplayWidth",level:4,type:"u",minver:1,default:"PixelWidth",range:"not 0",description:"Width of the video frames to display. The default value is only valid when DisplayUnit is 0."},21725:{name:"PixelCropRight",cppname:"VideoPixelCropRight",level:4,type:"u",minver:1,default:0,description:"The number of video pixels to remove on the right of the image."},21708:{name:"PixelCropLeft",cppname:"VideoPixelCropLeft",level:4,type:"u",minver:1,default:0,description:"The number of video pixels to remove on the left of the image."},21691:{name:"PixelCropTop",cppname:"VideoPixelCropTop",level:4,type:"u",minver:1,default:0,description:"The number of video pixels to remove at the top of the image."},21674:{name:"PixelCropBottom",cppname:"VideoPixelCropBottom",level:4,type:"u",minver:1,default:0,description:"The number of video pixels to remove at the bottom of the image (for HDTV content)."},186:{name:"PixelHeight",cppname:"VideoPixelHeight",level:4,type:"u",mandatory:!0,minver:1,range:"not 0",description:"Height of the encoded video frames in pixels."},176:{name:"PixelWidth",cppname:"VideoPixelWidth",level:4,type:"u",mandatory:!0,minver:1,range:"not 0",description:"Width of the encoded video frames in pixels."},21433:{name:"OldStereoMode",level:4,type:"u",maxver:"0",webm:!1,divx:!1,description:"DEPRECATED, DO NOT USE. Bogus StereoMode value used in old versions of libmatroska. (0: mono, 1: right eye, 2: left eye, 3: both eyes)."},21440:{name:"AlphaMode",cppname:"VideoAlphaMode",level:4,type:"u",minver:3,webm:!0,default:0,description:"Alpha Video Mode. Presence of this element indicates that the BlockAdditional element could contain Alpha data."},21432:{name:"StereoMode",cppname:"VideoStereoMode",level:4,type:"u",minver:3,webm:!0,default:0,description:"Stereo-3D video mode (0: mono, 1: side by side (left eye is first), 2: top-bottom (right eye is first), 3: top-bottom (left eye is first), 4: checkboard (right is first), 5: checkboard (left is first), 6: row interleaved (right is first), 7: row interleaved (left is first), 8: column interleaved (right is first), 9: column interleaved (left is first), 10: anaglyph (cyan/red), 11: side by side (right eye is first), 12: anaglyph (green/magenta), 13 both eyes laced in one Block (left eye is first), 14 both eyes laced in one Block (right eye is first)) . There are some more details on 3D support in the Specification Notes."},154:{name:"FlagInterlaced",cppname:"VideoFlagInterlaced",level:4,type:"u",mandatory:!0,minver:2,webm:!0,default:0,range:"0-1",description:"Set if the video is interlaced. (1 bit)"},224:{name:"Video",cppname:"TrackVideo",level:3,type:"m",minver:1,description:"Video settings."},26277:{name:"TrackTranslateTrackID",level:4,type:"b",mandatory:!0,minver:1,webm:!1,description:"The binary value used to represent this track in the chapter codec data. The format depends on the ChapProcessCodecID used."},26303:{name:"TrackTranslateCodec",level:4,type:"u",mandatory:!0,minver:1,webm:!1,description:"The chapter codec using this ID (0: Matroska Script, 1: DVD-menu)."},26364:{name:"TrackTranslateEditionUID",level:4,type:"u",multiple:!0,minver:1,webm:!1,description:"Specify an edition UID on which this translation applies. When not specified, it means for all editions found in the segment."},22203:{name:"SeekPreRoll",level:3,type:"u",mandatory:!0,multiple:!1,default:0,minver:4,webm:!0,description:"After a discontinuity, SeekPreRoll is the duration in nanoseconds of the data the decoder must decode before the decoded data is valid."},22186:{name:"CodecDelay",level:3,type:"u",multiple:!1,default:0,minver:4,webm:!0,description:"CodecDelay is The codec-built-in delay in nanoseconds. This value must be subtracted from each block timestamp in order to get the actual timestamp. The value should be small so the muxing of tracks with the same actual timestamp are in the same Cluster."},28587:{name:"TrackOverlay",level:3,type:"u",multiple:!0,minver:1,webm:!1,description:"Specify that this track is an overlay track for the Track specified (in the u-integer). That means when this track has a gap (see SilentTracks) the overlay track should be used instead. The order of multiple TrackOverlay matters, the first one is the one that should be used. If not found it should be the second, etc."},170:{name:"CodecDecodeAll",level:3,type:"u",mandatory:!0,minver:2,webm:!1,default:1,range:"0-1",description:"The codec can decode potentially damaged data (1 bit)."},2536000:{name:"CodecDownloadURL",level:3,type:"s",multiple:!0,webm:!1,description:"A URL to download about the codec used."},3883072:{name:"CodecInfoURL",level:3,type:"s",multiple:!0,webm:!1,description:"A URL to find information about the codec used."},3839639:{name:"CodecSettings",level:3,type:"8",webm:!1,description:"A string describing the encoding setting used."},25506:{name:"CodecPrivate",level:3,type:"b",minver:1,description:"Private data only known to the codec."},2274716:{name:"Language",cppname:"TrackLanguage",level:3,type:"s",minver:1,default:"eng",description:"Specifies the language of the track in the Matroska languages form."},21358:{name:"Name",cppname:"TrackName",level:3,type:"8",minver:1,description:"A human-readable track name."},21998:{name:"MaxBlockAdditionID",level:3,type:"u",mandatory:!0,minver:1,webm:!1,default:0,description:"The maximum value of BlockAdditions for this track."},21375:{name:"TrackOffset",level:3,type:"i",webm:!1,default:0,description:"A value to add to the Block's Timestamp. This can be used to adjust the playback offset of a track."},2306383:{name:"TrackTimecodeScale",level:3,type:"f",mandatory:!0,minver:1,maxver:"3",webm:!1,default:1,range:"> 0",description:"DEPRECATED, DO NOT USE. The scale to apply on this track to work at normal speed in relation with other tracks (mostly used to adjust video speed when the audio length differs)."},2313850:{name:"DefaultDecodedFieldDuration",cppname:"TrackDefaultDecodedFieldDuration",level:3,type:"u",minver:4,range:"not 0",description:"The period in nanoseconds (not scaled by TimcodeScale)\nbetween two successive fields at the output of the decoding process (see the notes)"},2352003:{name:"DefaultDuration",cppname:"TrackDefaultDuration",level:3,type:"u",minver:1,range:"not 0",description:"Number of nanoseconds (not scaled via TimecodeScale) per frame ('frame' in the Matroska sense -- one element put into a (Simple)Block)."},28152:{name:"MaxCache",cppname:"TrackMaxCache",level:3,type:"u",minver:1,webm:!1,description:"The maximum cache size required to store referenced frames in and the current frame. 0 means no cache is needed."},28135:{name:"MinCache",cppname:"TrackMinCache",level:3,type:"u",mandatory:!0,minver:1,webm:!1,default:0,description:"The minimum number of frames a player should be able to cache during playback. If set to 0, the reference pseudo-cache system is not used."},156:{name:"FlagLacing",cppname:"TrackFlagLacing",level:3,type:"u",mandatory:!0,minver:1,default:1,range:"0-1",description:"Set if the track may contain blocks using lacing. (1 bit)"},21930:{name:"FlagForced",cppname:"TrackFlagForced",level:3,type:"u",mandatory:!0,minver:1,default:0,range:"0-1",description:"Set if that track MUST be active during playback. There can be many forced track for a kind (audio, video or subs), the player should select the one which language matches the user preference or the default + forced track. Overlay MAY happen between a forced and non-forced track of the same kind. (1 bit)"},185:{name:"FlagEnabled",cppname:"TrackFlagEnabled",level:3,type:"u",mandatory:!0,minver:2,webm:!0,default:1,range:"0-1",description:"Set if the track is usable. (1 bit)"},29637:{name:"TrackUID",level:3,type:"u",mandatory:!0,minver:1,range:"not 0",description:"A unique ID to identify the Track. This should be kept the same when making a direct stream copy of the Track to another file."},215:{name:"TrackNumber",level:3,type:"u",mandatory:!0,minver:1,range:"not 0",description:"The track number as used in the Block Header (using more than 127 tracks is not encouraged, though the design allows an unlimited number)."},174:{name:"TrackEntry",level:2,type:"m",mandatory:!0,multiple:!0,minver:1,description:"Describes a track with all elements."},374648427:{name:"Tracks",level:1,type:"m",multiple:!0,minver:1,description:"A top-level block of information with many tracks described."},175:{name:"EncryptedBlock",level:2,type:"b",multiple:!0,webm:!1,description:"Similar to EncryptedBlock Structure)"},202:{name:"ReferenceTimeCode",level:4,type:"u",multiple:!1,mandatory:!0,minver:0,webm:!1,divx:!0,description:"DivX trick track extenstions"},201:{name:"ReferenceOffset",level:4,type:"u",multiple:!1,mandatory:!0,minver:0,webm:!1,divx:!0,description:"DivX trick track extenstions"},200:{name:"ReferenceFrame",level:3,type:"m",multiple:!1,minver:0,webm:!1,divx:!0,description:"DivX trick track extenstions"},207:{name:"SliceDuration",level:5,type:"u",default:0,description:"The (scaled) duration to apply to the element."},206:{name:"Delay",cppname:"SliceDelay",level:5,type:"u",default:0,description:"The (scaled) delay to apply to the element."},203:{name:"BlockAdditionID",cppname:"SliceBlockAddID",level:5,type:"u",default:0,description:"The ID of the BlockAdditional element (0 is the main Block)."},205:{name:"FrameNumber",cppname:"SliceFrameNumber",level:5,type:"u",default:0,description:"The number of the frame to generate from this lace with this delay (allow you to generate many frames from the same Block/Frame)."},204:{name:"LaceNumber",cppname:"SliceLaceNumber",level:5,type:"u",minver:1,default:0,divx:!1,description:"The reverse number of the frame in the lace (0 is the last frame, 1 is the next to last, etc). While there are a few files in the wild with this element, it is no longer in use and has been deprecated. Being able to interpret this element is not required for playback."},232:{name:"TimeSlice",level:4,type:"m",multiple:!0,minver:1,divx:!1,description:"Contains extra time information about the data contained in the Block. While there are a few files in the wild with this element, it is no longer in use and has been deprecated. Being able to interpret this element is not required for playback."},142:{name:"Slices",level:3,type:"m",minver:1,divx:!1,description:"Contains slices description."},30114:{name:"DiscardPadding",level:3,type:"i",minver:4,webm:!0,description:"Duration in nanoseconds of the silent data added to the Block (padding at the end of the Block for positive value, at the beginning of the Block for negative value). The duration of DiscardPadding is not calculated in the duration of the TrackEntry and should be discarded during playback."},164:{name:"CodecState",level:3,type:"b",minver:2,webm:!1,description:"The new codec state to use. Data interpretation is private to the codec. This information should always be referenced by a seek entry."},253:{name:"ReferenceVirtual",level:3,type:"i",webm:!1,description:"Relative position of the data that should be in position of the virtual block."},251:{name:"ReferenceBlock",level:3,type:"i",multiple:!0,minver:1,description:"Timestamp of another frame used as a reference (ie: B or P frame). The timestamp is relative to the block it's attached to."},250:{name:"ReferencePriority",cppname:"FlagReferenced",level:3,type:"u",mandatory:!0,minver:1,webm:!1,default:0,description:"This frame is referenced and has the specified cache priority. In cache only a frame of the same or higher priority can replace this frame. A value of 0 means the frame is not referenced."},155:{name:"BlockDuration",level:3,type:"u",minver:1,default:"TrackDuration",description:'The duration of the Block (based on TimecodeScale). This element is mandatory when DefaultDuration is set for the track (but can be omitted as other default values). When not written and with no DefaultDuration, the value is assumed to be the difference between the timestamp of this Block and the timestamp of the next Block in "display" order (not coding order). This element can be useful at the end of a Track (as there is not other Block available), or when there is a break in a track like for subtitle tracks. When set to 0 that means the frame is not a keyframe.'},165:{name:"BlockAdditional",level:5,type:"b",mandatory:!0,minver:1,webm:!1,description:"Interpreted by the codec as it wishes (using the BlockAddID)."},238:{name:"BlockAddID",level:5,type:"u",mandatory:!0,minver:1,webm:!1,default:1,range:"not 0",description:"An ID to identify the BlockAdditional level."},166:{name:"BlockMore",level:4,type:"m",mandatory:!0,multiple:!0,minver:1,webm:!1,description:"Contain the BlockAdditional and some parameters."},30113:{name:"BlockAdditions",level:3,type:"m",minver:1,webm:!1,description:"Contain additional blocks to complete the main one. An EBML parser that has no knowledge of the Block structure could still see and use/skip these data."},162:{name:"BlockVirtual",level:3,type:"b",webm:!1,description:"A Block with no data. It must be stored in the stream at the place the real Block should be in display order. (see Block Virtual)"},161:{name:"Block",level:3,type:"b",mandatory:!0,minver:1,description:"Block containing the actual data to be rendered and a timestamp relative to the Cluster Timecode. (see Block Structure)"},160:{name:"BlockGroup",level:2,type:"m",multiple:!0,minver:1,description:"Basic container of information containing a single Block or BlockVirtual, and information specific to that Block/VirtualBlock."},163:{name:"SimpleBlock",level:2,type:"b",multiple:!0,minver:2,webm:!0,divx:!0,description:"Similar to SimpleBlock Structure"},171:{name:"PrevSize",cppname:"ClusterPrevSize",level:2,type:"u",minver:1,description:"Size of the previous Cluster, in octets. Can be useful for backward playing.",position:"prevCluster"},167:{name:"Position",cppname:"ClusterPosition",level:2,type:"u",minver:1,webm:!1,description:"The Position of the Cluster in the segment (0 in live broadcast streams). It might help to resynchronise offset on damaged streams.",position:"segment"},22743:{name:"SilentTrackNumber",cppname:"ClusterSilentTrackNumber",level:3,type:"u",multiple:!0,minver:1,webm:!1,description:"One of the track number that are not used from now on in the stream. It could change later if not specified as silent in a further Cluster."},231:{name:"Timecode",cppname:"ClusterTimecode",level:2,type:"u",mandatory:!0,minver:1,description:"Absolute timestamp of the cluster (based on TimecodeScale)."},524531317:{name:"Cluster",level:1,type:"m",multiple:!0,minver:1,description:"The lower level element containing the (monolithic) Block structure."},19840:{name:"MuxingApp",level:2,type:"8",mandatory:!0,minver:1,description:'Muxing application or library ("libmatroska-0.4.3").'},31657:{name:"Title",level:2,type:"8",minver:1,webm:!1,description:"General name of the segment."},2807730:{name:"TimecodeScaleDenominator",level:2,type:"u",mandatory:!0,minver:4,default:"1000000000",description:"Timestamp scale numerator, see TimecodeScale."},2807729:{name:"TimecodeScale",level:2,type:"u",mandatory:!0,minver:1,default:"1000000",description:"Timestamp scale in nanoseconds (1.000.000 means all timestamps in the segment are expressed in milliseconds)."},27045:{name:"ChapterTranslateID",level:3,type:"b",mandatory:!0,minver:1,webm:!1,description:"The binary value used to represent this segment in the chapter codec data. The format depends on the ChapProcessCodecID used."},27071:{name:"ChapterTranslateCodec",level:3,type:"u",mandatory:!0,minver:1,webm:!1,description:"The chapter codec using this ID (0: Matroska Script, 1: DVD-menu)."},27132:{name:"ChapterTranslateEditionUID",level:3,type:"u",multiple:!0,minver:1,webm:!1,description:"Specify an edition UID on which this correspondance applies. When not specified, it means for all editions found in the segment."},4096955:{name:"NextFilename",level:2,type:"8",minver:1,webm:!1,description:"An escaped filename corresponding to the next segment."},4110627:{name:"NextUID",level:2,type:"b",minver:1,webm:!1,bytesize:16,description:"A unique ID to identify the next chained segment (128 bits)."},3965867:{name:"PrevFilename",level:2,type:"8",minver:1,webm:!1,description:"An escaped filename corresponding to the previous segment."},3979555:{name:"PrevUID",level:2,type:"b",minver:1,webm:!1,bytesize:16,description:"A unique ID to identify the previous chained segment (128 bits)."},29604:{name:"SegmentUID",level:2,type:"b",minver:1,webm:!1,range:"not 0",bytesize:16,description:"A randomly generated unique ID to identify the current segment between many others (128 bits)."},357149030:{name:"Info",level:1,type:"m",mandatory:!0,multiple:!0,minver:1,description:"Contains miscellaneous general information and statistics on the file."},21420:{name:"SeekPosition",level:3,type:"u",mandatory:!0,minver:1,description:"The position of the element in the segment in octets (0 = first level 1 element).",position:"segment"},21419:{name:"SeekID",level:3,type:"b",mandatory:!0,minver:1,description:"The binary ID corresponding to the element name.",type2:"ebmlID"},19899:{name:"Seek",cppname:"SeekPoint",level:2,type:"m",mandatory:!0,multiple:!0,minver:1,description:"Contains a single seek entry to an EBML element."},290298740:{name:"SeekHead",cppname:"SeekHeader",level:1,type:"m",multiple:!0,minver:1,description:"Contains the position of other level 1 elements."},32379:{name:"SignatureElementList",level:2,type:"m",multiple:!0,webm:!1,i:"Cluster|Block|BlockAdditional",description:"A list consists of a number of consecutive elements that represent one case where data is used in signature. Ex:  means that the BlockAdditional of all Blocks in all Clusters is used for encryption."},32347:{name:"SignatureElements",level:1,type:"m",webm:!1,description:"Contains elements that will be used to compute the signature."},32437:{name:"Signature",level:1,type:"b",webm:!1,description:"The signature of the data (until a new."},32421:{name:"SignaturePublicKey",level:1,type:"b",webm:!1,description:"The public key to use with the algorithm (in the case of a PKI-based signature)."},32410:{name:"SignatureHash",level:1,type:"u",webm:!1,description:"Hash algorithm used (1=SHA1-160, 2=MD5)."},32394:{name:"SignatureAlgo",level:1,type:"u",webm:!1,description:"Signature algorithm used (1=RSA, 2=elliptic)."},458458727:{name:"SignatureSlot",level:-1,type:"m",multiple:!0,webm:!1,description:"Contain signature of some (coming) elements in the stream."},191:{name:"CRC-32",level:-1,type:"b",minver:1,webm:!1,description:"The CRC is computed on all the data of the Master element it's in. The CRC element should be the first in it's parent master for easier reading. All level 1 elements should include a CRC-32. The CRC in use is the IEEE CRC32 Little Endian",crc:!0},236:{name:"Void",level:-1,type:"b",minver:1,description:"Used to void damaged data, to avoid unexpected behaviors when using damaged data. The content is discarded. Also used to reserve space in a sub-element for later use."},17139:{name:"EBMLMaxSizeLength",level:1,type:"u",mandatory:!0,default:8,minver:1,description:"The maximum length of the sizes you'll find in this file (8 or less in Matroska). This does not override the element size indicated at the beginning of an element. Elements that have an indicated size which is larger than what is allowed by EBMLMaxSizeLength shall be considered invalid."},17138:{name:"EBMLMaxIDLength",level:1,type:"u",mandatory:!0,default:4,minver:1,description:"The maximum length of the IDs you'll find in this file (4 or less in Matroska)."},17143:{name:"EBMLReadVersion",level:1,type:"u",mandatory:!0,default:1,minver:1,description:"The minimum EBML version a parser has to support to read this file."},440786851:{name:"EBML",level:"0",type:"m",mandatory:!0,multiple:!0,minver:1,description:"Set the EBML characteristics of the data to follow. Each EBML document has to start with this."}},i={},o={byEbmlID:l,byName:i};for(var r in l)i[l[r].name.replace("-","_")]=parseInt(r,10);e.exports=o},H7XF:function(e,t,n){"use strict";t.byteLength=function(e){var t=a(e),n=t[1];return 3*(t[0]+n)/4-n},t.toByteArray=function(e){var t,n,l=a(e),r=l[0],u=l[1],s=new o(function(e,t,n){return 3*(t+n)/4-n}(0,r,u)),c=0,p=u>0?r-4:r;for(n=0;n<p;n+=4)t=i[e.charCodeAt(n)]<<18|i[e.charCodeAt(n+1)]<<12|i[e.charCodeAt(n+2)]<<6|i[e.charCodeAt(n+3)],s[c++]=t>>16&255,s[c++]=t>>8&255,s[c++]=255&t;return 2===u&&(t=i[e.charCodeAt(n)]<<2|i[e.charCodeAt(n+1)]>>4,s[c++]=255&t),1===u&&(t=i[e.charCodeAt(n)]<<10|i[e.charCodeAt(n+1)]<<4|i[e.charCodeAt(n+2)]>>2,s[c++]=t>>8&255,s[c++]=255&t),s},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,o=[],r=0,u=n-i;r<u;r+=16383)o.push(c(e,r,r+16383>u?u:r+16383));return 1===i?o.push(l[(t=e[n-1])>>2]+l[t<<4&63]+"=="):2===i&&o.push(l[(t=(e[n-2]<<8)+e[n-1])>>10]+l[t>>4&63]+l[t<<2&63]+"="),o.join("")};for(var l=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u=0,s=r.length;u<s;++u)l[u]=r[u],i[r.charCodeAt(u)]=u;function a(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function c(e,t,n){for(var i,o=[],r=t;r<n;r+=3)o.push(l[(i=(e[r]<<16&16711680)+(e[r+1]<<8&65280)+(255&e[r+2]))>>18&63]+l[i>>12&63]+l[i>>6&63]+l[63&i]);return o.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},HjK1:function(e,t,n){function l(){var e;try{e=t.storage.debug}catch(n){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e}(t=e.exports=n("lhf0")).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},t.formatArgs=function(e){var n=this.useColors;if(e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+t.humanize(this.diff),n){var l="color: "+this.color;e.splice(1,0,l,"color: inherit");var i=0,o=0;e[0].replace(/%[a-zA-Z%]/g,function(e){"%%"!==e&&(i++,"%c"===e&&(o=i))}),e.splice(o,0,l)}},t.save=function(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(n){}},t.load=l,t.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},t.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},t.enable(l())},IKIk:function(e,t,n){!function(e){var t,n="undefined",l=n!==typeof Buffer&&Buffer,i=n!==typeof Uint8Array&&Uint8Array,o=n!==typeof ArrayBuffer&&ArrayBuffer,r=[0,0,0,0,0,0,0,0],u=Array.isArray||function(e){return!!e&&"[object Array]"==Object.prototype.toString.call(e)},s=4294967296,a=16777216;function c(u,c,C){var S=c?0:4,_=c?4:0,w=c?0:3,F=c?1:2,x=c?2:1,E=c?3:0,k=c?v:y,A=c?D:b,T=O.prototype,I="is"+u,B="_"+I;return T.buffer=void 0,T.offset=0,T[B]=!0,T.toNumber=R,T.toString=function(e){var t=this.buffer,n=this.offset,l=P(t,n+S),i=P(t,n+_),o="",r=!C&&2147483648&l;for(r&&(l=~l,i=s-i),e=e||10;;){var u=l%e*s+i;if(l=Math.floor(l/e),i=Math.floor(u/e),o=(u%e).toString(e)+o,!l&&!i)break}return r&&(o="-"+o),o},T.toJSON=R,T.toArray=p,l&&(T.toBuffer=d),i&&(T.toArrayBuffer=h),O[I]=function(e){return!(!e||!e[B])},e[u]=O,O;function O(e,l,u,a){return this instanceof O?function(e,l,u,a,c){i&&o&&(l instanceof o&&(l=new i(l)),a instanceof o&&(a=new i(a))),l||u||a||t?(f(l,u)||(c=u,a=l,u=0,l=new(t||Array)(8)),e.buffer=l,e.offset=u|=0,n!==typeof a&&("string"==typeof a?function(e,t,n,l){var i=0,o=n.length,r=0,u=0;"-"===n[0]&&i++;for(var a=i;i<o;){var c=parseInt(n[i++],l);if(!(c>=0))break;u=u*l+c,r=r*l+Math.floor(u/s),u%=s}a&&(r=~r,u?u=s-u:r++),M(e,t+S,r),M(e,t+_,u)}(l,u,a,c||10):f(a,c)?g(l,u,a,c):"number"==typeof c?(M(l,u+S,a),M(l,u+_,c)):a>0?k(l,u,a):a<0?A(l,u,a):g(l,u,r,0))):e.buffer=m(r,0)}(this,e,l,u,a):new O(e,l,u,a)}function R(){var e=this.buffer,t=this.offset,n=P(e,t+S),l=P(e,t+_);return C||(n|=0),n?n*s+l:l}function M(e,t,n){e[t+E]=255&n,e[t+x]=255&(n>>=8),e[t+F]=255&(n>>=8),e[t+w]=255&(n>>=8)}function P(e,t){return e[t+w]*a+(e[t+F]<<16)+(e[t+x]<<8)+e[t+E]}}function p(e){var n=this.buffer,l=this.offset;return t=null,!1!==e&&0===l&&8===n.length&&u(n)?n:m(n,l)}function d(e){var n=this.buffer,i=this.offset;if(t=l,!1!==e&&0===i&&8===n.length&&Buffer.isBuffer(n))return n;var o=new l(8);return g(o,0,n,i),o}function h(e){var n=this.buffer,l=this.offset,r=n.buffer;if(t=i,!1!==e&&0===l&&r instanceof o&&8===r.byteLength)return r;var u=new i(8);return g(u,0,n,l),u.buffer}function f(e,t){var n=e&&e.length;return t|=0,n&&t+8<=n&&"string"!=typeof e[t]}function g(e,t,n,l){t|=0,l|=0;for(var i=0;i<8;i++)e[t++]=255&n[l++]}function m(e,t){return Array.prototype.slice.call(e,t,t+8)}function v(e,t,n){for(var l=t+8;l>t;)e[--l]=255&n,n/=256}function D(e,t,n){var l=t+8;for(n++;l>t;)e[--l]=255&-n^255,n/=256}function y(e,t,n){for(var l=t+8;t<l;)e[t++]=255&n,n/=256}function b(e,t,n){var l=t+8;for(n++;t<l;)e[t++]=255&-n^255,n/=256}c("Uint64BE",!0,!0),c("Int64BE",!0,!1),c("Uint64LE",!1,!0),c("Int64LE",!1,!1)}("string"!=typeof t.nodeName?t:this||{})},KFGy:function(e,t,n){var l=n("Vo14"),i=n("cpc2"),o=n("kSER"),r=n("2Dig"),u=n("QN7Q"),s=n("x7D4")("socket.io-client:socket"),a=n("TypT"),c=n("WLGk");e.exports=h;var p={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},d=i.prototype.emit;function h(e,t,n){this.io=e,this.nsp=t,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,this.flags={},n&&n.query&&(this.query=n.query),this.io.autoConnect&&this.open()}i(h.prototype),h.prototype.subEvents=function(){if(!this.subs){var e=this.io;this.subs=[r(e,"open",u(this,"onopen")),r(e,"packet",u(this,"onpacket")),r(e,"close",u(this,"onclose"))]}},h.prototype.open=h.prototype.connect=function(){return this.connected?this:(this.subEvents(),this.io.open(),"open"===this.io.readyState&&this.onopen(),this.emit("connecting"),this)},h.prototype.send=function(){var e=o(arguments);return e.unshift("message"),this.emit.apply(this,e),this},h.prototype.emit=function(e){if(p.hasOwnProperty(e))return d.apply(this,arguments),this;var t=o(arguments),n={type:(void 0!==this.flags.binary?this.flags.binary:c(t))?l.BINARY_EVENT:l.EVENT,data:t,options:{}};return n.options.compress=!this.flags||!1!==this.flags.compress,"function"==typeof t[t.length-1]&&(s("emitting packet with ack id %d",this.ids),this.acks[this.ids]=t.pop(),n.id=this.ids++),this.connected?this.packet(n):this.sendBuffer.push(n),this.flags={},this},h.prototype.packet=function(e){e.nsp=this.nsp,this.io.packet(e)},h.prototype.onopen=function(){if(s("transport is open - connecting"),"/"!==this.nsp)if(this.query){var e="object"==typeof this.query?a.encode(this.query):this.query;s("sending connect packet with query %s",e),this.packet({type:l.CONNECT,query:e})}else this.packet({type:l.CONNECT})},h.prototype.onclose=function(e){s("close (%s)",e),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",e)},h.prototype.onpacket=function(e){if(e.nsp===this.nsp||e.type===l.ERROR&&"/"===e.nsp)switch(e.type){case l.CONNECT:this.onconnect();break;case l.EVENT:case l.BINARY_EVENT:this.onevent(e);break;case l.ACK:case l.BINARY_ACK:this.onack(e);break;case l.DISCONNECT:this.ondisconnect();break;case l.ERROR:this.emit("error",e.data)}},h.prototype.onevent=function(e){var t=e.data||[];s("emitting event %j",t),null!=e.id&&(s("attaching ack callback to event"),t.push(this.ack(e.id))),this.connected?d.apply(this,t):this.receiveBuffer.push(t)},h.prototype.ack=function(e){var t=this,n=!1;return function(){if(!n){n=!0;var i=o(arguments);s("sending ack %j",i),t.packet({type:c(i)?l.BINARY_ACK:l.ACK,id:e,data:i})}}},h.prototype.onack=function(e){var t=this.acks[e.id];"function"==typeof t?(s("calling ack %s with %j",e.id,e.data),t.apply(this,e.data),delete this.acks[e.id]):s("bad ack %s",e.id)},h.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},h.prototype.emitBuffered=function(){var e;for(e=0;e<this.receiveBuffer.length;e++)d.apply(this,this.receiveBuffer[e]);for(this.receiveBuffer=[],e=0;e<this.sendBuffer.length;e++)this.packet(this.sendBuffer[e]);this.sendBuffer=[]},h.prototype.ondisconnect=function(){s("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},h.prototype.destroy=function(){if(this.subs){for(var e=0;e<this.subs.length;e++)this.subs[e].destroy();this.subs=null}this.io.destroy(this)},h.prototype.close=h.prototype.disconnect=function(){return this.connected&&(s("performing disconnect (%s)",this.nsp),this.packet({type:l.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},h.prototype.compress=function(e){return this.flags.compress=e,this},h.prototype.binary=function(e){return this.flags.binary=e,this}},LBXl:function(e,t,n){"use strict";function l(e){return Error.call(this),this.message=e?e.length+" errors occurred during unsubscription:\n"+e.map(function(e,t){return t+1+") "+e.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=e,this}l.prototype=Object.create(Error.prototype),t.UnsubscriptionError=l},MC6w:function(e,t,n){"use strict";var l,i=n("24jU");function o(){try{return l.apply(this,arguments)}catch(e){return i.errorObject.e=e,i.errorObject}}t.tryCatch=function(e){return l=e,o}},MkmW:function(e,t,n){"use strict";t.hostReportError=function(e){setTimeout(function(){throw e})}},Mxlh:function(e,t,n){"use strict";function l(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}l.prototype=Object.create(Error.prototype),t.ObjectUnsubscribedError=l},NTcF:function(e,t,n){var l=n("mrSG").__extends,i=n("ffpz");t.AsyncScheduler=function(e){function t(n,l){void 0===l&&(l=i.Scheduler.now);var o=e.call(this,n,function(){return t.delegate&&t.delegate!==o?t.delegate.now():l()})||this;return o.actions=[],o.active=!1,o.scheduled=void 0,o}return l(t,e),t.prototype.schedule=function(n,l,i){return void 0===l&&(l=0),t.delegate&&t.delegate!==this?t.delegate.schedule(n,l,i):e.prototype.schedule.call(this,n,l,i)},t.prototype.flush=function(e){var t=this.actions;if(this.active)t.push(e);else{var n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}},t}(i.Scheduler)},Nq7k:function(e,t,n){function l(e){var n;function l(){if(l.enabled){var e=l,i=+new Date;e.diff=i-(n||i),e.prev=n,e.curr=i,n=i;for(var o=new Array(arguments.length),r=0;r<o.length;r++)o[r]=arguments[r];o[0]=t.coerce(o[0]),"string"!=typeof o[0]&&o.unshift("%O");var u=0;o[0]=o[0].replace(/%([a-zA-Z%])/g,function(n,l){if("%%"===n)return n;u++;var i=t.formatters[l];return"function"==typeof i&&(n=i.call(e,o[u]),o.splice(u,1),u--),n}),t.formatArgs.call(e,o),(l.log||t.log||console.log.bind(console)).apply(e,o)}}return l.namespace=e,l.enabled=t.enabled(e),l.useColors=t.useColors(),l.color=function(e){var n,l=0;for(n in e)l=(l<<5)-l+e.charCodeAt(n),l|=0;return t.colors[Math.abs(l)%t.colors.length]}(e),l.destroy=i,"function"==typeof t.init&&t.init(l),t.instances.push(l),l}function i(){var e=t.instances.indexOf(this);return-1!==e&&(t.instances.splice(e,1),!0)}(t=e.exports=l.debug=l.default=l).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable("")},t.enable=function(e){var n;t.save(e),t.names=[],t.skips=[];var l=("string"==typeof e?e:"").split(/[\s,]+/),i=l.length;for(n=0;n<i;n++)l[n]&&("-"===(e=l[n].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")));for(n=0;n<t.instances.length;n++){var o=t.instances[n];o.enabled=t.enabled(o.namespace)}},t.enabled=function(e){if("*"===e[e.length-1])return!0;var n,l;for(n=0,l=t.skips.length;n<l;n++)if(t.skips[n].test(e))return!1;for(n=0,l=t.names.length;n<l;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n("uDUn"),t.instances=[],t.names=[],t.skips=[],t.formatters={}},OAkW:function(e,t,n){"use strict";t.subscribeToArray=function(e){return function(t){for(var n=0,l=e.length;n<l&&!t.closed;n++)t.next(e[n]);t.closed||t.complete()}}},PrVB:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=n("ENPf"),i=n("ENPf"),o=n("Gyns").byEbmlID;t.default=function(){function e(){this._schema=o,this._buffers=[],this._stack=[]}return e.prototype.encode=function(e){var t=this;return l.concat(e.reduce(function(e,n){return e.concat(t.encodeChunk(n))},[])).buffer},e.prototype.encodeChunk=function(e){return"m"===e.type?e.isEnd?this.endTag(e):this.startTag(e):this.writeTag(e),this.flush()},e.prototype.flush=function(){var e=this._buffers;return this._buffers=[],e},e.prototype.getSchemaInfo=function(e){for(var t=Object.keys(this._schema).map(Number),n=0;n<t.length;n++){var l=t[n];if(this._schema[l].name===e)return new i.Buffer(l.toString(16),"hex")}return null},e.prototype.writeTag=function(e){var t=e.name,n=this.getSchemaInfo(t),i=e.data;if(null==n)throw new Error("No schema entry found for "+t);var o=l.encodeTag(n,i);this._stack.length>0?this._stack[this._stack.length-1].children.push({tagId:n,elm:e,children:[],data:o}):this._buffers=this._buffers.concat(o)},e.prototype.startTag=function(e){var t=e.name,n=this.getSchemaInfo(t);if(null==n)throw new Error("No schema entry found for "+t);if(e.unknownSize){var o=l.encodeTag(n,new i.Buffer(0),e.unknownSize);this._buffers=this._buffers.concat(o)}else{var r={tagId:n,elm:e,children:[],data:null};this._stack.length>0&&this._stack[this._stack.length-1].children.push(r),this._stack.push(r)}},e.prototype.endTag=function(e){var t=this._stack.pop();if(null==t)throw new Error("EBML structure is broken");if(t.elm.name!==e.name)throw new Error("EBML structure is broken");var n=t.children.reduce(function(e,t){if(null===t.data)throw new Error("EBML structure is broken");return e.concat(t.data)},[]),i=l.concat(n);t.data="m"===t.elm.type?l.encodeTag(t.tagId,i,t.elm.unknownSize):l.encodeTag(t.tagId,i),this._stack.length<1&&(this._buffers=this._buffers.concat(t.data))},e}()},Q1FS:function(e,t,n){"use strict";var l=n("yx2s"),i=n("Xwq/"),o=n("zfKp"),r=n("9AGB"),u=n("n3uD");function s(e){if(e||(e=u.config.Promise||Promise),!e)throw new Error("no Promise impl found");return e}t.Observable=function(){function e(e){this._isScalar=!1,e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var l=this.operator,o=i.toSubscriber(e,t,n);if(l?l.call(o,this.source):o.add(this.source||u.config.useDeprecatedSynchronousErrorHandling&&!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),u.config.useDeprecatedSynchronousErrorHandling&&o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){u.config.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),l.canReportError(e)?e.error(t):console.warn(t)}},e.prototype.forEach=function(e,t){var n=this;return new(t=s(t))(function(t,l){var i;i=n.subscribe(function(t){try{e(t)}catch(n){l(n),i&&i.unsubscribe()}},l,t)})},e.prototype._subscribe=function(e){var t=this.source;return t&&t.subscribe(e)},e.prototype[o.observable]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 0===e.length?this:r.pipeFromArray(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=s(e))(function(e,n){var l;t.subscribe(function(e){return l=e},function(e){return n(e)},function(){return e(l)})})},e.create=function(t){return new e(t)},e}()},Q80o:function(e,t,n){function l(e){var n;function l(){if(l.enabled){var e=l,i=+new Date;e.diff=i-(n||i),e.prev=n,e.curr=i,n=i;for(var o=new Array(arguments.length),r=0;r<o.length;r++)o[r]=arguments[r];o[0]=t.coerce(o[0]),"string"!=typeof o[0]&&o.unshift("%O");var u=0;o[0]=o[0].replace(/%([a-zA-Z%])/g,function(n,l){if("%%"===n)return n;u++;var i=t.formatters[l];return"function"==typeof i&&(n=i.call(e,o[u]),o.splice(u,1),u--),n}),t.formatArgs.call(e,o),(l.log||t.log||console.log.bind(console)).apply(e,o)}}return l.namespace=e,l.enabled=t.enabled(e),l.useColors=t.useColors(),l.color=function(e){var n,l=0;for(n in e)l=(l<<5)-l+e.charCodeAt(n),l|=0;return t.colors[Math.abs(l)%t.colors.length]}(e),l.destroy=i,"function"==typeof t.init&&t.init(l),t.instances.push(l),l}function i(){var e=t.instances.indexOf(this);return-1!==e&&(t.instances.splice(e,1),!0)}(t=e.exports=l.debug=l.default=l).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable("")},t.enable=function(e){var n;t.save(e),t.names=[],t.skips=[];var l=("string"==typeof e?e:"").split(/[\s,]+/),i=l.length;for(n=0;n<i;n++)l[n]&&("-"===(e=l[n].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")));for(n=0;n<t.instances.length;n++){var o=t.instances[n];o.enabled=t.enabled(o.namespace)}},t.enabled=function(e){if("*"===e[e.length-1])return!0;var n,l;for(n=0,l=t.skips.length;n<l;n++)if(t.skips[n].test(e))return!1;for(n=0,l=t.names.length;n<l;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n("5LH7"),t.instances=[],t.names=[],t.skips=[],t.formatters={}},QN7Q:function(e,t){var n=[].slice;e.exports=function(e,t){if("string"==typeof t&&(t=e[t]),"function"!=typeof t)throw new Error("bind() requires a function");var l=n.call(arguments,2);return function(){return t.apply(e,l.concat(n.call(arguments)))}}},TypT:function(e,t){t.encode=function(e){var t="";for(var n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t},t.decode=function(e){for(var t={},n=e.split("&"),l=0,i=n.length;l<i;l++){var o=n[l].split("=");t[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return t}},USoT:function(e,t,n){var l=n("mrSG").__extends;Object.defineProperty(t,"__esModule",{value:!0});var i=n("+qE3"),o=n("ENPf");t.default=function(e){function t(){var t=e.call(this)||this;return t.logGroup="",t.hasLoggingStarted=!1,t.metadataloaded=!1,t.chunks=[],t.stack=[],t.segmentOffset=0,t.last2SimpleBlockVideoTrackTimecode=[0,0],t.last2SimpleBlockAudioTrackTimecode=[0,0],t.lastClusterTimecode=0,t.lastClusterPosition=0,t.timecodeScale=1e6,t.metadataSize=0,t.metadatas=[],t.cues=[],t.firstVideoBlockRead=!1,t.firstAudioBlockRead=!1,t.currentTrack={TrackNumber:-1,TrackType:-1,DefaultDuration:null,CodecDelay:null},t.trackTypes=[],t.trackDefaultDuration=[],t.trackCodecDelay=[],t.trackInfo={type:"nothing"},t.ended=!1,t.logging=!1,t.use_duration_every_simpleblock=!1,t.use_webp=!1,t.use_segment_info=!0,t.drop_default_duration=!0,t}return l(t,e),t.prototype.stop=function(){for(this.ended=!0,this.emit_segment_info();this.stack.length;)this.stack.pop(),this.logging&&console.groupEnd();this.logging&&this.hasLoggingStarted&&this.logGroup&&console.groupEnd()},t.prototype.emit_segment_info=function(){var e=this.chunks;if(this.chunks=[],this.metadataloaded){if(!this.use_segment_info)return;var t=this.duration,n=this.timecodeScale;this.emit("cluster",{timecode:this.lastClusterTimecode,data:e}),this.emit("duration",{timecodeScale:n,duration:t})}else{this.metadataloaded=!0,this.metadatas=e;var l=this.trackTypes.indexOf(1),i=this.trackTypes.indexOf(2);if(this.trackInfo=l>=0&&i>=0?{type:"both",trackNumber:l}:l>=0?{type:"video",trackNumber:l}:i>=0?{type:"audio",trackNumber:i}:{type:"nothing"},!this.use_segment_info)return;this.emit("metadata",{data:e,metadataSize:this.metadataSize})}},t.prototype.read=function(e){var t=this,n=!1;if(!this.ended){if("m"===e.type)if(e.isEnd)this.stack.pop();else{var l=this.stack[this.stack.length-1];if(null!=l&&l.level>=e.level){this.stack.pop(),this.logging&&console.groupEnd(),l.dataEnd=e.dataEnd,l.dataSize=e.dataEnd-l.dataStart,l.unknownSize=!1;var i=Object.assign({},l,{name:l.name,type:l.type,isEnd:!0});this.chunks.push(i)}this.stack.push(e)}if("m"===e.type&&"Segment"==e.name)0!=this.segmentOffset&&console.warn("Multiple segments detected!"),this.segmentOffset=e.dataStart,this.emit("segment_offset",this.segmentOffset);else if("b"===e.type&&"SimpleBlock"===e.name){var r=o.ebmlBlock(e.data),u=r.timecode,s=r.trackNumber,a=r.frames;if(1===this.trackTypes[s])this.firstVideoBlockRead||(this.firstVideoBlockRead=!0,("both"===this.trackInfo.type||"video"===this.trackInfo.type)&&(this.cues.push({CueTrack:s,CueClusterPosition:this.lastClusterPosition,CueTime:c=this.lastClusterTimecode+u}),this.emit("cue_info",{CueTrack:s,CueClusterPosition:this.lastClusterPosition,CueTime:this.lastClusterTimecode}),this.emit("cue",{CueTrack:s,CueClusterPosition:this.lastClusterPosition,CueTime:c}))),this.last2SimpleBlockVideoTrackTimecode=[this.last2SimpleBlockVideoTrackTimecode[1],u];else if(2===this.trackTypes[s]){var c;this.firstAudioBlockRead||(this.firstAudioBlockRead=!0,"audio"===this.trackInfo.type&&(this.cues.push({CueTrack:s,CueClusterPosition:this.lastClusterPosition,CueTime:c=this.lastClusterTimecode+u}),this.emit("cue_info",{CueTrack:s,CueClusterPosition:this.lastClusterPosition,CueTime:this.lastClusterTimecode}),this.emit("cue",{CueTrack:s,CueClusterPosition:this.lastClusterPosition,CueTime:c}))),this.last2SimpleBlockAudioTrackTimecode=[this.last2SimpleBlockAudioTrackTimecode[1],u]}this.use_duration_every_simpleblock&&this.emit("duration",{timecodeScale:this.timecodeScale,duration:this.duration}),this.use_webp&&a.forEach(function(e){if("9d012a"===e.slice(3,6).toString("hex")){var n=o.VP8BitStreamToRiffWebPBuffer(e),l=new Blob([n],{type:"image/webp"});t.emit("webp",{currentTime:t.duration,webp:l})}})}else"m"===e.type&&"Cluster"===e.name&&!1===e.isEnd?(this.firstVideoBlockRead=!1,this.firstAudioBlockRead=!1,this.emit_segment_info(),this.emit("cluster_ptr",e.tagStart),this.lastClusterPosition=e.tagStart):"u"===e.type&&"Timecode"===e.name?this.lastClusterTimecode=e.value:"u"===e.type&&"TimecodeScale"===e.name?this.timecodeScale=e.value:"m"===e.type&&"TrackEntry"===e.name?e.isEnd?(this.trackTypes[this.currentTrack.TrackNumber]=this.currentTrack.TrackType,this.trackDefaultDuration[this.currentTrack.TrackNumber]=this.currentTrack.DefaultDuration,this.trackCodecDelay[this.currentTrack.TrackNumber]=this.currentTrack.CodecDelay):this.currentTrack={TrackNumber:-1,TrackType:-1,DefaultDuration:null,CodecDelay:null}:"u"===e.type&&"TrackType"===e.name?this.currentTrack.TrackType=e.value:"u"===e.type&&"TrackNumber"===e.name?this.currentTrack.TrackNumber=e.value:"u"===e.type&&"CodecDelay"===e.name?this.currentTrack.CodecDelay=e.value:"u"===e.type&&"DefaultDuration"===e.name?this.drop_default_duration?(console.warn("DefaultDuration detected!, remove it"),n=!0):this.currentTrack.DefaultDuration=e.value:"unknown"===e.name&&console.warn(e);!this.metadataloaded&&e.dataEnd>0&&(this.metadataSize=e.dataEnd),n||this.chunks.push(e),this.logging&&this.put(e)}},Object.defineProperty(t.prototype,"duration",{get:function(){if("nothing"===this.trackInfo.type)return console.warn("no video, no audio track"),0;var e=0,t=0,n=0,l=this.trackDefaultDuration[this.trackInfo.trackNumber];if("number"==typeof l)e=l;else if("both"===this.trackInfo.type)this.last2SimpleBlockAudioTrackTimecode[1]>this.last2SimpleBlockVideoTrackTimecode[1]?(e=(this.last2SimpleBlockAudioTrackTimecode[1]-this.last2SimpleBlockAudioTrackTimecode[0])*this.timecodeScale,"number"==typeof(i=this.trackCodecDelay[this.trackTypes.indexOf(2)])&&(t=i),n=this.last2SimpleBlockAudioTrackTimecode[1]):(e=(this.last2SimpleBlockVideoTrackTimecode[1]-this.last2SimpleBlockVideoTrackTimecode[0])*this.timecodeScale,"number"==typeof(i=this.trackCodecDelay[this.trackTypes.indexOf(1)])&&(t=i),n=this.last2SimpleBlockVideoTrackTimecode[1]);else if("video"===this.trackInfo.type)e=(this.last2SimpleBlockVideoTrackTimecode[1]-this.last2SimpleBlockVideoTrackTimecode[0])*this.timecodeScale,"number"==typeof(i=this.trackCodecDelay[this.trackInfo.trackNumber])&&(t=i),n=this.last2SimpleBlockVideoTrackTimecode[1];else if("audio"===this.trackInfo.type){var i;e=(this.last2SimpleBlockAudioTrackTimecode[1]-this.last2SimpleBlockAudioTrackTimecode[0])*this.timecodeScale,"number"==typeof(i=this.trackCodecDelay[this.trackInfo.trackNumber])&&(t=i),n=this.last2SimpleBlockAudioTrackTimecode[1]}return Math.floor(((this.lastClusterTimecode+n)*this.timecodeScale+e-t)/this.timecodeScale)},enumerable:!0,configurable:!0}),t.prototype.addListener=function(t,n){return e.prototype.addListener.call(this,t,n)},t.prototype.put=function(e){this.hasLoggingStarted||(this.hasLoggingStarted=!0,this.logging&&this.logGroup&&console.groupCollapsed(this.logGroup)),"m"===e.type?e.isEnd?console.groupEnd():console.group(e.name+":"+e.tagStart):"b"===e.type?console.log(e.name,e.type):console.log(e.name,e.tagStart,e.type,e.value)},t}(i.EventEmitter)},Uxeu:function(e,t){var n=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,l=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];e.exports=function(e){var t=e,i=e.indexOf("["),o=e.indexOf("]");-1!=i&&-1!=o&&(e=e.substring(0,i)+e.substring(i,o).replace(/:/g,";")+e.substring(o,e.length));for(var r=n.exec(e||""),u={},s=14;s--;)u[l[s]]=r[s]||"";return-1!=i&&-1!=o&&(u.source=t,u.host=u.host.substring(1,u.host.length-1).replace(/;/g,":"),u.authority=u.authority.replace("[","").replace("]","").replace(/;/g,":"),u.ipv6uri=!0),u}},VKeD:function(e,t,n){"use strict";function l(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}t.getSymbolIterator=l,t.iterator=l(),t.$$iterator=t.iterator},VYWT:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=n("4dtt");t.Decoder=l.default;var i=n("PrVB");t.Encoder=i.default;var o=n("USoT");t.Reader=o.default;var r=n("ENPf");t.tools=r;var u=n("Z8AL").version;t.version=u},Vi6O:function(e,t,n){var l=n("mrSG").__extends;t.InnerSubscriber=function(e){function t(t,n,l){var i=e.call(this)||this;return i.parent=t,i.outerValue=n,i.outerIndex=l,i.index=0,i}return l(t,e),t.prototype._next=function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)},t.prototype._error=function(e){this.parent.notifyError(e,this),this.unsubscribe()},t.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},t}(n("FWf1").Subscriber)},Vo14:function(e,t,n){var l=n("5M3R")("socket.io-parser"),i=n("cpc2"),o=n("cD5x"),r=n("ojuT"),u=n("+SKG");function s(){}t.protocol=4,t.types=["CONNECT","DISCONNECT","EVENT","ACK","ERROR","BINARY_EVENT","BINARY_ACK"],t.CONNECT=0,t.DISCONNECT=1,t.EVENT=2,t.ACK=3,t.ERROR=4,t.BINARY_EVENT=5,t.BINARY_ACK=6,t.Encoder=s,t.Decoder=p;var a=t.ERROR+'"encode error"';function c(e){var n=""+e.type;if(t.BINARY_EVENT!==e.type&&t.BINARY_ACK!==e.type||(n+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(n+=e.nsp+","),null!=e.id&&(n+=e.id),null!=e.data){var i=function(e){try{return JSON.stringify(e)}catch(t){return!1}}(e.data);if(!1===i)return a;n+=i}return l("encoded %j as %s",e,n),n}function p(){this.reconstructor=null}function d(e){this.reconPack=e,this.buffers=[]}function h(e){return{type:t.ERROR,data:"parser error: "+e}}s.prototype.encode=function(e,n){l("encoding packet %j",e),t.BINARY_EVENT===e.type||t.BINARY_ACK===e.type?function(e,t){o.removeBlobs(e,function(e){var n=o.deconstructPacket(e),l=c(n.packet),i=n.buffers;i.unshift(l),t(i)})}(e,n):n([c(e)])},i(p.prototype),p.prototype.add=function(e){var n;if("string"==typeof e)n=function(e){var n=0,i={type:Number(e.charAt(0))};if(null==t.types[i.type])return h("unknown packet type "+i.type);if(t.BINARY_EVENT===i.type||t.BINARY_ACK===i.type){for(var o="";"-"!==e.charAt(++n)&&(o+=e.charAt(n),n!=e.length););if(o!=Number(o)||"-"!==e.charAt(n))throw new Error("Illegal attachments");i.attachments=Number(o)}if("/"===e.charAt(n+1))for(i.nsp="";++n&&","!==(s=e.charAt(n))&&(i.nsp+=s,n!==e.length););else i.nsp="/";var u=e.charAt(n+1);if(""!==u&&Number(u)==u){for(i.id="";++n;){var s;if(null==(s=e.charAt(n))||Number(s)!=s){--n;break}if(i.id+=e.charAt(n),n===e.length)break}i.id=Number(i.id)}if(e.charAt(++n)){var a=function(e){try{return JSON.parse(e)}catch(t){return!1}}(e.substr(n));if(!1===a||i.type!==t.ERROR&&!r(a))return h("invalid payload");i.data=a}return l("decoded %s as %j",e,i),i}(e),t.BINARY_EVENT===n.type||t.BINARY_ACK===n.type?(this.reconstructor=new d(n),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",n)):this.emit("decoded",n);else{if(!u(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");(n=this.reconstructor.takeBinaryData(e))&&(this.reconstructor=null,this.emit("decoded",n))}},p.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},d.prototype.takeBinaryData=function(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){var t=o.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null},d.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},WLGk:function(e,t,n){var l=n("6C75"),i=Object.prototype.toString,o="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===i.call(Blob),r="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===i.call(File);e.exports=function e(t){if(!t||"object"!=typeof t)return!1;if(l(t)){for(var n=0,i=t.length;n<i;n++)if(e(t[n]))return!0;return!1}if("function"==typeof Buffer&&Buffer.isBuffer&&Buffer.isBuffer(t)||"function"==typeof ArrayBuffer&&t instanceof ArrayBuffer||o&&t instanceof Blob||r&&t instanceof File)return!0;if(t.toJSON&&"function"==typeof t.toJSON&&1===arguments.length)return e(t.toJSON(),!0);for(var u in t)if(Object.prototype.hasOwnProperty.call(t,u)&&e(t[u]))return!0;return!1}},WiHW:function(e,t){var n=1e3,l=6e4,i=36e5,o=24*i;function r(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}e.exports=function(e,t){t=t||{};var u,s=typeof e;if("string"===s&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var r=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*r;case"days":case"day":case"d":return r*o;case"hours":case"hour":case"hrs":case"hr":case"h":return r*i;case"minutes":case"minute":case"mins":case"min":case"m":return r*l;case"seconds":case"second":case"secs":case"sec":case"s":return r*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}(e);if("number"===s&&!1===isNaN(e))return t.long?r(u=e,o,"day")||r(u,i,"hour")||r(u,l,"minute")||r(u,n,"second")||u+" ms":function(e){return e>=o?Math.round(e/o)+"d":e>=i?Math.round(e/i)+"h":e>=l?Math.round(e/l)+"m":e>=n?Math.round(e/n)+"s":e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},Wm4p:function(e,t,n){var l,i=n("dkv/"),o=n("WLGk"),r=n("ypnn"),u=n("zMFY"),s=n("oIG/");"undefined"!=typeof ArrayBuffer&&(l=n("g5Dd"));var a="undefined"!=typeof navigator&&/Android/i.test(navigator.userAgent),c="undefined"!=typeof navigator&&/PhantomJS/i.test(navigator.userAgent),p=a||c;t.protocol=3;var d=t.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},h=i(d),f={type:"error",data:"parser error"},g=n("14A5");function m(e,t,n){for(var l=new Array(e.length),i=u(e.length,n),o=function(e,n,i){t(n,function(t,n){l[e]=n,i(t,l)})},r=0;r<e.length;r++)o(r,e[r],i)}t.encodePacket=function(e,n,l,i){"function"==typeof n&&(i=n,n=!1),"function"==typeof l&&(i=l,l=null);var o=void 0===e.data?void 0:e.data.buffer||e.data;if("undefined"!=typeof ArrayBuffer&&o instanceof ArrayBuffer)return function(e,n,l){if(!n)return t.encodeBase64Packet(e,l);var i=e.data,o=new Uint8Array(i),r=new Uint8Array(1+i.byteLength);r[0]=d[e.type];for(var u=0;u<o.length;u++)r[u+1]=o[u];return l(r.buffer)}(e,n,i);if(void 0!==g&&o instanceof g)return function(e,n,l){if(!n)return t.encodeBase64Packet(e,l);if(p)return function(e,n,l){if(!n)return t.encodeBase64Packet(e,l);var i=new FileReader;return i.onload=function(){t.encodePacket({type:e.type,data:i.result},n,!0,l)},i.readAsArrayBuffer(e.data)}(e,n,l);var i=new Uint8Array(1);return i[0]=d[e.type],l(new g([i.buffer,e.data]))}(e,n,i);if(o&&o.base64)return function(e,n){return n("b"+t.packets[e.type]+e.data.data)}(e,i);var r=d[e.type];return void 0!==e.data&&(r+=l?s.encode(String(e.data),{strict:!1}):String(e.data)),i(""+r)},t.encodeBase64Packet=function(e,n){var l,i="b"+t.packets[e.type];if(void 0!==g&&e.data instanceof g){var o=new FileReader;return o.onload=function(){var e=o.result.split(",")[1];n(i+e)},o.readAsDataURL(e.data)}try{l=String.fromCharCode.apply(null,new Uint8Array(e.data))}catch(a){for(var r=new Uint8Array(e.data),u=new Array(r.length),s=0;s<r.length;s++)u[s]=r[s];l=String.fromCharCode.apply(null,u)}return i+=btoa(l),n(i)},t.decodePacket=function(e,n,l){if(void 0===e)return f;if("string"==typeof e){if("b"===e.charAt(0))return t.decodeBase64Packet(e.substr(1),n);if(l&&!1===(e=function(e){try{e=s.decode(e,{strict:!1})}catch(t){return!1}return e}(e)))return f;var i=e.charAt(0);return Number(i)==i&&h[i]?e.length>1?{type:h[i],data:e.substring(1)}:{type:h[i]}:f}i=new Uint8Array(e)[0];var o=r(e,1);return g&&"blob"===n&&(o=new g([o])),{type:h[i],data:o}},t.decodeBase64Packet=function(e,t){var n=h[e.charAt(0)];if(!l)return{type:n,data:{base64:!0,data:e.substr(1)}};var i=l.decode(e.substr(1));return"blob"===t&&g&&(i=new g([i])),{type:n,data:i}},t.encodePayload=function(e,n,l){"function"==typeof n&&(l=n,n=null);var i=o(e);return n&&i?g&&!p?t.encodePayloadAsBlob(e,l):t.encodePayloadAsArrayBuffer(e,l):e.length?void m(e,function(e,l){t.encodePacket(e,!!i&&n,!1,function(e){l(null,function(e){return e.length+":"+e}(e))})},function(e,t){return l(t.join(""))}):l("0:")},t.decodePayload=function(e,n,l){if("string"!=typeof e)return t.decodePayloadAsBinary(e,n,l);var i;if("function"==typeof n&&(l=n,n=null),""===e)return l(f,0,1);for(var o,r,u="",s=0,a=e.length;s<a;s++){var c=e.charAt(s);if(":"===c){if(""===u||u!=(o=Number(u)))return l(f,0,1);if(u!=(r=e.substr(s+1,o)).length)return l(f,0,1);if(r.length){if(i=t.decodePacket(r,n,!1),f.type===i.type&&f.data===i.data)return l(f,0,1);if(!1===l(i,s+o,a))return}s+=o,u=""}else u+=c}return""!==u?l(f,0,1):void 0},t.encodePayloadAsArrayBuffer=function(e,n){if(!e.length)return n(new ArrayBuffer(0));m(e,function(e,n){t.encodePacket(e,!0,!0,function(e){return n(null,e)})},function(e,t){var l=t.reduce(function(e,t){var n;return e+(n="string"==typeof t?t.length:t.byteLength).toString().length+n+2},0),i=new Uint8Array(l),o=0;return t.forEach(function(e){var t="string"==typeof e,n=e;if(t){for(var l=new Uint8Array(e.length),r=0;r<e.length;r++)l[r]=e.charCodeAt(r);n=l.buffer}i[o++]=t?0:1;var u=n.byteLength.toString();for(r=0;r<u.length;r++)i[o++]=parseInt(u[r]);for(i[o++]=255,l=new Uint8Array(n),r=0;r<l.length;r++)i[o++]=l[r]}),n(i.buffer)})},t.encodePayloadAsBlob=function(e,n){m(e,function(e,n){t.encodePacket(e,!0,!0,function(e){var t=new Uint8Array(1);if(t[0]=1,"string"==typeof e){for(var l=new Uint8Array(e.length),i=0;i<e.length;i++)l[i]=e.charCodeAt(i);e=l.buffer,t[0]=0}var o=(e instanceof ArrayBuffer?e.byteLength:e.size).toString(),r=new Uint8Array(o.length+1);for(i=0;i<o.length;i++)r[i]=parseInt(o[i]);if(r[o.length]=255,g){var u=new g([t.buffer,r.buffer,e]);n(null,u)}})},function(e,t){return n(new g(t))})},t.decodePayloadAsBinary=function(e,n,l){"function"==typeof n&&(l=n,n=null);for(var i=e,o=[];i.byteLength>0;){for(var u=new Uint8Array(i),s=0===u[0],a="",c=1;255!==u[c];c++){if(a.length>310)return l(f,0,1);a+=u[c]}i=r(i,2+a.length),a=parseInt(a);var p=r(i,0,a);if(s)try{p=String.fromCharCode.apply(null,new Uint8Array(p))}catch(g){var d=new Uint8Array(p);for(p="",c=0;c<d.length;c++)p+=String.fromCharCode(d[c])}o.push(p),i=r(i,a)}var h=o.length;o.forEach(function(e,i){l(t.decodePacket(e,n,!0),i,h)})}},"Xwq/":function(e,t,n){"use strict";var l=n("FWf1"),i=n("p//D"),o=n("GiSu");t.toSubscriber=function(e,t,n){if(e){if(e instanceof l.Subscriber)return e;if(e[i.rxSubscriber])return e[i.rxSubscriber]()}return e||t||n?new l.Subscriber(e,t,n):new l.Subscriber(o.empty)}},Y4kR:function(e,t,n){var l=n("mrSG").__extends;t.OuterSubscriber=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return l(t,e),t.prototype.notifyNext=function(e,t,n,l,i){this.destination.next(t)},t.prototype.notifyError=function(e,t){this.destination.error(e)},t.prototype.notifyComplete=function(e){this.destination.complete()},t}(n("FWf1").Subscriber)},Yvos:function(e,t){e.exports=function(e,t){var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},Z5tI:function(e,t,n){"use strict";var l=n("MkmW");t.subscribeToPromise=function(e){return function(t){return e.then(function(e){t.closed||(t.next(e),t.complete())},function(e){return t.error(e)}).then(null,l.hostReportError),t}}},Z8AL:function(e){e.exports={name:"ts-ebml",version:"2.0.2",description:"ebml decoder and encoder",scripts:{setup:"npm install -g http-server;",init:"npm run update; npm run mkdir; npm run build",update:"npm run reset; npm update",reset:"rm -rf node_modules",mkdir:"mkdir lib dist 2>/dev/null",clean:"rm -rf lib/* dist/* test/*.js; mkdir -p dist",build:"npm run clean   && tsc    -p .; npm run browserify",start:"http-server . -s & tsc -w -p .& watchify lib/example_seekable.js -o test/example_seekable.js",stop:"killall -- node */tsc -w -p",browserify:"browserify lib/index.js --standalone EBML -o dist/EBML.js",watchify:"watchify lib/index.js --standalone EBML -o dist/EBMl.js -v",test:"tsc; espower lib/test.js > lib/test.tmp; mv -f lib/test.tmp lib/test.js; browserify lib/test.js -o test/test.js",example:"tsc; browserify lib/example_seekable.js -o test/example_seekable.js",examples:"tsc; for file in `find lib -name 'example_*.js' -type f -printf '%f\\n'`; do browserify lib/$file -o test/$file; done",examples_bsd:"tsc; for file in `find lib -name 'example_*.js' -type f -print`; do browserify lib/$(basename $file) -o test/$(basename $file); done",check:"tsc -w --noEmit -p ./",lint:"tslint -c ./tslint.json --project ./tsconfig.json --type-check",doc:"typedoc --mode modules --out doc --disableOutputCheck"},repository:{type:"git",url:"git+https://github.com/legokichi/ts-ebml.git"},keywords:["ebml","webm","mkv","matrosika","webp"],author:"legokichi duckscallion",license:"MIT",bugs:{url:"https://github.com/legokichi/ts-ebml/issues"},homepage:"https://github.com/legokichi/ts-ebml#readme",dependencies:{buffer:"^5.0.7",commander:"^2.11.0",ebml:"^2.2.1","ebml-block":"^1.1.0",events:"^1.1.1","int64-buffer":"^0.1.9",matroska:"^2.2.3"},devDependencies:{"@types/commander":"^2.9.1","@types/qunit":"^2.0.31",browserify:"^13.1.0",empower:"^1.2.3","espower-cli":"^1.1.0","power-assert":"^1.4.4","power-assert-formatter":"^1.4.1","qunit-tap":"^1.5.1",qunitjs:"^2.4.0",tslint:"^3.15.1",typedoc:"^0.5.3",typescript:"^2.4.2",watchify:"^3.7.0"},bin:"./lib/cli.js",main:"./lib/index.js",typings:"./lib/index.d.ts"}},ZsMB:function(e,t,n){var l=n("gQQf");e.exports=function(e){var t={},n=new l(e);t.trackNumber=n.nextUIntV(),t.timecode=n.nextInt16BE();var i=n.nextUInt8();return t.invisible=!!(8&i),t.keyframe=!!(128&i),t.discardable=!!(1&i),t.frames=function(e,t){if(!t)return[e.nextBuffer()];var n,l,i=[],o=e.nextUInt8()+1;if(2===t){if(e.length%o!=0)throw new Error("Fixed-Size Lacing Error");for(l=e.length/o,n=0;n<o;n++)i.push(e.nextBuffer(l));return i}var r=[];if(1===t)for(n=0;n<o-1;n++){var u;l=0;do{l+=u=e.nextUInt8()}while(255===u);r.push(l)}else if(3===t)for(l=e.nextUIntV(),r.push(l),n=1;n<o-1;n++)l+=e.nextIntV(),r.push(l);for(n=0;n<o-1;n++)i.push(e.nextBuffer(r[n]));return i.push(e.nextBuffer()),i}(n,(6&i)>>1),t}},akSB:function(e,t,n){var l=n("AdPF"),i=n("0z79"),o=n("Cl5A"),r=n("CIKq");t.polling=function(e){var t=!1,n=!1,r=!1!==e.jsonp;if(global.location){var u="https:"===location.protocol,s=location.port;s||(s=u?443:80),t=e.hostname!==location.hostname||s!==e.port,n=e.secure!==u}if(e.xdomain=t,e.xscheme=n,"open"in new l(e)&&!e.forceJSONP)return new i(e);if(!r)throw new Error("JSONP disabled");return new o(e)},t.websocket=r},cD5x:function(e,t,n){var l=n("ojuT"),i=n("+SKG"),o=Object.prototype.toString,r="function"==typeof global.Blob||"[object BlobConstructor]"===o.call(global.Blob),u="function"==typeof global.File||"[object FileConstructor]"===o.call(global.File);t.deconstructPacket=function(e){var t=[],n=e;return n.data=function e(t,n){if(!t)return t;if(i(t)){var o={_placeholder:!0,num:n.length};return n.push(t),o}if(l(t)){for(var r=new Array(t.length),u=0;u<t.length;u++)r[u]=e(t[u],n);return r}if("object"==typeof t&&!(t instanceof Date)){for(var s in r={},t)r[s]=e(t[s],n);return r}return t}(e.data,t),n.attachments=t.length,{packet:n,buffers:t}},t.reconstructPacket=function(e,t){return e.data=function e(t,n){if(!t)return t;if(t&&t._placeholder)return n[t.num];if(l(t))for(var i=0;i<t.length;i++)t[i]=e(t[i],n);else if("object"==typeof t)for(var o in t)t[o]=e(t[o],n);return t}(e.data,t),e.attachments=void 0,e},t.removeBlobs=function(e,t){var n=0,o=e;!function e(s,a,c){if(!s)return s;if(r&&s instanceof Blob||u&&s instanceof File){n++;var p=new FileReader;p.onload=function(){c?c[a]=this.result:o=this.result,--n||t(o)},p.readAsArrayBuffer(s)}else if(l(s))for(var d=0;d<s.length;d++)e(s[d],d,s);else if("object"==typeof s&&!i(s))for(var h in s)e(s[h],h,s)}(o),n||t(o)}},cSoz:function(e,t,n){"use strict";var l=n("Vi6O"),i=n("6qA3");t.subscribeToResult=function(e,t,n,o,r){if(void 0===r&&(r=new l.InnerSubscriber(e,n,o)),!r.closed)return i.subscribeTo(t)(r)}},cpc2:function(e,t,n){function l(e){if(e)return function(e){for(var t in l.prototype)e[t]=l.prototype[t];return e}(e)}e.exports=l,l.prototype.on=l.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},l.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},l.prototype.off=l.prototype.removeListener=l.prototype.removeAllListeners=l.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,l=this._callbacks["$"+e];if(!l)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var i=0;i<l.length;i++)if((n=l[i])===t||n.fn===t){l.splice(i,1);break}return this},l.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks["$"+e];if(n)for(var l=0,i=(n=n.slice(0)).length;l<i;++l)n[l].apply(this,t);return this},l.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},l.prototype.hasListeners=function(e){return!!this.listeners(e).length}},crnd:function(e,t){function n(e){return Promise.resolve().then(function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t})}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="crnd"},dMDw:function(e,t,n){var l=n("mrSG").__extends,i=n("FWf1"),o=n("1pIY");t.debounceTime=function(e,t){return void 0===t&&(t=o.async),function(n){return n.lift(new r(e,t))}};var r=function(){function e(e,t){this.dueTime=e,this.scheduler=t}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.dueTime,this.scheduler))},e}(),u=function(e){function t(t,n,l){var i=e.call(this,t)||this;return i.dueTime=n,i.scheduler=l,i.debouncedSubscription=null,i.lastValue=null,i.hasValue=!1,i}return l(t,e),t.prototype._next=function(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(s,this.dueTime,this))},t.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},t.prototype.debouncedNext=function(){if(this.clearDebounce(),this.hasValue){var e=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(e)}},t.prototype.clearDebounce=function(){var e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)},t}(i.Subscriber);function s(e){e.debouncedNext()}},"dkv/":function(e,t){e.exports=Object.keys||function(e){var t=[],n=Object.prototype.hasOwnProperty;for(var l in e)n.call(e,l)&&t.push(l);return t}},ds6q:function(e,t,n){var l=n("mrSG").__extends,i=n("Q1FS"),o=n("FWf1"),r=n("zB/H"),u=n("Mxlh"),s=n("FiyT"),a=n("p//D"),c=function(e){function t(t){var n=e.call(this,t)||this;return n.destination=t,n}return l(t,e),t}(o.Subscriber);t.SubjectSubscriber=c;var p=function(e){function t(){var t=e.call(this)||this;return t.observers=[],t.closed=!1,t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return l(t,e),t.prototype[a.rxSubscriber]=function(){return new c(this)},t.prototype.lift=function(e){var t=new d(this,this);return t.operator=e,t},t.prototype.next=function(e){if(this.closed)throw new u.ObjectUnsubscribedError;if(!this.isStopped)for(var t=this.observers,n=t.length,l=t.slice(),i=0;i<n;i++)l[i].next(e)},t.prototype.error=function(e){if(this.closed)throw new u.ObjectUnsubscribedError;this.hasError=!0,this.thrownError=e,this.isStopped=!0;for(var t=this.observers,n=t.length,l=t.slice(),i=0;i<n;i++)l[i].error(e);this.observers.length=0},t.prototype.complete=function(){if(this.closed)throw new u.ObjectUnsubscribedError;this.isStopped=!0;for(var e=this.observers,t=e.length,n=e.slice(),l=0;l<t;l++)n[l].complete();this.observers.length=0},t.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},t.prototype._trySubscribe=function(t){if(this.closed)throw new u.ObjectUnsubscribedError;return e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){if(this.closed)throw new u.ObjectUnsubscribedError;return this.hasError?(e.error(this.thrownError),r.Subscription.EMPTY):this.isStopped?(e.complete(),r.Subscription.EMPTY):(this.observers.push(e),new s.SubjectSubscription(this,e))},t.prototype.asObservable=function(){var e=new i.Observable;return e.source=this,e},t.create=function(e,t){return new d(e,t)},t}(i.Observable);t.Subject=p;var d=function(e){function t(t,n){var l=e.call(this)||this;return l.destination=t,l.source=n,l}return l(t,e),t.prototype.next=function(e){var t=this.destination;t&&t.next&&t.next(e)},t.prototype.error=function(e){var t=this.destination;t&&t.error&&this.destination.error(e)},t.prototype.complete=function(){var e=this.destination;e&&e.complete&&this.destination.complete()},t.prototype._subscribe=function(e){return this.source?this.source.subscribe(e):r.Subscription.EMPTY},t}(p);t.AnonymousSubject=d},eOtv:function(e,t,n){var l=n("lKxJ"),i=n("KFGy"),o=n("cpc2"),r=n("Vo14"),u=n("2Dig"),s=n("QN7Q"),a=n("x7D4")("socket.io-client:manager"),c=n("7jRU"),p=n("C2QD"),d=Object.prototype.hasOwnProperty;function h(e,t){if(!(this instanceof h))return new h(e,t);e&&"object"==typeof e&&(t=e,e=void 0),(t=t||{}).path=t.path||"/socket.io",this.nsps={},this.subs=[],this.opts=t,this.reconnection(!1!==t.reconnection),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(t.randomizationFactor||.5),this.backoff=new p({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this.readyState="closed",this.uri=e,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[];var n=t.parser||r;this.encoder=new n.Encoder,this.decoder=new n.Decoder,this.autoConnect=!1!==t.autoConnect,this.autoConnect&&this.open()}e.exports=h,h.prototype.emitAll=function(){for(var e in this.emit.apply(this,arguments),this.nsps)d.call(this.nsps,e)&&this.nsps[e].emit.apply(this.nsps[e],arguments)},h.prototype.updateSocketIds=function(){for(var e in this.nsps)d.call(this.nsps,e)&&(this.nsps[e].id=this.generateId(e))},h.prototype.generateId=function(e){return("/"===e?"":e+"#")+this.engine.id},o(h.prototype),h.prototype.reconnection=function(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection},h.prototype.reconnectionAttempts=function(e){return arguments.length?(this._reconnectionAttempts=e,this):this._reconnectionAttempts},h.prototype.reconnectionDelay=function(e){return arguments.length?(this._reconnectionDelay=e,this.backoff&&this.backoff.setMin(e),this):this._reconnectionDelay},h.prototype.randomizationFactor=function(e){return arguments.length?(this._randomizationFactor=e,this.backoff&&this.backoff.setJitter(e),this):this._randomizationFactor},h.prototype.reconnectionDelayMax=function(e){return arguments.length?(this._reconnectionDelayMax=e,this.backoff&&this.backoff.setMax(e),this):this._reconnectionDelayMax},h.prototype.timeout=function(e){return arguments.length?(this._timeout=e,this):this._timeout},h.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},h.prototype.open=h.prototype.connect=function(e,t){if(a("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;a("opening %s",this.uri),this.engine=l(this.uri,this.opts);var n=this.engine,i=this;this.readyState="opening",this.skipReconnect=!1;var o=u(n,"open",function(){i.onopen(),e&&e()}),r=u(n,"error",function(t){if(a("connect_error"),i.cleanup(),i.readyState="closed",i.emitAll("connect_error",t),e){var n=new Error("Connection error");n.data=t,e(n)}else i.maybeReconnectOnOpen()});if(!1!==this._timeout){var s=this._timeout;a("connect attempt will timeout after %d",s);var c=setTimeout(function(){a("connect attempt timed out after %d",s),o.destroy(),n.close(),n.emit("error","timeout"),i.emitAll("connect_timeout",s)},s);this.subs.push({destroy:function(){clearTimeout(c)}})}return this.subs.push(o),this.subs.push(r),this},h.prototype.onopen=function(){a("open"),this.cleanup(),this.readyState="open",this.emit("open");var e=this.engine;this.subs.push(u(e,"data",s(this,"ondata"))),this.subs.push(u(e,"ping",s(this,"onping"))),this.subs.push(u(e,"pong",s(this,"onpong"))),this.subs.push(u(e,"error",s(this,"onerror"))),this.subs.push(u(e,"close",s(this,"onclose"))),this.subs.push(u(this.decoder,"decoded",s(this,"ondecoded")))},h.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")},h.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)},h.prototype.ondata=function(e){this.decoder.add(e)},h.prototype.ondecoded=function(e){this.emit("packet",e)},h.prototype.onerror=function(e){a("error",e),this.emitAll("error",e)},h.prototype.socket=function(e,t){var n=this.nsps[e];if(!n){n=new i(this,e,t),this.nsps[e]=n;var l=this;n.on("connecting",o),n.on("connect",function(){n.id=l.generateId(e)}),this.autoConnect&&o()}function o(){~c(l.connecting,n)||l.connecting.push(n)}return n},h.prototype.destroy=function(e){var t=c(this.connecting,e);~t&&this.connecting.splice(t,1),this.connecting.length||this.close()},h.prototype.packet=function(e){a("writing packet %j",e);var t=this;e.query&&0===e.type&&(e.nsp+="?"+e.query),t.encoding?t.packetBuffer.push(e):(t.encoding=!0,this.encoder.encode(e,function(n){for(var l=0;l<n.length;l++)t.engine.write(n[l],e.options);t.encoding=!1,t.processPacketQueue()}))},h.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var e=this.packetBuffer.shift();this.packet(e)}},h.prototype.cleanup=function(){a("cleanup");for(var e=this.subs.length,t=0;t<e;t++)this.subs.shift().destroy();this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},h.prototype.close=h.prototype.disconnect=function(){a("disconnect"),this.skipReconnect=!0,this.reconnecting=!1,"opening"===this.readyState&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},h.prototype.onclose=function(e){a("onclose"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",e),this._reconnection&&!this.skipReconnect&&this.reconnect()},h.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var e=this;if(this.backoff.attempts>=this._reconnectionAttempts)a("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var t=this.backoff.duration();a("will wait %dms before reconnect attempt",t),this.reconnecting=!0;var n=setTimeout(function(){e.skipReconnect||(a("attempting reconnect"),e.emitAll("reconnect_attempt",e.backoff.attempts),e.emitAll("reconnecting",e.backoff.attempts),e.skipReconnect||e.open(function(t){t?(a("reconnect attempt error"),e.reconnecting=!1,e.reconnect(),e.emitAll("reconnect_error",t.data)):(a("reconnect success"),e.onreconnect())}))},t);this.subs.push({destroy:function(){clearTimeout(n)}})}},h.prototype.onreconnect=function(){var e=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",e)}},ffpz:function(e,t,n){"use strict";t.Scheduler=function(){function e(t,n){void 0===n&&(n=e.now),this.SchedulerAction=t,this.now=n}return e.prototype.schedule=function(e,t,n){return void 0===t&&(t=0),new this.SchedulerAction(this,e).schedule(n,t)},e.now=function(){return Date.now()},e}()},g5Dd:function(e,t){!function(){"use strict";for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=new Uint8Array(256),l=0;l<e.length;l++)n[e.charCodeAt(l)]=l;t.encode=function(t){var n,l=new Uint8Array(t),i=l.length,o="";for(n=0;n<i;n+=3)o+=e[l[n]>>2],o+=e[(3&l[n])<<4|l[n+1]>>4],o+=e[(15&l[n+1])<<2|l[n+2]>>6],o+=e[63&l[n+2]];return i%3==2?o=o.substring(0,o.length-1)+"=":i%3==1&&(o=o.substring(0,o.length-2)+"=="),o},t.decode=function(e){var t,l,i,o,r,u=.75*e.length,s=e.length,a=0;"="===e[e.length-1]&&(u--,"="===e[e.length-2]&&u--);var c=new ArrayBuffer(u),p=new Uint8Array(c);for(t=0;t<s;t+=4)l=n[e.charCodeAt(t)],i=n[e.charCodeAt(t+1)],o=n[e.charCodeAt(t+2)],r=n[e.charCodeAt(t+3)],p[a++]=l<<2|i>>4,p[a++]=(15&i)<<4|o>>2,p[a++]=(3&o)<<6|63&r;return c}}()},gFX4:function(e,t,n){var l=n("zJ60"),i=n("Vo14"),o=n("eOtv"),r=n("x7D4")("socket.io-client");e.exports=t=s;var u=t.managers={};function s(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var n,i=l(e),s=i.source,a=i.id;return t.forceNew||t["force new connection"]||!1===t.multiplex||u[a]&&i.path in u[a].nsps?(r("ignoring socket cache for %s",s),n=o(s,t)):(u[a]||(r("new io instance for %s",s),u[a]=o(s,t)),n=u[a]),i.query&&!t.query&&(t.query=i.query),n.socket(i.path,t)}t.protocol=i.protocol,t.connect=s,t.Manager=n("eOtv"),t.Socket=n("KFGy")},gQQf:function(e,t,n){var l=n("6oVD");function i(e){this.buffer=e,this.offset=0}i.prototype.nextInt16BE=function(){var e=this.buffer.readInt16BE(this.offset);return this.offset+=2,e},i.prototype.nextUInt8=function(){var e=this.buffer.readUInt8(this.offset);return this.offset+=1,e},i.prototype.nextUIntV=function(){var e=l(this.buffer,this.offset);return this.offset+=e.length,e.value},i.prototype.nextIntV=function(){var e=l(this.buffer,this.offset,!0);return this.offset+=e.length,e.value},i.prototype.nextBuffer=function(e){var t=e?this.buffer.slice(this.offset,this.offset+e):this.buffer.slice(this.offset);return this.offset+=e||this.length,t},Object.defineProperty(i.prototype,"length",{get:function(){return this.buffer.length-this.offset}}),e.exports=i},"hqy+":function(e){e.exports={competitorStockLink:"https://blauda.co.ke/compare-request/1",countryCode:"256",customerComments:"Hello World",customerEmail:"ahsan@test.com",customerID:"33",customerName:"Ahsan Jawaid",customerPhone:"26533545",destinationCountry:"Kenya",destinationPort:"Mombasa",vehicle_body:"1",vehicle_color:"Black",vehicle_make:"MERCEDES BENZ",vehicle_model:"290",vehicle_month:"",vehicle_year:"2015"}},kSER:function(e,t){e.exports=function(e,t){for(var n=[],l=(t=t||0)||0;l<e.length;l++)n[l-t]=e[l];return n}},"kVK+":function(e,t){t.read=function(e,t,n,l,i){var o,r,u=8*i-l-1,s=(1<<u)-1,a=s>>1,c=-7,p=n?i-1:0,d=n?-1:1,h=e[t+p];for(p+=d,o=h&(1<<-c)-1,h>>=-c,c+=u;c>0;o=256*o+e[t+p],p+=d,c-=8);for(r=o&(1<<-c)-1,o>>=-c,c+=l;c>0;r=256*r+e[t+p],p+=d,c-=8);if(0===o)o=1-a;else{if(o===s)return r?NaN:1/0*(h?-1:1);r+=Math.pow(2,l),o-=a}return(h?-1:1)*r*Math.pow(2,o-l)},t.write=function(e,t,n,l,i,o){var r,u,s,a=8*o-i-1,c=(1<<a)-1,p=c>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=l?0:o-1,f=l?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(u=isNaN(t)?1:0,r=c):(r=Math.floor(Math.log(t)/Math.LN2),t*(s=Math.pow(2,-r))<1&&(r--,s*=2),(t+=r+p>=1?d/s:d*Math.pow(2,1-p))*s>=2&&(r++,s/=2),r+p>=c?(u=0,r=c):r+p>=1?(u=(t*s-1)*Math.pow(2,i),r+=p):(u=t*Math.pow(2,p-1)*Math.pow(2,i),r=0));i>=8;e[n+h]=255&u,h+=f,u/=256,i-=8);for(r=r<<i|u,a+=i;a>0;e[n+h]=255&r,h+=f,r/=256,a-=8);e[n+h-f]|=128*g}},lKxJ:function(e,t,n){e.exports=n("2pII"),e.exports.parser=n("Wm4p")},lhf0:function(e,t,n){function l(e){var n;function l(){if(l.enabled){var e=l,i=+new Date;e.diff=i-(n||i),e.prev=n,e.curr=i,n=i;for(var o=new Array(arguments.length),r=0;r<o.length;r++)o[r]=arguments[r];o[0]=t.coerce(o[0]),"string"!=typeof o[0]&&o.unshift("%O");var u=0;o[0]=o[0].replace(/%([a-zA-Z%])/g,function(n,l){if("%%"===n)return n;u++;var i=t.formatters[l];return"function"==typeof i&&(n=i.call(e,o[u]),o.splice(u,1),u--),n}),t.formatArgs.call(e,o),(l.log||t.log||console.log.bind(console)).apply(e,o)}}return l.namespace=e,l.enabled=t.enabled(e),l.useColors=t.useColors(),l.color=function(e){var n,l=0;for(n in e)l=(l<<5)-l+e.charCodeAt(n),l|=0;return t.colors[Math.abs(l)%t.colors.length]}(e),l.destroy=i,"function"==typeof t.init&&t.init(l),t.instances.push(l),l}function i(){var e=t.instances.indexOf(this);return-1!==e&&(t.instances.splice(e,1),!0)}(t=e.exports=l.debug=l.default=l).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable("")},t.enable=function(e){var n;t.save(e),t.names=[],t.skips=[];var l=("string"==typeof e?e:"").split(/[\s,]+/),i=l.length;for(n=0;n<i;n++)l[n]&&("-"===(e=l[n].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")));for(n=0;n<t.instances.length;n++){var o=t.instances[n];o.enabled=t.enabled(o.namespace)}},t.enabled=function(e){if("*"===e[e.length-1])return!0;var n,l;for(n=0,l=t.skips.length;n<l;n++)if(t.skips[n].test(e))return!1;for(n=0,l=t.names.length;n<l;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n("WiHW"),t.instances=[],t.names=[],t.skips=[],t.formatters={}},mbIT:function(e,t,n){"use strict";t.isArray=Array.isArray||function(e){return e&&"number"==typeof e.length}},mkMP:function(e){e.exports={Smileys:["&#x1F603","&#x1F604","&#x1F601","&#x1F606","&#x1F605","&#x1F602","&#x1F642","&#x1F609","&#x1F60A","&#x1F607","&#x1F60D","&#x1F618","&#x1F617","&#x1F61A","&#x1F619","&#x1F60B","&#x1F61B","&#x1F61C","&#x1F61D","&#x1F610","&#x1F611","&#x1F636","&#x1F60F","&#x1F612","&#x1F62C","&#x1F60C","&#x1F614","&#x1F62A","&#x1F634","&#x1F637","&#x1F635","&#x1F60E","&#x1F615","&#x1F61F","&#x1F641","&#x1F62E","&#x1F62F","&#x1F632","&#x1F633","&#x1F626","&#x1F627","&#x1F628","&#x1F630","&#x1F625","&#x1F622","&#x1F62D","&#x1F631","&#x1F616","&#x1F623","&#x1F61E","&#x1F613","&#x1F629","&#x1F62B","&#x1F624","&#x1F621","&#x1F620","&#x1F608","&#x1F47F","&#x1F480","&#x2620","&#x1F4A9","&#x1F479","&#x1F47A","&#x1F47B","&#x1F47D","&#x1F47E","&#x1F63A","&#x1F638","&#x1F639","&#x1F63B","&#x1F63C","&#x1F63D","&#x1F640","&#x1F63F","&#x1F63E","&#x1F648","&#x1F649","&#x1F64A"],People:["&#x1F48B","&#x1F48C","&#x1F498","&#x1F49D","&#x1F496","&#x1F497","&#x1F493","&#x1F49E","&#x1F495","&#x1F49F","&#x2763","&#x1F494","&#x2764","&#x1F49B","&#x1F49A","&#x1F499","&#x1F49C","&#x1F4A2","&#x1F4A5","&#x1F4AB","&#x1F4A6","&#x1F4A8","&#x1F573","&#x1F4A3","&#x1F4AC","&#x1F441","&#x1F5E8","&#x1F5E8","&#x1F5EF","&#x1F4AD","&#x1F4A4","&#x1F44B","&#x1F590","&#x270B","&#x1F596","&#x1F44C","&#x270C","&#x1F448","&#x1F449","&#x1F446","&#x1F595","&#x1F447","&#x261D","&#x1F44D","&#x1F44E","&#x270A","&#x1F44A","&#x1F44F","&#x1F64C","&#x1F450","&#x1F64F","&#x1F485","&#x1F4AA","&#x1F442","&#x1F443","&#x1F440","&#x1F441","&#x1F445","&#x1F444","&#x1F476","&#x1F466","&#x1F467","&#x1F471","&#x1F468","&#x1F471","&#x1F468","&#x1F468","&#x1F468","&#x1F468","&#x1F469","&#x1F471","&#x1F469","&#x1F469","&#x1F469","&#x1F469","&#x1F474","&#x1F475","&#x1F64D","&#x1F64D","&#x1F64D","&#x2640","&#x1F64E","&#x1F64E","&#x1F64E","&#x1F645","&#x1F645","&#x2642","&#x1F645","&#x1F646","&#x1F646","&#x1F646","&#x1F481","&#x1F481","&#x1F481","&#x1F64B","&#x1F64B","&#x1F64B","&#x1F647","&#x1F647","&#x1F647","&#x1F468","&#x2695","&#x1F469","&#x2695","&#x1F468","&#x1F393","&#x1F469","&#x1F393","&#x1F468","&#x1F3EB","&#x1F469","&#x1F3EB","&#x1F468","&#x2696","&#x1F469","&#x2696","&#x1F468","&#x1F33E","&#x1F469","&#x1F33E","&#x1F468","&#x1F373","&#x1F469","&#x1F373","&#x1F468","&#x1F527","&#x1F469","&#x1F527","&#x1F468","&#x1F3ED","&#x1F469","&#x1F3ED","&#x1F468","&#x1F4BC","&#x1F469","&#x1F4BC","&#x1F468","&#x1F52C","&#x1F469","&#x1F52C","&#x1F468","&#x1F4BB","&#x1F469","&#x1F4BB","&#x1F468","&#x1F3A4","&#x1F469","&#x1F3A4","&#x1F468","&#x1F3A8","&#x1F469","&#x1F3A8","&#x1F468","&#x2708","&#x1F469","&#x2708","&#x1F468","&#x1F680","&#x1F469","&#x1F680","&#x1F468","&#x1F692","&#x1F469","&#x1F692","&#x1F46E","&#x1F46E","&#x1F46E","&#x1F575","&#x1F575","&#x1F575","&#x1F482","&#x1F482","&#x1F482","&#x1F477","&#x1F477","&#x1F477","&#x1F478","&#x1F473","&#x1F473","&#x1F473","&#x1F472","&#x1F470","&#x1F47C","&#x1F385","&#x1F486","&#x1F486","&#x1F486","&#x1F487","&#x1F487","&#x1F487","&#x1F6B6","&#x1F6B6","&#x1F6B6","&#x1F3C3","&#x1F3C3","&#x1F3C3","&#x1F483","&#x1F574","&#x1F46F","&#x1F46F","&#x1F46F","&#x1F3C7","&#x26F7","&#x1F3C2","&#x1F3CC","&#x1F3CC","&#x1F3CC","&#x1F3C4","&#x1F3C4","&#x1F3C4","&#x1F6A3","&#x1F6A3","&#x1F6A3","&#x1F3CA","&#x1F3CA","&#x1F3CA","&#x26F9","&#x26F9","&#x26F9","&#x1F3CB","&#x1F3CB","&#x1F3CB","&#x1F6B4","&#x1F6B4","&#x1F6B4","&#x1F6B5","&#x1F6B5","&#x1F6B5","&#x1F6C0","&#x1F6CC","&#x1F46D","&#x1F46B","&#x1F46C","&#x1F48F","&#x1F469","&#x2764","&#x1F48B","&#x1F468","&#x1F468","&#x2764","&#x1F48B","&#x1F468","&#x1F469","&#x2764","&#x1F48B","&#x1F469","&#x1F491","&#x1F469","&#x2764","&#x1F468","&#x1F468","&#x2764","&#x1F468","&#x1F469","&#x2764","&#x1F469","&#x1F46A","&#x1F468","&#x1F469","&#x1F466","&#x1F468","&#x1F469","&#x1F467","&#x1F468","&#x1F469","&#x1F467","&#x1F466","&#x1F468","&#x1F469","&#x1F466","&#x1F466","&#x1F468","&#x1F469","&#x1F467","&#x1F467","&#x1F468","&#x1F468","&#x1F466","&#x1F468","&#x1F468","&#x1F467","&#x1F468","&#x1F468","&#x1F467","&#x1F466","&#x1F468","&#x1F468","&#x1F466","&#x1F466","&#x1F468","&#x1F468","&#x1F467","&#x1F467","&#x1F469","&#x1F469","&#x1F466","&#x1F469","&#x1F469","&#x1F467","&#x1F469","&#x1F469","&#x1F467","&#x1F466","&#x1F469","&#x1F469","&#x1F466","&#x1F466","&#x1F469","&#x1F469","&#x1F467","&#x1F467","&#x1F468","&#x1F466","&#x1F468","&#x1F466","&#x1F466","&#x1F468","&#x1F467","&#x1F468","&#x1F467","&#x1F466","&#x1F468","&#x1F467","&#x1F467","&#x1F469","&#x1F466","&#x1F469","&#x1F466","&#x1F466","&#x1F469","&#x1F467","&#x1F469","&#x1F467","&#x1F466","&#x1F469","&#x1F467","&#x1F467","&#x1F5E3","&#x1F464","&#x1F465","&#x1F463"],Animals:["&#x1F435","&#x1F412","&#x1F490","&#x1F338","&#x1F4AE","&#x1F3F5","&#x1F339","&#x1F33A","&#x1F33B","&#x1F33C","&#x1F337","&#x1F331","&#x1F332","&#x1F333","&#x1F334","&#x1F335","&#x1F33E","&#x1F33F","&#x2618","&#x1F340","&#x1F341","&#x1F342","&#x1F436","&#x1F415","&#x1F429","&#x1F43A","&#x1F431","&#x1F408","&#x1F42F","&#x1F405","&#x1F406","&#x1F434","&#x1F40E","&#x1F42E","&#x1F402","&#x1F403","&#x1F404","&#x1F437","&#x1F416","&#x1F417","&#x1F43D","&#x1F40F","&#x1F411","&#x1F410","&#x1F42A","&#x1F42B","&#x1F418","&#x1F42D","&#x1F401","&#x1F400","&#x1F439","&#x1F430","&#x1F407","&#x1F43F","&#x1F43B","&#x1F428","&#x1F43C","&#x1F43E","&#x1F414","&#x1F413","&#x1F423","&#x1F424","&#x1F425","&#x1F426","&#x1F427","&#x1F54A","&#x1F438","&#x1F40A","&#x1F422","&#x1F40D","&#x1F432","&#x1F409","&#x1F433","&#x1F40B","&#x1F42C","&#x1F41F","&#x1F420","&#x1F421","&#x1F419","&#x1F41A","&#x1F40C","&#x1F41B","&#x1F41C","&#x1F41D","&#x1F41E","&#x1F577","&#x1F578","&#x1F311","&#x1F312","&#x1F313","&#x1F314","&#x1F315","&#x1F316","&#x1F317","&#x1F318","&#x1F319","&#x1F31A","&#x1F31B","&#x1F31C","&#x1F321","&#x2600","&#x1F31D","&#x1F31E","&#x2B50","&#x1F31F","&#x1F320","&#x2601","&#x26C5","&#x26C8","&#x1F324","&#x1F325","&#x1F326","&#x1F327","&#x1F328","&#x1F329","&#x1F32A","&#x1F32B","&#x1F32C","&#x1F300","&#x1F308","&#x1F302","&#x2602","&#x2614","&#x26F1","&#x26A1","&#x2744","&#x2603","&#x26C4","&#x2604","&#x1F525","&#x1F4A7","&#x1F30A","&#x1F383","&#x1F384","&#x1F386","&#x1F387","&#x2728","&#x1F388","&#x1F389","&#x1F38A","&#x1F38B","&#x1F38D","&#x1F38E","&#x1F38F","&#x1F390","&#x1F391"],Food:["&#x1F343","&#x1F347","&#x1F348","&#x1F349","&#x1F34A","&#x1F34B","&#x1F34C","&#x1F34D","&#x1F34E","&#x1F34F","&#x1F350","&#x1F351","&#x1F352","&#x1F353","&#x1F345","&#x1F346","&#x1F33D","&#x1F336","&#x1F344","&#x1F330","&#x1F35E","&#x1F356","&#x1F357","&#x1F354","&#x1F35F","&#x1F355","&#x1F373","&#x1F372","&#x1F371","&#x1F358","&#x1F359","&#x1F35A","&#x1F35B","&#x1F35C","&#x1F35D","&#x1F360","&#x1F362","&#x1F363","&#x1F364","&#x1F365","&#x1F361","&#x1F366","&#x1F367","&#x1F368","&#x1F369","&#x1F36A","&#x1F382","&#x1F370","&#x1F36B","&#x1F36C","&#x1F36D","&#x1F36E","&#x1F36F","&#x1F37C","&#x2615","&#x1F375","&#x1F376","&#x1F377","&#x1F378","&#x1F379","&#x1F37A","&#x1F37B","&#x1F37D","&#x1F374","&#x1F52A"],Places:["&#x1F30D","&#x1F30E","&#x1F30F","&#x1F310","&#x1F5FA","&#x1F5FE","&#x1F3D4","&#x26F0","&#x1F30B","&#x1F5FB","&#x1F3D5","&#x1F3D6","&#x1F3DC","&#x1F3DD","&#x1F3DE","&#x1F3DF","&#x1F3DB","&#x1F3D7","&#x1F3D8","&#x1F3DA","&#x1F3E0","&#x1F3E1","&#x1F3E2","&#x1F3E3","&#x1F3E4","&#x1F3E5","&#x1F3E6","&#x1F3E8","&#x1F3E9","&#x1F3EA","&#x1F3EB","&#x1F3EC","&#x1F3ED","&#x1F3EF","&#x1F3F0","&#x1F492","&#x1F5FC","&#x1F5FD","&#x26EA","&#x26E9","&#x26F2","&#x26FA","&#x1F301","&#x1F303","&#x1F3D9","&#x1F304","&#x1F305","&#x1F306","&#x1F307","&#x1F309","&#x2668","&#x1F30C","&#x1F3A0","&#x1F3A1","&#x1F3A2","&#x1F488","&#x1F3AA","&#x1F682","&#x1F683","&#x1F684","&#x1F685","&#x1F686","&#x1F687","&#x1F688","&#x1F689","&#x1F68A","&#x1F69D","&#x1F69E","&#x1F68B","&#x1F68C","&#x1F68D","&#x1F68E","&#x1F690","&#x1F691","&#x1F692","&#x1F693","&#x1F694","&#x1F695","&#x1F696","&#x1F697","&#x1F698","&#x1F699","&#x1F69A","&#x1F69B","&#x1F69C","&#x1F3CE","&#x1F3CD","&#x1F6B2","&#x1F68F","&#x1F6E3","&#x1F6E4","&#x1F6E2","&#x26FD","&#x1F6A8","&#x1F6A5","&#x1F6A6","&#x1F6A7","&#x2693","&#x26F5","&#x1F6A4","&#x1F6F3","&#x26F4","&#x1F6E5","&#x1F6A2","&#x2708","&#x1F6E9","&#x1F6EB","&#x1F6EC","&#x1F4BA","&#x1F681","&#x1F69F","&#x1F6A0","&#x1F6A1","&#x1F6F0","&#x1F680"],Clothing:["&#x1F3AD","&#x1F5BC","&#x1F3A8","&#x1F453","&#x1F576","&#x1F454","&#x1F455","&#x1F456","&#x1F457","&#x1F458","&#x1F459","&#x1F45A","&#x1F45B","&#x1F45C","&#x1F45D","&#x1F6CD","&#x1F392","&#x1F45E","&#x1F45F","&#x1F460","&#x1F461","&#x1F462","&#x1F451","&#x1F452","&#x1F3A9","&#x1F393","&#x26D1","&#x1F484","&#x1F48D","&#x1F48E"],Activities:["&#x1F486","&#x1F487","&#x1F6B6","&#x1F3C3","&#x1F483","&#x1F574","&#x1F46F","&#x1F3C7","&#x26F7","&#x1F3C2","&#x1F3CC","&#x1F3C4","&#x1F6A3","&#x1F3CA","&#x26F9","&#x1F3CB","&#x1F6B4","&#x1F6B5","&#x1F6C0","&#x1F6CC"],Objects:["&#x231B","&#x23F3","&#x231A","&#x23F0","&#x23F1","&#x23F2","&#x1F570","&#x1F55B","&#x1F567","&#x1F550","&#x1F55C","&#x1F551","&#x1F55D","&#x1F552","&#x1F55E","&#x1F553","&#x1F55F","&#x1F554","&#x1F560","&#x1F555","&#x1F561","&#x1F556","&#x1F562","&#x1F557","&#x1F563","&#x1F558","&#x1F564","&#x1F559","&#x1F565","&#x1F55A","&#x1F566","&#x1F507","&#x1F508","&#x1F509","&#x1F50A","&#x1F4E2","&#x1F4E3","&#x1F4EF","&#x1F514","&#x1F515","&#x1F3BC","&#x1F3B5","&#x1F3B6","&#x1F399","&#x1F39A","&#x1F39B","&#x1F3A4","&#x1F3A7","&#x1F4FB","&#x1F3B7","&#x1F3B8","&#x1F3B9","&#x1F3BA","&#x1F3BB","&#x1F941","&#x1F4F1","&#x1F4F2","&#x260E","&#x1F4DE","&#x1F4DF","&#x1F4E0","&#x1F50B","&#x1F50C","&#x1F4BB","&#x1F5A5","&#x1F5A8","&#x2328","&#x1F5B1","&#x1F5B2","&#x1F4BD","&#x1F4BE","&#x1F4BF","&#x1F4C0","&#x1F3A5","&#x1F39E","&#x1F4FD","&#x1F3AC","&#x1F4FA","&#x1F4F7","&#x1F4F8","&#x1F4F9","&#x1F4FC","&#x1F50D","&#x1F50E","&#x1F56F","&#x1F4A1","&#x1F526","&#x1F3EE","&#x1F4D4","&#x1F4D5","&#x1F4D6","&#x1F4D7","&#x1F4D8","&#x1F4D9","&#x1F4DA","&#x1F4D3","&#x1F4D2","&#x1F4C3","&#x1F4DC","&#x1F4C4","&#x1F4F0","&#x1F5DE","&#x1F4D1","&#x1F516","&#x1F3F7","&#x1F4B0","&#x1F4B4","&#x1F4B5","&#x1F4B6","&#x1F4B7","&#x1F4B8","&#x1F4B3","&#x1F4B9","&#x1F4B1","&#x1F4B2","&#x2709","&#x1F4E7","&#x1F4E8","&#x1F4E9","&#x1F4E4","&#x1F4E5","&#x1F4E6","&#x1F4EB","&#x1F4EA","&#x1F4EC","&#x1F4ED","&#x1F4EE","&#x1F5F3","&#x270F","&#x2712","&#x1F58B","&#x1F58A","&#x1F58C","&#x1F58D","&#x1F4DD","&#x1F4BC","&#x1F4C1","&#x1F4C2","&#x1F5C2","&#x1F4C5","&#x1F4C6","&#x1F5D2","&#x1F5D3","&#x1F4C7","&#x1F4C8","&#x1F4C9","&#x1F4CA","&#x1F4CB","&#x1F4CC","&#x1F4CD","&#x1F4CE","&#x1F587","&#x1F4CF","&#x1F4D0","&#x2702","&#x1F5C3","&#x1F5C4","&#x1F5D1","&#x1F512","&#x1F513","&#x1F50F","&#x1F510","&#x1F511","&#x1F5DD","&#x1F528","&#x26CF","&#x2692","&#x1F6E0","&#x1F5E1","&#x2694","&#x1F52B","&#x1F6E1","&#x1F527","&#x1F529","&#x2699","&#x1F5DC","&#x2696","&#x1F517","&#x26D3","&#x2697","&#x1F52C","&#x1F52D","&#x1F4E1","&#x1F489","&#x1F48A","&#x1F6AA","&#x1F6CF","&#x1F6CB","&#x1F6BD","&#x1F6BF","&#x1F6C1","&#x1F6AC","&#x26B0","&#x26B1","&#x1F5FF","&#x1F3E7","&#x1F6AE","&#x1F6B0","&#x267F","&#x1F6B9","&#x1F6BA","&#x1F6BB","&#x1F6BC","&#x1F6BE","&#x1F6C2","&#x1F6C3","&#x1F6C4","&#x1F6C5","&#x26A0","&#x1F6B8","&#x26D4","&#x1F6AB","&#x1F6B3","&#x1F6AD","&#x1F6AF","&#x1F6B1","&#x1F6B7","&#x1F4F5","&#x1F51E","&#x2622","&#x2623","&#x2B06","&#x2197","&#x27A1","&#x2198","&#x2B07","&#x2199","&#x2B05","&#x2196","&#x2195","&#x2194","&#x21A9","&#x21AA","&#x2934","&#x2935","&#x1F503","&#x1F504","&#x1F519","&#x1F51A","&#x1F51B","&#x1F51C","&#x1F51D","&#x269B","&#x1F549","&#x2721","&#x2638","&#x262F","&#x271D","&#x2626","&#x262A","&#x262E","&#x1F52F","&#x2648","&#x2649","&#x264A","&#x264B","&#x264C","&#x264D","&#x264E","&#x264F","&#x2650","&#x2651","&#x2652","&#x2653","&#x26CE","&#x1F500","&#x1F501","&#x1F502","&#x25B6","&#x23E9","&#x23ED","&#x23EF","&#x25C0","&#x23EA","&#x23EE","&#x1F53C","&#x23EB","&#x1F53D","&#x23EC","&#x23F8","&#x23F9","&#x23FA","&#x23CF","&#x1F3A6","&#x1F505","&#x1F506","&#x1F4F6","&#x1F4F3","&#x1F4F4","&#x2695","&#x267E","&#x267B","&#x269C","&#x1F531","&#x1F4DB","&#x1F530","&#x2B55","&#x2705","&#x2611","&#x2714","&#x2716","&#x274C","&#x274E","&#x2795","&#x2796","&#x2797","&#x27B0","&#x27BF","&#x303D","&#x2733","&#x2734","&#x2747","&#x203C","&#x2049","&#x2753","&#x2754","&#x2755","&#x2757","&#x3030","&#x00A9","&#x00AE","&#x2122","&#x0023","&#x20E3","&#x002A","&#x20E3","&#x0030","&#x20E3","&#x0031","&#x20E3","&#x0032","&#x20E3","&#x0033","&#x20E3","&#x0034","&#x20E3","&#x0035","&#x20E3","&#x0036","&#x20E3","&#x0037","&#x20E3","&#x0038","&#x20E3","&#x0039","&#x20E3","&#x1F51F","&#x1F520","&#x1F521","&#x1F522","&#x1F523","&#x1F524","&#x1F170","&#x1F18E","&#x1F171","&#x1F191","&#x1F192","&#x1F193","&#x2139","&#x1F194","&#x24C2","&#x1F195","&#x1F196","&#x1F17E","&#x1F197","&#x1F17F","&#x1F198","&#x1F199","&#x1F19A","&#x1F201","&#x1F202","&#x1F237","&#x1F236","&#x1F22F","&#x1F250","&#x1F239","&#x1F21A","&#x1F232","&#x1F251","&#x1F238","&#x1F234","&#x1F233","&#x3297","&#x3299","&#x1F23A","&#x1F235","&#x1F534","&#x1F535","&#x26AA","&#x26AB","&#x2B1C","&#x2B1B","&#x25FC","&#x25FB","&#x25FD","&#x25FE","&#x25AB","&#x25AA","&#x1F536","&#x1F537","&#x1F538","&#x1F539","&#x1F53A","&#x1F53B","&#x1F4A0","&#x1F518","&#x1F532","&#x1F533","&#x2640","&#x2642"],Sports:["&#x1F396","&#x1F3C6","&#x1F3C5","&#x26BD","&#x26BE","&#x1F3C0","&#x1F3C8","&#x1F3C9","&#x1F3BE","&#x1F3B3","&#x26F3","&#x26F8","&#x1F3A3","&#x1F3BD","&#x1F3BF","&#x1F3AF","&#x1F3B1","&#x1F52E","&#x1F3AE","&#x1F579","&#x1F3B0","&#x1F3B2","&#x2660","&#x2665","&#x2666","&#x2663","&#x265F","&#x1F0CF","&#x1F004"]}},mrSG:function(e,t,n){"use strict";n.r(t),n.d(t,"__extends",function(){return i}),n.d(t,"__assign",function(){return o}),n.d(t,"__rest",function(){return r}),n.d(t,"__decorate",function(){return u}),n.d(t,"__param",function(){return s}),n.d(t,"__metadata",function(){return a}),n.d(t,"__awaiter",function(){return c}),n.d(t,"__generator",function(){return p}),n.d(t,"__exportStar",function(){return d}),n.d(t,"__values",function(){return h}),n.d(t,"__read",function(){return f}),n.d(t,"__spread",function(){return g}),n.d(t,"__spreadArrays",function(){return m}),n.d(t,"__await",function(){return v}),n.d(t,"__asyncGenerator",function(){return D}),n.d(t,"__asyncDelegator",function(){return y}),n.d(t,"__asyncValues",function(){return b}),n.d(t,"__makeTemplateObject",function(){return C}),n.d(t,"__importStar",function(){return S}),n.d(t,"__importDefault",function(){return _});var l=function(e,t){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function i(e,t){function n(){this.constructor=e}l(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return(o=Object.assign||function(e){for(var t,n=1,l=arguments.length;n<l;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function r(e,t){var n={};for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&t.indexOf(l)<0&&(n[l]=e[l]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(l=Object.getOwnPropertySymbols(e);i<l.length;i++)t.indexOf(l[i])<0&&Object.prototype.propertyIsEnumerable.call(e,l[i])&&(n[l[i]]=e[l[i]])}return n}function u(e,t,n,l){var i,o=arguments.length,r=o<3?t:null===l?l=Object.getOwnPropertyDescriptor(t,n):l;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,l);else for(var u=e.length-1;u>=0;u--)(i=e[u])&&(r=(o<3?i(r):o>3?i(t,n,r):i(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r}function s(e,t){return function(n,l){t(n,l,e)}}function a(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function c(e,t,n,l){return new(n||(n=Promise))(function(i,o){function r(e){try{s(l.next(e))}catch(t){o(t)}}function u(e){try{s(l.throw(e))}catch(t){o(t)}}function s(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(r,u)}s((l=l.apply(e,t||[])).next())})}function p(e,t){var n,l,i,o,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(o){return function(u){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,l&&(i=2&o[0]?l.return:o[0]?l.throw||((i=l.return)&&i.call(l),0):l.next)&&!(i=i.call(l,o[1])).done)return i;switch(l=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return r.label++,{value:o[1],done:!1};case 5:r.label++,l=o[1],o=[0];continue;case 7:o=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){r=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){r.label=o[1];break}if(6===o[0]&&r.label<i[1]){r.label=i[1],i=o;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(o);break}i[2]&&r.ops.pop(),r.trys.pop();continue}o=t.call(e,r)}catch(u){o=[6,u],l=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}}function d(e,t){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}function h(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}function f(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var l,i,o=n.call(e),r=[];try{for(;(void 0===t||t-- >0)&&!(l=o.next()).done;)r.push(l.value)}catch(u){i={error:u}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return r}function g(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(f(arguments[t]));return e}function m(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var l=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],r=0,u=o.length;r<u;r++,i++)l[i]=o[r];return l}function v(e){return this instanceof v?(this.v=e,this):new v(e)}function D(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var l,i=n.apply(e,t||[]),o=[];return l={},r("next"),r("throw"),r("return"),l[Symbol.asyncIterator]=function(){return this},l;function r(e){i[e]&&(l[e]=function(t){return new Promise(function(n,l){o.push([e,t,n,l])>1||u(e,t)})})}function u(e,t){try{(n=i[e](t)).value instanceof v?Promise.resolve(n.value.v).then(s,a):c(o[0][2],n)}catch(l){c(o[0][3],l)}var n}function s(e){u("next",e)}function a(e){u("throw",e)}function c(e,t){e(t),o.shift(),o.length&&u(o[0][0],o[0][1])}}function y(e){var t,n;return t={},l("next"),l("throw",function(e){throw e}),l("return"),t[Symbol.iterator]=function(){return this},t;function l(l,i){t[l]=e[l]?function(t){return(n=!n)?{value:v(e[l](t)),done:"return"===l}:i?i(t):t}:i}}function b(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=h(e),t={},l("next"),l("throw"),l("return"),t[Symbol.asyncIterator]=function(){return this},t);function l(n){t[n]=e[n]&&function(t){return new Promise(function(l,i){!function(e,t,n,l){Promise.resolve(l).then(function(t){e({value:t,done:n})},t)}(l,i,(t=e[n](t)).done,t.value)})}}}function C(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function S(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function _(e){return e&&e.__esModule?e:{default:e}}},n3uD:function(e,t,n){"use strict";var l=!1;t.config={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){l=e},get useDeprecatedSynchronousErrorHandling(){return l}}},"oIG/":function(e,t){var n,l,i,o=String.fromCharCode;function r(e){for(var t,n,l=[],i=0,o=e.length;i<o;)(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<o?56320==(64512&(n=e.charCodeAt(i++)))?l.push(((1023&t)<<10)+(1023&n)+65536):(l.push(t),i--):l.push(t);return l}function u(e,t){if(e>=55296&&e<=57343){if(t)throw Error("Lone surrogate U+"+e.toString(16).toUpperCase()+" is not a scalar value");return!1}return!0}function s(e,t){return o(e>>t&63|128)}function a(e,t){if(0==(4294967168&e))return o(e);var n="";return 0==(4294965248&e)?n=o(e>>6&31|192):0==(4294901760&e)?(u(e,t)||(e=65533),n=o(e>>12&15|224),n+=s(e,6)):0==(4292870144&e)&&(n=o(e>>18&7|240),n+=s(e,12),n+=s(e,6)),n+o(63&e|128)}function c(){if(i>=l)throw Error("Invalid byte index");var e=255&n[i];if(i++,128==(192&e))return 63&e;throw Error("Invalid continuation byte")}function p(e){var t,o;if(i>l)throw Error("Invalid byte index");if(i==l)return!1;if(t=255&n[i],i++,0==(128&t))return t;if(192==(224&t)){if((o=(31&t)<<6|c())>=128)return o;throw Error("Invalid continuation byte")}if(224==(240&t)){if((o=(15&t)<<12|c()<<6|c())>=2048)return u(o,e)?o:65533;throw Error("Invalid continuation byte")}if(240==(248&t)&&(o=(7&t)<<18|c()<<12|c()<<6|c())>=65536&&o<=1114111)return o;throw Error("Invalid UTF-8 detected")}e.exports={version:"2.1.2",encode:function(e,t){for(var n=!1!==(t=t||{}).strict,l=r(e),i=l.length,o=-1,u="";++o<i;)u+=a(l[o],n);return u},decode:function(e,t){var u=!1!==(t=t||{}).strict;n=r(e),l=n.length,i=0;for(var s,a=[];!1!==(s=p(u));)a.push(s);return function(e){for(var t,n=e.length,l=-1,i="";++l<n;)(t=e[l])>65535&&(i+=o((t-=65536)>>>10&1023|55296),t=56320|1023&t),i+=o(t);return i}(a)}}},ojuT:function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},ozli:function(e,t,n){"use strict";var l=n("zfKp");t.subscribeToObservable=function(e){return function(t){var n=e[l.observable]();if("function"!=typeof n.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(t)}}},"p//D":function(e,t,n){"use strict";t.rxSubscriber="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random(),t.$$rxSubscriber=t.rxSubscriber},poJ0:function(e,t,n){"use strict";var l=n("VKeD");t.subscribeToIterable=function(e){return function(t){for(var n=e[l.iterator]();;){var i=n.next();if(i.done){t.complete();break}if(t.next(i.value),t.closed)break}return"function"==typeof n.return&&t.add(function(){n.return&&n.return()}),t}}},pshJ:function(e,t,n){"use strict";t.isFunction=function(e){return"function"==typeof e}},q3Kh:function(e,t,n){var l=n("mrSG").__extends,i=n("FWf1");t.map=function(e,t){return function(n){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new o(e,t))}};var o=function(){function e(e,t){this.project=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new r(e,this.project,this.thisArg))},e}();t.MapOperator=o;var r=function(e){function t(t,n,l){var i=e.call(this,t)||this;return i.project=n,i.count=0,i.thisArg=l||i,i}return l(t,e),t.prototype._next=function(e){var t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(t)},t}(i.Subscriber)},qe5e:function(e,t,n){"use strict";var l,i;function o(e,t){if(!e)throw"First parameter is required.";t=new r(e,t=t||{type:"video"});var n=this;function l(n){n&&(t.initCallback=function(){n(),n=t.initCallback=null});var l=new u(e,t);(d=new l(e,t)).record(),p("recording"),t.disableLogs||console.log("Initialized recorderType:",d.constructor.name,"for output-type:",t.type)}function i(e){if(e=e||function(){},d){if("paused"===n.state)return n.resumeRecording(),void setTimeout(function(){i(e)},1);"recording"===n.state||t.disableLogs||console.warn('Recording state should be: "recording", however current state is: ',n.state),t.disableLogs||console.log("Stopped recording "+t.type+" stream."),"gif"!==t.type?d.stop(l):(d.stop(),l()),p("stopped")}else g();function l(l){if(d){Object.keys(d).forEach(function(e){"function"!=typeof d[e]&&(n[e]=d[e])});var i=d.blob;if(!i){if(!l)throw"Recording failed.";d.blob=i=l}if(i&&!t.disableLogs&&console.log(i.type,"->",b(i.size)),e){var o;try{o=h.createObjectURL(i)}catch(r){}"function"==typeof e.call?e.call(n,o):e(o)}t.autoWriteToDisk&&a(function(e){var n={};n[t.type+"Blob"]=e,B.Store(n)})}else"function"==typeof e.call?e.call(n,""):e("")}}function s(e){postMessage((new FileReaderSync).readAsDataURL(e))}function a(e,n){if(!e)throw"Pass a callback function over getDataURL.";var l=n?n.blob:(d||{}).blob;if(!l)return t.disableLogs||console.warn("Blob encoder did not finish its job yet."),void setTimeout(function(){a(e,n)},1e3);if("undefined"==typeof Worker||navigator.mozGetUserMedia){var i=new FileReader;i.readAsDataURL(l),i.onload=function(t){e(t.target.result)}}else{var o=function(e){try{var t=h.createObjectURL(new Blob([e.toString(),"this.onmessage =  function (eee) {"+e.name+"(eee.data);}"],{type:"application/javascript"})),n=new Worker(t);return h.revokeObjectURL(t),n}catch(l){}}(s);o.onmessage=function(t){e(t.data)},o.postMessage(l)}}function c(e){e=e||0,"paused"!==n.state?"stopped"!==n.state&&(e>=n.recordingDuration?i(n.onRecordingStopped):(e+=1e3,setTimeout(function(){c(e)},1e3))):setTimeout(function(){c(e)},1e3)}function p(e){n&&(n.state=e,"function"==typeof n.onStateChanged.call?n.onStateChanged.call(n,e):n.onStateChanged(e))}var d,f='It seems that recorder is destroyed or "startRecording" is not invoked for '+t.type+" recorder.";function g(){!0!==t.disableLogs&&console.warn(f)}var m={startRecording:function(i){return t.disableLogs||console.log("RecordRTC version: ",n.version),i&&(t=new r(e,i)),t.disableLogs||console.log("started recording "+t.type+" stream."),d?(d.clearRecordedData(),d.record(),p("recording"),n.recordingDuration&&c(),n):(l(function(){n.recordingDuration&&c()}),n)},stopRecording:i,pauseRecording:function(){d?"recording"===n.state?(p("paused"),d.pause(),t.disableLogs||console.log("Paused recording.")):t.disableLogs||console.warn("Unable to pause the recording. Recording state: ",n.state):g()},resumeRecording:function(){d?"paused"===n.state?(p("recording"),d.resume(),t.disableLogs||console.log("Resumed recording.")):t.disableLogs||console.warn("Unable to resume the recording. Recording state: ",n.state):g()},initRecorder:l,setRecordingDuration:function(e,t){if(void 0===e)throw"recordingDuration is required.";if("number"!=typeof e)throw"recordingDuration must be a number.";return n.recordingDuration=e,n.onRecordingStopped=t||function(){},{onRecordingStopped:function(e){n.onRecordingStopped=e}}},clearRecordedData:function(){d?(d.clearRecordedData(),t.disableLogs||console.log("Cleared old recorded data.")):g()},getBlob:function(){if(d)return d.blob;g()},getDataURL:a,toURL:function(){if(d)return h.createObjectURL(d.blob);g()},getInternalRecorder:function(){return d},save:function(e){d?C(d.blob,e):g()},getFromDisk:function(e){d?o.getFromDisk(t.type,e):g()},setAdvertisementArray:function(e){t.advertisement=[];for(var n=e.length,l=0;l<n;l++)t.advertisement.push({duration:l,image:e[l]})},blob:null,bufferSize:0,sampleRate:0,buffer:null,reset:function(){"recording"!==n.state||t.disableLogs||console.warn("Stop an active recorder."),d&&"function"==typeof d.clearRecordedData&&d.clearRecordedData(),d=null,p("inactive"),n.blob=null},onStateChanged:function(e){t.disableLogs||console.log("Recorder state changed:",e)},state:"inactive",getState:function(){return n.state},destroy:function(){var e=t.disableLogs;t={disableLogs:!0},n.reset(),p("destroyed"),m=n=null,F.AudioContextConstructor&&(F.AudioContextConstructor.close(),F.AudioContextConstructor=null),t.disableLogs=e,t.disableLogs||console.log("RecordRTC is destroyed.")},version:"5.5.8"};if(!this)return n=m,m;for(var v in m)this[v]=m[v];return n=this,m}function r(e,t){return t.recorderType||t.type||(t.audio&&t.video?t.type="video":t.audio&&!t.video&&(t.type="audio")),t.recorderType&&!t.type&&(t.recorderType===T||t.recorderType===A||t.recorderType===P?t.type="video":t.recorderType===O?t.type="gif":t.recorderType===k?t.type="audio":t.recorderType===E&&(_(e,"audio").length&&_(e,"video").length?t.type="video":!_(e,"audio").length&&_(e,"video").length?t.type="video":_(e,"audio").length&&!_(e,"video").length&&(t.type="audio"))),"undefined"!=typeof MediaRecorder&&"requestData"in MediaRecorder.prototype&&(t.mimeType||(t.mimeType="video/webm"),t.type||(t.type=t.mimeType.split("/")[0])),t.type||(t.mimeType&&(t.type=t.mimeType.split("/")[0]),t.type||(t.type="audio")),t}function u(e,t){var n;return(v||f||g)&&(n=k),"undefined"!=typeof MediaRecorder&&"requestData"in MediaRecorder.prototype&&!v&&(n=E),"video"===t.type&&(v||g)&&(n=T,"undefined"!=typeof ReadableStream&&(n=P)),"gif"===t.type&&(n=O),"canvas"===t.type&&(n=A),x()&&n!==A&&n!==O&&"undefined"!=typeof MediaRecorder&&"requestData"in MediaRecorder.prototype&&(_(e,"video").length||_(e,"audio").length)&&("audio"===t.type?"function"==typeof MediaRecorder.isTypeSupported&&MediaRecorder.isTypeSupported("audio/webm")&&(n=E):"function"==typeof MediaRecorder.isTypeSupported&&MediaRecorder.isTypeSupported("video/webm")&&(n=E)),e instanceof Array&&e.length&&(n=M),t.recorderType&&(n=t.recorderType),!t.disableLogs&&n&&n.name&&console.log("Using recorderType:",n.name||n.constructor.name),!n&&D&&(n=E),n}function s(e){this.addStream=function(t){t&&(e=t)},this.mediaType={audio:!0,video:!0},this.startRecording=function(){var t,n=this.mediaType,l=this.mimeType||{audio:null,video:null,gif:null};if("function"!=typeof n.audio&&x()&&!_(e,"audio").length&&(n.audio=!1),"function"!=typeof n.video&&x()&&!_(e,"video").length&&(n.video=!1),"function"!=typeof n.gif&&x()&&!_(e,"video").length&&(n.gif=!1),!n.audio&&!n.video&&!n.gif)throw"MediaStream must have either audio or video tracks.";if(n.audio&&(t=null,"function"==typeof n.audio&&(t=n.audio),this.audioRecorder=new o(e,{type:"audio",bufferSize:this.bufferSize,sampleRate:this.sampleRate,numberOfAudioChannels:this.numberOfAudioChannels||2,disableLogs:this.disableLogs,recorderType:t,mimeType:l.audio,timeSlice:this.timeSlice,onTimeStamp:this.onTimeStamp}),n.video||this.audioRecorder.startRecording()),n.video){t=null,"function"==typeof n.video&&(t=n.video);var i=e;if(x()&&n.audio&&"function"==typeof n.audio){var r=_(e,"video")[0];m?((i=new y).addTrack(r),t&&t===T&&(t=E)):(i=new y).addTrack(r)}this.videoRecorder=new o(i,{type:"video",video:this.video,canvas:this.canvas,frameInterval:this.frameInterval||10,disableLogs:this.disableLogs,recorderType:t,mimeType:l.video,timeSlice:this.timeSlice,onTimeStamp:this.onTimeStamp,workerPath:this.workerPath,webAssemblyPath:this.webAssemblyPath,frameRate:this.frameRate,bitrate:this.bitrate}),n.audio||this.videoRecorder.startRecording()}if(n.audio&&n.video){var u=this,s=!0===x();n.audio instanceof k&&n.video?s=!1:!0!==n.audio&&!0!==n.video&&n.audio!==n.video&&(s=!1),!0===s?(u.audioRecorder=null,u.videoRecorder.startRecording()):u.videoRecorder.initRecorder(function(){u.audioRecorder.initRecorder(function(){u.videoRecorder.startRecording(),u.audioRecorder.startRecording()})})}n.gif&&(t=null,"function"==typeof n.gif&&(t=n.gif),this.gifRecorder=new o(e,{type:"gif",frameRate:this.frameRate||200,quality:this.quality||10,disableLogs:this.disableLogs,recorderType:t,mimeType:l.gif}),this.gifRecorder.startRecording())},this.stopRecording=function(e){e=e||function(){},this.audioRecorder&&this.audioRecorder.stopRecording(function(t){e(t,"audio")}),this.videoRecorder&&this.videoRecorder.stopRecording(function(t){e(t,"video")}),this.gifRecorder&&this.gifRecorder.stopRecording(function(t){e(t,"gif")})},this.pauseRecording=function(){this.audioRecorder&&this.audioRecorder.pauseRecording(),this.videoRecorder&&this.videoRecorder.pauseRecording(),this.gifRecorder&&this.gifRecorder.pauseRecording()},this.resumeRecording=function(){this.audioRecorder&&this.audioRecorder.resumeRecording(),this.videoRecorder&&this.videoRecorder.resumeRecording(),this.gifRecorder&&this.gifRecorder.resumeRecording()},this.getBlob=function(e){var t={};return this.audioRecorder&&(t.audio=this.audioRecorder.getBlob()),this.videoRecorder&&(t.video=this.videoRecorder.getBlob()),this.gifRecorder&&(t.gif=this.gifRecorder.getBlob()),e&&e(t),t},this.destroy=function(){this.audioRecorder&&(this.audioRecorder.destroy(),this.audioRecorder=null),this.videoRecorder&&(this.videoRecorder.destroy(),this.videoRecorder=null),this.gifRecorder&&(this.gifRecorder.destroy(),this.gifRecorder=null)},this.getDataURL=function(e){function t(e,t){if("undefined"!=typeof Worker){var n=function(e){var t,n=h.createObjectURL(new Blob([e.toString(),"this.onmessage =  function (eee) {"+e.name+"(eee.data);}"],{type:"application/javascript"})),l=new Worker(n);if(void 0!==h)t=h;else{if("undefined"==typeof webkitURL)throw"Neither URL nor webkitURL detected.";t=webkitURL}return t.revokeObjectURL(n),l}(function(e){postMessage((new FileReaderSync).readAsDataURL(e))});n.onmessage=function(e){t(e.data)},n.postMessage(e)}else{var l=new FileReader;l.readAsDataURL(e),l.onload=function(e){t(e.target.result)}}}this.getBlob(function(n){n.audio&&n.video?t(n.audio,function(l){t(n.video,function(t){e({audio:l,video:t})})}):n.audio?t(n.audio,function(t){e({audio:t})}):n.video&&t(n.video,function(t){e({video:t})})})},this.writeToDisk=function(){o.writeToDisk({audio:this.audioRecorder,video:this.videoRecorder,gif:this.gifRecorder})},this.save=function(e){(e=e||{audio:!0,video:!0,gif:!0}).audio&&this.audioRecorder&&this.audioRecorder.save("string"==typeof e.audio?e.audio:""),e.video&&this.videoRecorder&&this.videoRecorder.save("string"==typeof e.video?e.video:""),e.gif&&this.gifRecorder&&this.gifRecorder.save("string"==typeof e.gif?e.gif:"")}}o.version="5.5.8",e.exports=o,void 0===(l=(function(){return o}).apply(t,[]))||(e.exports=l),o.getFromDisk=function(e,t){if(!t)throw"callback is mandatory.";console.log("Getting recorded "+("all"===e?"blobs":e+" blob ")+" from disk!"),B.Fetch(function(n,l){"all"!==e&&l===e+"Blob"&&t&&t(n),"all"===e&&t&&t(n,l.replace("Blob",""))})},o.writeToDisk=function(e){console.log("Writing recorded blob(s) to disk!"),(e=e||{}).audio&&e.video&&e.gif?e.audio.getDataURL(function(t){e.video.getDataURL(function(n){e.gif.getDataURL(function(e){B.Store({audioBlob:t,videoBlob:n,gifBlob:e})})})}):e.audio&&e.video?e.audio.getDataURL(function(t){e.video.getDataURL(function(e){B.Store({audioBlob:t,videoBlob:e})})}):e.audio&&e.gif?e.audio.getDataURL(function(t){e.gif.getDataURL(function(e){B.Store({audioBlob:t,gifBlob:e})})}):e.video&&e.gif?e.video.getDataURL(function(t){e.gif.getDataURL(function(e){B.Store({videoBlob:t,gifBlob:e})})}):e.audio?e.audio.getDataURL(function(e){B.Store({audioBlob:e})}):e.video?e.video.getDataURL(function(e){B.Store({videoBlob:e})}):e.gif&&e.gif.getDataURL(function(e){B.Store({gifBlob:e})})},s.getFromDisk=o.getFromDisk,s.writeToDisk=o.writeToDisk,o.MRecordRTC=s,(i="undefined"!=typeof global?global:null)&&"undefined"==typeof window&&"undefined"!=typeof global&&(global.navigator={userAgent:"Fake/5.0 (FakeOS) AppleWebKit/123 (KHTML, like Gecko) Fake/12.3.4567.89 Fake/123.45",getUserMedia:function(){}},global.console||(global.console={}),void 0!==global.console.log&&void 0!==global.console.error||(global.console.error=global.console.log=global.console.log||function(){console.log(arguments)}),"undefined"==typeof document&&(i.document={documentElement:{appendChild:function(){return""}}},document.createElement=document.captureStream=document.mozCaptureStream=function(){var e={getContext:function(){return e},play:function(){},pause:function(){},drawImage:function(){},toDataURL:function(){return""},style:{}};return e},i.HTMLVideoElement=function(){}),"undefined"==typeof location&&(i.location={protocol:"file:",href:"",hash:""}),"undefined"==typeof screen&&(i.screen={width:0,height:0}),void 0===h&&(i.URL={createObjectURL:function(){return""},revokeObjectURL:function(){return""}}),i.window=global);var a=window.requestAnimationFrame;if(void 0===a)if("undefined"!=typeof webkitRequestAnimationFrame)a=webkitRequestAnimationFrame;else if("undefined"!=typeof mozRequestAnimationFrame)a=mozRequestAnimationFrame;else if("undefined"!=typeof msRequestAnimationFrame)a=msRequestAnimationFrame;else if(void 0===a){var c=0;a=function(e,t){var n=(new Date).getTime(),l=Math.max(0,16-(n-c)),i=setTimeout(function(){e(n+l)},l);return c=n+l,i}}var p=window.cancelAnimationFrame;void 0===p&&("undefined"!=typeof webkitCancelAnimationFrame?p=webkitCancelAnimationFrame:"undefined"!=typeof mozCancelAnimationFrame?p=mozCancelAnimationFrame:"undefined"!=typeof msCancelAnimationFrame?p=msCancelAnimationFrame:void 0===p&&(p=function(e){clearTimeout(e)}));var d=window.AudioContext;void 0===d&&("undefined"!=typeof webkitAudioContext&&(d=webkitAudioContext),"undefined"!=typeof mozAudioContext&&(d=mozAudioContext));var h=window.URL;void 0===h&&"undefined"!=typeof webkitURL&&(h=webkitURL),"undefined"!=typeof navigator&&void 0===navigator.getUserMedia&&(void 0!==navigator.webkitGetUserMedia&&(navigator.getUserMedia=navigator.webkitGetUserMedia),void 0!==navigator.mozGetUserMedia&&(navigator.getUserMedia=navigator.mozGetUserMedia));var f=!(-1===navigator.userAgent.indexOf("Edge")||!navigator.msSaveBlob&&!navigator.msSaveOrOpenBlob),g=!!window.opera||-1!==navigator.userAgent.indexOf("OPR/"),m=navigator.userAgent.toLowerCase().indexOf("firefox")>-1&&"netscape"in window&&/ rv:/.test(navigator.userAgent),v=!g&&!f&&!!navigator.webkitGetUserMedia||S()||-1!==navigator.userAgent.toLowerCase().indexOf("chrome/"),D=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);D&&!v&&-1!==navigator.userAgent.indexOf("CriOS")&&(D=!1,v=!0);var y=window.MediaStream;function b(e){if(0===e)return"0 Bytes";var t=parseInt(Math.floor(Math.log(e)/Math.log(1e3)),10);return(e/Math.pow(1e3,t)).toPrecision(3)+" "+["Bytes","KB","MB","GB","TB"][t]}function C(e,t){if(!e)throw"Blob object is required.";if(!e.type)try{e.type="video/webm"}catch(r){}var n=(e.type||"video/webm").split("/")[1];if(t&&-1!==t.indexOf(".")){var l=t.split(".");t=l[0],n=l[1]}var i=(t||Math.round(9999999999*Math.random())+888888888)+"."+n;if(void 0!==navigator.msSaveOrOpenBlob)return navigator.msSaveOrOpenBlob(e,i);if(void 0!==navigator.msSaveBlob)return navigator.msSaveBlob(e,i);var o=document.createElement("a");o.href=h.createObjectURL(e),o.download=i,o.style="display:none;opacity:0;color:transparent;",(document.body||document.documentElement).appendChild(o),"function"==typeof o.click?o.click():(o.target="_blank",o.dispatchEvent(new MouseEvent("click",{view:window,bubbles:!0,cancelable:!0}))),h.revokeObjectURL(o.href)}function S(){return"undefined"!=typeof window&&"object"==typeof window.process&&"renderer"===window.process.type||!("undefined"==typeof process||"object"!=typeof process.versions||!process.versions.electron)||"object"==typeof navigator&&"string"==typeof navigator.userAgent&&navigator.userAgent.indexOf("Electron")>=0}function _(e,t){return e&&e.getTracks?e.getTracks().filter(function(e){return e.kind===(t||"audio")}):[]}function w(e,t){"srcObject"in t?t.srcObject=e:"mozSrcObject"in t?t.mozSrcObject=e:t.srcObject=e}void 0===y&&"undefined"!=typeof webkitMediaStream&&(y=webkitMediaStream),void 0!==y&&void 0===y.prototype.stop&&(y.prototype.stop=function(){this.getTracks().forEach(function(e){e.stop()})}),o.invokeSaveAsDialog=C,o.getTracks=_,o.getSeekableBlob=function(e,t){if("undefined"==typeof EBML)throw new Error("Please link: https://cdn.webrtc-experiment.com/EBML.js");var n=new EBML.Reader,l=new EBML.Decoder,i=EBML.tools,o=new FileReader;o.onload=function(e){l.decode(this.result).forEach(function(e){n.read(e)}),n.stop();var o=i.makeMetadataSeekable(n.metadatas,n.duration,n.cues),r=this.result.slice(n.metadataSize),u=new Blob([o,r],{type:"video/webm"});t(u)},o.readAsArrayBuffer(e)},o.bytesToSize=b,o.isElectron=S;var F={};function x(){if(m||D||f)return!0;navigator;var e,t,n=navigator.userAgent,l=""+parseFloat(navigator.appVersion),i=parseInt(navigator.appVersion,10);return(v||g)&&(e=n.indexOf("Chrome"),l=n.substring(e+7)),-1!==(t=l.indexOf(";"))&&(l=l.substring(0,t)),-1!==(t=l.indexOf(" "))&&(l=l.substring(0,t)),i=parseInt(""+l,10),isNaN(i)&&(l=""+parseFloat(navigator.appVersion),i=parseInt(navigator.appVersion,10)),i>=49}function E(e,t){var n,l=this;if(void 0===e)throw'First argument "MediaStream" is required.';if("undefined"==typeof MediaRecorder)throw"Your browser does not support the Media Recorder API. Please try other modules e.g. WhammyRecorder or StereoAudioRecorder.";"audio"===(t=t||{mimeType:"video/webm"}).type&&(_(e,"video").length&&_(e,"audio").length&&(navigator.mozGetUserMedia?(n=new y).addTrack(_(e,"audio")[0]):n=new y(_(e,"audio")),e=n),t.mimeType&&-1!==t.mimeType.toString().toLowerCase().indexOf("audio")||(t.mimeType=v?"audio/webm":"audio/ogg"),t.mimeType&&"audio/ogg"!==t.mimeType.toString().toLowerCase()&&navigator.mozGetUserMedia&&(t.mimeType="audio/ogg"));var i,o=[];function r(){l.timestamps.push((new Date).getTime()),"function"==typeof t.onTimeStamp&&t.onTimeStamp(l.timestamps[l.timestamps.length-1],l.timestamps)}function u(e){return i&&i.mimeType?i.mimeType:e.mimeType||"video/webm"}function s(){o=[],i=null,l.timestamps=[]}this.getArrayOfBlobs=function(){return o},this.record=function(){l.blob=null,l.clearRecordedData(),l.timestamps=[],a=[],o=[];var n=t;t.disableLogs||console.log("Passing following config over MediaRecorder API.",n),i&&(i=null),v&&!x()&&(n="video/vp8"),"function"==typeof MediaRecorder.isTypeSupported&&n.mimeType&&(MediaRecorder.isTypeSupported(n.mimeType)||(t.disableLogs||console.warn("MediaRecorder API seems unable to record mimeType:",n.mimeType),n.mimeType="audio"===t.type?"audio/webm":"video/webm"));try{i=new MediaRecorder(e,n),t.mimeType=n.mimeType}catch(s){i=new MediaRecorder(e)}n.mimeType&&!MediaRecorder.isTypeSupported&&"canRecordMimeType"in i&&!1===i.canRecordMimeType(n.mimeType)&&(t.disableLogs||console.warn("MediaRecorder API seems unable to record mimeType:",n.mimeType)),i.ondataavailable=function(e){if(e.data&&a.push("ondataavailable: "+b(e.data.size)),"number"!=typeof t.timeSlice)!e.data||!e.data.size||e.data.size<100||l.blob?l.recordingCallback&&(l.recordingCallback(new Blob([],{type:u(n)})),l.recordingCallback=null):(l.blob=t.getNativeBlob?e.data:new Blob([e.data],{type:u(n)}),l.recordingCallback&&(l.recordingCallback(l.blob),l.recordingCallback=null));else if(e.data&&e.data.size&&e.data.size>100&&(o.push(e.data),r(),"function"==typeof t.ondataavailable)){var i=t.getNativeBlob?e.data:new Blob([e.data],{type:u(n)});t.ondataavailable(i)}},i.onstart=function(){a.push("started")},i.onpause=function(){a.push("paused")},i.onresume=function(){a.push("resumed")},i.onstop=function(){a.push("stopped")},i.onerror=function(e){e&&(e.name||(e.name="UnknownError"),a.push("error: "+e),t.disableLogs||(-1!==e.name.toString().toLowerCase().indexOf("invalidstate")?console.error("The MediaRecorder is not in a state in which the proposed operation is allowed to be executed.",e):-1!==e.name.toString().toLowerCase().indexOf("notsupported")?console.error("MIME type (",n.mimeType,") is not supported.",e):-1!==e.name.toString().toLowerCase().indexOf("security")?console.error("MediaRecorder security error",e):"OutOfMemory"===e.name?console.error("The UA has exhaused the available memory. User agents SHOULD provide as much additional information as possible in the message attribute.",e):"IllegalStreamModification"===e.name?console.error("A modification to the stream has occurred that makes it impossible to continue recording. An example would be the addition of a Track while recording is occurring. User agents SHOULD provide as much additional information as possible in the message attribute.",e):"OtherRecordingError"===e.name?console.error("Used for an fatal error other than those listed above. User agents SHOULD provide as much additional information as possible in the message attribute.",e):"GenericError"===e.name?console.error("The UA cannot provide the codec or recording option that has been requested.",e):console.error("MediaRecorder Error",e)),function(e){if(!l.manuallyStopped&&i&&"inactive"===i.state)return delete t.timeslice,void i.start(6e5);setTimeout(void 0,1e3)}(),"inactive"!==i.state&&"stopped"!==i.state&&i.stop())},"number"==typeof t.timeSlice?(r(),i.start(t.timeSlice)):i.start(36e5),t.initCallback&&t.initCallback()},this.timestamps=[],this.stop=function(e){e=e||function(){},l.manuallyStopped=!0,i&&(this.recordingCallback=e,"recording"===i.state&&i.stop(),"number"==typeof t.timeSlice&&setTimeout(function(){l.blob=new Blob(o,{type:u(t)}),l.recordingCallback(l.blob)},100))},this.pause=function(){i&&"recording"===i.state&&i.pause()},this.resume=function(){i&&"paused"===i.state&&i.resume()},this.clearRecordedData=function(){i&&"recording"===i.state&&l.stop(s),s()},this.getInternalRecorder=function(){return i},this.blob=null,this.getState=function(){return i&&i.state||"inactive"};var a=[];this.getAllStates=function(){return a},void 0===t.checkForInactiveTracks&&(t.checkForInactiveTracks=!1),l=this,function n(){if(i&&!1!==t.checkForInactiveTracks)return!1===function(){if("active"in e){if(!e.active)return!1}else if("ended"in e&&e.ended)return!1;return!0}()?(t.disableLogs||console.log("MediaStream seems stopped."),void l.stop()):void setTimeout(n,1e3)}(),this.name="MediaStreamRecorder",this.toString=function(){return this.name}}function k(e,t){if(!_(e,"audio").length)throw"Your stream has no audio tracks.";var n,l=this,i=[],o=[],r=!1,u=0,s=2,a=(t=t||{}).desiredSampRate;function c(){if(!1===t.checkForInactiveTracks)return!0;if("active"in e){if(!e.active)return!1}else if("ended"in e&&e.ended)return!1;return!0}function p(e,t){function n(e,t){var n,l=e.numberOfAudioChannels,i=e.leftBuffers.slice(0),o=e.rightBuffers.slice(0),r=e.sampleRate,u=e.internalInterleavedLength,s=e.desiredSampRate;function a(e,t,n){var l=Math.round(e.length*(t/n)),i=[],o=Number((e.length-1)/(l-1));i[0]=e[0];for(var r=1;r<l-1;r++){var u=r*o,s=Number(Math.floor(u)).toFixed(),a=Number(Math.ceil(u)).toFixed();i[r]=c(e[s],e[a],u-s)}return i[l-1]=e[e.length-1],i}function c(e,t,n){return e+(t-e)*n}function p(e,t){for(var n=new Float64Array(t),l=0,i=e.length,o=0;o<i;o++){var r=e[o];n.set(r,l),l+=r.length}return n}function d(e,t,n){for(var l=n.length,i=0;i<l;i++)e.setUint8(t+i,n.charCodeAt(i))}2===l&&(i=p(i,u),o=p(o,u),s&&(i=a(i,s,r),o=a(o,s,r))),1===l&&(i=p(i,u),s&&(i=a(i,s,r))),s&&(r=s),2===l&&(n=function(e,t){for(var n=e.length+t.length,l=new Float64Array(n),i=0,o=0;o<n;)l[o++]=e[i],l[o++]=t[i],i++;return l}(i,o)),1===l&&(n=i);var h=n.length,f=new ArrayBuffer(44+2*h),g=new DataView(f);d(g,0,"RIFF"),g.setUint32(4,36+2*h,!0),d(g,8,"WAVE"),d(g,12,"fmt "),g.setUint32(16,16,!0),g.setUint16(20,1,!0),g.setUint16(22,l,!0),g.setUint32(24,r,!0),g.setUint32(28,2*r,!0),g.setUint16(32,2*l,!0),g.setUint16(34,16,!0),d(g,36,"data"),g.setUint32(40,2*h,!0);for(var m=h,v=44,D=0;D<m;D++)g.setInt16(v,32767*n[D],!0),v+=2;if(t)return t({buffer:f,view:g});postMessage({buffer:f,view:g})}if(e.noWorker)n(e,function(e){t(e.buffer,e.view)});else{var l,i,o,r=(l=n,i=h.createObjectURL(new Blob([l.toString(),";this.onmessage =  function (eee) {"+l.name+"(eee.data);}"],{type:"application/javascript"})),(o=new Worker(i)).workerURL=i,o);r.onmessage=function(e){t(e.data.buffer,e.data.view),h.revokeObjectURL(r.workerURL),r.terminate()},r.postMessage(e)}}if(!0===t.leftChannel&&(s=1),1===t.numberOfAudioChannels&&(s=1),(!s||s<1)&&(s=2),t.disableLogs||console.log("StereoAudioRecorder is set to record number of channels: "+s),void 0===t.checkForInactiveTracks&&(t.checkForInactiveTracks=!0),this.record=function(){if(!1===c())throw"Please make sure MediaStream is active.";b(),S=y=!1,r=!0,void 0!==t.timeSlice&&F()},this.stop=function(e){e=e||function(){},r=!1,p({desiredSampRate:a,sampleRate:D,numberOfAudioChannels:s,internalInterleavedLength:u,leftBuffers:i,rightBuffers:1===s?[]:o,noWorker:t.noWorker},function(t,n){l.blob=new Blob([n],{type:"audio/wav"}),l.buffer=new ArrayBuffer(n.buffer.byteLength),l.view=n,l.sampleRate=a||D,l.bufferSize=v,l.length=u,S=!1,e&&e(l.blob)})},void 0===d)var d={AudioContextConstructor:null,AudioContext:window.AudioContext||window.webkitAudioContext};d.AudioContextConstructor||(d.AudioContextConstructor=new d.AudioContext);var f=d.AudioContextConstructor,g=f.createMediaStreamSource(e),m=[0,256,512,1024,2048,4096,8192,16384],v=void 0===t.bufferSize?4096:t.bufferSize;if(-1===m.indexOf(v)&&(t.disableLogs||console.log("Legal values for buffer-size are "+JSON.stringify(m,null,"\t"))),f.createJavaScriptNode)n=f.createJavaScriptNode(v,s,s);else{if(!f.createScriptProcessor)throw"WebAudio API has no support on this browser.";n=f.createScriptProcessor(v,s,s)}g.connect(n),t.bufferSize||(v=n.bufferSize);var D=void 0!==t.sampleRate?t.sampleRate:f.sampleRate||44100;(D<22050||D>96e3)&&(t.disableLogs||console.log("sample-rate must be under range 22050 and 96000.")),t.disableLogs||t.desiredSampRate&&console.log("Desired sample-rate: "+t.desiredSampRate);var y=!1;function b(){o=[],u=0,S=!1,r=!1,y=!1,f=null,l.leftchannel=i=[],l.rightchannel=o,l.numberOfAudioChannels=s,l.desiredSampRate=a,l.sampleRate=D,l.recordingLength=u,w={left:[],right:[],recordingLength:0}}function C(){n&&(n.onaudioprocess=null,n.disconnect(),n=null),g&&(g.disconnect(),g=null),b()}this.pause=function(){y=!0},this.resume=function(){if(!1===c())throw"Please make sure MediaStream is active.";if(!r)return t.disableLogs||console.log("Seems recording has been restarted."),void this.record();y=!1},this.clearRecordedData=function(){t.checkForInactiveTracks=!1,r&&this.stop(C),C()},this.name="StereoAudioRecorder",this.toString=function(){return this.name};var S=!1;n.onaudioprocess=function(e){if(!y)if(!1===c()&&(t.disableLogs||console.log("MediaStream seems stopped."),n.disconnect(),r=!1),r){S||(S=!0,t.onAudioProcessStarted&&t.onAudioProcessStarted(),t.initCallback&&t.initCallback());var a=e.inputBuffer.getChannelData(0),p=new Float32Array(a);if(i.push(p),2===s){var d=e.inputBuffer.getChannelData(1),h=new Float32Array(d);o.push(h)}l.recordingLength=u+=v,void 0!==t.timeSlice&&(w.recordingLength+=v,w.left.push(p),2===s&&w.right.push(h))}else g&&(g.disconnect(),g=null)},n.connect(f.createMediaStreamDestination?f.createMediaStreamDestination():f.destination),this.leftchannel=i,this.rightchannel=o,this.numberOfAudioChannels=s,this.desiredSampRate=a,this.sampleRate=D,l.recordingLength=u;var w={left:[],right:[],recordingLength:0};function F(){r&&"function"==typeof t.ondataavailable&&void 0!==t.timeSlice&&(w.left.length?(p({desiredSampRate:a,sampleRate:D,numberOfAudioChannels:s,internalInterleavedLength:w.recordingLength,leftBuffers:w.left,rightBuffers:1===s?[]:w.right},function(e,n){var l=new Blob([n],{type:"audio/wav"});t.ondataavailable(l),setTimeout(F,t.timeSlice)}),w={left:[],right:[],recordingLength:0}):setTimeout(F,t.timeSlice))}}function A(e,t){if("undefined"==typeof html2canvas)throw"Please link: https://cdn.webrtc-experiment.com/screenshot.js";(t=t||{}).frameInterval||(t.frameInterval=10);var n=!1;["captureStream","mozCaptureStream","webkitCaptureStream"].forEach(function(e){e in document.createElement("canvas")&&(n=!0)});var l,i,o,r=!(!window.webkitRTCPeerConnection&&!window.webkitGetUserMedia||!window.chrome),u=50,s=navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./);if(r&&s&&s[2]&&(u=parseInt(s[2],10)),r&&u<52&&(n=!1),t.useWhammyRecorder&&(n=!1),n)if(t.disableLogs||console.log("Your browser supports both MediRecorder API and canvas.captureStream!"),e instanceof HTMLCanvasElement)l=e;else{if(!(e instanceof CanvasRenderingContext2D))throw"Please pass either HTMLCanvasElement or CanvasRenderingContext2D.";l=e.canvas}else navigator.mozGetUserMedia&&(t.disableLogs||console.error("Canvas recording is NOT supported in Firefox."));this.record=function(){if(o=!0,n&&!t.useWhammyRecorder){var e;"captureStream"in l?e=l.captureStream(25):"mozCaptureStream"in l?e=l.mozCaptureStream(25):"webkitCaptureStream"in l&&(e=l.webkitCaptureStream(25));try{var r=new y;r.addTrack(_(e,"video")[0]),e=r}catch(u){}if(!e)throw"captureStream API are NOT available.";(i=new E(e,{mimeType:t.mimeType||"video/webm"})).record()}else h.frames=[],d=(new Date).getTime(),p();t.initCallback&&t.initCallback()},this.getWebPImages=function(n){if("canvas"===e.nodeName.toLowerCase()){var l=h.frames.length;h.frames.forEach(function(e,n){var i=l-n;t.disableLogs||console.log(i+"/"+l+" frames remaining"),t.onEncodingCallback&&t.onEncodingCallback(i,l);var o=e.image.toDataURL("image/webp",1);h.frames[n].image=o}),t.disableLogs||console.log("Generating WebM"),n()}else n()},this.stop=function(e){o=!1;var l=this;n&&i?i.stop(e):this.getWebPImages(function(){h.compile(function(n){t.disableLogs||console.log("Recording finished!"),l.blob=n,l.blob.forEach&&(l.blob=new Blob([],{type:"video/webm"})),e&&e(l.blob),h.frames=[]})})};var a=!1;function c(){h.frames=[],o=!1,a=!1}function p(){if(a)return d=(new Date).getTime(),setTimeout(p,500);if("canvas"===e.nodeName.toLowerCase()){var n=(new Date).getTime()-d;return d=(new Date).getTime(),h.frames.push({image:(l=document.createElement("canvas"),i=l.getContext("2d"),l.width=e.width,l.height=e.height,i.drawImage(e,0,0),l),duration:n}),void(o&&setTimeout(p,t.frameInterval))}var l,i;html2canvas(e,{grabMouse:void 0===t.showMousePointer||t.showMousePointer,onrendered:function(e){var n=(new Date).getTime()-d;if(!n)return setTimeout(p,t.frameInterval);d=(new Date).getTime(),h.frames.push({image:e.toDataURL("image/webp",1),duration:n}),o&&setTimeout(p,t.frameInterval)}})}this.pause=function(){a=!0,i instanceof E&&i.pause()},this.resume=function(){a=!1,i instanceof E?i.resume():o||this.record()},this.clearRecordedData=function(){o&&this.stop(c),c()},this.name="CanvasRecorder",this.toString=function(){return this.name};var d=(new Date).getTime(),h=new I.Video(100)}function T(e,t){function n(e){e=void 0!==e?e:10;var t=(new Date).getTime()-u;return t?i?(u=(new Date).getTime(),setTimeout(n,100)):(u=(new Date).getTime(),r.paused&&r.play(),c.drawImage(r,0,0,a.width,a.height),s.frames.push({duration:t,image:a.toDataURL("image/webp")}),void(l||setTimeout(n,e,e))):setTimeout(n,e,e)}(t=t||{}).frameInterval||(t.frameInterval=10),t.disableLogs||console.log("Using frames-interval:",t.frameInterval),this.record=function(){t.width||(t.width=320),t.height||(t.height=240),t.video||(t.video={width:t.width,height:t.height}),t.canvas||(t.canvas={width:t.width,height:t.height}),a.width=t.canvas.width||320,a.height=t.canvas.height||240,c=a.getContext("2d"),t.video&&t.video instanceof HTMLVideoElement?(r=t.video.cloneNode(),t.initCallback&&t.initCallback()):(r=document.createElement("video"),w(e,r),r.onloadedmetadata=function(){t.initCallback&&t.initCallback()},r.width=t.video.width,r.height=t.video.height),r.muted=!0,r.play(),u=(new Date).getTime(),s=new I.Video,t.disableLogs||(console.log("canvas resolutions",a.width,"*",a.height),console.log("video width/height",r.width||a.width,"*",r.height||a.height)),n(t.frameInterval)};var l=!1;this.stop=function(e){e=e||function(){},l=!0;var n=this;setTimeout(function(){!function(e,t,n,l,i){var o=document.createElement("canvas");o.width=a.width,o.height=a.height;var r,u,s,c=o.getContext("2d"),p=[],d=e.length,h=Math.sqrt(Math.pow(255,2)+Math.pow(255,2)+Math.pow(255,2)),f=!1;u=-1,s=(r={length:d,functionToLoop:function(t,n){var l,i,o,r=function(){!f&&o-l<=0*o||(f=!0,p.push(e[n])),t()};if(f)r();else{var u=new Image;u.onload=function(){c.drawImage(u,0,0,a.width,a.height);var e=c.getImageData(0,0,a.width,a.height);l=0,i=e.data.length,o=e.data.length/4;for(var t=0;t<i;t+=4){var n={r:e.data[t],g:e.data[t+1],b:e.data[t+2]};Math.sqrt(Math.pow(n.r-0,2)+Math.pow(n.g-0,2)+Math.pow(n.b-0,2))<=0*h&&l++}r()},u.src=e[n].image}},callback:function(){(p=p.concat(e.slice(d))).length<=0&&p.push(e[e.length-1]),i(p)}}).length,function e(){++u!==s?setTimeout(function(){r.functionToLoop(e,u)},1):r.callback()}()}(s.frames,0,0,0,function(l){s.frames=l,t.advertisement&&t.advertisement.length&&(s.frames=t.advertisement.concat(s.frames)),s.compile(function(t){n.blob=t,n.blob.forEach&&(n.blob=new Blob([],{type:"video/webm"})),e&&e(n.blob)})})},10)};var i=!1;function o(){s.frames=[],l=!0,i=!1}this.pause=function(){i=!0},this.resume=function(){i=!1,l&&this.record()},this.clearRecordedData=function(){l||this.stop(o),o()},this.name="WhammyRecorder",this.toString=function(){return this.name};var r,u,s,a=document.createElement("canvas"),c=a.getContext("2d")}void 0!==d?F.AudioContext=d:"undefined"!=typeof webkitAudioContext&&(F.AudioContext=webkitAudioContext),o.Storage=F,o.MediaStreamRecorder=E,o.StereoAudioRecorder=k,o.CanvasRecorder=A,o.WhammyRecorder=T;var I=function(){function e(e){this.frames=[],this.duration=e||1,this.quality=.8}function t(e){function t(e,t,n){return[{data:e,id:231}].concat(n.map(function(e){var n=function(e){var t=0;if(e.keyframe&&(t|=128),e.invisible&&(t|=8),e.lacing&&(t|=e.lacing<<1),e.discardable&&(t|=1),e.trackNum>127)throw"TrackNumber > 127 not supported";return[128|e.trackNum,e.timecode>>8,255&e.timecode,t].map(function(e){return String.fromCharCode(e)}).join("")+e.frame}({discardable:0,frame:e.data.slice(4),invisible:0,keyframe:1,lacing:0,trackNum:1,timecode:Math.round(t)});return t+=e.duration,{data:n,id:163}}))}function n(e){for(var t=[];e>0;)t.push(255&e),e>>=8;return new Uint8Array(t.reverse())}function l(e){var t=[];e=(e.length%8?new Array(9-e.length%8).join("0"):"")+e;for(var n=0;n<e.length;n+=8)t.push(parseInt(e.substr(n,8),2));return new Uint8Array(t)}function i(e,t){return parseInt(e.substr(t+4,4).split("").map(function(e){var t=e.charCodeAt(0).toString(2);return new Array(8-t.length+1).join("0")+t}).join(""),2)}var o=new function(e){var i=function(e){if(e[0]){for(var t=e[0].width,n=e[0].height,l=e[0].duration,i=1;i<e.length;i++)l+=e[i].duration;return{duration:l,width:t,height:n}}postMessage({error:"Something went wrong. Maybe WebP format is not supported in the current browser."})}(e);if(!i)return[];for(var o,r=[{id:440786851,data:[{data:1,id:17030},{data:1,id:17143},{data:4,id:17138},{data:8,id:17139},{data:"webm",id:17026},{data:2,id:17031},{data:2,id:17029}]},{id:408125543,data:[{id:357149030,data:[{data:1e6,id:2807729},{data:"whammy",id:19840},{data:"whammy",id:22337},{data:(o=i.duration,[].slice.call(new Uint8Array(new Float64Array([o]).buffer),0).map(function(e){return String.fromCharCode(e)}).reverse().join("")),id:17545}]},{id:374648427,data:[{id:174,data:[{data:1,id:215},{data:1,id:29637},{data:0,id:156},{data:"und",id:2274716},{data:"V_VP8",id:134},{data:"VP8",id:2459272},{data:1,id:131},{id:224,data:[{data:i.width,id:176},{data:i.height,id:186}]}]}]}]}],u=0,s=0;u<e.length;){var a=[],c=0;do{a.push(e[u]),c+=e[u].duration,u++}while(u<e.length&&c<3e4);var p={id:524531317,data:t(s,0,a)};r[1].data.push(p),s+=c}return function e(t){for(var i=[],o=0;o<t.length;o++){var r=t[o].data;"object"==typeof r&&(r=e(r)),"number"==typeof r&&(r=l(r.toString(2))),"string"==typeof r&&(r=new Uint8Array(r.split("").map(function(e){return e.charCodeAt(0)})));var u=r.size||r.byteLength||r.length,s=Math.ceil(Math.ceil(Math.log(u)/Math.log(2))/8),a=u.toString(2),c=new Array(7*s+7+1-a.length).join("0")+a,p=new Array(s).join("0")+"1"+c;i.push(n(t[o].id)),i.push(l(p)),i.push(r)}return new Blob(i,{type:"video/webm"})}(r)}(e.map(function(e){var t=function(e){for(var t=e.RIFF[0].WEBP[0],n=t.indexOf("\x9d\x01*"),l=0,i=[];l<4;l++)i[l]=t.charCodeAt(n+3+l);return{width:16383&(i[1]<<8|i[0]),height:16383&(i[3]<<8|i[2]),data:t,riff:e}}(function e(t){for(var n=0,l={};n<t.length;){var o=t.substr(n,4),r=i(t,n),u=t.substr(n+4+4,r);n+=8+r,l[o]=l[o]||[],l[o].push("RIFF"===o||"LIST"===o?e(u):u)}return l}(atob(e.image.slice(23))));return t.duration=e.duration,t}));postMessage(o)}return e.prototype.add=function(e,t){if("canvas"in e&&(e=e.canvas),"toDataURL"in e&&(e=e.toDataURL("image/webp",this.quality)),!/^data:image\/webp;base64,/gi.test(e))throw"Input must be formatted properly as a base64 encoded DataURI of type image/webp";this.frames.push({image:e,duration:t||this.duration})},e.prototype.compile=function(e){var n,l,i,o=(n=t,l=h.createObjectURL(new Blob([n.toString(),"this.onmessage =  function (eee) {"+n.name+"(eee.data);}"],{type:"application/javascript"})),i=new Worker(l),h.revokeObjectURL(l),i);o.onmessage=function(t){t.data.error?console.error(t.data.error):e(t.data)},o.postMessage(this.frames)},{Video:e}}();o.Whammy=I;var B={init:function(){var e=this;if("undefined"!=typeof indexedDB&&void 0!==indexedDB.open){var t,n=this.dbName||location.href.replace(/\/|:|#|%|\.|\[|\]/g,""),l=indexedDB.open(n,1);l.onerror=e.onError,l.onsuccess=function(){(t=l.result).onerror=e.onError,t.setVersion&&1!==t.version?t.setVersion(1).onsuccess=function(){i(t),o()}:o()},l.onupgradeneeded=function(e){i(e.target.result)}}else console.error("IndexedDB API are not available in this browser.");function i(t){t.createObjectStore(e.dataStoreName)}function o(){var n=t.transaction([e.dataStoreName],"readwrite");function l(t){n.objectStore(e.dataStoreName).get(t).onsuccess=function(n){e.callback&&e.callback(n.target.result,t)}}e.videoBlob&&n.objectStore(e.dataStoreName).put(e.videoBlob,"videoBlob"),e.gifBlob&&n.objectStore(e.dataStoreName).put(e.gifBlob,"gifBlob"),e.audioBlob&&n.objectStore(e.dataStoreName).put(e.audioBlob,"audioBlob"),l("audioBlob"),l("videoBlob"),l("gifBlob")}},Fetch:function(e){return this.callback=e,this.init(),this},Store:function(e){return this.audioBlob=e.audioBlob,this.videoBlob=e.videoBlob,this.gifBlob=e.gifBlob,this.init(),this},onError:function(e){console.error(JSON.stringify(e,null,"\t"))},dataStoreName:"recordRTC",dbName:null};function O(e,t){if("undefined"==typeof GIFEncoder){var n=document.createElement("script");n.src="https://cdn.webrtc-experiment.com/gif-recorder.js",(document.body||document.documentElement).appendChild(n)}t=t||{};var l=e instanceof CanvasRenderingContext2D||e instanceof HTMLCanvasElement;this.record=function(){"undefined"!=typeof GIFEncoder&&u?(l||(t.width||(t.width=s.offsetWidth||320),t.height||(t.height=s.offsetHeight||240),t.video||(t.video={width:t.width,height:t.height}),t.canvas||(t.canvas={width:t.width,height:t.height}),o.width=t.canvas.width||320,o.height=t.canvas.height||240,s.width=t.video.width||320,s.height=t.video.height||240),(d=new GIFEncoder).setRepeat(0),d.setDelay(t.frameRate||200),d.setQuality(t.quality||10),d.start(),"function"==typeof t.onGifRecordingStarted&&t.onGifRecordingStarted(),Date.now(),h=a(function e(n){if(!0!==f.clearedRecordedData){if(i)return setTimeout(function(){e(n)},100);h=a(e),void 0===typeof c&&(c=n),n-c<90||(!l&&s.paused&&s.play(),l||r.drawImage(s,0,0,o.width,o.height),t.onGifPreview&&t.onGifPreview(o.toDataURL("image/png")),d.addFrame(r),c=n)}}),t.initCallback&&t.initCallback()):setTimeout(f.record,1e3)},this.stop=function(e){e=e||function(){},h&&p(h),Date.now(),this.blob=new Blob([new Uint8Array(d.stream().bin)],{type:"image/gif"}),e(this.blob),d.stream().bin=[]};var i=!1;this.pause=function(){i=!0},this.resume=function(){i=!1},this.clearRecordedData=function(){f.clearedRecordedData=!0,d&&(d.stream().bin=[])},this.name="GifRecorder",this.toString=function(){return this.name};var o=document.createElement("canvas"),r=o.getContext("2d");l&&(e instanceof CanvasRenderingContext2D?o=(r=e).canvas:e instanceof HTMLCanvasElement&&(r=e.getContext("2d"),o=e));var u=!0;if(!l){var s=document.createElement("video");s.muted=!0,s.autoplay=!0,u=!1,s.onloadedmetadata=function(){u=!0},w(e,s),s.play()}var c,d,h=null,f=this}function R(e,t){"undefined"!=typeof global&&global,t=t||"multi-streams-mixer";var n=[],l=!1,i=document.createElement("canvas"),o=i.getContext("2d");i.style.opacity=0,i.style.position="absolute",i.style.zIndex=-1,i.style.top="-1000em",i.style.left="-1000em",i.className=t,(document.body||document.documentElement).appendChild(i),this.disableLogs=!1,this.frameInterval=10,this.width=360,this.height=240,this.useGainNode=!0;var r=this,u=window.AudioContext;void 0===u&&("undefined"!=typeof webkitAudioContext&&(u=webkitAudioContext),"undefined"!=typeof mozAudioContext&&(u=mozAudioContext));var s=window.URL;void 0===s&&"undefined"!=typeof webkitURL&&(s=webkitURL),"undefined"!=typeof navigator&&void 0===navigator.getUserMedia&&(void 0!==navigator.webkitGetUserMedia&&(navigator.getUserMedia=navigator.webkitGetUserMedia),void 0!==navigator.mozGetUserMedia&&(navigator.getUserMedia=navigator.mozGetUserMedia));var a=window.MediaStream;void 0===a&&"undefined"!=typeof webkitMediaStream&&(a=webkitMediaStream),void 0!==a&&void 0===a.prototype.stop&&(a.prototype.stop=function(){this.getTracks().forEach(function(e){e.stop()})});var c={};function p(){if(!l){var e=n.length,t=!1,o=[];if(n.forEach(function(e){e.stream||(e.stream={}),e.stream.fullcanvas?t=e:o.push(e)}),t)i.width=t.stream.width,i.height=t.stream.height;else if(o.length){i.width=e>1?2*o[0].width:o[0].width;var u=1;3!==e&&4!==e||(u=2),5!==e&&6!==e||(u=3),7!==e&&8!==e||(u=4),9!==e&&10!==e||(u=5),i.height=o[0].height*u}else i.width=r.width||360,i.height=r.height||240;t&&t instanceof HTMLVideoElement&&d(t),o.forEach(function(e,t){d(e,t)}),setTimeout(p,r.frameInterval)}}function d(e,t){if(!l){var n=0,i=0,r=e.width,u=e.height;1===t&&(n=e.width),2===t&&(i=e.height),3===t&&(n=e.width,i=e.height),4===t&&(i=2*e.height),5===t&&(n=e.width,i=2*e.height),6===t&&(i=3*e.height),7===t&&(n=e.width,i=3*e.height),void 0!==e.stream.left&&(n=e.stream.left),void 0!==e.stream.top&&(i=e.stream.top),void 0!==e.stream.width&&(r=e.stream.width),void 0!==e.stream.height&&(u=e.stream.height),o.drawImage(e,n,i,r,u),"function"==typeof e.stream.onRender&&e.stream.onRender(o,n,i,r,u,t)}}function h(e){var n=document.createElement("video");return function(e,t){"srcObject"in t?t.srcObject=e:"mozSrcObject"in t?t.mozSrcObject=e:t.srcObject=e}(e,n),n.className=t,n.muted=!0,n.volume=0,n.width=e.width||r.width||360,n.height=e.height||r.height||240,n.play(),n}function f(t){n=[],(t=t||e).forEach(function(e){if(e.getTracks().filter(function(e){return"video"===e.kind}).length){var t=h(e);t.stream=e,n.push(t)}})}void 0!==u?c.AudioContext=u:"undefined"!=typeof webkitAudioContext&&(c.AudioContext=webkitAudioContext),this.startDrawingFrames=function(){p()},this.appendStreams=function(t){if(!t)throw"First parameter is required.";t instanceof Array||(t=[t]),t.forEach(function(t){var l=new a;if(t.getTracks().filter(function(e){return"video"===e.kind}).length){var i=h(t);i.stream=t,n.push(i),l.addTrack(t.getTracks().filter(function(e){return"video"===e.kind})[0])}if(t.getTracks().filter(function(e){return"audio"===e.kind}).length){var o=r.audioContext.createMediaStreamSource(t);r.audioDestination=r.audioContext.createMediaStreamDestination(),o.connect(r.audioDestination),l.addTrack(r.audioDestination.stream.getTracks().filter(function(e){return"audio"===e.kind})[0])}e.push(l)})},this.releaseStreams=function(){n=[],l=!0,r.gainNode&&(r.gainNode.disconnect(),r.gainNode=null),r.audioSources.length&&(r.audioSources.forEach(function(e){e.disconnect()}),r.audioSources=[]),r.audioDestination&&(r.audioDestination.disconnect(),r.audioDestination=null),r.audioContext&&r.audioContext.close(),r.audioContext=null,o.clearRect(0,0,i.width,i.height),i.stream&&(i.stream.stop(),i.stream=null)},this.resetVideoStreams=function(e){!e||e instanceof Array||(e=[e]),f(e)},this.name="MultiStreamsMixer",this.toString=function(){return this.name},this.getMixedStream=function(){l=!1;var t=function(){var e;f(),"captureStream"in i?e=i.captureStream():"mozCaptureStream"in i?e=i.mozCaptureStream():r.disableLogs||console.error("Upgrade to latest Chrome or otherwise enable this flag: chrome://flags/#enable-experimental-web-platform-features");var t=new a;return e.getTracks().filter(function(e){return"video"===e.kind}).forEach(function(e){t.addTrack(e)}),i.stream=t,t}(),n=function(){c.AudioContextConstructor||(c.AudioContextConstructor=new c.AudioContext),r.audioContext=c.AudioContextConstructor,r.audioSources=[],!0===r.useGainNode&&(r.gainNode=r.audioContext.createGain(),r.gainNode.connect(r.audioContext.destination),r.gainNode.gain.value=0);var t=0;if(e.forEach(function(e){if(e.getTracks().filter(function(e){return"audio"===e.kind}).length){t++;var n=r.audioContext.createMediaStreamSource(e);!0===r.useGainNode&&n.connect(r.gainNode),r.audioSources.push(n)}}),t)return r.audioDestination=r.audioContext.createMediaStreamDestination(),r.audioSources.forEach(function(e){e.connect(r.audioDestination)}),r.audioDestination.stream}();return n&&n.getTracks().filter(function(e){return"audio"===e.kind}).forEach(function(e){t.addTrack(e)}),e.forEach(function(e){}),t}}function M(e,t){e=e||[];var n,l,i=this;(t=t||{elementClass:"multi-streams-mixer",mimeType:"video/webm",video:{width:360,height:240}}).frameInterval||(t.frameInterval=10),t.video||(t.video={}),t.video.width||(t.video.width=360),t.video.height||(t.video.height=240),this.record=function(){var i;n=new R(e,t.elementClass||"multi-streams-mixer"),(i=[],e.forEach(function(e){_(e,"video").forEach(function(e){i.push(e)})}),i).length&&(n.frameInterval=t.frameInterval||10,n.width=t.video.width||360,n.height=t.video.height||240,n.startDrawingFrames()),t.previewStream&&"function"==typeof t.previewStream&&t.previewStream(n.getMixedStream()),(l=new E(n.getMixedStream(),t)).record()},this.stop=function(e){l&&l.stop(function(t){i.blob=t,e(t),i.clearRecordedData()})},this.pause=function(){l&&l.pause()},this.resume=function(){l&&l.resume()},this.clearRecordedData=function(){l&&(l.clearRecordedData(),l=null),n&&(n.releaseStreams(),n=null)},this.addStreams=function(i){if(!i)throw"First parameter is required.";i instanceof Array||(i=[i]),e.concat(i),l&&n&&(n.appendStreams(i),t.previewStream&&"function"==typeof t.previewStream&&t.previewStream(n.getMixedStream()))},this.resetVideoStreams=function(e){n&&(!e||e instanceof Array||(e=[e]),n.resetVideoStreams(e))},this.getMixer=function(e){return n},this.name="MultiStreamRecorder",this.toString=function(){return this.name}}function P(e,t){function n(){return new ReadableStream({start:function(n){var l=document.createElement("canvas"),i=document.createElement("video");i.srcObject=e,i.onplaying=function(){l.width=t.width,l.height=t.height;var e=l.getContext("2d"),o=1e3/t.frameRate;setTimeout(function l(){e.drawImage(i,0,0),n.enqueue(e.getImageData(0,0,t.width,t.height)),setTimeout(l,o)},o)},i.play()}})}var l,i;"undefined"!=typeof ReadableStream&&"undefined"!=typeof WritableStream||console.error("Following polyfill is strongly recommended: https://unpkg.com/@mattiasbuelens/web-streams-polyfill/dist/polyfill.min.js"),(t=t||{}).width=t.width||640,t.height=t.height||480,t.frameRate=t.frameRate||30,t.bitrate=t.bitrate||1200,this.record=function(){o=[],i=!1,this.blob=null,function e(r,u){if(t.workerPath||u){if(!t.workerPath&&u instanceof ArrayBuffer){var s=new Blob([u],{type:"text/javascript"});t.workerPath=h.createObjectURL(s)}t.workerPath||console.error("workerPath parameter is missing."),(l=new Worker(t.workerPath)).postMessage(t.webAssemblyPath||"https://unpkg.com/webm-wasm@latest/dist/webm-wasm.wasm"),l.addEventListener("message",function(e){"READY"===e.data?(l.postMessage({width:t.width,height:t.height,bitrate:t.bitrate||1200,timebaseDen:t.frameRate||30,realtime:!0}),n().pipeTo(new WritableStream({write:function(e){l&&l.postMessage(e.data.buffer,[e.data.buffer])}}))):e.data&&(i||o.push(e.data))})}else fetch("https://unpkg.com/webm-wasm@latest/dist/webm-worker.js").then(function(t){t.arrayBuffer().then(function(t){e(r,t)})})}(e),"function"==typeof t.initCallback&&t.initCallback()},this.pause=function(){i=!0},this.resume=function(){i=!1};var o=[];this.stop=function(e){l&&(l.postMessage(null),l.terminate(),l=null),this.blob=new Blob(o,{type:"video/webm"}),e(this.blob)},this.name="WebAssemblyRecorder",this.toString=function(){return this.name},this.clearRecordedData=function(){o=[],i=!1,this.blob=null},this.blob=null}o.DiskStorage=B,o.GifRecorder=O,o.MultiStreamRecorder=M,o.RecordRTCPromisesHandler=function(e,t){if(!this)throw'Use "new RecordRTCPromisesHandler()"';if(void 0===e)throw'First argument "MediaStream" is required.';var n=this;n.recordRTC=new o(e,t),this.startRecording=function(){return new Promise(function(e,t){try{n.recordRTC.startRecording(),e()}catch(l){t(l)}})},this.stopRecording=function(){return new Promise(function(e,t){try{n.recordRTC.stopRecording(function(l){n.blob=n.recordRTC.getBlob(),n.blob&&n.blob.size?e(l):t("Empty blob.",n.blob)})}catch(l){t(l)}})},this.pauseRecording=function(){return new Promise(function(e,t){try{n.recordRTC.pauseRecording(),e()}catch(l){t(l)}})},this.resumeRecording=function(){return new Promise(function(e,t){try{n.recordRTC.resumeRecording(),e()}catch(l){t(l)}})},this.getDataURL=function(e){return new Promise(function(e,t){try{n.recordRTC.getDataURL(function(t){e(t)})}catch(l){t(l)}})},this.getBlob=function(){return new Promise(function(e,t){try{e(n.recordRTC.getBlob())}catch(l){t(l)}})},this.getInternalRecorder=function(){return new Promise(function(e,t){try{e(n.recordRTC.getInternalRecorder())}catch(l){t(l)}})},this.reset=function(){return new Promise(function(e,t){try{e(n.recordRTC.reset())}catch(l){t(l)}})},this.destroy=function(){return new Promise(function(e,t){try{e(n.recordRTC.destroy())}catch(l){t(l)}})},this.getState=function(){return new Promise(function(e,t){try{e(n.recordRTC.getState())}catch(l){t(l)}})},this.blob=null,this.version="5.5.8"},o.WebAssemblyRecorder=P},tjlA:function(e,t,n){"use strict";var l=n("H7XF"),i=n("kVK+"),o="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=s,t.SlowBuffer=function(e){return+e!=e&&(e=0),s.alloc(+e)},t.INSPECT_MAX_BYTES=50;var r=2147483647;function u(e){if(e>r)throw new RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return Object.setPrototypeOf(t,s.prototype),t}function s(e,t,n){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return p(e)}return a(e,t,n)}function a(e,t,n){if("string"==typeof e)return function(e,t){if("string"==typeof t&&""!==t||(t="utf8"),!s.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var n=0|f(e,t),l=u(n),i=l.write(e,t);return i!==n&&(l=l.slice(0,i)),l}(e,t);if(ArrayBuffer.isView(e))return d(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(V(e,ArrayBuffer)||e&&V(e.buffer,ArrayBuffer))return function(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');var l;return l=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),Object.setPrototypeOf(l,s.prototype),l}(e,t,n);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');var l=e.valueOf&&e.valueOf();if(null!=l&&l!==e)return s.from(l,t,n);var i=function(e){if(s.isBuffer(e)){var t=0|h(e.length),n=u(t);return 0===n.length?n:(e.copy(n,0,0,t),n)}return void 0!==e.length?"number"!=typeof e.length||$(e.length)?u(0):d(e):"Buffer"===e.type&&Array.isArray(e.data)?d(e.data):void 0}(e);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return s.from(e[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function c(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function p(e){return c(e),u(e<0?0:0|h(e))}function d(e){for(var t=e.length<0?0:0|h(e.length),n=u(t),l=0;l<t;l+=1)n[l]=255&e[l];return n}function h(e){if(e>=r)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r.toString(16)+" bytes");return 0|e}function f(e,t){if(s.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||V(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var n=e.length,l=arguments.length>2&&!0===arguments[2];if(!l&&0===n)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return N(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return j(e).length;default:if(i)return l?-1:N(e).length;t=(""+t).toLowerCase(),i=!0}}function g(e,t,n){var l=e[t];e[t]=e[n],e[n]=l}function m(e,t,n,l,i){if(0===e.length)return-1;if("string"==typeof n?(l=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),$(n=+n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=s.from(t,l)),s.isBuffer(t))return 0===t.length?-1:v(e,t,n,l,i);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):v(e,[t],n,l,i);throw new TypeError("val must be string, number or Buffer")}function v(e,t,n,l,i){var o,r=1,u=e.length,s=t.length;if(void 0!==l&&("ucs2"===(l=String(l).toLowerCase())||"ucs-2"===l||"utf16le"===l||"utf-16le"===l)){if(e.length<2||t.length<2)return-1;r=2,u/=2,s/=2,n/=2}function a(e,t){return 1===r?e[t]:e.readUInt16BE(t*r)}if(i){var c=-1;for(o=n;o<u;o++)if(a(e,o)===a(t,-1===c?0:o-c)){if(-1===c&&(c=o),o-c+1===s)return c*r}else-1!==c&&(o-=o-c),c=-1}else for(n+s>u&&(n=u-s),o=n;o>=0;o--){for(var p=!0,d=0;d<s;d++)if(a(e,o+d)!==a(t,d)){p=!1;break}if(p)return o}return-1}function D(e,t,n,l){n=Number(n)||0;var i=e.length-n;l?(l=Number(l))>i&&(l=i):l=i;var o=t.length;l>o/2&&(l=o/2);for(var r=0;r<l;++r){var u=parseInt(t.substr(2*r,2),16);if($(u))return r;e[n+r]=u}return r}function y(e,t,n,l){return L(N(t,e.length-n),e,n,l)}function b(e,t,n,l){return L(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,l)}function C(e,t,n,l){return b(e,t,n,l)}function S(e,t,n,l){return L(j(t),e,n,l)}function _(e,t,n,l){return L(function(e,t){for(var n,l,i=[],o=0;o<e.length&&!((t-=2)<0);++o)l=(n=e.charCodeAt(o))>>8,i.push(n%256),i.push(l);return i}(t,e.length-n),e,n,l)}function w(e,t,n){return l.fromByteArray(0===t&&n===e.length?e:e.slice(t,n))}function F(e,t,n){n=Math.min(e.length,n);for(var l=[],i=t;i<n;){var o,r,u,s,a=e[i],c=null,p=a>239?4:a>223?3:a>191?2:1;if(i+p<=n)switch(p){case 1:a<128&&(c=a);break;case 2:128==(192&(o=e[i+1]))&&(s=(31&a)<<6|63&o)>127&&(c=s);break;case 3:r=e[i+2],128==(192&(o=e[i+1]))&&128==(192&r)&&(s=(15&a)<<12|(63&o)<<6|63&r)>2047&&(s<55296||s>57343)&&(c=s);break;case 4:r=e[i+2],u=e[i+3],128==(192&(o=e[i+1]))&&128==(192&r)&&128==(192&u)&&(s=(15&a)<<18|(63&o)<<12|(63&r)<<6|63&u)>65535&&s<1114112&&(c=s)}null===c?(c=65533,p=1):c>65535&&(l.push((c-=65536)>>>10&1023|55296),c=56320|1023&c),l.push(c),i+=p}return function(e){var t=e.length;if(t<=x)return String.fromCharCode.apply(String,e);for(var n="",l=0;l<t;)n+=String.fromCharCode.apply(String,e.slice(l,l+=x));return n}(l)}t.kMaxLength=r,(s.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(n){return!1}}())||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(s.prototype,"parent",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.buffer}}),Object.defineProperty(s.prototype,"offset",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.byteOffset}}),"undefined"!=typeof Symbol&&null!=Symbol.species&&s[Symbol.species]===s&&Object.defineProperty(s,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),s.poolSize=8192,s.from=function(e,t,n){return a(e,t,n)},Object.setPrototypeOf(s.prototype,Uint8Array.prototype),Object.setPrototypeOf(s,Uint8Array),s.alloc=function(e,t,n){return function(e,t,n){return c(e),e<=0?u(e):void 0!==t?"string"==typeof n?u(e).fill(t,n):u(e).fill(t):u(e)}(e,t,n)},s.allocUnsafe=function(e){return p(e)},s.allocUnsafeSlow=function(e){return p(e)},s.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==s.prototype},s.compare=function(e,t){if(V(e,Uint8Array)&&(e=s.from(e,e.offset,e.byteLength)),V(t,Uint8Array)&&(t=s.from(t,t.offset,t.byteLength)),!s.isBuffer(e)||!s.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var n=e.length,l=t.length,i=0,o=Math.min(n,l);i<o;++i)if(e[i]!==t[i]){n=e[i],l=t[i];break}return n<l?-1:l<n?1:0},s.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return s.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var l=s.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var o=e[n];if(V(o,Uint8Array)&&(o=s.from(o)),!s.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(l,i),i+=o.length}return l},s.byteLength=f,s.prototype._isBuffer=!0,s.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)g(this,t,t+1);return this},s.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},s.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},s.prototype.toLocaleString=s.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?F(this,0,e):(function(e,t,n){var l=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return A(this,t,n);case"utf8":case"utf-8":return F(this,t,n);case"ascii":return E(this,t,n);case"latin1":case"binary":return k(this,t,n);case"base64":return w(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,t,n);default:if(l)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),l=!0}}).apply(this,arguments)},s.prototype.equals=function(e){if(!s.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===s.compare(this,e)},s.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(e+=" ... "),"<Buffer "+e+">"},o&&(s.prototype[o]=s.prototype.inspect),s.prototype.compare=function(e,t,n,l,i){if(V(e,Uint8Array)&&(e=s.from(e,e.offset,e.byteLength)),!s.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===l&&(l=0),void 0===i&&(i=this.length),t<0||n>e.length||l<0||i>this.length)throw new RangeError("out of range index");if(l>=i&&t>=n)return 0;if(l>=i)return-1;if(t>=n)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(l>>>=0),r=(n>>>=0)-(t>>>=0),u=Math.min(o,r),a=this.slice(l,i),c=e.slice(t,n),p=0;p<u;++p)if(a[p]!==c[p]){o=a[p],r=c[p];break}return o<r?-1:r<o?1:0},s.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},s.prototype.indexOf=function(e,t,n){return m(this,e,t,n,!0)},s.prototype.lastIndexOf=function(e,t,n){return m(this,e,t,n,!1)},s.prototype.write=function(e,t,n,l){if(void 0===t)l="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)l=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===l&&(l="utf8")):(l=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");l||(l="utf8");for(var o=!1;;)switch(l){case"hex":return D(this,e,t,n);case"utf8":case"utf-8":return y(this,e,t,n);case"ascii":return b(this,e,t,n);case"latin1":case"binary":return C(this,e,t,n);case"base64":return S(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+l);l=(""+l).toLowerCase(),o=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var x=4096;function E(e,t,n){var l="";n=Math.min(e.length,n);for(var i=t;i<n;++i)l+=String.fromCharCode(127&e[i]);return l}function k(e,t,n){var l="";n=Math.min(e.length,n);for(var i=t;i<n;++i)l+=String.fromCharCode(e[i]);return l}function A(e,t,n){var l=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>l)&&(n=l);for(var i="",o=t;o<n;++o)i+=H[e[o]];return i}function T(e,t,n){for(var l=e.slice(t,n),i="",o=0;o<l.length;o+=2)i+=String.fromCharCode(l[o]+256*l[o+1]);return i}function I(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function B(e,t,n,l,i,o){if(!s.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(n+l>e.length)throw new RangeError("Index out of range")}function O(e,t,n,l,i,o){if(n+l>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function R(e,t,n,l,o){return t=+t,n>>>=0,o||O(e,0,n,4),i.write(e,t,n,l,23,4),n+4}function M(e,t,n,l,o){return t=+t,n>>>=0,o||O(e,0,n,8),i.write(e,t,n,l,52,8),n+8}s.prototype.slice=function(e,t){var n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);var l=this.subarray(e,t);return Object.setPrototypeOf(l,s.prototype),l},s.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||I(e,t,this.length);for(var l=this[e],i=1,o=0;++o<t&&(i*=256);)l+=this[e+o]*i;return l},s.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||I(e,t,this.length);for(var l=this[e+--t],i=1;t>0&&(i*=256);)l+=this[e+--t]*i;return l},s.prototype.readUInt8=function(e,t){return e>>>=0,t||I(e,1,this.length),this[e]},s.prototype.readUInt16LE=function(e,t){return e>>>=0,t||I(e,2,this.length),this[e]|this[e+1]<<8},s.prototype.readUInt16BE=function(e,t){return e>>>=0,t||I(e,2,this.length),this[e]<<8|this[e+1]},s.prototype.readUInt32LE=function(e,t){return e>>>=0,t||I(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},s.prototype.readUInt32BE=function(e,t){return e>>>=0,t||I(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},s.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||I(e,t,this.length);for(var l=this[e],i=1,o=0;++o<t&&(i*=256);)l+=this[e+o]*i;return l>=(i*=128)&&(l-=Math.pow(2,8*t)),l},s.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||I(e,t,this.length);for(var l=t,i=1,o=this[e+--l];l>0&&(i*=256);)o+=this[e+--l]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},s.prototype.readInt8=function(e,t){return e>>>=0,t||I(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},s.prototype.readInt16LE=function(e,t){e>>>=0,t||I(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},s.prototype.readInt16BE=function(e,t){e>>>=0,t||I(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},s.prototype.readInt32LE=function(e,t){return e>>>=0,t||I(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},s.prototype.readInt32BE=function(e,t){return e>>>=0,t||I(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},s.prototype.readFloatLE=function(e,t){return e>>>=0,t||I(e,4,this.length),i.read(this,e,!0,23,4)},s.prototype.readFloatBE=function(e,t){return e>>>=0,t||I(e,4,this.length),i.read(this,e,!1,23,4)},s.prototype.readDoubleLE=function(e,t){return e>>>=0,t||I(e,8,this.length),i.read(this,e,!0,52,8)},s.prototype.readDoubleBE=function(e,t){return e>>>=0,t||I(e,8,this.length),i.read(this,e,!1,52,8)},s.prototype.writeUIntLE=function(e,t,n,l){e=+e,t>>>=0,n>>>=0,l||B(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},s.prototype.writeUIntBE=function(e,t,n,l){e=+e,t>>>=0,n>>>=0,l||B(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},s.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||B(this,e,t,1,255,0),this[t]=255&e,t+1},s.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||B(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},s.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||B(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},s.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||B(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},s.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||B(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},s.prototype.writeIntLE=function(e,t,n,l){if(e=+e,t>>>=0,!l){var i=Math.pow(2,8*n-1);B(this,e,t,n,i-1,-i)}var o=0,r=1,u=0;for(this[t]=255&e;++o<n&&(r*=256);)e<0&&0===u&&0!==this[t+o-1]&&(u=1),this[t+o]=(e/r>>0)-u&255;return t+n},s.prototype.writeIntBE=function(e,t,n,l){if(e=+e,t>>>=0,!l){var i=Math.pow(2,8*n-1);B(this,e,t,n,i-1,-i)}var o=n-1,r=1,u=0;for(this[t+o]=255&e;--o>=0&&(r*=256);)e<0&&0===u&&0!==this[t+o+1]&&(u=1),this[t+o]=(e/r>>0)-u&255;return t+n},s.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||B(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},s.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||B(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},s.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||B(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},s.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||B(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},s.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||B(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},s.prototype.writeFloatLE=function(e,t,n){return R(this,e,t,!0,n)},s.prototype.writeFloatBE=function(e,t,n){return R(this,e,t,!1,n)},s.prototype.writeDoubleLE=function(e,t,n){return M(this,e,t,!0,n)},s.prototype.writeDoubleBE=function(e,t,n){return M(this,e,t,!1,n)},s.prototype.copy=function(e,t,n,l){if(!s.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),l||0===l||(l=this.length),t>=e.length&&(t=e.length),t||(t=0),l>0&&l<n&&(l=n),l===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(l<0)throw new RangeError("sourceEnd out of bounds");l>this.length&&(l=this.length),e.length-t<l-n&&(l=e.length-t+n);var i=l-n;if(this===e&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(t,n,l);else if(this===e&&n<t&&t<l)for(var o=i-1;o>=0;--o)e[o+t]=this[o+n];else Uint8Array.prototype.set.call(e,this.subarray(n,l),t);return i},s.prototype.fill=function(e,t,n,l){if("string"==typeof e){if("string"==typeof t?(l=t,t=0,n=this.length):"string"==typeof n&&(l=n,n=this.length),void 0!==l&&"string"!=typeof l)throw new TypeError("encoding must be a string");if("string"==typeof l&&!s.isEncoding(l))throw new TypeError("Unknown encoding: "+l);if(1===e.length){var i=e.charCodeAt(0);("utf8"===l&&i<128||"latin1"===l)&&(e=i)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(o=t;o<n;++o)this[o]=e;else{var r=s.isBuffer(e)?e:s.from(e,l),u=r.length;if(0===u)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<n-t;++o)this[o+t]=r[o%u]}return this};var P=/[^+\/0-9A-Za-z-_]/g;function N(e,t){var n;t=t||1/0;for(var l=e.length,i=null,o=[],r=0;r<l;++r){if((n=e.charCodeAt(r))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(r+1===l){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function j(e){return l.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(P,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function L(e,t,n,l){for(var i=0;i<l&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}function V(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function $(e){return e!=e}var H=function(){for(var e=new Array(256),t=0;t<16;++t)for(var n=16*t,l=0;l<16;++l)e[n+l]="0123456789abcdef"[t]+"0123456789abcdef"[l];return e}()},uDUn:function(e,t){var n=1e3,l=6e4,i=36e5,o=24*i;function r(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}e.exports=function(e,t){t=t||{};var u,s=typeof e;if("string"===s&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var r=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*r;case"days":case"day":case"d":return r*o;case"hours":case"hour":case"hrs":case"hr":case"h":return r*i;case"minutes":case"minute":case"mins":case"min":case"m":return r*l;case"seconds":case"second":case"secs":case"sec":case"s":return r*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}(e);if("number"===s&&!1===isNaN(e))return t.long?r(u=e,o,"day")||r(u,i,"hour")||r(u,l,"minute")||r(u,n,"second")||u+" ms":function(e){return e>=o?Math.round(e/o)+"d":e>=i?Math.round(e/i)+"h":e>=l?Math.round(e/l)+"m":e>=n?Math.round(e/n)+"s":e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},w5QO:function(e,t,n){"use strict";t.noop=function(){}},wVMs:function(e,t,n){var l=n("mrSG").__extends,i=n("Q1FS"),o=n("mbIT"),r=n("81cv"),u=n("cSoz"),s=n("Y4kR"),a=n("q3Kh");t.forkJoin=function e(){for(var t,n=[],l=0;l<arguments.length;l++)n[l]=arguments[l];return"function"==typeof n[n.length-1]&&(t=n.pop()),1===n.length&&o.isArray(n[0])&&(n=n[0]),0===n.length?r.EMPTY:t?e(n).pipe(a.map(function(e){return t.apply(void 0,e)})):new i.Observable(function(e){return new c(e,n)})};var c=function(e){function t(t,n){var l=e.call(this,t)||this;l.sources=n,l.completed=0,l.haveValues=0;var i=n.length;l.values=new Array(i);for(var o=0;o<i;o++){var r=u.subscribeToResult(l,n[o],null,o);r&&l.add(r)}return l}return l(t,e),t.prototype.notifyNext=function(e,t,n,l,i){this.values[n]=t,i._hasValue||(i._hasValue=!0,this.haveValues++)},t.prototype.notifyComplete=function(e){var t=this.destination,n=this.haveValues,l=this.values,i=l.length;e._hasValue?(this.completed++,this.completed===i&&(n===i&&t.next(l),t.complete())):t.complete()},t}(s.OuterSubscriber)},x7D4:function(e,t,n){function l(){var e;try{e=t.storage.debug}catch(n){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e}(t=e.exports=n("Q80o")).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},t.formatArgs=function(e){var n=this.useColors;if(e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+t.humanize(this.diff),n){var l="color: "+this.color;e.splice(1,0,l,"color: inherit");var i=0,o=0;e[0].replace(/%[a-zA-Z%]/g,function(e){"%%"!==e&&(i++,"%c"===e&&(o=i))}),e.splice(o,0,l)}},t.save=function(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(n){}},t.load=l,t.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},t.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},t.enable(l())},yRPT:function(e,t,n){"use strict";t.isArrayLike=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e}},yeub:function(e,t){try{e.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(n){e.exports=!1}},ypnn:function(e,t){e.exports=function(e,t,n){var l=e.byteLength;if(t=t||0,n=n||l,e.slice)return e.slice(t,n);if(t<0&&(t+=l),n<0&&(n+=l),n>l&&(n=l),t>=l||t>=n||0===l)return new ArrayBuffer(0);for(var i=new Uint8Array(e),o=new Uint8Array(n-t),r=t,u=0;r<n;r++,u++)o[u]=i[r];return o.buffer}},yx2s:function(e,t,n){"use strict";var l=n("FWf1");t.canReportError=function(e){for(;e;){var t=e.destination;if(e.closed||e.isStopped)return!1;e=t&&t instanceof l.Subscriber?t:null}return!0}},"zB/H":function(e,t,n){"use strict";var l=n("mbIT"),i=n("GMZp"),o=n("pshJ"),r=n("MC6w"),u=n("24jU"),s=n("LBXl");function a(e){return e.reduce(function(e,t){return e.concat(t instanceof s.UnsubscriptionError?t.errors:t)},[])}t.Subscription=function(){function e(e){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,e&&(this._unsubscribe=e)}var t;return e.prototype.unsubscribe=function(){var e,t=!1;if(!this.closed){var n=this._parent,c=this._parents,p=this._unsubscribe,d=this._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var h=-1,f=c?c.length:0;n;)n.remove(this),n=++h<f&&c[h]||null;if(o.isFunction(p)&&r.tryCatch(p).call(this)===u.errorObject&&(t=!0,e=e||(u.errorObject.e instanceof s.UnsubscriptionError?a(u.errorObject.e.errors):[u.errorObject.e])),l.isArray(d))for(h=-1,f=d.length;++h<f;){var g=d[h];if(i.isObject(g)&&r.tryCatch(g.unsubscribe).call(g)===u.errorObject){t=!0,e=e||[];var m=u.errorObject.e;m instanceof s.UnsubscriptionError?e=e.concat(a(m.errors)):e.push(m)}}if(t)throw new s.UnsubscriptionError(e)}},e.prototype.add=function(t){if(!t||t===e.EMPTY)return e.EMPTY;if(t===this)return this;var n=t;switch(typeof t){case"function":n=new e(t);case"object":if(n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if("function"!=typeof n._addParent){var l=n;(n=new e)._subscriptions=[l]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}return(this._subscriptions||(this._subscriptions=[])).push(n),n._addParent(this),n},e.prototype.remove=function(e){var t=this._subscriptions;if(t){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}},e.prototype._addParent=function(e){var t=this._parent,n=this._parents;t&&t!==e?n?-1===n.indexOf(e)&&n.push(e):this._parents=[e]:this._parent=e},e.EMPTY=((t=new e).closed=!0,t),e}()},zJ60:function(e,t,n){var l=n("Uxeu"),i=n("x7D4")("socket.io-client:url");e.exports=function(e,t){var n=e;t=t||global.location,null==e&&(e=t.protocol+"//"+t.host),"string"==typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?t.protocol+e:t.host+e),/^(https?|wss?):\/\//.test(e)||(i("protocol-less url %s",e),e=void 0!==t?t.protocol+"//"+e:"https://"+e),i("parse %s",e),n=l(e)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";var o=-1!==n.host.indexOf(":")?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+o+":"+n.port,n.href=n.protocol+"://"+o+(t&&t.port===n.port?"":":"+n.port),n}},zMFY:function(e,t){function n(){}e.exports=function(e,t,l){var i=!1;return l=l||n,o.count=e,0===e?t():o;function o(e,n){if(o.count<=0)throw new Error("after called too many times");--o.count,e?(i=!0,t(e),t=l):0!==o.count||i||t(null,n)}}},zUnb:function(e,t,n){"use strict";n.r(t);var l=n("mrSG"),i=Array.isArray||function(e){return e&&"number"==typeof e.length};function o(e){return null!=e&&"object"==typeof e}function r(e){return"function"==typeof e}var u,s={e:{}};function a(){try{return u.apply(this,arguments)}catch(e){return s.e=e,s}}function c(e){return u=e,a}function p(e){return Error.call(this),this.message=e?e.length+" errors occurred during unsubscription:\n"+e.map(function(e,t){return t+1+") "+e.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=e,this}p.prototype=Object.create(Error.prototype);var d=p,h=function(){function e(e){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,e&&(this._unsubscribe=e)}var t;return e.prototype.unsubscribe=function(){var e,t=!1;if(!this.closed){var n=this._parent,l=this._parents,u=this._unsubscribe,a=this._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var p=-1,h=l?l.length:0;n;)n.remove(this),n=++p<h&&l[p]||null;if(r(u)&&c(u).call(this)===s&&(t=!0,e=e||(s.e instanceof d?f(s.e.errors):[s.e])),i(a))for(p=-1,h=a.length;++p<h;){var g=a[p];if(o(g)&&c(g.unsubscribe).call(g)===s){t=!0,e=e||[];var m=s.e;m instanceof d?e=e.concat(f(m.errors)):e.push(m)}}if(t)throw new d(e)}},e.prototype.add=function(t){if(!t||t===e.EMPTY)return e.EMPTY;if(t===this)return this;var n=t;switch(typeof t){case"function":n=new e(t);case"object":if(n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if("function"!=typeof n._addParent){var l=n;(n=new e)._subscriptions=[l]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}return(this._subscriptions||(this._subscriptions=[])).push(n),n._addParent(this),n},e.prototype.remove=function(e){var t=this._subscriptions;if(t){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}},e.prototype._addParent=function(e){var t=this._parent,n=this._parents;t&&t!==e?n?-1===n.indexOf(e)&&n.push(e):this._parents=[e]:this._parent=e},e.EMPTY=((t=new e).closed=!0,t),e}();function f(e){return e.reduce(function(e,t){return e.concat(t instanceof d?t.errors:t)},[])}var g=!1,m={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){g=e},get useDeprecatedSynchronousErrorHandling(){return g}};function v(e){setTimeout(function(){throw e})}var D={closed:!0,next:function(e){},error:function(e){if(m.useDeprecatedSynchronousErrorHandling)throw e;v(e)},complete:function(){}},y="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random(),b=function(e){function t(n,l,i){var o=e.call(this)||this;switch(o.syncErrorValue=null,o.syncErrorThrown=!1,o.syncErrorThrowable=!1,o.isStopped=!1,o._parentSubscription=null,arguments.length){case 0:o.destination=D;break;case 1:if(!n){o.destination=D;break}if("object"==typeof n){n instanceof t?(o.syncErrorThrowable=n.syncErrorThrowable,o.destination=n,n.add(o)):(o.syncErrorThrowable=!0,o.destination=new C(o,n));break}default:o.syncErrorThrowable=!0,o.destination=new C(o,n,l,i)}return o}return l.__extends(t,e),t.prototype[y]=function(){return this},t.create=function(e,n,l){var i=new t(e,n,l);return i.syncErrorThrowable=!1,i},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this))},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},t.prototype._unsubscribeAndRecycle=function(){var e=this._parent,t=this._parents;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=e,this._parents=t,this._parentSubscription=null,this},t}(h),C=function(e){function t(t,n,l,i){var o,u=e.call(this)||this;u._parentSubscriber=t;var s=u;return r(n)?o=n:n&&(o=n.next,l=n.error,i=n.complete,n!==D&&(r((s=Object.create(n)).unsubscribe)&&u.add(s.unsubscribe.bind(s)),s.unsubscribe=u.unsubscribe.bind(u))),u._context=s,u._next=o,u._error=l,u._complete=i,u}return l.__extends(t,e),t.prototype.next=function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;m.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}},t.prototype.error=function(e){if(!this.isStopped){var t=this._parentSubscriber,n=m.useDeprecatedSynchronousErrorHandling;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):v(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;v(e)}}},t.prototype.complete=function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var n=function(){return e._complete.call(e._context)};m.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},t.prototype.__tryOrUnsub=function(e,t){try{e.call(this._context,t)}catch(n){if(this.unsubscribe(),m.useDeprecatedSynchronousErrorHandling)throw n;v(n)}},t.prototype.__tryOrSetError=function(e,t,n){if(!m.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(l){return m.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=l,e.syncErrorThrown=!0,!0):(v(l),!0)}return!1},t.prototype._unsubscribe=function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()},t}(b),S="function"==typeof Symbol&&Symbol.observable||"@@observable";var _=function(){function e(e){this._isScalar=!1,e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var l=this.operator,i=function(e,t,n){if(e){if(e instanceof b)return e;if(e[y])return e[y]()}return e||t||n?new b(e,t,n):new b(D)}(e,t,n);if(l?l.call(i,this.source):i.add(this.source||m.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),m.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){m.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),function(e){for(;e;){var t=e.destination;if(e.closed||e.isStopped)return!1;e=t&&t instanceof b?t:null}return!0}(e)?e.error(t):console.warn(t)}},e.prototype.forEach=function(e,t){var n=this;return new(t=w(t))(function(t,l){var i;i=n.subscribe(function(t){try{e(t)}catch(n){l(n),i&&i.unsubscribe()}},l,t)})},e.prototype._subscribe=function(e){var t=this.source;return t&&t.subscribe(e)},e.prototype[S]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 0===e.length?this:((n=e)?1===n.length?n[0]:function(e){return n.reduce(function(e,t){return t(e)},e)}:function(){})(this);var n},e.prototype.toPromise=function(e){var t=this;return new(e=w(e))(function(e,n){var l;t.subscribe(function(e){return l=e},function(e){return n(e)},function(){return e(l)})})},e.create=function(t){return new e(t)},e}();function w(e){if(e||(e=m.Promise||Promise),!e)throw new Error("no Promise impl found");return e}function F(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}F.prototype=Object.create(Error.prototype);var x=F,E=function(e){function t(t,n){var l=e.call(this)||this;return l.subject=t,l.subscriber=n,l.closed=!1,l}return l.__extends(t,e),t.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var e=this.subject,t=e.observers;if(this.subject=null,t&&0!==t.length&&!e.isStopped&&!e.closed){var n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}},t}(h),k=function(e){function t(t){var n=e.call(this,t)||this;return n.destination=t,n}return l.__extends(t,e),t}(b),A=function(e){function t(){var t=e.call(this)||this;return t.observers=[],t.closed=!1,t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return l.__extends(t,e),t.prototype[y]=function(){return new k(this)},t.prototype.lift=function(e){var t=new T(this,this);return t.operator=e,t},t.prototype.next=function(e){if(this.closed)throw new x;if(!this.isStopped)for(var t=this.observers,n=t.length,l=t.slice(),i=0;i<n;i++)l[i].next(e)},t.prototype.error=function(e){if(this.closed)throw new x;this.hasError=!0,this.thrownError=e,this.isStopped=!0;for(var t=this.observers,n=t.length,l=t.slice(),i=0;i<n;i++)l[i].error(e);this.observers.length=0},t.prototype.complete=function(){if(this.closed)throw new x;this.isStopped=!0;for(var e=this.observers,t=e.length,n=e.slice(),l=0;l<t;l++)n[l].complete();this.observers.length=0},t.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},t.prototype._trySubscribe=function(t){if(this.closed)throw new x;return e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){if(this.closed)throw new x;return this.hasError?(e.error(this.thrownError),h.EMPTY):this.isStopped?(e.complete(),h.EMPTY):(this.observers.push(e),new E(this,e))},t.prototype.asObservable=function(){var e=new _;return e.source=this,e},t.create=function(e,t){return new T(e,t)},t}(_),T=function(e){function t(t,n){var l=e.call(this)||this;return l.destination=t,l.source=n,l}return l.__extends(t,e),t.prototype.next=function(e){var t=this.destination;t&&t.next&&t.next(e)},t.prototype.error=function(e){var t=this.destination;t&&t.error&&this.destination.error(e)},t.prototype.complete=function(){var e=this.destination;e&&e.complete&&this.destination.complete()},t.prototype._subscribe=function(e){return this.source?this.source.subscribe(e):h.EMPTY},t}(A);function I(e){return e&&"function"==typeof e.schedule}var B=function(e){function t(t,n,l){var i=e.call(this)||this;return i.parent=t,i.outerValue=n,i.outerIndex=l,i.index=0,i}return l.__extends(t,e),t.prototype._next=function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)},t.prototype._error=function(e){this.parent.notifyError(e,this),this.unsubscribe()},t.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},t}(b),O=function(e){return function(t){for(var n=0,l=e.length;n<l&&!t.closed;n++)t.next(e[n]);t.closed||t.complete()}},R=function(e){return function(t){return e.then(function(e){t.closed||(t.next(e),t.complete())},function(e){return t.error(e)}).then(null,v),t}};function M(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}var P=M(),N=function(e){return function(t){for(var n=e[P]();;){var l=n.next();if(l.done){t.complete();break}if(t.next(l.value),t.closed)break}return"function"==typeof n.return&&t.add(function(){n.return&&n.return()}),t}},j=function(e){return function(t){var n=e[S]();if("function"!=typeof n.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(t)}},L=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e};function V(e){return e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}var $=function(e){if(e instanceof _)return function(t){return e._isScalar?(t.next(e.value),void t.complete()):e.subscribe(t)};if(e&&"function"==typeof e[S])return j(e);if(L(e))return O(e);if(V(e))return R(e);if(e&&"function"==typeof e[P])return N(e);var t=o(e)?"an invalid object":"'"+e+"'";throw new TypeError("You provided "+t+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")};function H(e,t,n,l,i){if(void 0===i&&(i=new B(e,n,l)),!i.closed)return $(t)(i)}var U=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return l.__extends(t,e),t.prototype.notifyNext=function(e,t,n,l,i){this.destination.next(t)},t.prototype.notifyError=function(e,t){this.destination.error(e)},t.prototype.notifyComplete=function(e){this.destination.complete()},t}(b);function z(e,t){return function(n){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new q(e,t))}}var q=function(){function e(e,t){this.project=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new G(e,this.project,this.thisArg))},e}(),G=function(e){function t(t,n,l){var i=e.call(this,t)||this;return i.project=n,i.count=0,i.thisArg=l||i,i}return l.__extends(t,e),t.prototype._next=function(e){var t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(t)},t}(b);function W(e,t){return new _(t?function(n){var l=new h,i=0;return l.add(t.schedule(function(){i!==e.length?(n.next(e[i++]),n.closed||l.add(this.schedule())):n.complete()})),l}:O(e))}function J(e,t){if(!t)return e instanceof _?e:new _($(e));if(null!=e){if(function(e){return e&&"function"==typeof e[S]}(e))return function(e,t){return new _(t?function(n){var l=new h;return l.add(t.schedule(function(){var i=e[S]();l.add(i.subscribe({next:function(e){l.add(t.schedule(function(){return n.next(e)}))},error:function(e){l.add(t.schedule(function(){return n.error(e)}))},complete:function(){l.add(t.schedule(function(){return n.complete()}))}}))})),l}:j(e))}(e,t);if(V(e))return function(e,t){return new _(t?function(n){var l=new h;return l.add(t.schedule(function(){return e.then(function(e){l.add(t.schedule(function(){n.next(e),l.add(t.schedule(function(){return n.complete()}))}))},function(e){l.add(t.schedule(function(){return n.error(e)}))})})),l}:R(e))}(e,t);if(L(e))return W(e,t);if(function(e){return e&&"function"==typeof e[P]}(e)||"string"==typeof e)return function(e,t){if(!e)throw new Error("Iterable cannot be null");return new _(t?function(n){var l,i=new h;return i.add(function(){l&&"function"==typeof l.return&&l.return()}),i.add(t.schedule(function(){l=e[P](),i.add(t.schedule(function(){if(!n.closed){var e,t;try{var i=l.next();e=i.value,t=i.done}catch(o){return void n.error(o)}t?n.complete():(n.next(e),this.schedule())}}))})),i}:N(e))}(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}var Q=function(){function e(e,t){void 0===t&&(t=Number.POSITIVE_INFINITY),this.project=e,this.concurrent=t}return e.prototype.call=function(e,t){return t.subscribe(new K(e,this.project,this.concurrent))},e}(),K=function(e){function t(t,n,l){void 0===l&&(l=Number.POSITIVE_INFINITY);var i=e.call(this,t)||this;return i.project=n,i.concurrent=l,i.hasCompleted=!1,i.buffer=[],i.active=0,i.index=0,i}return l.__extends(t,e),t.prototype._next=function(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)},t.prototype._tryNext=function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(l){return void this.destination.error(l)}this.active++,this._innerSub(t,e,n)},t.prototype._innerSub=function(e,t,n){var l=new B(this,void 0,void 0);this.destination.add(l),H(this,e,t,n,l)},t.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()},t.prototype.notifyNext=function(e,t,n,l,i){this.destination.next(t)},t.prototype.notifyComplete=function(e){var t=this.buffer;this.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},t}(U);function Z(e){return e}function X(e){return void 0===e&&(e=Number.POSITIVE_INFINITY),function e(t,n,l){return void 0===l&&(l=Number.POSITIVE_INFINITY),"function"==typeof n?function(i){return i.pipe(e(function(e,l){return J(t(e,l)).pipe(z(function(t,i){return n(e,t,l,i)}))},l))}:("number"==typeof n&&(l=n),function(e){return e.lift(new Q(t,l))})}(Z,e)}function Y(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Number.POSITIVE_INFINITY,l=null,i=e[e.length-1];return I(i)?(l=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(n=e.pop())):"number"==typeof i&&(n=e.pop()),null===l&&1===e.length&&e[0]instanceof _?e[0]:X(n)(W(e,l))}function ee(){return function(e){return e.lift(new te(e))}}var te=function(){function e(e){this.connectable=e}return e.prototype.call=function(e,t){var n=this.connectable;n._refCount++;var l=new ne(e,n),i=t.subscribe(l);return l.closed||(l.connection=n.connect()),i},e}(),ne=function(e){function t(t,n){var l=e.call(this,t)||this;return l.connectable=n,l}return l.__extends(t,e),t.prototype._unsubscribe=function(){var e=this.connectable;if(e){this.connectable=null;var t=e._refCount;if(t<=0)this.connection=null;else if(e._refCount=t-1,t>1)this.connection=null;else{var n=this.connection,l=e._connection;this.connection=null,!l||n&&l!==n||l.unsubscribe()}}else this.connection=null},t}(b),le=function(e){function t(t,n){var l=e.call(this)||this;return l.source=t,l.subjectFactory=n,l._refCount=0,l._isComplete=!1,l}return l.__extends(t,e),t.prototype._subscribe=function(e){return this.getSubject().subscribe(e)},t.prototype.getSubject=function(){var e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject},t.prototype.connect=function(){var e=this._connection;return e||(this._isComplete=!1,(e=this._connection=new h).add(this.source.subscribe(new oe(this.getSubject(),this))),e.closed?(this._connection=null,e=h.EMPTY):this._connection=e),e},t.prototype.refCount=function(){return ee()(this)},t}(_).prototype,ie={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:le._subscribe},_isComplete:{value:le._isComplete,writable:!0},getSubject:{value:le.getSubject},connect:{value:le.connect},refCount:{value:le.refCount}},oe=function(e){function t(t,n){var l=e.call(this,t)||this;return l.connectable=n,l}return l.__extends(t,e),t.prototype._error=function(t){this._unsubscribe(),e.prototype._error.call(this,t)},t.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){var e=this.connectable;if(e){this.connectable=null;var t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}},t}(k);function re(){return new A}function ue(e){for(var t in e)if(e[t]===ue)return t;throw Error("Could not find renamed property on target object.")}var se=ue({ngComponentDef:ue}),ae=ue({ngInjectableDef:ue}),ce=ue({ngInjectorDef:ue}),pe=ue({ngModuleDef:ue}),de=ue({__NG_ELEMENT_ID__:ue});function he(e){return{providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function fe(e){return e&&e.hasOwnProperty(ae)?e[ae]:null}function ge(e){return e&&e.hasOwnProperty(ce)?e[ce]:null}var me=function(){function e(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.ngInjectableDef=void 0!==t?he({providedIn:t.providedIn||"root",factory:t.factory}):void 0}return e.prototype.toString=function(){return"InjectionToken "+this._desc},e}(),ve="__parameters__";function De(e,t,n){var i=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(e){var i=e.apply(void 0,Object(l.__spread)(t));for(var o in i)this[o]=i[o]}}}(t);function o(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(this instanceof o)return i.apply(this,t),this;var r=new((e=o).bind.apply(e,Object(l.__spread)([void 0],t)));return u.annotation=r,u;function u(e,t,n){for(var l=e.hasOwnProperty(ve)?e[ve]:Object.defineProperty(e,ve,{value:[]})[ve];l.length<=n;)l.push(null);return(l[n]=l[n]||[]).push(r),e}}return n&&(o.prototype=Object.create(n.prototype)),o.prototype.ngMetadataName=e,o.annotationCls=o,o}var ye="undefined"!=typeof window&&window,be="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Ce="undefined"!=typeof global&&global||ye||be,Se=Promise.resolve(0),_e=null;function we(){if(!_e){var e=Ce.Symbol;if(e&&e.iterator)_e=e.iterator;else for(var t=Object.getOwnPropertyNames(Map.prototype),n=0;n<t.length;++n){var l=t[n];"entries"!==l&&"size"!==l&&Map.prototype[l]===Map.prototype.entries&&(_e=l)}}return _e}function Fe(e){"undefined"==typeof Zone?Se.then(function(){e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}function xe(e,t){return e===t||"number"==typeof e&&"number"==typeof t&&isNaN(e)&&isNaN(t)}function Ee(e){if("string"==typeof e)return e;if(e instanceof Array)return"["+e.map(Ee).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return""+e.overriddenName;if(e.name)return""+e.name;var t=e.toString();if(null==t)return""+t;var n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}var ke=ue({__forward_ref__:ue});function Ae(e){return e.__forward_ref__=Ae,e.toString=function(){return Ee(this())},e}function Te(e){var t=e;return"function"==typeof t&&t.hasOwnProperty(ke)&&t.__forward_ref__===Ae?t():e}var Ie=function(e){return e[e.Emulated=0]="Emulated",e[e.Native=1]="Native",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}({}),Be=0,Oe=1,Re=2,Me=3,Pe=5,Ne=6,je=7,Le=8,Ve=9,$e=10,He=11,Ue=12,ze=13,qe=15,Ge=17,We=18,Je=0,Qe=1,Ke=6,Ze=8,Xe="__ngContext__",Ye=8,et=8,tt=9,nt=-1,lt=function(){return function(e,t,n){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=n}}(),it=lt.prototype;function ot(e){return"function"==typeof e?e.name||e:"string"==typeof e?e:null==e?"":"object"==typeof e&&"function"==typeof e.type?e.type.name||e.type:""+e}function rt(e){for(;Array.isArray(e);)e=e[Pe];return e}function ut(e,t){return rt(t[e.index])}function st(e,t){var n=t[e];return n.length>=We?n:n[Pe]}function at(e){return null!==e.template}function ct(e){return e[Xe]}function pt(e){var t=ct(e);return t?Array.isArray(t)?t:t.lView:null}function dt(e){return 32767&e}function ht(e,t){for(var n=e>>16,l=t;n>0;)l=l[Ge],n--;return l}var ft=("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Ce);function gt(e){for(var t=e[Ne];t&&2===t.type;)t=(e=e[Ge])[Ne];return e}var mt,vt,Dt,yt,bt=De("Inject",function(e){return{token:e}}),Ct=De("Optional"),St=De("Self"),_t=De("SkipSelf"),wt=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}({}),Ft=void 0;function xt(e){var t=Ft;return Ft=e,t}function Et(e){var t=mt;return mt=e,t}function kt(e,t){return void 0===t&&(t=wt.Default),(mt||function(e,t){if(void 0===t&&(t=wt.Default),void 0===Ft)throw new Error("inject() must be called from an injection context");return null===Ft?At(e,void 0,t):Ft.get(e,t&wt.Optional?null:void 0,t)})(e,t)}function At(e,t,n){var l=fe(e);if(l&&"root"==l.providedIn)return void 0===l.value?l.value=l.factory():l.value;if(n&wt.Optional)return null;if(void 0!==t)return t;throw new Error("Injector: NOT_FOUND ["+Ee(e)+"]")}function Tt(e){for(var t=[],n=0;n<e.length;n++){var l=e[n];if(Array.isArray(l)){if(0===l.length)throw new Error("Arguments array must have arguments.");for(var i=void 0,o=wt.Default,r=0;r<l.length;r++){var u=l[r];u instanceof Ct||"Optional"===u.ngMetadataName?o|=wt.Optional:u instanceof _t||"SkipSelf"===u.ngMetadataName?o|=wt.SkipSelf:u instanceof St||"Self"===u.ngMetadataName?o|=wt.Self:i=u instanceof bt?u.token:u}t.push(kt(i,o))}else t.push(kt(l))}return t}function It(e,t,n){e.afterContentInit&&(t.contentHooks||(t.contentHooks=[])).push(n,e.afterContentInit),e.afterContentChecked&&((t.contentHooks||(t.contentHooks=[])).push(n,e.afterContentChecked),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,e.afterContentChecked))}function Bt(e,t,n){e.afterViewInit&&(t.viewHooks||(t.viewHooks=[])).push(n,e.afterViewInit),e.afterViewChecked&&((t.viewHooks||(t.viewHooks=[])).push(n,e.afterViewChecked),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,e.afterViewChecked))}function Ot(e,t,n){null!=e.onDestroy&&(t.destroyHooks||(t.destroyHooks=[])).push(n,e.onDestroy)}function Rt(e,t,n,l){if(!l){var i=2&e[Oe]?t:n;i&&Mt(e,i)}}function Mt(e,t){for(var n=0;n<t.length;n+=2)t[n+1].call(e[t[n]])}function Pt(){return yt}function Nt(){return vt}function jt(e){vt=e}function Lt(e,t){vt=e,yt=t}function Vt(){return Dt}function $t(e){Dt=e}function Ht(e){return void 0===e&&(e=yt),1==(1&e[Oe])}var Ut=!1;function zt(){return Ut}function qt(e){Ut=e}var Gt=!0;function Wt(){return Gt}function Jt(e){Gt=e}function Qt(e,t){var n=yt;e&&(Gt=e[Be].firstTemplatePass);return vt=t,Dt=!0,yt=e,n}function Kt(e){var t=yt[Be];Ht(yt)?yt[Oe]&=-2:(Rt(yt,t.viewHooks,t.viewCheckHooks,Ut),yt[Oe]&=-11,yt[Oe]|=32,yt[je]=t.bindingStartIndex),Qt(e,null)}var Zt=!0;function Xt(e){var t=Zt;return Zt=e,t}var Yt=255,en=0;function tn(e,t){e.push(0,0,0,0,0,0,0,0,t)}function nn(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null==t[e.injectorIndex+et]?-1:e.injectorIndex}function ln(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;for(var n=t[Ne],l=1;n&&-1===n.injectorIndex;)n=(t=t[Ge])?t[Ne]:null,l++;return n?n.injectorIndex|l<<16:-1}var on={};function rn(e,t,n,l,i,o){var r=t[Be],u=r.data[e+Ye],s=function(e,t,n,l,i){for(var o=e.providerIndexes,r=t[Be].data,u=65535&o,s=e.directiveStart,a=o>>16,c=i?u+a:e.directiveEnd,p=l?u:u+a;p<c;p++){var d=r[p];if(p<s&&n===d||p>=s&&d.type===n)return p}if(i){var h=r[s];if(h&&at(h)&&h.type===n)return s}return null}(u,t,n,null==l?function(e){return 1==(1&e.flags)}(u)&&Zt:l!=r&&3===u.type,i&wt.Host&&o===u);return null!==s?un(r.data,t,s,u):on}function un(e,t,n,l){var i,o=t[n];if(null!=(i=o)&&"object"==typeof i&&Object.getPrototypeOf(i)==it){var r=o;if(r.resolving)throw new Error("Circular dep for "+ot(e[n]));var u=Xt(r.canSeeViewProviders);r.resolving=!0;var s=void 0;r.injectImpl&&(s=Et(r.injectImpl));var a=Nt(),c=Pt();Lt(l,t);try{o=t[n]=r.factory(null,e,t,l)}finally{r.injectImpl&&Et(s),Xt(u),r.resolving=!1,Lt(a,c)}}return o}function sn(e,t,n){var l=64&e,i=32&e;return!!((128&e?l?i?n[t+7]:n[t+6]:i?n[t+5]:n[t+4]:l?i?n[t+3]:n[t+2]:i?n[t+1]:n[t])&1<<e)}function an(e,t){return!(e&wt.Self||e&wt.Host&&t)}var cn=function(){function e(e,t){this._tNode=e,this._lView=t}return e.prototype.get=function(e,t){return function(e,t,n,l,i){if(void 0===l&&(l=wt.Default),e){var o=function(e){if("string"==typeof e)return e.charCodeAt(0)||0;var t=e[de];return"number"==typeof t?t&Yt:t}(n);if("function"==typeof o){var r=Nt(),u=Pt();Lt(e,t);try{var s=o();if(null!=s||l&wt.Optional)return s;throw new Error("No provider for "+ot(n)+"!")}finally{Lt(r,u)}}else if("number"==typeof o){var a=null,c=nn(e,t),p=nt,d=l&wt.Host?gt(t)[Ne]:null;for((-1===c||l&wt.SkipSelf)&&(p=-1===c?ln(e,t):t[c+et],an(l,!1)?(a=t[Be],c=dt(p),t=ht(p,t)):c=-1);-1!==c;){p=t[c+et];var h=t[Be];if(sn(o,c,h.data)){var f=rn(c,t,n,a,l,d);if(f!==on)return f}an(l,t[Be].data[c+Ye]===d)&&sn(o,c,t)?(a=h,c=dt(p),t=ht(p,t)):c=-1}}}if(l&wt.Optional&&void 0===i&&(i=null),0==(l&(wt.Self|wt.Host))){var g=t[$e];return g?g.get(n,i,l&wt.Optional):At(n,i,l&wt.Optional)}if(l&wt.Optional)return i;throw new Error("NodeInjector: NOT_FOUND ["+ot(n)+"]")}(this._tNode,this._lView,e,void 0,t)},e}();function pn(e,t){e[Xe]=t}var dn=/([A-Z])/g;function hn(e){try{return null!=e?e.toString().slice(0,30):e}catch(t){return"[ERROR] Exception while trying to serialize the value"}}function fn(e,t){var n=vn(e),l=vn(t);return n&&l?function(e,t,n){for(var l=e[we()](),i=t[we()]();;){var o=l.next(),r=i.next();if(o.done&&r.done)return!0;if(o.done||r.done)return!1;if(!n(o.value,r.value))return!1}}(e,t,fn):!(n||!e||"object"!=typeof e&&"function"!=typeof e||l||!t||"object"!=typeof t&&"function"!=typeof t)||xe(e,t)}var gn=function(){function e(e){this.wrapped=e}return e.wrap=function(t){return new e(t)},e.unwrap=function(t){return e.isWrapped(t)?t.wrapped:t},e.isWrapped=function(t){return t instanceof e},e}(),mn=function(){function e(e,t,n){this.previousValue=e,this.currentValue=t,this.firstChange=n}return e.prototype.isFirstChange=function(){return this.firstChange},e}();function vn(e){return!!Dn(e)&&(Array.isArray(e)||!(e instanceof Map)&&we()in e)}function Dn(e){return null!==e&&("function"==typeof e||"object"==typeof e)}var yn={},bn="ngProjectAs";function Cn(e){return!!e.listen}var Sn={createRenderer:function(e,t){return document}},_n=[];function wn(e,t,n,l,i){0===e?Cn(t)?t.insertBefore(n,l,i):n.insertBefore(l,i,!0):1===e?Cn(t)?t.removeChild(n,l):n.removeChild(l):2===e&&t.destroyNode(l)}function Fn(e){var t=e[Be].childIndex;return-1===t?null:e[t]}function xn(e,t){var n;return e.length>=We&&(n=e[Ne])&&2===n.type?function(t,n){if(-1===t.index){var l=e[qe];return l>-1?e[Re][l]:null}return e[Re][t.parent.index]}(n):e[Re]===t?null:e[Re]}function En(e){if(e.length>=We){var t=e;!function(e){var t,n=e[Be];null!=n&&null!=(t=n.destroyHooks)&&Mt(e,t)}(t),(i=(l=t)[Be]&&l[Be].pipeDestroyHooks)&&Mt(l,i),function(e){var t=e[Be].cleanup;if(null!=t){for(var n=e[Le],l=0;l<t.length-1;l+=2)if("string"==typeof t[l]){var i=n[t[l+2]],o=rt(e[t[l+1]]),r=t[l+3];"boolean"==typeof r?o.removeEventListener(t[l],i,r):r>=0?n[r]():n[-r].unsubscribe(),l+=2}else"number"==typeof t[l]?(0,n[t[l]])():t[l].call(n[t[l+1]]);e[Le]=null}}(t);var n=t[Ne];n&&3===n.type&&Cn(t[Ue])&&t[Ue].destroy()}var l,i}var kn="@",An=Promise.resolve(null);function Tn(e){var t=e[Be];if(t.firstTemplatePass=!1,Jt(!1),!Ht(e)){var n=zt();(function(e,t,n){!n&&32&e[Oe]&&(Rt(e,t.initHooks,t.checkHooks,n),e[Oe]&=-33)})(e,t,n),function(e){for(var t=Fn(e);null!==t;t=t[Me])if(t.length<We&&-1===t[Je])for(var n=t,l=0;l<n[Qe].length;l++){var i=n[Qe][l];On(i,i[Be],i[Ve])}}(e),function(e){if(null!=e.contentQueries)for(var t=0;t<e.contentQueries.length;t+=2){var n=e.contentQueries[t];e.data[n].contentQueriesRefresh(n-We,e.contentQueries[t+1])}}(t),Rt(e,t.contentHooks,t.contentCheckHooks,n),function(e,t){if(e.expandoInstructions)for(var n=t[je]=e.expandoStartIndex,l=-1,i=-1,o=0;o<e.expandoInstructions.length;o++){var r=e.expandoInstructions[o];if("number"==typeof r)if(r<=0){i=-r;var u=e.expandoInstructions[++o];l=n+=tt+u}else n+=r;else null!==r&&(t[je]=n,r(2,rt(t[l]),i)),l++}}(t,e)}!function(e){if(null!=e)for(var t=0;t<e.length;t++)void 0,void 0,16==(16&(n=st(e[t],Pt()))[Oe])&&12&n[Oe]&&(function(e){for(var t=e[Be],n=e.length;n<t.blueprint.length;n++)e[n]=t.blueprint[n]}(n),Un(n,n[Ve]));var n}(t.components)}function In(e,t,n,l,i,o,r,u){var s=t.blueprint.slice();return s[Oe]=51|l,s[Re]=s[Ge]=e,s[Ve]=n,s[He]=i||e&&e[He],s[Ue]=o||e&&e[Ue],s[ze]=r||e&&e[ze]||null,s[$e]=u||e&&e[$e]||null,s}function Bn(e,t,n,l,i){var o=Pt(),r=o[Be],u=e+We;o[u]=n;var s=r.data[u];null==s&&(s=r.data[u]=Ln(o,t,u,l,i,null));var a=Nt(),c=Vt();return a&&(!c||null!=a.child||null===s.parent&&2!==a.type?c||(a.next=s):a.child=s),null==r.firstChild&&(r.firstChild=s),jt(s),$t(!0),s}function On(e,t,n){var l,i=Vt(),o=Nt();if($t(!0),jt(null),128&e[Oe])Vn(function(e){for(var t=Array.isArray(e)?e:pt(e);t&&!(128&t[Oe]);)t=t[Re];return t}(e)[Ve]);else try{$t(!0),jt(null),l=Qt(e,e[Ne]),Nn(),t.template(Mn(e),n),e[Be].firstTemplatePass=!1,Jt(!1),Tn(e)}finally{Kt(l),$t(i),jt(o)}}function Rn(e,t,n){var l=e[He],i=Qt(e,e[Ne]),o=!zt();try{o&&l.begin&&l.begin(),Ht(e)&&(n&&(Nn(),n(1,t)),Tn(e),e[Oe]&=-2),n&&n(2,t),Tn(e)}finally{o&&l.end&&l.end(),Kt(i)}}function Mn(e){return Ht(e)?1:2}var Pn=null;function Nn(){Pn=null}function jn(e,t,n,l,i,o,r){var u=We+n,s=u+l,a=function(e,t){var n=new Array(t).fill(null,0,e).fill(yn,e);return n[qe]=-1,n[je]=e,n}(u,s);return a[Be]={id:e,blueprint:a,template:t,viewQuery:r,node:null,data:a.slice(),childIndex:-1,bindingStartIndex:u,expandoStartIndex:s,expandoInstructions:null,firstTemplatePass:!0,initHooks:null,checkHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,pipeDestroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof i?i():i,pipeRegistry:"function"==typeof o?o():o,firstChild:null}}function Ln(e,t,n,l,i,o){var r=Nt(),u=Vt()?r:r&&r.parent,s=u&&e&&u!==e[Ne]?u:null;return{type:t,index:n,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,flags:0,providerIndexes:0,tagName:l,attrs:i,localNames:null,initialInputs:void 0,inputs:void 0,outputs:void 0,tViews:o,next:null,child:null,parent:s,detached:null,stylingTemplate:null,projection:null}}function Vn(e){for(var t=0;t<e.components.length;t++){var n=e.components[t];Rn(pt(n),n)}}function $n(e,t){var n=e[He];n.begin&&n.begin(),Ht(e)&&Un(e,t),Un(e,t),n.end&&n.end()}function Hn(e){Vn(e[Ve])}function Un(e,t){var n=e[Be],l=Qt(e,e[Ne]),i=n.template,o=n.viewQuery;try{Nn(),function(t,n,l){t&&Ht(e)&&t(1,l)}(o,0,t),i(Mn(e),t),Tn(e),function(t,n,l){t&&!Ht(e)&&t(2,l)}(o,0,t)}finally{Kt(l)}}var zn=An;function qn(e,t,n,l,i,o){Dt=!1,vt=null;var r,u=n[Be],s=In(n,(r=t.template).ngPrivateData||(r.ngPrivateData=jn(-1,r,t.consts,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery)),null,t.onPush?8:4,l,i,o),a=Bn(0,3,e,null,null);return u.firstTemplatePass&&(function(e,t,n){var l="string"!=typeof n?n[de]:n.charCodeAt(0)||0;null==l&&(l=n[de]=en++);var i=l&Yt,o=1<<i,r=64&i,u=32&i,s=t.data;128&i?r?u?s[e+7]|=o:s[e+6]|=o:u?s[e+5]|=o:s[e+4]|=o:r?u?s[e+3]|=o:s[e+2]|=o:u?s[e+1]|=o:s[e]|=o}(function(e,t){var n=nn(e,t);if(-1!==n)return n;var l=t[Be];l.firstTemplatePass&&(e.injectorIndex=t.length,tn(l.data,e),tn(t,null),tn(l.blueprint,null));var i=ln(e,t),o=dt(i),r=ht(i,t),u=e.injectorIndex;if(i!==nt)for(var s=r[Be].data,a=0;a<8;a++)t[u+a]=r[o+a]|s[o+a];return t[u+et]=i,u}(a,n),n[Be],t.type),a.flags=1,function(e,t,n){e.flags=1&e.flags,e.directiveStart=t,e.directiveEnd=t+1,e.providerIndexes=t}(a,n.length),function(e){var t=Pt()[Be];(t.components||(t.components=[])).push(e.index)}(a)),s[Pe]=n[We],s[Ne]=a,n[We]=s}function Gn(e,t,n,l,i){var o=n[Be],r=function(e,t,n){var l=Nt();e.firstTemplatePass&&(n.providersResolver&&n.providersResolver(n),function(e,t,n){var i=-(l.index-We),o=e.data.length-(65535&l.providerIndexes);(e.expandoInstructions||(e.expandoInstructions=[])).push(i,o,1)}(e),function(e,t,n,l){e.data.push(n);var i=new lt(l,at(n),null);e.blueprint.push(i),t.push(i)}(e,t,n,n.factory));var i=un(e.data,t,t.length-1,l);return function(e,t,n,l){var i=ut(t,e);pn(n,e),i&&pn(i,e),null!=l.attributes&&3==t.type&&function(e,t){for(var n=Pt()[Ue],l=Cn(n),i=0;i<t.length;){var o=t[i++];if("number"==typeof o){if(0!==o)break;var r=t[i++],u=t[i++],s=t[i++];l?n.setAttribute(e,u,s,r):e.setAttributeNS(r,u,s)}else s=t[i++],o!==bn&&(o[0]===kn?l&&n.setProperty(e,o,s):l?n.setAttribute(e,o,s):e.setAttribute(o,s))}}(i,l.attributes)}(t,l,i,n),i}(o,n,t);if(l.components.push(r),e[Ve]=r,i&&i.forEach(function(e){return e(r,t)}),o.firstTemplatePass&&t.hostBindings){var u=Nt();t.hostBindings(1,r,u.index-We)}return r}function Wn(e,t){return{components:[],scheduler:e||ft,clean:zn,playerHandler:t||null,flags:0}}function Jn(e,t){var n,l,i,o,r=pt(e)[Be],u=r.data.length-1;n=u,i=t.doCheck,o=r,(l=t.onInit)&&(o.initHooks||(o.initHooks=[])).push(n,l),i&&((o.initHooks||(o.initHooks=[])).push(n,i),(o.checkHooks||(o.checkHooks=[])).push(n,i)),function(e,t){if(e.firstTemplatePass)for(var n=t.directiveStart,l=t.directiveEnd;n<l;n++){var i=e.data[n];It(i,e,n),Bt(i,e,n),Ot(i,e,n)}}(r,{directiveStart:u,directiveEnd:u+1})}function Qn(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]}var Kn="__source",Zn=new Object,Xn=Zn,Yn=new me("INJECTOR"),el=function(){function e(){}return e.prototype.get=function(e,t){if(void 0===t&&(t=Zn),t===Zn)throw new Error("NullInjectorError: No provider for "+Ee(e)+"!");return t},e}(),tl=function(){function e(){}return e.create=function(e,t){return Array.isArray(e)?new pl(e,t):new pl(e.providers,e.parent,e.name||null)},e.THROW_IF_NOT_FOUND=Zn,e.NULL=new el,e.ngInjectableDef=he({providedIn:"any",factory:function(){return kt(Yn)}}),e.__NG_ELEMENT_ID__=function(){return nl()},e}(),nl=Qn,ll=function(e){return e},il=[],ol=ll,rl=function(){return Array.prototype.slice.call(arguments)},ul=ue({provide:String,useValue:ue}),sl=tl.NULL,al=/\n/gm,cl="\u0275",pl=function(){function e(e,t,n){void 0===t&&(t=sl),void 0===n&&(n=null),this.parent=t,this.source=n;var l=this._records=new Map;l.set(tl,{token:tl,fn:ll,deps:il,value:this,useNew:!1}),l.set(Yn,{token:Yn,fn:ll,deps:il,value:this,useNew:!1}),function e(t,n){if(n)if((n=Te(n))instanceof Array)for(var l=0;l<n.length;l++)e(t,n[l]);else{if("function"==typeof n)throw fl("Function/Class not supported",n);if(!n||"object"!=typeof n||!n.provide)throw fl("Unexpected provider",n);var i=Te(n.provide),o=function(e){var t=function(e){var t=il,n=e.deps;if(n&&n.length){t=[];for(var l=0;l<n.length;l++){var i=6;if((s=Te(n[l]))instanceof Array)for(var o=0,r=s;o<r.length;o++){var u=r[o];u instanceof Ct||u==Ct?i|=1:u instanceof _t||u==_t?i&=-3:u instanceof St||u==St?i&=-5:s=u instanceof bt?u.token:Te(u)}t.push({token:s,options:i})}}else if(e.useExisting){var s;t=[{token:s=Te(e.useExisting),options:6}]}else if(!(n||ul in e))throw fl("'deps' required",e);return t}(e),n=ll,l=il,i=!1,o=Te(e.provide);if(ul in e)l=e.useValue;else if(e.useFactory)n=e.useFactory;else if(e.useExisting);else if(e.useClass)i=!0,n=Te(e.useClass);else{if("function"!=typeof o)throw fl("StaticProvider does not have [useValue|useFactory|useExisting|useClass] or [provide] is not newable",e);i=!0,n=o}return{deps:t,fn:n,useNew:i,value:l}}(n);if(!0===n.multi){var r=t.get(i);if(r){if(r.fn!==rl)throw dl(i)}else t.set(i,r={token:n.provide,deps:[],useNew:!1,fn:rl,value:il});r.deps.push({token:i=n,options:6})}var u=t.get(i);if(u&&u.fn==rl)throw dl(i);t.set(i,o)}}(l,e)}return e.prototype.get=function(e,t,n){void 0===n&&(n=wt.Default);var i=this._records.get(e);try{return function e(t,n,i,o,r,u){try{return function(t,n,i,o,r,u){var s,a;if(!n||u&wt.SkipSelf)u&wt.Self||(a=o.get(t,r,wt.Default));else{if((a=n.value)==ol)throw Error(cl+"Circular dependency");if(a===il){n.value=ol;var c=n.useNew,p=n.fn,d=n.deps,h=il;if(d.length){h=[];for(var f=0;f<d.length;f++){var g=d[f],m=g.options,v=2&m?i.get(g.token):void 0;h.push(e(g.token,v,i,v||4&m?o:sl,1&m?null:tl.THROW_IF_NOT_FOUND,wt.Default))}}n.value=a=c?new((s=p).bind.apply(s,Object(l.__spread)([void 0],h))):p.apply(void 0,h)}}return a}(t,n,i,o,r,u)}catch(s){throw s instanceof Error||(s=new Error(s)),(s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(t),n&&n.value==ol&&(n.value=il),s}}(e,i,this._records,this.parent,t,n)}catch(r){var o=r.ngTempTokenPath;throw e[Kn]&&o.unshift(e[Kn]),r.message=hl("\n"+r.message,o,this.source),r.ngTokenPath=o,r.ngTempTokenPath=null,r}},e.prototype.toString=function(){var e=[];return this._records.forEach(function(t,n){return e.push(Ee(n))}),"StaticInjector["+e.join(", ")+"]"},e}();function dl(e){return fl("Cannot mix multi providers and regular providers",e)}function hl(e,t,n){void 0===n&&(n=null),e=e&&"\n"===e.charAt(0)&&e.charAt(1)==cl?e.substr(2):e;var l=Ee(t);if(t instanceof Array)l=t.map(Ee).join(" -> ");else if("object"==typeof t){var i=[];for(var o in t)if(t.hasOwnProperty(o)){var r=t[o];i.push(o+":"+("string"==typeof r?JSON.stringify(r):Ee(r)))}l="{"+i.join(", ")+"}"}return"StaticInjectorError"+(n?"("+n+")":"")+"["+l+"]: "+e.replace(al,"\n  ")}function fl(e,t){return new Error(hl(e,t))}var gl=new me("The presence of this token marks an injector as being the root injector."),ml={},vl={},Dl=[],yl=void 0;function bl(){return void 0===yl&&(yl=new el),yl}var Cl=function(){function e(e,t,n){var l=this;this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this.destroyed=!1;var i=[];wl([e],function(e){return l.processInjectorType(e,[],i)}),t&&wl(t,function(n){return l.processProvider(n,e,t)}),this.records.set(Yn,_l(void 0,this)),this.isRootInjector=this.records.has(gl),this.injectorDefTypes.forEach(function(e){return l.get(e)})}return e.prototype.destroy=function(){this.assertNotDestroyed(),this.destroyed=!0;try{this.onDestroy.forEach(function(e){return e.ngOnDestroy()})}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}},e.prototype.get=function(e,t,n){void 0===t&&(t=Xn),void 0===n&&(n=wt.Default),this.assertNotDestroyed();var l,i=xt(this);try{if(!(n&wt.SkipSelf)){var o=this.records.get(e);if(void 0===o){var r=("function"==typeof(l=e)||"object"==typeof l&&l instanceof me)&&fe(e);r&&this.injectableDefInScope(r)&&(o=_l(Sl(e),ml),this.records.set(e,o))}if(void 0!==o)return this.hydrate(e,o)}return(n&wt.Self?bl():this.parent).get(e,t)}finally{xt(i)}},e.prototype.assertNotDestroyed=function(){if(this.destroyed)throw new Error("Injector has already been destroyed.")},e.prototype.processInjectorType=function(e,t,n){var l=this;if(e=Te(e)){var i=ge(e),o=null==i&&e.ngModule||void 0,r=void 0===o?e:o,u=-1!==n.indexOf(r),s=void 0!==o&&e.providers||Dl;if(void 0!==o&&(i=ge(o)),null!=i){if(this.injectorDefTypes.add(r),this.records.set(r,_l(i.factory,ml)),null!=i.imports&&!u){n.push(r);try{wl(i.imports,function(e){return l.processInjectorType(e,t,n)})}finally{}}var a=i.providers;if(null!=a&&!u){var c=e;wl(a,function(e){return l.processProvider(e,c,a)})}var p=e.ngModule;wl(s,function(e){return l.processProvider(e,p,s)})}}},e.prototype.processProvider=function(e,t,n){var i=xl(e=Te(e))?e:Te(e&&e.provide),o=function(e,t,n){var i=function(e,t,n){var i,o=void 0;if(xl(e))return Sl(Te(e));if(Fl(e))o=function(){return Te(e.useValue)};else if((i=e)&&i.useExisting)o=function(){return kt(Te(e.useExisting))};else if(e&&e.useFactory)o=function(){return e.useFactory.apply(e,Object(l.__spread)(Tt(e.deps||[])))};else{var r=Te(e&&(e.useClass||e.provide));if(!r){var u="";throw t&&n&&(u=" - only instances of Provider and Type are allowed, got: ["+n.map(function(t){return t==e?"?"+e+"?":"..."}).join(", ")+"]"),new Error("Invalid provider for the NgModule '"+Ee(t)+"'"+u)}if(!e.deps)return Sl(r);o=function(){return new(r.bind.apply(r,Object(l.__spread)([void 0],Tt(e.deps))))}}return o}(e,t,n);return Fl(e)?_l(void 0,e.useValue):_l(i,ml)}(e,t,n);if(xl(e)||!0!==e.multi){var r=this.records.get(i);if(r&&void 0!==r.multi)throw new Error("Mixed multi-provider for "+Ee(i))}else{var u=this.records.get(i);if(u){if(void 0===u.multi)throw new Error("Mixed multi-provider for "+i+".")}else(u=_l(void 0,ml,!0)).factory=function(){return Tt(u.multi)},this.records.set(i,u);i=e,u.multi.push(e)}this.records.set(i,o)},e.prototype.hydrate=function(e,t){if(t.value===vl)throw new Error("Cannot instantiate cyclic dependency! "+Ee(e));var n;return t.value===ml&&(t.value=vl,t.value=t.factory()),"object"==typeof t.value&&t.value&&"object"==typeof(n=t.value)&&null!=n&&n.ngOnDestroy&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(t.value),t.value},e.prototype.injectableDefInScope=function(e){return!!e.providedIn&&("string"==typeof e.providedIn?"any"===e.providedIn||"root"===e.providedIn&&this.isRootInjector:this.injectorDefTypes.has(e.providedIn))},e}();function Sl(e){var t=fe(e);if(null===t){var n=ge(e);if(null!==n)return n.factory;if(e instanceof me)throw new Error("Token "+Ee(e)+" is missing an ngInjectableDef definition.");if(e instanceof Function){var l=e.length;if(l>0){var i=new Array(l).fill("?");throw new Error("Can't resolve all parameters for "+Ee(e)+": ("+i.join(", ")+").")}return function(){return new e}}throw new Error("unreachable")}return t.factory}function _l(e,t,n){return void 0===n&&(n=!1),{factory:e,value:t,multi:n?[]:void 0}}function wl(e,t){e.forEach(function(e){return Array.isArray(e)?wl(e,t):t(e)})}function Fl(e){return e&&"object"==typeof e&&ul in e}function xl(e){return"function"==typeof e}var El=function(){return function(){}}(),kl=function(){return function(){}}();function Al(e){var t=Error("No component factory found for "+Ee(e)+". Did you add it to @NgModule.entryComponents?");return t[Il]=e,t}var Tl,Il="ngComponent",Bl=function(){function e(){}return e.prototype.resolveComponentFactory=function(e){throw Al(e)},e}(),Ol=function(){function e(){}return e.NULL=new Bl,e}(),Rl=function(){function e(e,t,n){this._parent=t,this._ngModule=n,this._factories=new Map;for(var l=0;l<e.length;l++){var i=e[l];this._factories.set(i.componentType,i)}}return e.prototype.resolveComponentFactory=function(e){var t=this._factories.get(e);if(!t&&this._parent&&(t=this._parent.resolveComponentFactory(e)),!t)throw Al(e);return new Ml(t,this._ngModule)},e}(),Ml=function(e){function t(t,n){var l=e.call(this)||this;return l.factory=t,l.ngModule=n,l.selector=t.selector,l.componentType=t.componentType,l.ngContentSelectors=t.ngContentSelectors,l.inputs=t.inputs,l.outputs=t.outputs,l}return Object(l.__extends)(t,e),t.prototype.create=function(e,t,n,l){return this.factory.create(e,t,n,l||this.ngModule)},t}(kl),Pl=function(){return function(){}}(),Nl=function(){return function(){}}(),jl=function(e){function t(t){var n=e.call(this,t,null,-1)||this;return n._view=t,n}return Object(l.__extends)(t,e),t.prototype.detectChanges=function(){Hn(this._view)},t.prototype.checkNoChanges=function(){!function(e){qt(!0);try{Hn(e)}finally{qt(!1)}}(this._view)},Object.defineProperty(t.prototype,"context",{get:function(){return null},enumerable:!0,configurable:!0}),t}(function(){function e(e,t,n){this._context=t,this._componentIndex=n,this._appRef=null,this._viewContainerRef=null,this._tViewNode=null,this._lView=e}return Object.defineProperty(e.prototype,"rootNodes",{get:function(){return null==this._lView[Pe]?function e(t,n,l){for(var i=n.child;i;)l.push(ut(i,t)),4===i.type&&e(t,i,l),i=i.next;return l}(this._lView,this._lView[Ne],[]):[]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"context",{get:function(){return this._context?this._context:this._lookUpContext()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"destroyed",{get:function(){return 64==(64&this._lView[Oe])},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){var e=this._viewContainerRef.indexOf(this);e>-1&&this._viewContainerRef.detach(e),this._viewContainerRef=null}var t,n;Cn(n=(t=this._lView)[Ue])&&n.destroyNode&&function(e,n,l,i,o){for(var r=t[Be].node,u=-1,s=t,a=r.child;a;){var c=null;if(3===a.type){wn(2,l,null,ut(a,s),o);var p=s[a.index];g=p,Array.isArray(g)&&g.length===Ze&&wn(2,l,null,p[Ke],o)}else if(0===a.type){var d=s[a.index];wn(2,l,null,d[Ke],o),d[Qe].length&&(c=(s=d[Qe][0])[Be].node,o=d[Ke])}else if(1===a.type){var h=gt(s),f=h[Ne].projection[a.projection];_n[++u]=a,_n[++u]=s,f&&(c=(s=h[Re])[Be].data[f.index])}else c=a.child;if(null===c)for(null===a.next&&2&a.flags&&(s=_n[u--],a=_n[u--]),c=a.next;!c;){if(null===(a=a.parent||s[Be].node)||a===r)return null;0===a.type&&(o=(s=s[Re])[a.index][Ke]),c=2===a.type&&s[Me]?(s=s[Me])[Be].node:a.next}a=c}var g}(0,0,n),function(e){if(-1===e[Be].childIndex)return En(e);for(var t=Fn(e);t;){var n=null;if(t.length>=We?t[Be].childIndex>-1&&(n=Fn(t)):t[Qe].length&&(n=t[Qe][0]),null==n){for(;t&&!t[Me]&&t!==e;)En(t),t=xn(t,e);En(t||e),n=t&&t[Me]}t=n}}(t),t[Oe]|=64},e.prototype.onDestroy=function(e){var t,n;n=e,function(e){return e[Le]||(e[Le]=[])}(t=this._lView).push(n),t[Be].firstTemplatePass&&function(e){return e[Be].cleanup||(e[Be].cleanup=[])}(t).push(t[Le].length-1,null)},e.prototype.markForCheck=function(){!function(e){for(;e&&!(128&e[Oe]);)e[Oe]|=8,e=e[Re];var t,n,l;e[Oe]|=8,l=0===(t=e[Ve]).flags,t.flags|=1,l&&t.clean==An&&(t.clean=new Promise(function(e){return n=e}),t.scheduler(function(){if(1&t.flags&&(t.flags&=-2,Vn(t)),2&t.flags){t.flags&=-3;var e=t.playerHandler;e&&e.flushPlayers()}t.clean=An,n(null)}))}(this._lView)},e.prototype.detach=function(){this._lView[Oe]&=-17},e.prototype.reattach=function(){this._lView[Oe]|=16},e.prototype.detectChanges=function(){$n(this._lView,this.context)},e.prototype.checkNoChanges=function(){!function(e){qt(!0);try{!function(e){$n(function(e){var t,n=ct(e);if(Array.isArray(n)){var l=function(e,t){var n=e[Be].components;if(n)for(var l=0;l<n.length;l++){var i=n[l];if(st(i,e)[Ve]===t)return i}else if(st(We,e)[Ve]===t)return We;return-1}(n,e);(i=function(e,t,n){return{lView:e,nodeIndex:t,native:n,component:void 0,directives:void 0,localRefs:void 0}}(n,l,(t=st(l,n))[Pe])).component=e,pn(e,i),pn(i.native,i)}else{var i;t=st((i=n).nodeIndex,i.lView)}return t}(e),e)}(e)}finally{qt(!1)}}(this.context)},e.prototype.attachToViewContainerRef=function(e){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=e},e.prototype.detachFromAppRef=function(){this._appRef=null},e.prototype.attachToAppRef=function(e){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e},e.prototype._lookUpContext=function(){return this._context=this._lView[Re][this._componentIndex]},e}()),Ll=function(){function e(e){this.nativeElement=e}return e.__NG_ELEMENT_ID__=function(){return Vl(e)},e}(),Vl=Qn,$l=function(){return function(){}}(),Hl=function(){return function(){}}(),Ul=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}({}),zl=function(){function e(){}return e.__NG_ELEMENT_ID__=function(){return ql()},e}(),ql=Qn,Gl=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}({}),Wl=function(){return function(){}}(),Jl=new(function(){return function(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}())("7.2.15"),Ql=function(e){function t(t){var n=e.call(this)||this;return n.ngModule=t,n}return Object(l.__extends)(t,e),t.prototype.resolveComponentFactory=function(e){return new ei(e[se]||null,this.ngModule)},t}(Ol);function Kl(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}var Zl=new me("ROOT_CONTEXT_TOKEN",{providedIn:"root",factory:function(){return Wn(kt(Xl))}}),Xl=new me("SCHEDULER_TOKEN",{providedIn:"root",factory:function(){return ft}}),Yl={},ei=function(e){function t(t,n){var l=e.call(this)||this;return l.componentDef=t,l.ngModule=n,l.componentType=t.type,l.selector=t.selectors[0][0],l.ngContentSelectors=[],l}return Object(l.__extends)(t,e),Object.defineProperty(t.prototype,"inputs",{get:function(){return Kl(this.componentDef.inputs)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"outputs",{get:function(){return Kl(this.componentDef.outputs)},enumerable:!0,configurable:!0}),t.prototype.create=function(e,t,n,i){var o,r,u,s,a=void 0===n,c=(i=i||this.ngModule)?function(e,t){return{get:function(n,l){var i=e.get(n,Yl);return i!==Yl||l===Yl?i:t.get(n,l)}}}(e,i.injector):e,p=c.get(Hl,Sn),d=c.get(Wl,null),h=a?(u=this.selector,Cn(s=p.createRenderer(null,this.componentDef)||Pt()[Ue])?s.createElement(u,Pn):null===Pn?s.createElement(u):s.createElementNS(Pn,u)):(o=n,r=p.createRenderer(null,null),"string"==typeof o?Cn(r)?r.selectRootElement(o):r.querySelector(o):o),f=this.componentDef.onPush?136:132,g=a?Wn():c.get(Zl),m=p.createRenderer(h,this.componentDef);n&&h&&(Cn(m)?m.setAttribute(h,"ng-version",Jl.full):h.setAttribute("ng-version",Jl.full));var v,D,y=In(null,jn(-1,null,1,0,null,null,null),g,f,p,m,d,c),b=Qt(y,null);try{p.begin&&p.begin();var C=qn(h,this.componentDef,y,p,m);if(D=y[Be].data[0+We],t)for(var S=0,_=y[Be],w=D.projection=[],F=0;F<t.length;F++){for(var x=t[F],E=null,k=null,A=0;A<x.length;A++){_.firstTemplatePass&&(_.expandoStartIndex++,_.blueprint.splice(++S+We,0,null),_.data.splice(S+We,0,null),y.splice(S+We,0,null));var T=Bn(S,3,x[A],null,null);k?k.next=T:E=T,k=T}w.push(E)}v=Gn(C,this.componentDef,y,g,[Jn]),function(e,t,n){var l=e[Be],i=Wt();e[14]?e[14][Me]=n:i&&(l.childIndex=t),e[14]=n}(y,We,C),Tn(y)}finally{Kt(b),p.end&&p.end()}var I=new ti(this.componentType,v,function(e,t,n){return Tl||(Tl=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(l.__extends)(t,e),t}(Ll)),new Tl(ut(t,n))}(0,D,y),y,D);return a&&(I.hostView._tViewNode.child=D),I},t}(kl),ti=function(e){function t(t,n,l,i,o){var r,u=e.call(this)||this;return u.location=l,u._rootLView=i,u._tNode=o,u.destroyCbs=[],u.instance=n,u.hostView=u.changeDetectorRef=new jl(i),u.hostView._tViewNode=(-1,null==(r=i)[Be].node&&(r[Be].node=Ln(r,2,-1,null,null,null)),r[Ne]=r[Be].node),u.componentType=t,u}return Object(l.__extends)(t,e),Object.defineProperty(t.prototype,"injector",{get:function(){return new cn(this._tNode,this._rootLView)},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){this.destroyCbs.forEach(function(e){return e()}),this.destroyCbs=null,this.hostView.destroy()},t.prototype.onDestroy=function(e){this.destroyCbs.push(e)},t}(El),ni=!0,li=!1;function ii(){return li=!0,ni}var oi=function(){function e(e){if(this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),this.inertBodyElement=this.inertDocument.body,null==this.inertBodyElement){var t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t),this.inertBodyElement=this.inertDocument.createElement("body"),t.appendChild(this.inertBodyElement)}this.inertBodyElement.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',!this.inertBodyElement.querySelector||this.inertBodyElement.querySelector("svg")?(this.inertBodyElement.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',this.getInertBodyElement=this.inertBodyElement.querySelector&&this.inertBodyElement.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(e){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}return e.prototype.getInertBodyElement_XHR=function(e){e="<body><remove></remove>"+e+"</body>";try{e=encodeURI(e)}catch(l){return null}var t=new XMLHttpRequest;t.responseType="document",t.open("GET","data:text/html;charset=utf-8,"+e,!1),t.send(void 0);var n=t.response.body;return n.removeChild(n.firstChild),n},e.prototype.getInertBodyElement_DOMParser=function(e){e="<body><remove></remove>"+e+"</body>";try{var t=(new window.DOMParser).parseFromString(e,"text/html").body;return t.removeChild(t.firstChild),t}catch(n){return null}},e.prototype.getInertBodyElement_InertDocument=function(e){var t=this.inertDocument.createElement("template");return"content"in t?(t.innerHTML=e,t):(this.inertBodyElement.innerHTML=e,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(this.inertBodyElement),this.inertBodyElement)},e.prototype.stripCustomNsAttrs=function(e){for(var t=e.attributes,n=t.length-1;0<n;n--){var l=t.item(n).name;"xmlns:ns1"!==l&&0!==l.indexOf("ns1:")||e.removeAttribute(l)}for(var i=e.firstChild;i;)i.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(i),i=i.nextSibling},e}(),ri=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:\/?#]*(?:[\/?#]|$))/gi,ui=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function si(e){return(e=String(e)).match(ri)||e.match(ui)?e:(ii()&&console.warn("WARNING: sanitizing unsafe URL value "+e+" (see http://g.co/ng/security#xss)"),"unsafe:"+e)}function ai(e){var t,n,i={};try{for(var o=Object(l.__values)(e.split(",")),r=o.next();!r.done;r=o.next())i[r.value]=!0}catch(u){t={error:u}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return i}function ci(){for(var e,t,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var o={};try{for(var r=Object(l.__values)(n),u=r.next();!u.done;u=r.next()){var s=u.value;for(var a in s)s.hasOwnProperty(a)&&(o[a]=!0)}}catch(c){e={error:c}}finally{try{u&&!u.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}return o}var pi,di=ai("area,br,col,hr,img,wbr"),hi=ai("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),fi=ai("rp,rt"),gi=ci(fi,hi),mi=ci(di,ci(hi,ai("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ci(fi,ai("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),gi),vi=ai("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Di=ai("srcset"),yi=ci(vi,Di,ai("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width")),bi=ai("script,style,template"),Ci=function(){function e(){this.sanitizedSomething=!1,this.buf=[]}return e.prototype.sanitizeChildren=function(e){for(var t=e.firstChild,n=!0;t;)if(t.nodeType===Node.ELEMENT_NODE?n=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,n&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);var l=this.checkClobberedElement(t,t.nextSibling);if(l){t=l;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")},e.prototype.startElement=function(e){var t,n=e.nodeName.toLowerCase();if(!mi.hasOwnProperty(n))return this.sanitizedSomething=!0,!bi.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);for(var l=e.attributes,i=0;i<l.length;i++){var o=l.item(i),r=o.name,u=r.toLowerCase();if(yi.hasOwnProperty(u)){var s=o.value;vi[u]&&(s=si(s)),Di[u]&&(t=s,s=(t=String(t)).split(",").map(function(e){return si(e.trim())}).join(", ")),this.buf.push(" ",r,'="',wi(s),'"')}else this.sanitizedSomething=!0}return this.buf.push(">"),!0},e.prototype.endElement=function(e){var t=e.nodeName.toLowerCase();mi.hasOwnProperty(t)&&!di.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))},e.prototype.chars=function(e){this.buf.push(wi(e))},e.prototype.checkClobberedElement=function(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+e.outerHTML);return t},e}(),Si=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,_i=/([^\#-~ |!])/g;function wi(e){return e.replace(/&/g,"&amp;").replace(Si,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(_i,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Fi(e){return"content"in e&&function(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var xi={provide:Ol,useClass:Ql,deps:[Pl]},Ei=function(e){function t(t,n){var l=e.call(this)||this;l._parent=n,l._bootstrapComponents=[],l.injector=l,l.destroyCbs=[];var i=function(e,n){var l=t[pe]||null;return l}();return l._bootstrapComponents=i.bootstrap,l._r3Injector=function(e,t,n){return void 0===t&&(t=null),void 0===n&&(n=null),t=t||bl(),new Cl(e,n,t)}(t,n,[{provide:Pl,useValue:l},xi]),l.instance=l.get(t),l}return Object(l.__extends)(t,e),t.prototype.get=function(e,t,n){return void 0===t&&(t=tl.THROW_IF_NOT_FOUND),void 0===n&&(n=wt.Default),e===tl||e===Pl||e===Yn?this:this._r3Injector.get(e,t,n)},Object.defineProperty(t.prototype,"componentFactoryResolver",{get:function(){return this.get(Ol)},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){this.destroyCbs.forEach(function(e){return e()}),this.destroyCbs=null},t.prototype.onDestroy=function(e){this.destroyCbs.push(e)},t}(Pl);!function(e){function t(t){var n=e.call(this)||this;return n.moduleType=t,n}Object(l.__extends)(t,e),t.prototype.create=function(e){return new Ei(this.moduleType,e)}}(Nl);var ki=function(e){function t(t){void 0===t&&(t=!1);var n=e.call(this)||this;return n.__isAsync=t,n}return Object(l.__extends)(t,e),t.prototype.emit=function(t){e.prototype.next.call(this,t)},t.prototype.subscribe=function(t,n,l){var i,o=function(e){return null},r=function(){return null};t&&"object"==typeof t?(i=this.__isAsync?function(e){setTimeout(function(){return t.next(e)})}:function(e){t.next(e)},t.error&&(o=this.__isAsync?function(e){setTimeout(function(){return t.error(e)})}:function(e){t.error(e)}),t.complete&&(r=this.__isAsync?function(){setTimeout(function(){return t.complete()})}:function(){t.complete()})):(i=this.__isAsync?function(e){setTimeout(function(){return t(e)})}:function(e){t(e)},n&&(o=this.__isAsync?function(e){setTimeout(function(){return n(e)})}:function(e){n(e)}),l&&(r=this.__isAsync?function(){setTimeout(function(){return l()})}:function(){l()}));var u=e.prototype.subscribe.call(this,i,o,r);return t instanceof h&&t.add(u),u},t}(A),Ai=function(){function e(){}return e.__NG_ELEMENT_ID__=function(){return Ti(e,Ll)},e}(),Ti=Qn,Ii=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:calc|attr))\\([-0-9.%, #a-zA-Z]+\\))$","g"),Bi=/^url\(([^)]+)\)$/,Oi="ngDebugContext",Ri="ngOriginalError",Mi="ngErrorLogger";function Pi(e){return e[Oi]}function Ni(e){return e[Ri]}function ji(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];e.error.apply(e,Object(l.__spread)(t))}var Li=function(){function e(){this._console=console}return e.prototype.handleError=function(e){var t=this._findOriginalError(e),n=this._findContext(e),l=function(e){return e[Mi]||ji}(e);l(this._console,"ERROR",e),t&&l(this._console,"ORIGINAL ERROR",t),n&&l(this._console,"ERROR CONTEXT",n)},e.prototype._findContext=function(e){return e?Pi(e)?Pi(e):this._findContext(Ni(e)):null},e.prototype._findOriginalError=function(e){for(var t=Ni(e);t&&Ni(t);)t=Ni(t);return t},e}();function Vi(e){return!!e&&"function"==typeof e.then}function $i(e){return!!e&&"function"==typeof e.subscribe}var Hi=new me("Application Initializer"),Ui=function(){function e(e){var t=this;this.appInits=e,this.initialized=!1,this.done=!1,this.donePromise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return e.prototype.runInitializers=function(){var e=this;if(!this.initialized){var t=[],n=function(){e.done=!0,e.resolve()};if(this.appInits)for(var l=0;l<this.appInits.length;l++){var i=this.appInits[l]();Vi(i)&&t.push(i)}Promise.all(t).then(function(){n()}).catch(function(t){e.reject(t)}),0===t.length&&n(),this.initialized=!0}},e}(),zi=new me("AppId");function qi(){return""+Gi()+Gi()+Gi()}function Gi(){return String.fromCharCode(97+Math.floor(25*Math.random()))}var Wi=new me("Platform Initializer"),Ji=new me("Platform ID"),Qi=new me("appBootstrapListener"),Ki=function(){function e(){}return e.prototype.log=function(e){console.log(e)},e.prototype.warn=function(e){console.warn(e)},e}();function Zi(){throw new Error("Runtime compiler is not loaded")}var Xi,Yi,eo=Zi,to=Zi,no=Zi,lo=Zi,io=function(){function e(){this.compileModuleSync=eo,this.compileModuleAsync=to,this.compileModuleAndAllComponentsSync=no,this.compileModuleAndAllComponentsAsync=lo}return e.prototype.clearCache=function(){},e.prototype.clearCacheFor=function(e){},e.prototype.getModuleId=function(e){},e}(),oo=function(){return function(){}}();function ro(){var e=Ce.wtf;return!(!e||!(Xi=e.trace)||(Yi=Xi.events,0))}var uo=ro();function so(e,t){return null}var ao=uo?function(e,t){return void 0===t&&(t=null),Yi.createScope(e,t)}:function(e,t){return so},co=uo?function(e,t){return Xi.leaveScope(e,t),t}:function(e,t){return t},po=function(){function e(e){var t,n=e.enableLongStackTrace,l=void 0!==n&&n;if(this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ki(!1),this.onMicrotaskEmpty=new ki(!1),this.onStable=new ki(!1),this.onError=new ki(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),l&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),(t=this)._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:function(e,n,l,i,o,r){try{return mo(t),e.invokeTask(l,i,o,r)}finally{vo(t)}},onInvoke:function(e,n,l,i,o,r,u){try{return mo(t),e.invoke(l,i,o,r,u)}finally{vo(t)}},onHasTask:function(e,n,l,i){e.hasTask(l,i),n===l&&("microTask"==i.change?(t.hasPendingMicrotasks=i.microTask,go(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:function(e,n,l,i){return e.handleError(l,i),t.runOutsideAngular(function(){return t.onError.emit(i)}),!1}})}return e.isInAngularZone=function(){return!0===Zone.current.get("isAngularZone")},e.assertInAngularZone=function(){if(!e.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")},e.assertNotInAngularZone=function(){if(e.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")},e.prototype.run=function(e,t,n){return this._inner.run(e,t,n)},e.prototype.runTask=function(e,t,n,l){var i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+l,e,fo,ho,ho);try{return i.runTask(o,t,n)}finally{i.cancelTask(o)}},e.prototype.runGuarded=function(e,t,n){return this._inner.runGuarded(e,t,n)},e.prototype.runOutsideAngular=function(e){return this._outer.run(e)},e}();function ho(){}var fo={};function go(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(function(){return e.onStable.emit(null)})}finally{e.isStable=!0}}}function mo(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function vo(e){e._nesting--,go(e)}var Do,yo=function(){function e(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ki,this.onMicrotaskEmpty=new ki,this.onStable=new ki,this.onError=new ki}return e.prototype.run=function(e){return e()},e.prototype.runGuarded=function(e){return e()},e.prototype.runOutsideAngular=function(e){return e()},e.prototype.runTask=function(e){return e()},e}(),bo=function(){function e(e){var t=this;this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(function(){t.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}return e.prototype._watchAngularEvents=function(){var e=this;this._ngZone.onUnstable.subscribe({next:function(){e._didWork=!0,e._isZoneStable=!1}}),this._ngZone.runOutsideAngular(function(){e._ngZone.onStable.subscribe({next:function(){po.assertNotInAngularZone(),Fe(function(){e._isZoneStable=!0,e._runCallbacksIfReady()})}})})},e.prototype.increasePendingRequestCount=function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount},e.prototype.decreasePendingRequestCount=function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount},e.prototype.isStable=function(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks},e.prototype._runCallbacksIfReady=function(){var e=this;if(this.isStable())Fe(function(){for(;0!==e._callbacks.length;){var t=e._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(e._didWork)}e._didWork=!1});else{var t=this.getPendingTasks();this._callbacks=this._callbacks.filter(function(e){return!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)}),this._didWork=!0}},e.prototype.getPendingTasks=function(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(function(e){return{source:e.source,creationLocation:e.creationLocation,data:e.data}}):[]},e.prototype.addCallback=function(e,t,n){var l=this,i=-1;t&&t>0&&(i=setTimeout(function(){l._callbacks=l._callbacks.filter(function(e){return e.timeoutId!==i}),e(l._didWork,l.getPendingTasks())},t)),this._callbacks.push({doneCb:e,timeoutId:i,updateCb:n})},e.prototype.whenStable=function(e,t,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(e,t,n),this._runCallbacksIfReady()},e.prototype.getPendingRequestCount=function(){return this._pendingCount},e.prototype.findProviders=function(e,t,n){return[]},e}(),Co=function(){function e(){this._applications=new Map,So.addToWindow(this)}return e.prototype.registerApplication=function(e,t){this._applications.set(e,t)},e.prototype.unregisterApplication=function(e){this._applications.delete(e)},e.prototype.unregisterAllApplications=function(){this._applications.clear()},e.prototype.getTestability=function(e){return this._applications.get(e)||null},e.prototype.getAllTestabilities=function(){return Array.from(this._applications.values())},e.prototype.getAllRootElements=function(){return Array.from(this._applications.keys())},e.prototype.findTestabilityInTree=function(e,t){return void 0===t&&(t=!0),So.findTestabilityInTree(this,e,t)},Object(l.__decorate)([Object(l.__metadata)("design:paramtypes",[])],e)}(),So=new(function(){function e(){}return e.prototype.addToWindow=function(e){},e.prototype.findTestabilityInTree=function(e,t,n){return null},e}()),_o=new me("AllowMultipleToken"),wo=function(){return function(e,t){this.name=e,this.token=t}}();function Fo(e,t,n){void 0===n&&(n=[]);var l="Platform: "+t,i=new me(l);return function(t){void 0===t&&(t=[]);var o=xo();if(!o||o.injector.get(_o,!1))if(e)e(n.concat(t).concat({provide:i,useValue:!0}));else{var r=n.concat(t).concat({provide:i,useValue:!0});!function(e){if(Do&&!Do.destroyed&&!Do.injector.get(_o,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Do=e.get(Eo);var t=e.get(Wi,null);t&&t.forEach(function(e){return e()})}(tl.create({providers:r,name:l}))}return function(e){var t=xo();if(!t)throw new Error("No platform exists!");if(!t.injector.get(e,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}(i)}}function xo(){return Do&&!Do.destroyed?Do:null}var Eo=function(){function e(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return e.prototype.bootstrapModuleFactory=function(e,t){var n,l=this,i="noop"===(n=t?t.ngZone:void 0)?new yo:("zone.js"===n?void 0:n)||new po({enableLongStackTrace:ii()}),o=[{provide:po,useValue:i}];return i.run(function(){var t=tl.create({providers:o,parent:l.injector,name:e.moduleType.name}),n=e.create(t),r=n.injector.get(Li,null);if(!r)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.onDestroy(function(){return To(l._modules,n)}),i.runOutsideAngular(function(){return i.onError.subscribe({next:function(e){r.handleError(e)}})}),function(e,t,i){try{var o=((r=n.injector.get(Ui)).runInitializers(),r.donePromise.then(function(){return l._moduleDoBootstrap(n),n}));return Vi(o)?o.catch(function(n){throw t.runOutsideAngular(function(){return e.handleError(n)}),n}):o}catch(u){throw t.runOutsideAngular(function(){return e.handleError(u)}),u}var r}(r,i)})},e.prototype.bootstrapModule=function(e,t){var n=this;void 0===t&&(t=[]);var l=ko({},t);return function(e,t,n){return e.get(oo).createCompiler([t]).compileModuleAsync(n)}(this.injector,l,e).then(function(e){return n.bootstrapModuleFactory(e,l)})},e.prototype._moduleDoBootstrap=function(e){var t=e.injector.get(Ao);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(function(e){return t.bootstrap(e)});else{if(!e.instance.ngDoBootstrap)throw new Error("The module "+Ee(e.instance.constructor)+' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.');e.instance.ngDoBootstrap(t)}this._modules.push(e)},e.prototype.onDestroy=function(e){this._destroyListeners.push(e)},Object.defineProperty(e.prototype,"injector",{get:function(){return this._injector},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(function(e){return e.destroy()}),this._destroyListeners.forEach(function(e){return e()}),this._destroyed=!0},Object.defineProperty(e.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!0,configurable:!0}),e}();function ko(e,t){return Array.isArray(t)?t.reduce(ko,e):Object(l.__assign)({},e,t)}var Ao=function(){function e(e,t,n,l,i,o){var r=this;this._zone=e,this._console=t,this._injector=n,this._exceptionHandler=l,this._componentFactoryResolver=i,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=ii(),this._zone.onMicrotaskEmpty.subscribe({next:function(){r._zone.run(function(){r.tick()})}});var u=new _(function(e){r._stable=r._zone.isStable&&!r._zone.hasPendingMacrotasks&&!r._zone.hasPendingMicrotasks,r._zone.runOutsideAngular(function(){e.next(r._stable),e.complete()})}),s=new _(function(e){var t;r._zone.runOutsideAngular(function(){t=r._zone.onStable.subscribe(function(){po.assertNotInAngularZone(),Fe(function(){r._stable||r._zone.hasPendingMacrotasks||r._zone.hasPendingMicrotasks||(r._stable=!0,e.next(!0))})})});var n=r._zone.onUnstable.subscribe(function(){po.assertInAngularZone(),r._stable&&(r._stable=!1,r._zone.runOutsideAngular(function(){e.next(!1)}))});return function(){t.unsubscribe(),n.unsubscribe()}});this.isStable=Y(u,s.pipe(function(e){return ee()((t=re,function(e){var n;n="function"==typeof t?t:function(){return t};var l=Object.create(e,ie);return l.source=e,l.subjectFactory=n,l})(e));var t}))}var t;return t=e,e.prototype.bootstrap=function(e,t){var n,l=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");n=e instanceof kl?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(n.componentType);var i=n instanceof Ml?null:this._injector.get(Pl),o=n.create(tl.NULL,[],t||n.selector,i);o.onDestroy(function(){l._unloadComponent(o)});var r=o.injector.get(bo,null);return r&&o.injector.get(Co).registerApplication(o.location.nativeElement,r),this._loadComponent(o),ii()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),o},e.prototype.tick=function(){var e=this;if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");var n=t._tickScope();try{this._runningTick=!0,this._views.forEach(function(e){return e.detectChanges()}),this._enforceNoNewChanges&&this._views.forEach(function(e){return e.checkNoChanges()})}catch(l){this._zone.runOutsideAngular(function(){return e._exceptionHandler.handleError(l)})}finally{this._runningTick=!1,co(n)}},e.prototype.attachView=function(e){var t=e;this._views.push(t),t.attachToAppRef(this)},e.prototype.detachView=function(e){var t=e;To(this._views,t),t.detachFromAppRef()},e.prototype._loadComponent=function(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(Qi,[]).concat(this._bootstrapListeners).forEach(function(t){return t(e)})},e.prototype._unloadComponent=function(e){this.detachView(e.hostView),To(this.components,e)},e.prototype.ngOnDestroy=function(){this._views.slice().forEach(function(e){return e.destroy()})},Object.defineProperty(e.prototype,"viewCount",{get:function(){return this._views.length},enumerable:!0,configurable:!0}),e._tickScope=ao("ApplicationRef#tick()"),e}();function To(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)}var Io,Bo=function(){function e(){this.dirty=!0,this._results=[],this.changes=new ki,this.length=0}return e.prototype.map=function(e){return this._results.map(e)},e.prototype.filter=function(e){return this._results.filter(e)},e.prototype.find=function(e){return this._results.find(e)},e.prototype.reduce=function(e,t){return this._results.reduce(e,t)},e.prototype.forEach=function(e){this._results.forEach(e)},e.prototype.some=function(e){return this._results.some(e)},e.prototype.toArray=function(){return this._results.slice()},e.prototype[we()]=function(){return this._results[we()]()},e.prototype.toString=function(){return this._results.toString()},e.prototype.reset=function(e){this._results=function e(t){return t.reduce(function(t,n){var l=Array.isArray(n)?e(n):n;return t.concat(l)},[])}(e),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]},e.prototype.notifyOnChanges=function(){this.changes.emit(this)},e.prototype.setDirty=function(){this.dirty=!0},e.prototype.destroy=function(){this.changes.complete(),this.changes.unsubscribe()},e}(),Oo=function(){function e(){}return e.__NG_ELEMENT_ID__=function(){return Ro(e,Ll)},e}(),Ro=Qn,Mo=function(){function e(){}return e.__NG_ELEMENT_ID__=function(){return Po()},e}(),Po=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]},No=(Io=Mo,Object(l.__extends)(function(){return null!==Io&&Io.apply(this,arguments)||this},Io),function(){return function(e,t){this.name=e,this.callback=t}}()),jo=function(){function e(e,t,n){this.listeners=[],this.parent=null,this._debugContext=n,this.nativeNode=e,t&&t instanceof Lo&&t.addChild(this)}return Object.defineProperty(e.prototype,"injector",{get:function(){return this._debugContext.injector},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"componentInstance",{get:function(){return this._debugContext.component},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"context",{get:function(){return this._debugContext.context},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"references",{get:function(){return this._debugContext.references},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"providerTokens",{get:function(){return this._debugContext.providerTokens},enumerable:!0,configurable:!0}),e}(),Lo=function(e){function t(t,n,l){var i=e.call(this,t,n,l)||this;return i.properties={},i.attributes={},i.classes={},i.styles={},i.childNodes=[],i.nativeElement=t,i}return Object(l.__extends)(t,e),t.prototype.addChild=function(e){e&&(this.childNodes.push(e),e.parent=this)},t.prototype.removeChild=function(e){var t=this.childNodes.indexOf(e);-1!==t&&(e.parent=null,this.childNodes.splice(t,1))},t.prototype.insertChildrenAfter=function(e,t){var n,i=this,o=this.childNodes.indexOf(e);-1!==o&&((n=this.childNodes).splice.apply(n,Object(l.__spread)([o+1,0],t)),t.forEach(function(t){t.parent&&t.parent.removeChild(t),e.parent=i}))},t.prototype.insertBefore=function(e,t){var n=this.childNodes.indexOf(e);-1===n?this.addChild(t):(t.parent&&t.parent.removeChild(t),t.parent=this,this.childNodes.splice(n,0,t))},t.prototype.query=function(e){return this.queryAll(e)[0]||null},t.prototype.queryAll=function(e){var t=[];return function e(t,n,l){t.childNodes.forEach(function(t){t instanceof Lo&&(n(t)&&l.push(t),e(t,n,l))})}(this,e,t),t},t.prototype.queryAllNodes=function(e){var t=[];return function e(t,n,l){t instanceof Lo&&t.childNodes.forEach(function(t){n(t)&&l.push(t),t instanceof Lo&&e(t,n,l)})}(this,e,t),t},Object.defineProperty(t.prototype,"children",{get:function(){return this.childNodes.filter(function(e){return e instanceof t})},enumerable:!0,configurable:!0}),t.prototype.triggerEventHandler=function(e,t){this.listeners.forEach(function(n){n.name==e&&n.callback(t)})},t}(jo),Vo=new Map,$o=function(e){return Vo.get(e)||null};function Ho(e){Vo.set(e.nativeNode,e)}var Uo=function(){function e(){}return e.prototype.supports=function(e){return vn(e)},e.prototype.create=function(e){return new qo(e)},e}(),zo=function(e,t){return t},qo=function(){function e(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||zo}return e.prototype.forEachItem=function(e){var t;for(t=this._itHead;null!==t;t=t._next)e(t)},e.prototype.forEachOperation=function(e){for(var t=this._itHead,n=this._removalsHead,l=0,i=null;t||n;){var o=!n||t&&t.currentIndex<Qo(n,l,i)?t:n,r=Qo(o,l,i),u=o.currentIndex;if(o===n)l--,n=n._nextRemoved;else if(t=t._next,null==o.previousIndex)l++;else{i||(i=[]);var s=r-l,a=u-l;if(s!=a){for(var c=0;c<s;c++){var p=c<i.length?i[c]:i[c]=0,d=p+c;a<=d&&d<s&&(i[c]=p+1)}i[o.previousIndex]=a-s}}r!==u&&e(o,r,u)}},e.prototype.forEachPreviousItem=function(e){var t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)},e.prototype.forEachAddedItem=function(e){var t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)},e.prototype.forEachMovedItem=function(e){var t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)},e.prototype.forEachRemovedItem=function(e){var t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)},e.prototype.forEachIdentityChange=function(e){var t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)},e.prototype.diff=function(e){if(null==e&&(e=[]),!vn(e))throw new Error("Error trying to diff '"+Ee(e)+"'. Only arrays and iterables are allowed");return this.check(e)?this:null},e.prototype.onDestroy=function(){},e.prototype.check=function(e){var t=this;this._reset();var n,l,i,o=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(var u=0;u<this.length;u++)i=this._trackByFn(u,l=e[u]),null!==o&&xe(o.trackById,i)?(r&&(o=this._verifyReinsertion(o,l,i,u)),xe(o.item,l)||this._addIdentityChange(o,l)):(o=this._mismatch(o,l,i,u),r=!0),o=o._next}else n=0,function(e,t){if(Array.isArray(e))for(var n=0;n<e.length;n++)t(e[n]);else for(var l=e[we()](),i=void 0;!(i=l.next()).done;)t(i.value)}(e,function(e){i=t._trackByFn(n,e),null!==o&&xe(o.trackById,i)?(r&&(o=t._verifyReinsertion(o,e,i,n)),xe(o.item,e)||t._addIdentityChange(o,e)):(o=t._mismatch(o,e,i,n),r=!0),o=o._next,n++}),this.length=n;return this._truncate(o),this.collection=e,this.isDirty},Object.defineProperty(e.prototype,"isDirty",{get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead},enumerable:!0,configurable:!0}),e.prototype._reset=function(){if(this.isDirty){var e=void 0,t=void 0;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=t)e.previousIndex=e.currentIndex,t=e._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}},e.prototype._mismatch=function(e,t,n,l){var i;return null===e?i=this._itTail:(i=e._prev,this._remove(e)),null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(n,l))?(xe(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,i,l)):null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(xe(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,i,l)):e=this._addAfter(new Go(t,n),i,l),e},e.prototype._verifyReinsertion=function(e,t,n,l){var i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?e=this._reinsertAfter(i,e._prev,l):e.currentIndex!=l&&(e.currentIndex=l,this._addToMoves(e,l)),e},e.prototype._truncate=function(e){for(;null!==e;){var t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)},e.prototype._reinsertAfter=function(e,t,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);var l=e._prevRemoved,i=e._nextRemoved;return null===l?this._removalsHead=i:l._nextRemoved=i,null===i?this._removalsTail=l:i._prevRemoved=l,this._insertAfter(e,t,n),this._addToMoves(e,n),e},e.prototype._moveAfter=function(e,t,n){return this._unlink(e),this._insertAfter(e,t,n),this._addToMoves(e,n),e},e.prototype._addAfter=function(e,t,n){return this._insertAfter(e,t,n),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e},e.prototype._insertAfter=function(e,t,n){var l=null===t?this._itHead:t._next;return e._next=l,e._prev=t,null===l?this._itTail=e:l._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new Jo),this._linkedRecords.put(e),e.currentIndex=n,e},e.prototype._remove=function(e){return this._addToRemovals(this._unlink(e))},e.prototype._unlink=function(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);var t=e._prev,n=e._next;return null===t?this._itHead=n:t._next=n,null===n?this._itTail=t:n._prev=t,e},e.prototype._addToMoves=function(e,t){return e.previousIndex===t?e:(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e,e)},e.prototype._addToRemovals=function(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Jo),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e},e.prototype._addIdentityChange=function(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e},e}(),Go=function(){return function(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}(),Wo=function(){function e(){this._head=null,this._tail=null}return e.prototype.add=function(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)},e.prototype.get=function(e,t){var n;for(n=this._head;null!==n;n=n._nextDup)if((null===t||t<=n.currentIndex)&&xe(n.trackById,e))return n;return null},e.prototype.remove=function(e){var t=e._prevDup,n=e._nextDup;return null===t?this._head=n:t._nextDup=n,null===n?this._tail=t:n._prevDup=t,null===this._head},e}(),Jo=function(){function e(){this.map=new Map}return e.prototype.put=function(e){var t=e.trackById,n=this.map.get(t);n||(n=new Wo,this.map.set(t,n)),n.add(e)},e.prototype.get=function(e,t){var n=this.map.get(e);return n?n.get(e,t):null},e.prototype.remove=function(e){var t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e},Object.defineProperty(e.prototype,"isEmpty",{get:function(){return 0===this.map.size},enumerable:!0,configurable:!0}),e.prototype.clear=function(){this.map.clear()},e}();function Qo(e,t,n){var l=e.previousIndex;if(null===l)return l;var i=0;return n&&l<n.length&&(i=n[l]),l+t+i}var Ko=function(){function e(){}return e.prototype.supports=function(e){return e instanceof Map||Dn(e)},e.prototype.create=function(){return new Zo},e}(),Zo=function(){function e(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return Object.defineProperty(e.prototype,"isDirty",{get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead},enumerable:!0,configurable:!0}),e.prototype.forEachItem=function(e){var t;for(t=this._mapHead;null!==t;t=t._next)e(t)},e.prototype.forEachPreviousItem=function(e){var t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)},e.prototype.forEachChangedItem=function(e){var t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)},e.prototype.forEachAddedItem=function(e){var t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)},e.prototype.forEachRemovedItem=function(e){var t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)},e.prototype.diff=function(e){if(e){if(!(e instanceof Map||Dn(e)))throw new Error("Error trying to diff '"+Ee(e)+"'. Only maps and objects are allowed")}else e=new Map;return this.check(e)?this:null},e.prototype.onDestroy=function(){},e.prototype.check=function(e){var t=this;this._reset();var n=this._mapHead;if(this._appendAfter=null,this._forEach(e,function(e,l){if(n&&n.key===l)t._maybeAddToChanges(n,e),t._appendAfter=n,n=n._next;else{var i=t._getOrCreateRecordForKey(l,e);n=t._insertBeforeOrAppend(n,i)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(var l=n;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty},e.prototype._insertBeforeOrAppend=function(e,t){if(e){var n=e._prev;return t._next=e,t._prev=n,e._prev=t,n&&(n._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null},e.prototype._getOrCreateRecordForKey=function(e,t){if(this._records.has(e)){var n=this._records.get(e);this._maybeAddToChanges(n,t);var l=n._prev,i=n._next;return l&&(l._next=i),i&&(i._prev=l),n._next=null,n._prev=null,n}var o=new Xo(e);return this._records.set(e,o),o.currentValue=t,this._addToAdditions(o),o},e.prototype._reset=function(){if(this.isDirty){var e=void 0;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}},e.prototype._maybeAddToChanges=function(e,t){xe(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))},e.prototype._addToAdditions=function(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)},e.prototype._addToChanges=function(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)},e.prototype._forEach=function(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(function(n){return t(e[n],n)})},e}(),Xo=function(){return function(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}(),Yo=function(){function e(e){this.factories=e}return e.create=function(t,n){if(null!=n){var l=n.factories.slice();t=t.concat(l)}return new e(t)},e.extend=function(t){return{provide:e,useFactory:function(n){if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return e.create(t,n)},deps:[[e,new _t,new Ct]]}},e.prototype.find=function(e){var t,n=this.factories.find(function(t){return t.supports(e)});if(null!=n)return n;throw new Error("Cannot find a differ supporting object '"+e+"' of type '"+((t=e).name||typeof t)+"'")},e.ngInjectableDef=he({providedIn:"root",factory:function(){return new e([new Uo])}}),e}(),er=function(){function e(e){this.factories=e}return e.create=function(t,n){if(n){var l=n.factories.slice();t=t.concat(l)}return new e(t)},e.extend=function(t){return{provide:e,useFactory:function(n){if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return e.create(t,n)},deps:[[e,new _t,new Ct]]}},e.prototype.find=function(e){var t=this.factories.find(function(t){return t.supports(e)});if(t)return t;throw new Error("Cannot find a differ supporting object '"+e+"'")},e.ngInjectableDef=he({providedIn:"root",factory:function(){return new e([new Ko])}}),e}(),tr=[new Ko],nr=new Yo([new Uo]),lr=new er(tr),ir=Fo(null,"core",[{provide:Ji,useValue:"unknown"},{provide:Eo,deps:[tl]},{provide:Co,deps:[]},{provide:Ki,deps:[]}]),or=new me("LocaleId");function rr(){return nr}function ur(){return lr}function sr(e){return e||"en-US"}var ar=function(){return function(e){}}();function cr(e,t,n){var l=e.state,i=1792&l;return i===t?(e.state=-1793&l|n,e.initIndex=-1,!0):i===n}function pr(e,t,n){return(1792&e.state)===t&&e.initIndex<=n&&(e.initIndex=n+1,!0)}function dr(e,t){return e.nodes[t]}function hr(e,t){return e.nodes[t]}function fr(e,t){return e.nodes[t]}function gr(e,t){return e.nodes[t]}function mr(e,t){return e.nodes[t]}var vr={setCurrentNode:void 0,createRootView:void 0,createEmbeddedView:void 0,createComponentView:void 0,createNgModuleRef:void 0,overrideProvider:void 0,overrideComponentView:void 0,clearOverrides:void 0,checkAndUpdateView:void 0,checkNoChangesView:void 0,destroyView:void 0,resolveDep:void 0,createDebugContext:void 0,handleEvent:void 0,updateDirectives:void 0,updateRenderer:void 0,dirtyParentQueries:void 0};function Dr(e,t,n,l){var i="ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value: '"+t+"'. Current value: '"+n+"'.";return l&&(i+=" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook ?"),function(e,t){var n=new Error(e);return yr(n,t),n}(i,e)}function yr(e,t){e[Oi]=t,e[Mi]=t.logError.bind(t)}function br(e){return new Error("ViewDestroyedError: Attempt to use a destroyed view: "+e)}var Cr=function(){},Sr=new Map;function _r(e){var t=Sr.get(e);return t||(t=Ee(e)+"_"+Sr.size,Sr.set(e,t)),t}function wr(e,t,n,l){if(gn.isWrapped(l)){l=gn.unwrap(l);var i=e.def.nodes[t].bindingIndex+n,o=gn.unwrap(e.oldValues[i]);e.oldValues[i]=new gn(o)}return l}var Fr="$$undefined",xr="$$empty";function Er(e){return{id:Fr,styles:e.styles,encapsulation:e.encapsulation,data:e.data}}var kr=0;function Ar(e,t,n,l){return!(!(2&e.state)&&xe(e.oldValues[t.bindingIndex+n],l))}function Tr(e,t,n,l){return!!Ar(e,t,n,l)&&(e.oldValues[t.bindingIndex+n]=l,!0)}function Ir(e,t,n,l){var i=e.oldValues[t.bindingIndex+n];if(1&e.state||!fn(i,l)){var o=t.bindings[n].name;throw Dr(vr.createDebugContext(e,t.nodeIndex),o+": "+i,o+": "+l,0!=(1&e.state))}}function Br(e){for(var t=e;t;)2&t.def.flags&&(t.state|=8),t=t.viewContainerParent||t.parent}function Or(e,t){for(var n=e;n&&n!==t;)n.state|=64,n=n.viewContainerParent||n.parent}function Rr(e,t,n,l){try{return Br(33554432&e.def.nodes[t].flags?hr(e,t).componentView:e),vr.handleEvent(e,t,n,l)}catch(i){e.root.errorHandler.handleError(i)}}function Mr(e){return e.parent?hr(e.parent,e.parentNodeDef.nodeIndex):null}function Pr(e){return e.parent?e.parentNodeDef.parent:null}function Nr(e,t){switch(201347067&t.flags){case 1:return hr(e,t.nodeIndex).renderElement;case 2:return dr(e,t.nodeIndex).renderText}}function jr(e){return!!e.parent&&!!(32768&e.parentNodeDef.flags)}function Lr(e){return!(!e.parent||32768&e.parentNodeDef.flags)}function Vr(e){return 1<<e%32}function $r(e){var t={},n=0,i={};return e&&e.forEach(function(e){var o=Object(l.__read)(e,2),r=o[0],u=o[1];"number"==typeof r?(t[r]=u,n|=Vr(r)):i[r]=u}),{matchedQueries:t,references:i,matchedQueryIds:n}}function Hr(e,t){return e.map(function(e){var n,i,o;return Array.isArray(e)?(o=(n=Object(l.__read)(e,2))[0],i=n[1]):(o=0,i=e),i&&("function"==typeof i||"object"==typeof i)&&t&&Object.defineProperty(i,Kn,{value:t,configurable:!0}),{flags:o,token:i,tokenKey:_r(i)}})}function Ur(e,t,n){var l=n.renderParent;return l?0==(1&l.flags)||0==(33554432&l.flags)||l.element.componentRendererType&&l.element.componentRendererType.encapsulation===Ie.Native?hr(e,n.renderParent.nodeIndex).renderElement:void 0:t}var zr=new WeakMap;function qr(e){var t=zr.get(e);return t||((t=e(function(){return Cr})).factory=e,zr.set(e,t)),t}function Gr(e,t,n,l,i){3===t&&(n=e.renderer.parentNode(Nr(e,e.def.lastRenderRootNode))),Wr(e,t,0,e.def.nodes.length-1,n,l,i)}function Wr(e,t,n,l,i,o,r){for(var u=n;u<=l;u++){var s=e.def.nodes[u];11&s.flags&&Qr(e,s,t,i,o,r),u+=s.childCount}}function Jr(e,t,n,l,i,o){for(var r=e;r&&!jr(r);)r=r.parent;for(var u=r.parent,s=Pr(r),a=s.nodeIndex+s.childCount,c=s.nodeIndex+1;c<=a;c++){var p=u.def.nodes[c];p.ngContentIndex===t&&Qr(u,p,n,l,i,o),c+=p.childCount}if(!u.parent){var d=e.root.projectableNodes[t];if(d)for(c=0;c<d.length;c++)Kr(e,d[c],n,l,i,o)}}function Qr(e,t,n,l,i,o){if(8&t.flags)Jr(e,t.ngContent.index,n,l,i,o);else{var r=Nr(e,t);if(3===n&&33554432&t.flags&&48&t.bindingFlags?(16&t.bindingFlags&&Kr(e,r,n,l,i,o),32&t.bindingFlags&&Kr(hr(e,t.nodeIndex).componentView,r,n,l,i,o)):Kr(e,r,n,l,i,o),16777216&t.flags)for(var u=hr(e,t.nodeIndex).viewContainer._embeddedViews,s=0;s<u.length;s++)Gr(u[s],n,l,i,o);1&t.flags&&!t.element.name&&Wr(e,n,t.nodeIndex+1,t.nodeIndex+t.childCount,l,i,o)}}function Kr(e,t,n,l,i,o){var r=e.renderer;switch(n){case 1:r.appendChild(l,t);break;case 2:r.insertBefore(l,t,i);break;case 3:r.removeChild(l,t);break;case 0:o.push(t)}}var Zr=/^:([^:]+):(.+)$/;function Xr(e){if(":"===e[0]){var t=e.match(Zr);return[t[1],t[2]]}return["",e]}function Yr(e){for(var t=0,n=0;n<e.length;n++)t|=e[n].flags;return t}function eu(e,t,n,l,i,o,r,u,s,a,c,p,d,h,f,g,m,v,D,y){switch(e){case 1:return t+tu(n)+l;case 2:return t+tu(n)+l+tu(i)+o;case 3:return t+tu(n)+l+tu(i)+o+tu(r)+u;case 4:return t+tu(n)+l+tu(i)+o+tu(r)+u+tu(s)+a;case 5:return t+tu(n)+l+tu(i)+o+tu(r)+u+tu(s)+a+tu(c)+p;case 6:return t+tu(n)+l+tu(i)+o+tu(r)+u+tu(s)+a+tu(c)+p+tu(d)+h;case 7:return t+tu(n)+l+tu(i)+o+tu(r)+u+tu(s)+a+tu(c)+p+tu(d)+h+tu(f)+g;case 8:return t+tu(n)+l+tu(i)+o+tu(r)+u+tu(s)+a+tu(c)+p+tu(d)+h+tu(f)+g+tu(m)+v;case 9:return t+tu(n)+l+tu(i)+o+tu(r)+u+tu(s)+a+tu(c)+p+tu(d)+h+tu(f)+g+tu(m)+v+tu(D)+y;default:throw new Error("Does not support more than 9 expressions")}}function tu(e){return null!=e?e.toString():""}var nu={};function lu(e,t,n,l,i,o){e|=1;var r=$r(t);return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,flags:e,checkIndex:-1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:r.matchedQueries,matchedQueryIds:r.matchedQueryIds,references:r.references,ngContentIndex:n,childCount:l,bindings:[],bindingFlags:0,outputs:[],element:{ns:null,name:null,attrs:null,template:o?qr(o):null,componentProvider:null,componentView:null,componentRendererType:null,publicProviders:null,allProviders:null,handleEvent:i||Cr},provider:null,text:null,query:null,ngContent:null}}function iu(e,t,n,i,o,r,u,s,a,c,p,d){var h;void 0===u&&(u=[]),c||(c=Cr);var f=$r(n),g=f.matchedQueries,m=f.references,v=f.matchedQueryIds,D=null,y=null;r&&(D=(h=Object(l.__read)(Xr(r),2))[0],y=h[1]),s=s||[];for(var b=new Array(s.length),C=0;C<s.length;C++){var S=Object(l.__read)(s[C],3),_=S[0],w=S[1],F=S[2],x=Object(l.__read)(Xr(w),2),E=x[0],k=x[1],A=void 0,T=void 0;switch(15&_){case 4:T=F;break;case 1:case 8:A=F}b[C]={flags:_,ns:E,name:k,nonMinifiedName:k,securityContext:A,suffix:T}}a=a||[];var I=new Array(a.length);for(C=0;C<a.length;C++){var B=Object(l.__read)(a[C],2);I[C]={type:0,target:B[0],eventName:B[1],propName:null}}var O=(u=u||[]).map(function(e){var t=Object(l.__read)(e,2),n=t[0],i=t[1],o=Object(l.__read)(Xr(n),2);return[o[0],o[1],i]});return d=function(e){if(e&&e.id===Fr){var t=null!=e.encapsulation&&e.encapsulation!==Ie.None||e.styles.length||Object.keys(e.data).length;e.id=t?"c"+kr++:xr}return e&&e.id===xr&&(e=null),e||null}(d),p&&(t|=33554432),{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:t|=1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:g,matchedQueryIds:v,references:m,ngContentIndex:i,childCount:o,bindings:b,bindingFlags:Yr(b),outputs:I,element:{ns:D,name:y,attrs:O,template:null,componentProvider:null,componentView:p||null,componentRendererType:d,publicProviders:null,allProviders:null,handleEvent:c||Cr},provider:null,text:null,query:null,ngContent:null}}function ou(e,t,n){var i,o=n.element,r=e.root.selectorOrNode,u=e.renderer;if(e.parent||!r){i=o.name?u.createElement(o.name,o.ns):u.createComment("");var s=Ur(e,t,n);s&&u.appendChild(s,i)}else i=u.selectRootElement(r,!!o.componentRendererType&&o.componentRendererType.encapsulation===Ie.ShadowDom);if(o.attrs)for(var a=0;a<o.attrs.length;a++){var c=Object(l.__read)(o.attrs[a],3);u.setAttribute(i,c[1],c[2],c[0])}return i}function ru(e,t,n,l){for(var i=0;i<n.outputs.length;i++){var o=n.outputs[i],r=uu(e,n.nodeIndex,(p=o.eventName,(c=o.target)?c+":"+p:p)),u=o.target,s=e;"component"===o.target&&(u=null,s=t);var a=s.renderer.listen(u||l,o.eventName,r);e.disposables[n.outputIndex+i]=a}var c,p}function uu(e,t,n){return function(l){return Rr(e,t,n,l)}}function su(e,t,n,l){if(!Tr(e,t,n,l))return!1;var i=t.bindings[n],o=hr(e,t.nodeIndex),r=o.renderElement,u=i.name;switch(15&i.flags){case 1:!function(e,t,n,l,i,o){var r=t.securityContext,u=r?e.root.sanitizer.sanitize(r,o):o;u=null!=u?u.toString():null;var s=e.renderer;null!=o?s.setAttribute(n,i,u,l):s.removeAttribute(n,i,l)}(e,i,r,i.ns,u,l);break;case 2:!function(e,t,n,l){var i=e.renderer;l?i.addClass(t,n):i.removeClass(t,n)}(e,r,u,l);break;case 4:!function(e,t,n,l,i){var o=e.root.sanitizer.sanitize(Gl.STYLE,i);if(null!=o){o=o.toString();var r=t.suffix;null!=r&&(o+=r)}else o=null;var u=e.renderer;null!=o?u.setStyle(n,l,o):u.removeStyle(n,l)}(e,i,r,u,l);break;case 8:!function(e,t,n,l,i){var o=t.securityContext,r=o?e.root.sanitizer.sanitize(o,i):i;e.renderer.setProperty(n,l,r)}(33554432&t.flags&&32&i.flags?o.componentView:e,i,r,u,l)}return!0}var au=new Object,cu=_r(tl),pu=_r(Yn),du=_r(Pl);function hu(e,t,n,l){return n=Te(n),{index:-1,deps:Hr(l,Ee(t)),flags:e,token:t,value:n}}function fu(e,t,n){void 0===n&&(n=tl.THROW_IF_NOT_FOUND);var l,i,o=xt(e);try{if(8&t.flags)return t.token;if(2&t.flags&&(n=null),1&t.flags)return e._parent.get(t.token,n);var r=t.tokenKey;switch(r){case cu:case pu:case du:return e}var u,s=e._def.providersByKey[r];if(s){var a=e._providers[s.index];return void 0===a&&(a=e._providers[s.index]=gu(e,s)),a===au?void 0:a}if((u=fe(t.token))&&(l=e,null!=(i=u).providedIn&&(function(e,t){return e._def.modules.indexOf(i.providedIn)>-1}(l)||"root"===i.providedIn&&l._def.isRoot))){var c=e._providers.length;return e._def.providersByKey[t.tokenKey]={flags:5120,value:u.factory,deps:[],index:c,token:t.token},e._providers[c]=au,e._providers[c]=gu(e,e._def.providersByKey[t.tokenKey])}return 4&t.flags?n:e._parent.get(t.token,n)}finally{xt(o)}}function gu(e,t){var n;switch(201347067&t.flags){case 512:n=function(e,t,n){var i=n.length;switch(i){case 0:return new t;case 1:return new t(fu(e,n[0]));case 2:return new t(fu(e,n[0]),fu(e,n[1]));case 3:return new t(fu(e,n[0]),fu(e,n[1]),fu(e,n[2]));default:for(var o=new Array(i),r=0;r<i;r++)o[r]=fu(e,n[r]);return new(t.bind.apply(t,Object(l.__spread)([void 0],o)))}}(e,t.value,t.deps);break;case 1024:n=function(e,t,n){var i=n.length;switch(i){case 0:return t();case 1:return t(fu(e,n[0]));case 2:return t(fu(e,n[0]),fu(e,n[1]));case 3:return t(fu(e,n[0]),fu(e,n[1]),fu(e,n[2]));default:for(var o=Array(i),r=0;r<i;r++)o[r]=fu(e,n[r]);return t.apply(void 0,Object(l.__spread)(o))}}(e,t.value,t.deps);break;case 2048:n=fu(e,t.deps[0]);break;case 256:n=t.value}return n===au||null==n||"object"!=typeof n||131072&t.flags||"function"!=typeof n.ngOnDestroy||(t.flags|=131072),void 0===n?au:n}function mu(e,t){var n=e.viewContainer._embeddedViews;if((null==t||t>=n.length)&&(t=n.length-1),t<0)return null;var l=n[t];return l.viewContainerParent=null,bu(n,t),vr.dirtyParentQueries(l),Du(l),l}function vu(e,t,n){var l=t?Nr(t,t.def.lastRenderRootNode):e.renderElement,i=n.renderer.parentNode(l),o=n.renderer.nextSibling(l);Gr(n,2,i,o,void 0)}function Du(e){Gr(e,3,null,null,void 0)}function yu(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function bu(e,t){t>=e.length-1?e.pop():e.splice(t,1)}var Cu=new Object;function Su(e,t,n,l,i,o){return new _u(e,t,n,l,i,o)}var _u=function(e){function t(t,n,l,i,o,r){var u=e.call(this)||this;return u.selector=t,u.componentType=n,u._inputs=i,u._outputs=o,u.ngContentSelectors=r,u.viewDefFactory=l,u}return Object(l.__extends)(t,e),Object.defineProperty(t.prototype,"inputs",{get:function(){var e=[],t=this._inputs;for(var n in t)e.push({propName:n,templateName:t[n]});return e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"outputs",{get:function(){var e=[];for(var t in this._outputs)e.push({propName:t,templateName:this._outputs[t]});return e},enumerable:!0,configurable:!0}),t.prototype.create=function(e,t,n,l){if(!l)throw new Error("ngModule should be provided");var i=qr(this.viewDefFactory),o=i.nodes[0].element.componentProvider.nodeIndex,r=vr.createRootView(e,t||[],n,i,l,Cu),u=fr(r,o).instance;return n&&r.renderer.setAttribute(hr(r,0).renderElement,"ng-version",Jl.full),new wu(r,new ku(r),u)},t}(kl),wu=function(e){function t(t,n,l){var i=e.call(this)||this;return i._view=t,i._viewRef=n,i._component=l,i._elDef=i._view.def.nodes[0],i.hostView=n,i.changeDetectorRef=n,i.instance=l,i}return Object(l.__extends)(t,e),Object.defineProperty(t.prototype,"location",{get:function(){return new Ll(hr(this._view,this._elDef.nodeIndex).renderElement)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"injector",{get:function(){return new Bu(this._view,this._elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"componentType",{get:function(){return this._component.constructor},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){this._viewRef.destroy()},t.prototype.onDestroy=function(e){this._viewRef.onDestroy(e)},t}(El);function Fu(e,t,n){return new xu(e,t,n)}var xu=function(){function e(e,t,n){this._view=e,this._elDef=t,this._data=n,this._embeddedViews=[]}return Object.defineProperty(e.prototype,"element",{get:function(){return new Ll(this._data.renderElement)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"injector",{get:function(){return new Bu(this._view,this._elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parentInjector",{get:function(){for(var e=this._view,t=this._elDef.parent;!t&&e;)t=Pr(e),e=e.parent;return e?new Bu(e,t):new Bu(this._view,null)},enumerable:!0,configurable:!0}),e.prototype.clear=function(){for(var e=this._embeddedViews.length-1;e>=0;e--){var t=mu(this._data,e);vr.destroyView(t)}},e.prototype.get=function(e){var t=this._embeddedViews[e];if(t){var n=new ku(t);return n.attachToViewContainerRef(this),n}return null},Object.defineProperty(e.prototype,"length",{get:function(){return this._embeddedViews.length},enumerable:!0,configurable:!0}),e.prototype.createEmbeddedView=function(e,t,n){var l=e.createEmbeddedView(t||{});return this.insert(l,n),l},e.prototype.createComponent=function(e,t,n,l,i){var o=n||this.parentInjector;i||e instanceof Ml||(i=o.get(Pl));var r=e.create(o,l,void 0,i);return this.insert(r.hostView,t),r},e.prototype.insert=function(e,t){if(e.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");var n,l,i,o,r=e;return o=(n=this._data).viewContainer._embeddedViews,null==(l=t)&&(l=o.length),(i=r._view).viewContainerParent=this._view,yu(o,l,i),function(e,t){var n=Mr(t);if(n&&n!==e&&!(16&t.state)){t.state|=16;var l=n.template._projectedViews;l||(l=n.template._projectedViews=[]),l.push(t),function(e,n){if(!(4&n.flags)){t.parent.def.nodeFlags|=4,n.flags|=4;for(var l=n.parent;l;)l.childFlags|=4,l=l.parent}}(0,t.parentNodeDef)}}(n,i),vr.dirtyParentQueries(i),vu(n,l>0?o[l-1]:null,i),r.attachToViewContainerRef(this),e},e.prototype.move=function(e,t){if(e.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");var n,l,i,o,r,u=this._embeddedViews.indexOf(e._view);return i=t,r=(o=(n=this._data).viewContainer._embeddedViews)[l=u],bu(o,l),null==i&&(i=o.length),yu(o,i,r),vr.dirtyParentQueries(r),Du(r),vu(n,i>0?o[i-1]:null,r),e},e.prototype.indexOf=function(e){return this._embeddedViews.indexOf(e._view)},e.prototype.remove=function(e){var t=mu(this._data,e);t&&vr.destroyView(t)},e.prototype.detach=function(e){var t=mu(this._data,e);return t?new ku(t):null},e}();function Eu(e){return new ku(e)}var ku=function(){function e(e){this._view=e,this._viewContainerRef=null,this._appRef=null}return Object.defineProperty(e.prototype,"rootNodes",{get:function(){return Gr(this._view,0,void 0,void 0,e=[]),e;var e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"context",{get:function(){return this._view.context},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"destroyed",{get:function(){return 0!=(128&this._view.state)},enumerable:!0,configurable:!0}),e.prototype.markForCheck=function(){Br(this._view)},e.prototype.detach=function(){this._view.state&=-5},e.prototype.detectChanges=function(){var e=this._view.root.rendererFactory;e.begin&&e.begin();try{vr.checkAndUpdateView(this._view)}finally{e.end&&e.end()}},e.prototype.checkNoChanges=function(){vr.checkNoChangesView(this._view)},e.prototype.reattach=function(){this._view.state|=4},e.prototype.onDestroy=function(e){this._view.disposables||(this._view.disposables=[]),this._view.disposables.push(e)},e.prototype.destroy=function(){this._appRef?this._appRef.detachView(this):this._viewContainerRef&&this._viewContainerRef.detach(this._viewContainerRef.indexOf(this)),vr.destroyView(this._view)},e.prototype.detachFromAppRef=function(){this._appRef=null,Du(this._view),vr.dirtyParentQueries(this._view)},e.prototype.attachToAppRef=function(e){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e},e.prototype.attachToViewContainerRef=function(e){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=e},e}();function Au(e,t){return new Tu(e,t)}var Tu=function(e){function t(t,n){var l=e.call(this)||this;return l._parentView=t,l._def=n,l}return Object(l.__extends)(t,e),t.prototype.createEmbeddedView=function(e){return new ku(vr.createEmbeddedView(this._parentView,this._def,this._def.element.template,e))},Object.defineProperty(t.prototype,"elementRef",{get:function(){return new Ll(hr(this._parentView,this._def.nodeIndex).renderElement)},enumerable:!0,configurable:!0}),t}(Ai);function Iu(e,t){return new Bu(e,t)}var Bu=function(){function e(e,t){this.view=e,this.elDef=t}return e.prototype.get=function(e,t){return void 0===t&&(t=tl.THROW_IF_NOT_FOUND),vr.resolveDep(this.view,this.elDef,!!this.elDef&&0!=(33554432&this.elDef.flags),{flags:0,token:e,tokenKey:_r(e)},t)},e}();function Ou(e,t){var n=e.def.nodes[t];if(1&n.flags){var l=hr(e,n.nodeIndex);return n.element.template?l.template:l.renderElement}if(2&n.flags)return dr(e,n.nodeIndex).renderText;if(20240&n.flags)return fr(e,n.nodeIndex).instance;throw new Error("Illegal state: read nodeValue for node index "+t)}function Ru(e){return new Mu(e.renderer)}var Mu=function(){function e(e){this.delegate=e}return e.prototype.selectRootElement=function(e){return this.delegate.selectRootElement(e)},e.prototype.createElement=function(e,t){var n=Object(l.__read)(Xr(t),2),i=this.delegate.createElement(n[1],n[0]);return e&&this.delegate.appendChild(e,i),i},e.prototype.createViewRoot=function(e){return e},e.prototype.createTemplateAnchor=function(e){var t=this.delegate.createComment("");return e&&this.delegate.appendChild(e,t),t},e.prototype.createText=function(e,t){var n=this.delegate.createText(t);return e&&this.delegate.appendChild(e,n),n},e.prototype.projectNodes=function(e,t){for(var n=0;n<t.length;n++)this.delegate.appendChild(e,t[n])},e.prototype.attachViewAfter=function(e,t){for(var n=this.delegate.parentNode(e),l=this.delegate.nextSibling(e),i=0;i<t.length;i++)this.delegate.insertBefore(n,t[i],l)},e.prototype.detachView=function(e){for(var t=0;t<e.length;t++){var n=e[t],l=this.delegate.parentNode(n);this.delegate.removeChild(l,n)}},e.prototype.destroyView=function(e,t){for(var n=0;n<t.length;n++)this.delegate.destroyNode(t[n])},e.prototype.listen=function(e,t,n){return this.delegate.listen(e,t,n)},e.prototype.listenGlobal=function(e,t,n){return this.delegate.listen(e,t,n)},e.prototype.setElementProperty=function(e,t,n){this.delegate.setProperty(e,t,n)},e.prototype.setElementAttribute=function(e,t,n){var i=Object(l.__read)(Xr(t),2),o=i[0],r=i[1];null!=n?this.delegate.setAttribute(e,r,n,o):this.delegate.removeAttribute(e,r,o)},e.prototype.setBindingDebugInfo=function(e,t,n){},e.prototype.setElementClass=function(e,t,n){n?this.delegate.addClass(e,t):this.delegate.removeClass(e,t)},e.prototype.setElementStyle=function(e,t,n){null!=n?this.delegate.setStyle(e,t,n):this.delegate.removeStyle(e,t)},e.prototype.invokeElementMethod=function(e,t,n){e[t].apply(e,n)},e.prototype.setText=function(e,t){this.delegate.setValue(e,t)},e.prototype.animate=function(){throw new Error("Renderer.animate is no longer supported!")},e}();function Pu(e,t,n,l){return new Nu(e,t,n,l)}var Nu=function(){function e(e,t,n,l){this._moduleType=e,this._parent=t,this._bootstrapComponents=n,this._def=l,this._destroyListeners=[],this._destroyed=!1,this.injector=this,function(e){for(var t=e._def,n=e._providers=new Array(t.providers.length),l=0;l<t.providers.length;l++){var i=t.providers[l];4096&i.flags||void 0===n[l]&&(n[l]=gu(e,i))}}(this)}return e.prototype.get=function(e,t,n){void 0===t&&(t=tl.THROW_IF_NOT_FOUND),void 0===n&&(n=wt.Default);var l=0;return n&wt.SkipSelf?l|=1:n&wt.Self&&(l|=4),fu(this,{token:e,tokenKey:_r(e),flags:l},t)},Object.defineProperty(e.prototype,"instance",{get:function(){return this.get(this._moduleType)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"componentFactoryResolver",{get:function(){return this.get(Ol)},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){if(this._destroyed)throw new Error("The ng module "+Ee(this.instance.constructor)+" has already been destroyed.");this._destroyed=!0,function(e,t){for(var n=e._def,l=new Set,i=0;i<n.providers.length;i++)if(131072&n.providers[i].flags){var o=e._providers[i];if(o&&o!==au){var r=o.ngOnDestroy;"function"!=typeof r||l.has(o)||(r.apply(o),l.add(o))}}}(this),this._destroyListeners.forEach(function(e){return e()})},e.prototype.onDestroy=function(e){this._destroyListeners.push(e)},e}(),ju=_r($l),Lu=_r(zl),Vu=_r(Ll),$u=_r(Oo),Hu=_r(Ai),Uu=_r(Mo),zu=_r(tl),qu=_r(Yn);function Gu(e,t,n,i,o,r,u,s){var a=[];if(u)for(var c in u){var p=Object(l.__read)(u[c],2);a[p[0]]={flags:8,name:c,nonMinifiedName:p[1],ns:null,securityContext:null,suffix:null}}var d=[];if(s)for(var h in s)d.push({type:1,propName:h,target:null,eventName:s[h]});return Qu(e,t|=16384,n,i,o,o,r,a,d)}function Wu(e,t,n){return Qu(-1,e|=16,null,0,t,t,n)}function Ju(e,t,n,l,i){return Qu(-1,e,t,0,n,l,i)}function Qu(e,t,n,l,i,o,r,u,s){var a=$r(n),c=a.matchedQueries,p=a.references,d=a.matchedQueryIds;s||(s=[]),u||(u=[]),o=Te(o);var h=Hr(r,Ee(i));return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:c,matchedQueryIds:d,references:p,ngContentIndex:-1,childCount:l,bindings:u,bindingFlags:Yr(u),outputs:s,element:null,provider:{token:i,value:o,deps:h},text:null,query:null,ngContent:null}}function Ku(e,t){return es(e,t)}function Zu(e,t){for(var n=e;n.parent&&!jr(n);)n=n.parent;return ts(n.parent,Pr(n),!0,t.provider.value,t.provider.deps)}function Xu(e,t){var n=ts(e,t.parent,(32768&t.flags)>0,t.provider.value,t.provider.deps);if(t.outputs.length)for(var l=0;l<t.outputs.length;l++){var i=t.outputs[l],o=n[i.propName];if(!$i(o))throw new Error("@Output "+i.propName+" not initialized in '"+n.constructor.name+"'.");var r=o.subscribe(Yu(e,t.parent.nodeIndex,i.eventName));e.disposables[t.outputIndex+l]=r.unsubscribe.bind(r)}return n}function Yu(e,t,n){return function(l){return Rr(e,t,n,l)}}function es(e,t){var n=(8192&t.flags)>0,i=t.provider;switch(201347067&t.flags){case 512:return ts(e,t.parent,n,i.value,i.deps);case 1024:return function(e,t,n,i,o){var r=o.length;switch(r){case 0:return i();case 1:return i(ls(e,t,n,o[0]));case 2:return i(ls(e,t,n,o[0]),ls(e,t,n,o[1]));case 3:return i(ls(e,t,n,o[0]),ls(e,t,n,o[1]),ls(e,t,n,o[2]));default:for(var u=Array(r),s=0;s<r;s++)u[s]=ls(e,t,n,o[s]);return i.apply(void 0,Object(l.__spread)(u))}}(e,t.parent,n,i.value,i.deps);case 2048:return ls(e,t.parent,n,i.deps[0]);case 256:return i.value}}function ts(e,t,n,i,o){var r=o.length;switch(r){case 0:return new i;case 1:return new i(ls(e,t,n,o[0]));case 2:return new i(ls(e,t,n,o[0]),ls(e,t,n,o[1]));case 3:return new i(ls(e,t,n,o[0]),ls(e,t,n,o[1]),ls(e,t,n,o[2]));default:for(var u=new Array(r),s=0;s<r;s++)u[s]=ls(e,t,n,o[s]);return new(i.bind.apply(i,Object(l.__spread)([void 0],u)))}}var ns={};function ls(e,t,n,l,i){if(void 0===i&&(i=tl.THROW_IF_NOT_FOUND),8&l.flags)return l.token;var o=e;2&l.flags&&(i=null);var r=l.tokenKey;r===Uu&&(n=!(!t||!t.element.componentView)),t&&1&l.flags&&(n=!1,t=t.parent);for(var u=e;u;){if(t)switch(r){case ju:return Ru(is(u,t,n));case Lu:return is(u,t,n).renderer;case Vu:return new Ll(hr(u,t.nodeIndex).renderElement);case $u:return hr(u,t.nodeIndex).viewContainer;case Hu:if(t.element.template)return hr(u,t.nodeIndex).template;break;case Uu:return Eu(is(u,t,n));case zu:case qu:return Iu(u,t);default:var s=(n?t.element.allProviders:t.element.publicProviders)[r];if(s){var a=fr(u,s.nodeIndex);return a||(a={instance:es(u,s)},u.nodes[s.nodeIndex]=a),a.instance}}n=jr(u),t=Pr(u),u=u.parent,4&l.flags&&(u=null)}var c=o.root.injector.get(l.token,ns);return c!==ns||i===ns?c:o.root.ngModule.injector.get(l.token,i)}function is(e,t,n){var l;if(n)l=hr(e,t.nodeIndex).componentView;else for(l=e;l.parent&&!jr(l);)l=l.parent;return l}function os(e,t,n,l,i,o){if(32768&n.flags){var r=hr(e,n.parent.nodeIndex).componentView;2&r.def.flags&&(r.state|=8)}if(t.instance[n.bindings[l].name]=i,524288&n.flags){o=o||{};var u=gn.unwrap(e.oldValues[n.bindingIndex+l]);o[n.bindings[l].nonMinifiedName]=new mn(u,i,0!=(2&e.state))}return e.oldValues[n.bindingIndex+l]=i,o}function rs(e,t){if(e.def.nodeFlags&t)for(var n=e.def.nodes,l=0,i=0;i<n.length;i++){var o=n[i],r=o.parent;for(!r&&o.flags&t&&ss(e,i,o.flags&t,l++),0==(o.childFlags&t)&&(i+=o.childCount);r&&1&r.flags&&i===r.nodeIndex+r.childCount;)r.directChildFlags&t&&(l=us(e,r,t,l)),r=r.parent}}function us(e,t,n,l){for(var i=t.nodeIndex+1;i<=t.nodeIndex+t.childCount;i++){var o=e.def.nodes[i];o.flags&n&&ss(e,i,o.flags&n,l++),i+=o.childCount}return l}function ss(e,t,n,l){var i=fr(e,t);if(i){var o=i.instance;o&&(vr.setCurrentNode(e,t),1048576&n&&pr(e,512,l)&&o.ngAfterContentInit(),2097152&n&&o.ngAfterContentChecked(),4194304&n&&pr(e,768,l)&&o.ngAfterViewInit(),8388608&n&&o.ngAfterViewChecked(),131072&n&&o.ngOnDestroy())}}function as(e,t,n){var l=[];for(var i in n)l.push({propName:i,bindingType:n[i]});return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:e,childFlags:0,directChildFlags:0,childMatchedQueries:0,ngContentIndex:-1,matchedQueries:{},matchedQueryIds:0,references:{},childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:{id:t,filterId:Vr(t),bindings:l},ngContent:null}}function cs(e){for(var t=e.def.nodeMatchedQueries;e.parent&&Lr(e);){var n=e.parentNodeDef;e=e.parent;for(var l=n.nodeIndex+n.childCount,i=0;i<=l;i++)67108864&(o=e.def.nodes[i]).flags&&536870912&o.flags&&(o.query.filterId&t)===o.query.filterId&&mr(e,i).setDirty(),!(1&o.flags&&i+o.childCount<n.nodeIndex)&&67108864&o.childFlags&&536870912&o.childFlags||(i+=o.childCount)}if(134217728&e.def.nodeFlags)for(i=0;i<e.def.nodes.length;i++){var o;134217728&(o=e.def.nodes[i]).flags&&536870912&o.flags&&mr(e,i).setDirty(),i+=o.childCount}}function ps(e,t){var n=mr(e,t.nodeIndex);if(n.dirty){var l,i=void 0;if(67108864&t.flags){var o=t.parent.parent;i=ds(e,o.nodeIndex,o.nodeIndex+o.childCount,t.query,[]),l=fr(e,t.parent.nodeIndex).instance}else 134217728&t.flags&&(i=ds(e,0,e.def.nodes.length-1,t.query,[]),l=e.component);n.reset(i);for(var r=t.query.bindings,u=!1,s=0;s<r.length;s++){var a=r[s],c=void 0;switch(a.bindingType){case 0:c=n.first;break;case 1:c=n,u=!0}l[a.propName]=c}u&&n.notifyOnChanges()}}function ds(e,t,n,l,i){for(var o=t;o<=n;o++){var r=e.def.nodes[o],u=r.matchedQueries[l.id];if(null!=u&&i.push(hs(e,r,u)),1&r.flags&&r.element.template&&(r.element.template.nodeMatchedQueries&l.filterId)===l.filterId){var s=hr(e,o);if((r.childMatchedQueries&l.filterId)===l.filterId&&(ds(e,o+1,o+r.childCount,l,i),o+=r.childCount),16777216&r.flags)for(var a=s.viewContainer._embeddedViews,c=0;c<a.length;c++){var p=a[c],d=Mr(p);d&&d===s&&ds(p,0,p.def.nodes.length-1,l,i)}var h=s.template._projectedViews;if(h)for(c=0;c<h.length;c++){var f=h[c];ds(f,0,f.def.nodes.length-1,l,i)}}(r.childMatchedQueries&l.filterId)!==l.filterId&&(o+=r.childCount)}return i}function hs(e,t,n){if(null!=n)switch(n){case 1:return hr(e,t.nodeIndex).renderElement;case 0:return new Ll(hr(e,t.nodeIndex).renderElement);case 2:return hr(e,t.nodeIndex).template;case 3:return hr(e,t.nodeIndex).viewContainer;case 4:return fr(e,t.nodeIndex).instance}}function fs(e,t,n){var l=Ur(e,t,n);l&&Jr(e,n.ngContent.index,1,l,null,void 0)}function gs(e,t){return Ds(128,e,new Array(t+1))}function ms(e,t){return Ds(32,e,new Array(t))}function vs(e,t){for(var n=Object.keys(t),l=n.length,i=new Array(l),o=0;o<l;o++){var r=n[o];i[t[r]]=r}return Ds(64,e,i)}function Ds(e,t,n){for(var l=new Array(n.length),i=0;i<n.length;i++){var o=n[i];l[i]={flags:8,name:o,ns:null,nonMinifiedName:o,securityContext:null,suffix:null}}return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:-1,childCount:0,bindings:l,bindingFlags:Yr(l),outputs:[],element:null,provider:null,text:null,query:null,ngContent:null}}function ys(e,t,n){for(var l=new Array(n.length-1),i=1;i<n.length;i++)l[i-1]={flags:8,name:null,ns:null,nonMinifiedName:null,securityContext:null,suffix:n[i]};return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:2,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:t,childCount:0,bindings:l,bindingFlags:8,outputs:[],element:null,provider:null,text:{prefix:n[0]},query:null,ngContent:null}}function bs(e,t,n){var l,i=e.renderer;l=i.createText(n.text.prefix);var o=Ur(e,t,n);return o&&i.appendChild(o,l),{renderText:l}}function Cs(e,t){return(null!=e?e.toString():"")+t.suffix}function Ss(e,t,n,l){for(var i=0,o=0,r=0,u=0,s=0,a=null,c=null,p=!1,d=!1,h=null,f=0;f<t.length;f++){var g=t[f];if(g.nodeIndex=f,g.parent=a,g.bindingIndex=i,g.outputIndex=o,g.renderParent=c,r|=g.flags,s|=g.matchedQueryIds,g.element){var m=g.element;m.publicProviders=a?a.element.publicProviders:Object.create(null),m.allProviders=m.publicProviders,p=!1,d=!1,g.element.template&&(s|=g.element.template.nodeMatchedQueries)}if(ws(a,g,t.length),i+=g.bindings.length,o+=g.outputs.length,!c&&3&g.flags&&(h=g),20224&g.flags){p||(p=!0,a.element.publicProviders=Object.create(a.element.publicProviders),a.element.allProviders=a.element.publicProviders);var v=0!=(32768&g.flags);0==(8192&g.flags)||v?a.element.publicProviders[_r(g.provider.token)]=g:(d||(d=!0,a.element.allProviders=Object.create(a.element.publicProviders)),a.element.allProviders[_r(g.provider.token)]=g),v&&(a.element.componentProvider=g)}if(a?(a.childFlags|=g.flags,a.directChildFlags|=g.flags,a.childMatchedQueries|=g.matchedQueryIds,g.element&&g.element.template&&(a.childMatchedQueries|=g.element.template.nodeMatchedQueries)):u|=g.flags,g.childCount>0)a=g,_s(g)||(c=g);else for(;a&&f===a.nodeIndex+a.childCount;){var D=a.parent;D&&(D.childFlags|=a.childFlags,D.childMatchedQueries|=a.childMatchedQueries),c=(a=D)&&_s(a)?a.renderParent:a}}return{factory:null,nodeFlags:r,rootNodeFlags:u,nodeMatchedQueries:s,flags:e,nodes:t,updateDirectives:n||Cr,updateRenderer:l||Cr,handleEvent:function(e,n,l,i){return t[n].element.handleEvent(e,l,i)},bindingCount:i,outputCount:o,lastRenderRootNode:h}}function _s(e){return 0!=(1&e.flags)&&null===e.element.name}function ws(e,t,n){var l=t.element&&t.element.template;if(l){if(!l.lastRenderRootNode)throw new Error("Illegal State: Embedded templates without nodes are not allowed!");if(l.lastRenderRootNode&&16777216&l.lastRenderRootNode.flags)throw new Error("Illegal State: Last root node of a template can't have embedded views, at index "+t.nodeIndex+"!")}if(20224&t.flags&&0==(1&(e?e.flags:0)))throw new Error("Illegal State: StaticProvider/Directive nodes need to be children of elements or anchors, at index "+t.nodeIndex+"!");if(t.query){if(67108864&t.flags&&(!e||0==(16384&e.flags)))throw new Error("Illegal State: Content Query nodes need to be children of directives, at index "+t.nodeIndex+"!");if(134217728&t.flags&&e)throw new Error("Illegal State: View Query nodes have to be top level nodes, at index "+t.nodeIndex+"!")}if(t.childCount){var i=e?e.nodeIndex+e.childCount:n-1;if(t.nodeIndex<=i&&t.nodeIndex+t.childCount>i)throw new Error("Illegal State: childCount of node leads outside of parent, at index "+t.nodeIndex+"!")}}function Fs(e,t,n,l){var i=ks(e.root,e.renderer,e,t,n);return As(i,e.component,l),Ts(i),i}function xs(e,t,n){var l=ks(e,e.renderer,null,null,t);return As(l,n,n),Ts(l),l}function Es(e,t,n,l){var i,o=t.element.componentRendererType;return i=o?e.root.rendererFactory.createRenderer(l,o):e.root.renderer,ks(e.root,i,e,t.element.componentProvider,n)}function ks(e,t,n,l,i){var o=new Array(i.nodes.length),r=i.outputCount?new Array(i.outputCount):null;return{def:i,parent:n,viewContainerParent:null,parentNodeDef:l,context:null,component:null,nodes:o,state:13,root:e,renderer:t,oldValues:new Array(i.bindingCount),disposables:r,initIndex:-1}}function As(e,t,n){e.component=t,e.context=n}function Ts(e){var t;jr(e)&&(t=hr(e.parent,e.parentNodeDef.parent.nodeIndex).renderElement);for(var n=e.def,l=e.nodes,i=0;i<n.nodes.length;i++){var o=n.nodes[i];vr.setCurrentNode(e,i);var r=void 0;switch(201347067&o.flags){case 1:var u=ou(e,t,o),s=void 0;if(33554432&o.flags){var a=qr(o.element.componentView);s=vr.createComponentView(e,o,a,u)}ru(e,s,o,u),r={renderElement:u,componentView:s,viewContainer:null,template:o.element.template?Au(e,o):void 0},16777216&o.flags&&(r.viewContainer=Fu(e,o,r));break;case 2:r=bs(e,t,o);break;case 512:case 1024:case 2048:case 256:(r=l[i])||4096&o.flags||(r={instance:Ku(e,o)});break;case 16:r={instance:Zu(e,o)};break;case 16384:(r=l[i])||(r={instance:Xu(e,o)}),32768&o.flags&&As(hr(e,o.parent.nodeIndex).componentView,r.instance,r.instance);break;case 32:case 64:case 128:r={value:void 0};break;case 67108864:case 134217728:r=new Bo;break;case 8:fs(e,t,o),r=void 0}l[i]=r}Ls(e,js.CreateViewNodes),Us(e,201326592,268435456,0)}function Is(e){Rs(e),vr.updateDirectives(e,1),Vs(e,js.CheckNoChanges),vr.updateRenderer(e,1),Ls(e,js.CheckNoChanges),e.state&=-97}function Bs(e){1&e.state?(e.state&=-2,e.state|=2):e.state&=-3,cr(e,0,256),Rs(e),vr.updateDirectives(e,0),Vs(e,js.CheckAndUpdate),Us(e,67108864,536870912,0);var t=cr(e,256,512);rs(e,2097152|(t?1048576:0)),vr.updateRenderer(e,0),Ls(e,js.CheckAndUpdate),Us(e,134217728,536870912,0),rs(e,8388608|((t=cr(e,512,768))?4194304:0)),2&e.def.flags&&(e.state&=-9),e.state&=-97,cr(e,768,1024)}function Os(e,t,n,i,o,r,u,s,a,c,p,d,h){return 0===n?function(e,t,n,l,i,o,r,u,s,a,c,p){switch(201347067&t.flags){case 1:return function(e,t,n,l,i,o,r,u,s,a,c,p){var d=t.bindings.length,h=!1;return d>0&&su(e,t,0,n)&&(h=!0),d>1&&su(e,t,1,l)&&(h=!0),d>2&&su(e,t,2,i)&&(h=!0),d>3&&su(e,t,3,o)&&(h=!0),d>4&&su(e,t,4,r)&&(h=!0),d>5&&su(e,t,5,u)&&(h=!0),d>6&&su(e,t,6,s)&&(h=!0),d>7&&su(e,t,7,a)&&(h=!0),d>8&&su(e,t,8,c)&&(h=!0),d>9&&su(e,t,9,p)&&(h=!0),h}(e,t,n,l,i,o,r,u,s,a,c,p);case 2:return function(e,t,n,l,i,o,r,u,s,a,c,p){var d=!1,h=t.bindings,f=h.length;if(f>0&&Tr(e,t,0,n)&&(d=!0),f>1&&Tr(e,t,1,l)&&(d=!0),f>2&&Tr(e,t,2,i)&&(d=!0),f>3&&Tr(e,t,3,o)&&(d=!0),f>4&&Tr(e,t,4,r)&&(d=!0),f>5&&Tr(e,t,5,u)&&(d=!0),f>6&&Tr(e,t,6,s)&&(d=!0),f>7&&Tr(e,t,7,a)&&(d=!0),f>8&&Tr(e,t,8,c)&&(d=!0),f>9&&Tr(e,t,9,p)&&(d=!0),d){var g=t.text.prefix;f>0&&(g+=Cs(n,h[0])),f>1&&(g+=Cs(l,h[1])),f>2&&(g+=Cs(i,h[2])),f>3&&(g+=Cs(o,h[3])),f>4&&(g+=Cs(r,h[4])),f>5&&(g+=Cs(u,h[5])),f>6&&(g+=Cs(s,h[6])),f>7&&(g+=Cs(a,h[7])),f>8&&(g+=Cs(c,h[8])),f>9&&(g+=Cs(p,h[9]));var m=dr(e,t.nodeIndex).renderText;e.renderer.setValue(m,g)}return d}(e,t,n,l,i,o,r,u,s,a,c,p);case 16384:return function(e,t,n,l,i,o,r,u,s,a,c,p){var d=fr(e,t.nodeIndex),h=d.instance,f=!1,g=void 0,m=t.bindings.length;return m>0&&Ar(e,t,0,n)&&(f=!0,g=os(e,d,t,0,n,g)),m>1&&Ar(e,t,1,l)&&(f=!0,g=os(e,d,t,1,l,g)),m>2&&Ar(e,t,2,i)&&(f=!0,g=os(e,d,t,2,i,g)),m>3&&Ar(e,t,3,o)&&(f=!0,g=os(e,d,t,3,o,g)),m>4&&Ar(e,t,4,r)&&(f=!0,g=os(e,d,t,4,r,g)),m>5&&Ar(e,t,5,u)&&(f=!0,g=os(e,d,t,5,u,g)),m>6&&Ar(e,t,6,s)&&(f=!0,g=os(e,d,t,6,s,g)),m>7&&Ar(e,t,7,a)&&(f=!0,g=os(e,d,t,7,a,g)),m>8&&Ar(e,t,8,c)&&(f=!0,g=os(e,d,t,8,c,g)),m>9&&Ar(e,t,9,p)&&(f=!0,g=os(e,d,t,9,p,g)),g&&h.ngOnChanges(g),65536&t.flags&&pr(e,256,t.nodeIndex)&&h.ngOnInit(),262144&t.flags&&h.ngDoCheck(),f}(e,t,n,l,i,o,r,u,s,a,c,p);case 32:case 64:case 128:return function(e,t,n,l,i,o,r,u,s,a,c,p){var d=t.bindings,h=!1,f=d.length;if(f>0&&Tr(e,t,0,n)&&(h=!0),f>1&&Tr(e,t,1,l)&&(h=!0),f>2&&Tr(e,t,2,i)&&(h=!0),f>3&&Tr(e,t,3,o)&&(h=!0),f>4&&Tr(e,t,4,r)&&(h=!0),f>5&&Tr(e,t,5,u)&&(h=!0),f>6&&Tr(e,t,6,s)&&(h=!0),f>7&&Tr(e,t,7,a)&&(h=!0),f>8&&Tr(e,t,8,c)&&(h=!0),f>9&&Tr(e,t,9,p)&&(h=!0),h){var g=gr(e,t.nodeIndex),m=void 0;switch(201347067&t.flags){case 32:m=new Array(d.length),f>0&&(m[0]=n),f>1&&(m[1]=l),f>2&&(m[2]=i),f>3&&(m[3]=o),f>4&&(m[4]=r),f>5&&(m[5]=u),f>6&&(m[6]=s),f>7&&(m[7]=a),f>8&&(m[8]=c),f>9&&(m[9]=p);break;case 64:m={},f>0&&(m[d[0].name]=n),f>1&&(m[d[1].name]=l),f>2&&(m[d[2].name]=i),f>3&&(m[d[3].name]=o),f>4&&(m[d[4].name]=r),f>5&&(m[d[5].name]=u),f>6&&(m[d[6].name]=s),f>7&&(m[d[7].name]=a),f>8&&(m[d[8].name]=c),f>9&&(m[d[9].name]=p);break;case 128:var v=n;switch(f){case 1:m=v.transform(n);break;case 2:m=v.transform(l);break;case 3:m=v.transform(l,i);break;case 4:m=v.transform(l,i,o);break;case 5:m=v.transform(l,i,o,r);break;case 6:m=v.transform(l,i,o,r,u);break;case 7:m=v.transform(l,i,o,r,u,s);break;case 8:m=v.transform(l,i,o,r,u,s,a);break;case 9:m=v.transform(l,i,o,r,u,s,a,c);break;case 10:m=v.transform(l,i,o,r,u,s,a,c,p)}}g.value=m}return h}(e,t,n,l,i,o,r,u,s,a,c,p);default:throw"unreachable"}}(e,t,i,o,r,u,s,a,c,p,d,h):function(e,t,n){switch(201347067&t.flags){case 1:return function(e,t,n){for(var l=!1,i=0;i<n.length;i++)su(e,t,i,n[i])&&(l=!0);return l}(e,t,n);case 2:return function(e,t,n){for(var l=t.bindings,i=!1,o=0;o<n.length;o++)Tr(e,t,o,n[o])&&(i=!0);if(i){var r="";for(o=0;o<n.length;o++)r+=Cs(n[o],l[o]);r=t.text.prefix+r;var u=dr(e,t.nodeIndex).renderText;e.renderer.setValue(u,r)}return i}(e,t,n);case 16384:return function(e,t,n){for(var l=fr(e,t.nodeIndex),i=l.instance,o=!1,r=void 0,u=0;u<n.length;u++)Ar(e,t,u,n[u])&&(o=!0,r=os(e,l,t,u,n[u],r));return r&&i.ngOnChanges(r),65536&t.flags&&pr(e,256,t.nodeIndex)&&i.ngOnInit(),262144&t.flags&&i.ngDoCheck(),o}(e,t,n);case 32:case 64:case 128:return function(e,t,n){for(var i=t.bindings,o=!1,r=0;r<n.length;r++)Tr(e,t,r,n[r])&&(o=!0);if(o){var u=gr(e,t.nodeIndex),s=void 0;switch(201347067&t.flags){case 32:s=n;break;case 64:for(s={},r=0;r<n.length;r++)s[i[r].name]=n[r];break;case 128:var a=n[0],c=n.slice(1);s=a.transform.apply(a,Object(l.__spread)(c))}u.value=s}return o}(e,t,n);default:throw"unreachable"}}(e,t,i)}function Rs(e){var t=e.def;if(4&t.nodeFlags)for(var n=0;n<t.nodes.length;n++){var l=t.nodes[n];if(4&l.flags){var i=hr(e,n).template._projectedViews;if(i)for(var o=0;o<i.length;o++){var r=i[o];r.state|=32,Or(r,e)}}else 0==(4&l.childFlags)&&(n+=l.childCount)}}function Ms(e,t,n,l,i,o,r,u,s,a,c,p,d){return 0===n?function(e,t,n,l,i,o,r,u,s,a,c,p){var d=t.bindings.length;d>0&&Ir(e,t,0,n),d>1&&Ir(e,t,1,l),d>2&&Ir(e,t,2,i),d>3&&Ir(e,t,3,o),d>4&&Ir(e,t,4,r),d>5&&Ir(e,t,5,u),d>6&&Ir(e,t,6,s),d>7&&Ir(e,t,7,a),d>8&&Ir(e,t,8,c),d>9&&Ir(e,t,9,p)}(e,t,l,i,o,r,u,s,a,c,p,d):function(e,t,n){for(var l=0;l<n.length;l++)Ir(e,t,l,n[l])}(e,t,l),!1}function Ps(e,t){if(mr(e,t.nodeIndex).dirty)throw Dr(vr.createDebugContext(e,t.nodeIndex),"Query "+t.query.id+" not dirty","Query "+t.query.id+" dirty",0!=(1&e.state))}function Ns(e){if(!(128&e.state)){if(Vs(e,js.Destroy),Ls(e,js.Destroy),rs(e,131072),e.disposables)for(var t=0;t<e.disposables.length;t++)e.disposables[t]();!function(e){if(16&e.state){var t=Mr(e);if(t){var n=t.template._projectedViews;n&&(bu(n,n.indexOf(e)),vr.dirtyParentQueries(e))}}}(e),e.renderer.destroyNode&&function(e){for(var t=e.def.nodes.length,n=0;n<t;n++){var l=e.def.nodes[n];1&l.flags?e.renderer.destroyNode(hr(e,n).renderElement):2&l.flags?e.renderer.destroyNode(dr(e,n).renderText):(67108864&l.flags||134217728&l.flags)&&mr(e,n).destroy()}}(e),jr(e)&&e.renderer.destroy(),e.state|=128}}var js=function(e){return e[e.CreateViewNodes=0]="CreateViewNodes",e[e.CheckNoChanges=1]="CheckNoChanges",e[e.CheckNoChangesProjectedViews=2]="CheckNoChangesProjectedViews",e[e.CheckAndUpdate=3]="CheckAndUpdate",e[e.CheckAndUpdateProjectedViews=4]="CheckAndUpdateProjectedViews",e[e.Destroy=5]="Destroy",e}({});function Ls(e,t){var n=e.def;if(33554432&n.nodeFlags)for(var l=0;l<n.nodes.length;l++){var i=n.nodes[l];33554432&i.flags?$s(hr(e,l).componentView,t):0==(33554432&i.childFlags)&&(l+=i.childCount)}}function Vs(e,t){var n=e.def;if(16777216&n.nodeFlags)for(var l=0;l<n.nodes.length;l++){var i=n.nodes[l];if(16777216&i.flags)for(var o=hr(e,l).viewContainer._embeddedViews,r=0;r<o.length;r++)$s(o[r],t);else 0==(16777216&i.childFlags)&&(l+=i.childCount)}}function $s(e,t){var n=e.state;switch(t){case js.CheckNoChanges:0==(128&n)&&(12==(12&n)?Is(e):64&n&&Hs(e,js.CheckNoChangesProjectedViews));break;case js.CheckNoChangesProjectedViews:0==(128&n)&&(32&n?Is(e):64&n&&Hs(e,t));break;case js.CheckAndUpdate:0==(128&n)&&(12==(12&n)?Bs(e):64&n&&Hs(e,js.CheckAndUpdateProjectedViews));break;case js.CheckAndUpdateProjectedViews:0==(128&n)&&(32&n?Bs(e):64&n&&Hs(e,t));break;case js.Destroy:Ns(e);break;case js.CreateViewNodes:Ts(e)}}function Hs(e,t){Vs(e,t),Ls(e,t)}function Us(e,t,n,l){if(e.def.nodeFlags&t&&e.def.nodeFlags&n)for(var i=e.def.nodes.length,o=0;o<i;o++){var r=e.def.nodes[o];if(r.flags&t&&r.flags&n)switch(vr.setCurrentNode(e,r.nodeIndex),l){case 0:ps(e,r);break;case 1:Ps(e,r)}r.childFlags&t&&r.childFlags&n||(o+=r.childCount)}}var zs=!1;function qs(e,t,n,l,i,o){var r=i.injector.get(Hl);return xs(Ws(e,i,r,t,n),l,o)}function Gs(e,t,n,l,i,o){var r=i.injector.get(Hl),u=Ws(e,i,new Fa(r),t,n),s=la(l);return _a(da.create,xs,null,[u,s,o])}function Ws(e,t,n,l,i){var o=t.injector.get(Wl),r=t.injector.get(Li),u=n.createRenderer(null,null);return{ngModule:t,injector:e,projectableNodes:l,selectorOrNode:i,sanitizer:o,rendererFactory:n,renderer:u,errorHandler:r}}function Js(e,t,n,l){var i=la(n);return _a(da.create,Fs,null,[e,t,i,l])}function Qs(e,t,n,l){return n=Ys.get(t.element.componentProvider.provider.token)||la(n),_a(da.create,Es,null,[e,t,n,l])}function Ks(e,t,n,l){return Pu(e,t,n,function(e){var t=function(e){var t=!1,n=!1;return 0===Zs.size?{hasOverrides:t,hasDeprecatedOverrides:n}:(e.providers.forEach(function(e){var l=Zs.get(e.token);3840&e.flags&&l&&(t=!0,n=n||l.deprecatedBehavior)}),e.modules.forEach(function(e){Xs.forEach(function(l,i){fe(i).providedIn===e&&(t=!0,n=n||l.deprecatedBehavior)})}),{hasOverrides:t,hasDeprecatedOverrides:n})}(e),n=t.hasDeprecatedOverrides;return t.hasOverrides?(function(e){for(var t=0;t<e.providers.length;t++){var l=e.providers[t];n&&(l.flags|=4096);var i=Zs.get(l.token);i&&(l.flags=-3841&l.flags|i.flags,l.deps=Hr(i.deps),l.value=i.value)}if(Xs.size>0){var o=new Set(e.modules);Xs.forEach(function(t,l){if(o.has(fe(l).providedIn)){var i={token:l,flags:t.flags|(n?4096:0),deps:Hr(t.deps),value:t.value,index:e.providers.length};e.providers.push(i),e.providersByKey[_r(l)]=i}})}}(e=e.factory(function(){return Cr})),e):e}(l))}var Zs=new Map,Xs=new Map,Ys=new Map;function ea(e){var t;Zs.set(e.token,e),"function"==typeof e.token&&(t=fe(e.token))&&"function"==typeof t.providedIn&&Xs.set(e.token,e)}function ta(e,t){var n=qr(t.viewDefFactory),l=qr(n.nodes[0].element.componentView);Ys.set(e,l)}function na(){Zs.clear(),Xs.clear(),Ys.clear()}function la(e){if(0===Zs.size)return e;var t=function(e){for(var t=[],n=null,l=0;l<e.nodes.length;l++){var i=e.nodes[l];1&i.flags&&(n=i),n&&3840&i.flags&&Zs.has(i.provider.token)&&(t.push(n.nodeIndex),n=null)}return t}(e);if(0===t.length)return e;e=e.factory(function(){return Cr});for(var n=0;n<t.length;n++)l(e,t[n]);return e;function l(e,t){for(var n=t+1;n<e.nodes.length;n++){var l=e.nodes[n];if(1&l.flags)return;if(3840&l.flags){var i=l.provider,o=Zs.get(i.token);o&&(l.flags=-3841&l.flags|o.flags,i.deps=Hr(o.deps),i.value=o.value)}}}}function ia(e,t,n,l,i,o,r,u,s,a,c,p,d){var h=e.def.nodes[t];return Os(e,h,n,l,i,o,r,u,s,a,c,p,d),224&h.flags?gr(e,t).value:void 0}function oa(e,t,n,l,i,o,r,u,s,a,c,p,d){var h=e.def.nodes[t];return Ms(e,h,n,l,i,o,r,u,s,a,c,p,d),224&h.flags?gr(e,t).value:void 0}function ra(e){return _a(da.detectChanges,Bs,null,[e])}function ua(e){return _a(da.checkNoChanges,Is,null,[e])}function sa(e){return _a(da.destroy,Ns,null,[e])}var aa,ca,pa,da=function(e){return e[e.create=0]="create",e[e.detectChanges=1]="detectChanges",e[e.checkNoChanges=2]="checkNoChanges",e[e.destroy=3]="destroy",e[e.handleEvent=4]="handleEvent",e}({});function ha(e,t){ca=e,pa=t}function fa(e,t,n,l){return ha(e,t),_a(da.handleEvent,e.def.handleEvent,null,[e,t,n,l])}function ga(e,t){if(128&e.state)throw br(da[aa]);return ha(e,ya(e,0)),e.def.updateDirectives(function(e,n,l){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var r=e.def.nodes[n];return 0===t?va(e,r,l,i):Da(e,r,l,i),16384&r.flags&&ha(e,ya(e,n)),224&r.flags?gr(e,r.nodeIndex).value:void 0},e)}function ma(e,t){if(128&e.state)throw br(da[aa]);return ha(e,ba(e,0)),e.def.updateRenderer(function(e,n,l){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var r=e.def.nodes[n];return 0===t?va(e,r,l,i):Da(e,r,l,i),3&r.flags&&ha(e,ba(e,n)),224&r.flags?gr(e,r.nodeIndex).value:void 0},e)}function va(e,t,n,i){if(Os.apply(void 0,Object(l.__spread)([e,t,n],i))){var o=1===n?i[0]:i;if(16384&t.flags){for(var r={},u=0;u<t.bindings.length;u++){var s=t.bindings[u],a=o[u];8&s.flags&&(r[(h=s.nonMinifiedName,"ng-reflect-"+h.replace(/[$@]/g,"_").replace(dn,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return"-"+e[1].toLowerCase()}))]=hn(a))}var c=t.parent,p=hr(e,c.nodeIndex).renderElement;if(c.element.name)for(var d in r)null!=(a=r[d])?e.renderer.setAttribute(p,d,a):e.renderer.removeAttribute(p,d);else e.renderer.setValue(p,"bindings="+JSON.stringify(r,null,2))}}var h}function Da(e,t,n,i){Ms.apply(void 0,Object(l.__spread)([e,t,n],i))}function ya(e,t){for(var n=t;n<e.def.nodes.length;n++){var l=e.def.nodes[n];if(16384&l.flags&&l.bindings&&l.bindings.length)return n}return null}function ba(e,t){for(var n=t;n<e.def.nodes.length;n++){var l=e.def.nodes[n];if(3&l.flags&&l.bindings&&l.bindings.length)return n}return null}var Ca=function(){function e(e,t){this.view=e,this.nodeIndex=t,null==t&&(this.nodeIndex=t=0),this.nodeDef=e.def.nodes[t];for(var n=this.nodeDef,l=e;n&&0==(1&n.flags);)n=n.parent;if(!n)for(;!n&&l;)n=Pr(l),l=l.parent;this.elDef=n,this.elView=l}return Object.defineProperty(e.prototype,"elOrCompView",{get:function(){return hr(this.elView,this.elDef.nodeIndex).componentView||this.view},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"injector",{get:function(){return Iu(this.elView,this.elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"component",{get:function(){return this.elOrCompView.component},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"context",{get:function(){return this.elOrCompView.context},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"providerTokens",{get:function(){var e=[];if(this.elDef)for(var t=this.elDef.nodeIndex+1;t<=this.elDef.nodeIndex+this.elDef.childCount;t++){var n=this.elView.def.nodes[t];20224&n.flags&&e.push(n.provider.token),t+=n.childCount}return e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"references",{get:function(){var e={};if(this.elDef){Sa(this.elView,this.elDef,e);for(var t=this.elDef.nodeIndex+1;t<=this.elDef.nodeIndex+this.elDef.childCount;t++){var n=this.elView.def.nodes[t];20224&n.flags&&Sa(this.elView,n,e),t+=n.childCount}}return e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"componentRenderElement",{get:function(){var e=function(e){for(;e&&!jr(e);)e=e.parent;return e.parent?hr(e.parent,Pr(e).nodeIndex):null}(this.elOrCompView);return e?e.renderElement:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"renderNode",{get:function(){return 2&this.nodeDef.flags?Nr(this.view,this.nodeDef):Nr(this.elView,this.elDef)},enumerable:!0,configurable:!0}),e.prototype.logError=function(e){for(var t,n,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];2&this.nodeDef.flags?(t=this.view.def,n=this.nodeDef.nodeIndex):(t=this.elView.def,n=this.elDef.nodeIndex);var r=function(e,t){for(var n=-1,l=0;l<=t;l++)3&e.nodes[l].flags&&n++;return n}(t,n),u=-1;t.factory(function(){var t;return++u===r?(t=e.error).bind.apply(t,Object(l.__spread)([e],i)):Cr}),u<r&&(e.error("Illegal state: the ViewDefinitionFactory did not call the logger!"),e.error.apply(e,Object(l.__spread)(i)))},e}();function Sa(e,t,n){for(var l in t.references)n[l]=hs(e,t,t.references[l])}function _a(e,t,n,l){var i=aa,o=ca,r=pa;try{aa=e;var u=t.apply(n,l);return ca=o,pa=r,aa=i,u}catch(s){if(Pi(s)||!ca)throw s;throw function(e,t){return e instanceof Error||(e=new Error(e.toString())),yr(e,t),e}(s,wa())}}function wa(){return ca?new Ca(ca,pa):null}var Fa=function(){function e(e){this.delegate=e}return e.prototype.createRenderer=function(e,t){return new xa(this.delegate.createRenderer(e,t))},e.prototype.begin=function(){this.delegate.begin&&this.delegate.begin()},e.prototype.end=function(){this.delegate.end&&this.delegate.end()},e.prototype.whenRenderingDone=function(){return this.delegate.whenRenderingDone?this.delegate.whenRenderingDone():Promise.resolve(null)},e}(),xa=function(){function e(e){this.delegate=e,this.debugContextFactory=wa,this.data=this.delegate.data}return e.prototype.createDebugContext=function(e){return this.debugContextFactory(e)},e.prototype.destroyNode=function(e){!function(e){Vo.delete(e.nativeNode)}($o(e)),this.delegate.destroyNode&&this.delegate.destroyNode(e)},e.prototype.destroy=function(){this.delegate.destroy()},e.prototype.createElement=function(e,t){var n=this.delegate.createElement(e,t),l=this.createDebugContext(n);if(l){var i=new Lo(n,null,l);i.name=e,Ho(i)}return n},e.prototype.createComment=function(e){var t=this.delegate.createComment(e),n=this.createDebugContext(t);return n&&Ho(new jo(t,null,n)),t},e.prototype.createText=function(e){var t=this.delegate.createText(e),n=this.createDebugContext(t);return n&&Ho(new jo(t,null,n)),t},e.prototype.appendChild=function(e,t){var n=$o(e),l=$o(t);n&&l&&n instanceof Lo&&n.addChild(l),this.delegate.appendChild(e,t)},e.prototype.insertBefore=function(e,t,n){var l=$o(e),i=$o(t),o=$o(n);l&&i&&l instanceof Lo&&l.insertBefore(o,i),this.delegate.insertBefore(e,t,n)},e.prototype.removeChild=function(e,t){var n=$o(e),l=$o(t);n&&l&&n instanceof Lo&&n.removeChild(l),this.delegate.removeChild(e,t)},e.prototype.selectRootElement=function(e,t){var n=this.delegate.selectRootElement(e,t),l=wa();return l&&Ho(new Lo(n,null,l)),n},e.prototype.setAttribute=function(e,t,n,l){var i=$o(e);i&&i instanceof Lo&&(i.attributes[l?l+":"+t:t]=n),this.delegate.setAttribute(e,t,n,l)},e.prototype.removeAttribute=function(e,t,n){var l=$o(e);l&&l instanceof Lo&&(l.attributes[n?n+":"+t:t]=null),this.delegate.removeAttribute(e,t,n)},e.prototype.addClass=function(e,t){var n=$o(e);n&&n instanceof Lo&&(n.classes[t]=!0),this.delegate.addClass(e,t)},e.prototype.removeClass=function(e,t){var n=$o(e);n&&n instanceof Lo&&(n.classes[t]=!1),this.delegate.removeClass(e,t)},e.prototype.setStyle=function(e,t,n,l){var i=$o(e);i&&i instanceof Lo&&(i.styles[t]=n),this.delegate.setStyle(e,t,n,l)},e.prototype.removeStyle=function(e,t,n){var l=$o(e);l&&l instanceof Lo&&(l.styles[t]=null),this.delegate.removeStyle(e,t,n)},e.prototype.setProperty=function(e,t,n){var l=$o(e);l&&l instanceof Lo&&(l.properties[t]=n),this.delegate.setProperty(e,t,n)},e.prototype.listen=function(e,t,n){if("string"!=typeof e){var l=$o(e);l&&l.listeners.push(new No(t,n))}return this.delegate.listen(e,t,n)},e.prototype.parentNode=function(e){return this.delegate.parentNode(e)},e.prototype.nextSibling=function(e){return this.delegate.nextSibling(e)},e.prototype.setValue=function(e,t){return this.delegate.setValue(e,t)},e}();function Ea(e,t,n){return new ka(e,t,n)}var ka=function(e){function t(t,n,l){var i=e.call(this)||this;return i.moduleType=t,i._bootstrapComponents=n,i._ngModuleDefFactory=l,i}return Object(l.__extends)(t,e),t.prototype.create=function(e){!function(){if(!zs){zs=!0;var e=ii()?{setCurrentNode:ha,createRootView:Gs,createEmbeddedView:Js,createComponentView:Qs,createNgModuleRef:Ks,overrideProvider:ea,overrideComponentView:ta,clearOverrides:na,checkAndUpdateView:ra,checkNoChangesView:ua,destroyView:sa,createDebugContext:function(e,t){return new Ca(e,t)},handleEvent:fa,updateDirectives:ga,updateRenderer:ma}:{setCurrentNode:function(){},createRootView:qs,createEmbeddedView:Fs,createComponentView:Es,createNgModuleRef:Pu,overrideProvider:Cr,overrideComponentView:Cr,clearOverrides:Cr,checkAndUpdateView:Bs,checkNoChangesView:Is,destroyView:Ns,createDebugContext:function(e,t){return new Ca(e,t)},handleEvent:function(e,t,n,l){return e.def.handleEvent(e,t,n,l)},updateDirectives:function(e,t){return e.def.updateDirectives(0===t?ia:oa,e)},updateRenderer:function(e,t){return e.def.updateRenderer(0===t?ia:oa,e)}};vr.setCurrentNode=e.setCurrentNode,vr.createRootView=e.createRootView,vr.createEmbeddedView=e.createEmbeddedView,vr.createComponentView=e.createComponentView,vr.createNgModuleRef=e.createNgModuleRef,vr.overrideProvider=e.overrideProvider,vr.overrideComponentView=e.overrideComponentView,vr.clearOverrides=e.clearOverrides,vr.checkAndUpdateView=e.checkAndUpdateView,vr.checkNoChangesView=e.checkNoChangesView,vr.destroyView=e.destroyView,vr.resolveDep=ls,vr.createDebugContext=e.createDebugContext,vr.handleEvent=e.handleEvent,vr.updateDirectives=e.updateDirectives,vr.updateRenderer=e.updateRenderer,vr.dirtyParentQueries=cs}}();var t=function(e){var t=Array.from(e.providers),n=Array.from(e.modules),l={};for(var i in e.providersByKey)l[i]=e.providersByKey[i];return{factory:e.factory,isRoot:e.isRoot,providers:t,modules:n,providersByKey:l}}(qr(this._ngModuleDefFactory));return vr.createNgModuleRef(this.moduleType,e||tl.NULL,this._bootstrapComponents,t)},t}(Nl),Aa={production:!0,dev:!1,local:!1,cdnAddress:"https://app.beelinks.solutions",serverAddress:"https://app.beelinks.solutions",socketServerAddress:"https://live.beelinks.solutions",mediaServerAddress:"https://app.beelinks.solutions",botURL:"https://bot.beelinks.solutions",redisURL:"https://app.beelinks.solutions",agentServiceUrl:"https://app.beelinks.solutions"},Ta=function(){return function(){}}(),Ia=n("ds6q"),Ba=function(e,t){void 0===t&&(t="")},Oa=function(e){var t={};return e.map(function(e){t[e]=e}),Object.keys(t)},Ra=function(e){function t(t){var n=e.call(this)||this;return n._value=t,n}return l.__extends(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),t.prototype._subscribe=function(t){var n=e.prototype._subscribe.call(this,t);return n&&!n.closed&&t.next(this._value),n},t.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new x;return this._value},t.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},t}(A),Ma=(n("hqy+"),function(){function e(){var e=this;this.NSP="",this.Load=new Ia.Subject,this.Maximize=new Ia.Subject,this.ShowLoader=new Ia.Subject,this.SendFromAutoMessage=new Ia.Subject,this.GotUserInformation=new Ia.Subject,this.GotAddionalData=new Ia.Subject,this.GotRequestedCarData=new Ia.Subject,this.NegotiateEvent=new Ia.Subject,this.closeEmoji=new Ia.Subject,this.helpWindow=new Ra(!1),this.initiateChatSupport=new Ia.Subject,this.sessionResetStatus=new Ia.Subject,this.resizingEvent=new Ia.Subject,window.addEventListener("message",function(t){e.MessageRecieved(t)})}return e.prototype.MessageRecieved=function(e){if(e.data.msg)switch(e.data.msg){case"setSession":case"NegotiateIsLoaded":case"window-loaded":break;case"showLoadingScreen":this.helpWindow.getValue()||(e.data.helpWindow&&this.helpWindow.next(!0),this.SendMessage("helpLoadingInitiated",{},"*"));break;case"FrameReadyToGo":this.SendMessage("HelpIsLoaded",{},"*");break;case"load":this.NSP=e.data.payload.session.nsp,this.Load.next(e.data.payload),this.Session=e.data.payload.session,this.ServerAddress=e.data.payload.serverAddress,this.payload=e.data.payload,this.windowNegotiateOpened=JSON.parse(localStorage.getItem("negotiateChatWindow")||"false"),this.windowNegotiateOpened&&this.SendMessage("NegotiateIsLoaded",e.data.payload.session,"*"),e.data.payload.helpWindow&&this.InitiateChatSupport();break;case"negotiateLoad":this.NSP=e.data.payload.session.nsp,this.Load.next(e.data.payload),this.Session=e.data.payload.session,this.ServerAddress=e.data.payload.serverAddress,this.payload=e.data.payload;break;case"maximize":this.Maximize.next(!0);break;case"minimize":this.Maximize.next(!1);break;case"showLoader":this.ShowLoader.next(!0);break;case"sendMessage":this.SendFromAutoMessage.next(e.data.payload),this.Maximize.next(!0);break;case"gotUserInformation":this.GotUserInformation.next(e.data.payload);break;case"negotiate-event":this.windowNegotiateOpened=JSON.parse(localStorage.getItem("negotiateChatWindow")||"false"),this.windowNegotiateOpened?this.NegotiateEvent.next(!0):(localStorage.setItem("negotiateLoading",JSON.stringify(!0)),this.windowNegotiateOpened=!0,this.NegotiateEvent.next(!1));break;case"gotAdditionalData":this.windowNegotiateOpened&&e.data.payload.additionalData&&this.GotAddionalData.next(e.data.payload.additionalData);break;case"requestCarEvent":if(!e.data.payload.carRequestData)break;this.GotRequestedCarData.next(e.data.payload.carRequestData);case"negotiateClose":localStorage.setItem("negotiateChatWindow",JSON.stringify(!1));break;case"popUpBlocked":localStorage.setItem("negotiateChatWindow",JSON.stringify(!1)),localStorage.setItem("negotiateLoading",JSON.stringify(!1));break;case"invitationPopupClosed":localStorage.setItem(this.Session.nsp+"invitationPopupClosed",JSON.stringify(!0));break;case"restartSessionFailed":this.sessionResetStatus.next(!1);break;case"resizingEvent":this.resizingEvent.next(e.data.payload.isMobile);break;case"setChatWindowStateOnLoad":this.SendMessage("setChatWindowStateOnLoad",{state:e.data.state},"bz-cb")}},e.prototype.SendMessage=function(e,t,n){switch(e){case"gotAgent":6==this.Session.state||7==this.Session.state||8==this.Session.state?window.parent.postMessage({msg:"gotAgent",payload:{image:t.image?t.image:t.name,nickname:t.name,chatBot:!0},target:n},"*"):window.parent.postMessage({msg:"gotAgent",payload:{image:t.image?t.image:t.name,nickname:t.name},target:n},"*");break;case"messageCount":window.parent.postMessage({msg:"messageCount",payload:t?this.ConvertToNumber((l=this.NSP,i=localStorage.getItem(l+"notificationCount"),i?JSON.parse(i):void 0)):t,target:n},"*");break;case"giveSession":window.parent.postMessage({msg:"giveSession",payload:t},"*");break;case"setSession":window.parent.postMessage({msg:"setSession",payload:t},"*");break;case"updateCallSettings":window.parent.postMessage({msg:"updateCallSettings",payload:t||""},"*");break;case"sendMessage":break;case"newMessage":window.parent.postMessage({msg:"newMessage",content:t.body,target:n},"*");break;case"minimize":window.parent.postMessage({msg:"minimize",payload:{},target:n},"*");break;case"maximize":window.parent.postMessage({msg:"maximize",payload:{},target:n},"*");break;case"reload":window.parent.postMessage({msg:"reload"},"*");break;case"noAgent":window.parent.postMessage({msg:"removeAgent",payload:{},target:n},"*");break;case"removeAgent":window.parent.postMessage({msg:"removeAgent"},"*");break;case"loaded":window.parent.postMessage({msg:"window-loaded"},"*");break;case"autoMessageCloseClicked":window.parent.postMessage({msg:"autoMessageCloseClicked"},"*");break;case"negotiate":window.parent.postMessage({msg:"negotiate",payload:t||"",target:n},"*");break;case"NegotiateIsLoaded":window.parent.postMessage({msg:"NegotiateIsLoaded"},"*");break;case"renderMessageNegotiate":window.parent.postMessage({msg:"renderMessageNegotiate",payload:t||"",target:n},"*");break;case"restartChat":window.parent.postMessage({msg:"restartChat",payload:t||""},"*");break;case"setDeviceToken":window.parent.postMessage({msg:"setDeviceToken",payload:t||""},"*");break;case"negotiatePopUpClose":window.parent.postMessage({msg:"negotiatePopUpClose",payload:t||""},"*");break;case"allHelpSupportWindowsClose":window.opener&&window.opener.postMessage({msg:"allHelpSupportWindowsClose",payload:t||""},"*");break;case"SupportNotifications":window.opener&&window.opener.postMessage({msg:"SupportNotifications",payload:t||""},"*");break;case"helpLoadingInitiated":window.opener&&window.opener.postMessage({msg:"helpLoadingInitiated",payload:t||""},"*");break;case"HelpIsLoaded":window.opener&&window.opener.postMessage({msg:"HelpIsLoaded",payload:t||""},"*");break;case"setChatWindowStateOnLoad":window.parent.postMessage({msg:"setChatWindowStateOnLoad",state:t.state,target:n},"*")}var l,i},e.prototype.ConvertToNumber=function(e){var t;t=e,!isNaN(t)&&t&&parseInt(t)},e.prototype.CloseEmoji=function(){this.closeEmoji.next(!0)},e.prototype.InitiateChatSupport=function(){this.Session&&this.initiateChatSupport.next(this.Session)},e}()),Pa=function(){function e(e){var t=this;this._postMessageService=e,this.negotiateLoading=!1,this.negotiate=void 0,this.maximized=!1,this._postMessageService.Maximize.subscribe(function(e){t.maximized=e}),this._postMessageService.NegotiateEvent.subscribe(function(e){e?t._postMessageService.SendMessage("giveSession",e,"*"):(t.negotiate=e,t._postMessageService.SendMessage("giveSession",e,"*"),localStorage.setItem("negotiateChatWindow",JSON.stringify(!0)))}),this.negotiateLoading=JSON.parse(localStorage.getItem("negotiateLoading")||"false"),this.negotiateLoading?localStorage.setItem("negotiateLoading",JSON.stringify(!1)):this._postMessageService.SendMessage("loaded",{},"*")}return e.prototype.beforeUnloadHander=function(){localStorage.setItem("negotiateChatWindow",JSON.stringify(!1))},e.prototype.onKeyDown=function(e){27==e.keyCode&&this.maximized&&this._postMessageService.SendMessage("maximize",{},"bz-cb")},e.prototype.onclick=function(e){e.stopImmediatePropagation(),e.stopPropagation();var t=e.target,n=t.id.indexOf("emoji"),l=t.className.indexOf("icon-emoji");n<0&&l<0&&this._postMessageService.CloseEmoji()},e}(),Na=function(){return function(){}}(),ja=function(){return function(){}}(),La="*";function Va(e,t){return void 0===t&&(t=null),{type:2,steps:e,options:t}}function $a(e){return{type:6,styles:e,offset:null}}function Ha(e){Promise.resolve(null).then(e)}var Ua=function(){function e(e,t){void 0===e&&(e=0),void 0===t&&(t=0),this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this.parentPlayer=null,this.totalTime=e+t}return e.prototype._onFinish=function(){this._finished||(this._finished=!0,this._onDoneFns.forEach(function(e){return e()}),this._onDoneFns=[])},e.prototype.onStart=function(e){this._onStartFns.push(e)},e.prototype.onDone=function(e){this._onDoneFns.push(e)},e.prototype.onDestroy=function(e){this._onDestroyFns.push(e)},e.prototype.hasStarted=function(){return this._started},e.prototype.init=function(){},e.prototype.play=function(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0},e.prototype.triggerMicrotask=function(){var e=this;Ha(function(){return e._onFinish()})},e.prototype._onStart=function(){this._onStartFns.forEach(function(e){return e()}),this._onStartFns=[]},e.prototype.pause=function(){},e.prototype.restart=function(){},e.prototype.finish=function(){this._onFinish()},e.prototype.destroy=function(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(function(e){return e()}),this._onDestroyFns=[])},e.prototype.reset=function(){},e.prototype.setPosition=function(e){},e.prototype.getPosition=function(){return 0},e.prototype.triggerCallback=function(e){var t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(function(e){return e()}),t.length=0},e}(),za=function(){function e(e){var t=this;this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;var n=0,l=0,i=0,o=this.players.length;0==o?Ha(function(){return t._onFinish()}):this.players.forEach(function(e){e.onDone(function(){++n==o&&t._onFinish()}),e.onDestroy(function(){++l==o&&t._onDestroy()}),e.onStart(function(){++i==o&&t._onStart()})}),this.totalTime=this.players.reduce(function(e,t){return Math.max(e,t.totalTime)},0)}return e.prototype._onFinish=function(){this._finished||(this._finished=!0,this._onDoneFns.forEach(function(e){return e()}),this._onDoneFns=[])},e.prototype.init=function(){this.players.forEach(function(e){return e.init()})},e.prototype.onStart=function(e){this._onStartFns.push(e)},e.prototype._onStart=function(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(function(e){return e()}),this._onStartFns=[])},e.prototype.onDone=function(e){this._onDoneFns.push(e)},e.prototype.onDestroy=function(e){this._onDestroyFns.push(e)},e.prototype.hasStarted=function(){return this._started},e.prototype.play=function(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(function(e){return e.play()})},e.prototype.pause=function(){this.players.forEach(function(e){return e.pause()})},e.prototype.restart=function(){this.players.forEach(function(e){return e.restart()})},e.prototype.finish=function(){this._onFinish(),this.players.forEach(function(e){return e.finish()})},e.prototype.destroy=function(){this._onDestroy()},e.prototype._onDestroy=function(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(function(e){return e.destroy()}),this._onDestroyFns.forEach(function(e){return e()}),this._onDestroyFns=[])},e.prototype.reset=function(){this.players.forEach(function(e){return e.reset()}),this._destroyed=!1,this._finished=!1,this._started=!1},e.prototype.setPosition=function(e){var t=e*this.totalTime;this.players.forEach(function(e){var n=e.totalTime?Math.min(1,t/e.totalTime):1;e.setPosition(n)})},e.prototype.getPosition=function(){var e=0;return this.players.forEach(function(t){var n=t.getPosition();e=Math.min(n,e)}),e},e.prototype.beforeDestroy=function(){this.players.forEach(function(e){e.beforeDestroy&&e.beforeDestroy()})},e.prototype.triggerCallback=function(e){var t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(function(e){return e()}),t.length=0},e}(),qa="!";function Ga(){throw Error("Host already has a portal attached")}var Wa=function(){function e(){}return e.prototype.attach=function(e){return null==e&&function(){throw Error("Attempting to attach a portal to a null PortalOutlet")}(),e.hasAttached()&&Ga(),this._attachedHost=e,e.attach(this)},e.prototype.detach=function(){var e=this._attachedHost;null==e?function(){throw Error("Attempting to detach a portal that is not attached to a host")}():(this._attachedHost=null,e.detach())},Object.defineProperty(e.prototype,"isAttached",{get:function(){return null!=this._attachedHost},enumerable:!0,configurable:!0}),e.prototype.setAttachedHost=function(e){this._attachedHost=e},e}(),Ja=function(e){function t(t,n,l,i){var o=e.call(this)||this;return o.component=t,o.viewContainerRef=n,o.injector=l,o.componentFactoryResolver=i,o}return Object(l.__extends)(t,e),t}(Wa),Qa=function(e){function t(t,n,l){var i=e.call(this)||this;return i.templateRef=t,i.viewContainerRef=n,i.context=l,i}return Object(l.__extends)(t,e),Object.defineProperty(t.prototype,"origin",{get:function(){return this.templateRef.elementRef},enumerable:!0,configurable:!0}),t.prototype.attach=function(t,n){return void 0===n&&(n=this.context),this.context=n,e.prototype.attach.call(this,t)},t.prototype.detach=function(){return this.context=void 0,e.prototype.detach.call(this)},t}(Wa),Ka=function(){function e(){this._isDisposed=!1}return e.prototype.hasAttached=function(){return!!this._attachedPortal},e.prototype.attach=function(e){return e||function(){throw Error("Must provide a portal to attach")}(),this.hasAttached()&&Ga(),this._isDisposed&&function(){throw Error("This PortalOutlet has already been disposed")}(),e instanceof Ja?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof Qa?(this._attachedPortal=e,this.attachTemplatePortal(e)):void function(){throw Error("Attempting to attach an unknown Portal type. BasePortalOutlet accepts either a ComponentPortal or a TemplatePortal.")}()},e.prototype.detach=function(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()},e.prototype.dispose=function(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0},e.prototype.setDisposeFn=function(e){this._disposeFn=e},e.prototype._invokeDisposeFn=function(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)},e}(),Za=function(e){function t(t,n,l,i){var o=e.call(this)||this;return o.outletElement=t,o._componentFactoryResolver=n,o._appRef=l,o._defaultInjector=i,o}return Object(l.__extends)(t,e),t.prototype.attachComponentPortal=function(e){var t,n=this,l=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);return e.viewContainerRef?(t=e.viewContainerRef.createComponent(l,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector),this.setDisposeFn(function(){return t.destroy()})):(t=l.create(e.injector||this._defaultInjector),this._appRef.attachView(t.hostView),this.setDisposeFn(function(){n._appRef.detachView(t.hostView),t.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(t)),t},t.prototype.attachTemplatePortal=function(e){var t=this,n=e.viewContainerRef,l=n.createEmbeddedView(e.templateRef,e.context);return l.detectChanges(),l.rootNodes.forEach(function(e){return t.outletElement.appendChild(e)}),this.setDisposeFn(function(){var e=n.indexOf(l);-1!==e&&n.remove(e)}),l},t.prototype.dispose=function(){e.prototype.dispose.call(this),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)},t.prototype._getComponentRootNode=function(e){return e.hostView.rootNodes[0]},t}(Ka),Xa=function(e){function t(t,n){var l=e.call(this)||this;return l._componentFactoryResolver=t,l._viewContainerRef=n,l._isInitialized=!1,l.attached=new ki,l}return Object(l.__extends)(t,e),Object.defineProperty(t.prototype,"portal",{get:function(){return this._attachedPortal},set:function(t){(!this.hasAttached()||t||this._isInitialized)&&(this.hasAttached()&&e.prototype.detach.call(this),t&&e.prototype.attach.call(this,t),this._attachedPortal=t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"attachedRef",{get:function(){return this._attachedRef},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){this._isInitialized=!0},t.prototype.ngOnDestroy=function(){e.prototype.dispose.call(this),this._attachedPortal=null,this._attachedRef=null},t.prototype.attachComponentPortal=function(t){t.setAttachedHost(this);var n=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,l=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),i=n.createComponent(l,n.length,t.injector||n.injector);return e.prototype.setDisposeFn.call(this,function(){return i.destroy()}),this._attachedPortal=t,this._attachedRef=i,this.attached.emit(i),i},t.prototype.attachTemplatePortal=function(t){var n=this;t.setAttachedHost(this);var l=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context);return e.prototype.setDisposeFn.call(this,function(){return n._viewContainerRef.clear()}),this._attachedPortal=t,this._attachedRef=l,this.attached.emit(l),l},t}(Ka),Ya=function(){return function(){}}(),ec=function(){function e(e,t){this._parentInjector=e,this._customTokens=t}return e.prototype.get=function(e,t){var n=this._customTokens.get(e);return void 0!==n?n:this._parentInjector.get(e,t)},e}(),tc=27,nc=new _(function(e){return e.complete()});function lc(e){return e?function(e){return new _(function(t){return e.schedule(function(){return t.complete()})})}(e):nc}function ic(e){var t=new _(function(t){t.next(e),t.complete()});return t._isScalar=!0,t.value=e,t}function oc(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[e.length-1];switch(I(n)?e.pop():n=void 0,e.length){case 0:return lc(n);case 1:return n?W(e,n):ic(e[0]);default:return W(e,n)}}function rc(e,t){return function(n){return n.lift(new uc(e,t))}}var uc=function(){function e(e,t){this.predicate=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new sc(e,this.predicate,this.thisArg))},e}(),sc=function(e){function t(t,n,l){var i=e.call(this,t)||this;return i.predicate=n,i.thisArg=l,i.count=0,i}return l.__extends(t,e),t.prototype._next=function(e){var t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}t&&this.destination.next(e)},t}(b);function ac(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}ac.prototype=Object.create(Error.prototype);var cc=ac;function pc(e){return function(t){return 0===e?lc():t.lift(new dc(e))}}var dc=function(){function e(e){if(this.total=e,this.total<0)throw new cc}return e.prototype.call=function(e,t){return t.subscribe(new hc(e,this.total))},e}(),hc=function(e){function t(t,n){var l=e.call(this,t)||this;return l.total=n,l.count=0,l}return l.__extends(t,e),t.prototype._next=function(e){var t=this.total,n=++this.count;n<=t&&(this.destination.next(e),n===t&&(this.destination.complete(),this.unsubscribe()))},t}(b);var fc=function(){return function(){}}(),gc=function(){function e(e){var n=this;this._subject=new ki,this._platformStrategy=e;var l=this._platformStrategy.getBaseHref();this._baseHref=t.stripTrailingSlash(mc(l)),this._platformStrategy.onPopState(function(e){n._subject.emit({url:n.path(!0),pop:!0,state:e.state,type:e.type})})}var t;return t=e,e.prototype.path=function(e){return void 0===e&&(e=!1),this.normalize(this._platformStrategy.path(e))},e.prototype.isCurrentPathEqualTo=function(e,n){return void 0===n&&(n=""),this.path()==this.normalize(e+t.normalizeQueryParams(n))},e.prototype.normalize=function(e){return t.stripTrailingSlash(function(e,t){return e&&t.startsWith(e)?t.substring(e.length):t}(this._baseHref,mc(e)))},e.prototype.prepareExternalUrl=function(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)},e.prototype.go=function(e,t,n){void 0===t&&(t=""),void 0===n&&(n=null),this._platformStrategy.pushState(n,"",e,t)},e.prototype.replaceState=function(e,t,n){void 0===t&&(t=""),void 0===n&&(n=null),this._platformStrategy.replaceState(n,"",e,t)},e.prototype.forward=function(){this._platformStrategy.forward()},e.prototype.back=function(){this._platformStrategy.back()},e.prototype.subscribe=function(e,t,n){return this._subject.subscribe({next:e,error:t,complete:n})},e.normalizeQueryParams=function(e){return e&&"?"!==e[0]?"?"+e:e},e.joinWithSlash=function(e,t){if(0==e.length)return t;if(0==t.length)return e;var n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t},e.stripTrailingSlash=function(e){var t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)},e}();function mc(e){return e.replace(/\/index.html$/,"")}var vc=void 0,Dc=["en",[["a","p"],["AM","PM"],vc],[["AM","PM"],vc,vc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],vc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],vc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",vc,"{1} 'at' {0}",vc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"$","US Dollar",{},function(e){var t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:5}],yc={},bc=function(e){return e[e.Zero=0]="Zero",e[e.One=1]="One",e[e.Two=2]="Two",e[e.Few=3]="Few",e[e.Many=4]="Many",e[e.Other=5]="Other",e}({}),Cc=function(e){return e[e.Format=0]="Format",e[e.Standalone=1]="Standalone",e}({}),Sc=function(e){return e[e.Narrow=0]="Narrow",e[e.Abbreviated=1]="Abbreviated",e[e.Wide=2]="Wide",e[e.Short=3]="Short",e}({}),_c=function(e){return e[e.Short=0]="Short",e[e.Medium=1]="Medium",e[e.Long=2]="Long",e[e.Full=3]="Full",e}({}),wc=function(e){return e[e.Decimal=0]="Decimal",e[e.Group=1]="Group",e[e.List=2]="List",e[e.PercentSign=3]="PercentSign",e[e.PlusSign=4]="PlusSign",e[e.MinusSign=5]="MinusSign",e[e.Exponential=6]="Exponential",e[e.SuperscriptingExponent=7]="SuperscriptingExponent",e[e.PerMille=8]="PerMille",e[e[1/0]=9]="Infinity",e[e.NaN=10]="NaN",e[e.TimeSeparator=11]="TimeSeparator",e[e.CurrencyDecimal=12]="CurrencyDecimal",e[e.CurrencyGroup=13]="CurrencyGroup",e}({});function Fc(e,t){return Tc(Bc(e)[10],t)}function xc(e,t){return Tc(Bc(e)[11],t)}function Ec(e,t){return Tc(Bc(e)[12],t)}function kc(e,t){var n=Bc(e),l=n[13][t];if(void 0===l){if(t===wc.CurrencyDecimal)return n[13][wc.Decimal];if(t===wc.CurrencyGroup)return n[13][wc.Group]}return l}function Ac(e){if(!e[19])throw new Error('Missing extra locale data for the locale "'+e[0]+'". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.')}function Tc(e,t){for(var n=t;n>-1;n--)if(void 0!==e[n])return e[n];throw new Error("Locale data API: locale data undefined")}function Ic(e){var t=Object(l.__read)(e.split(":"),2);return{hours:+t[0],minutes:+t[1]}}function Bc(e){var t=e.toLowerCase().replace(/_/g,"-"),n=yc[t];if(n)return n;var l=t.split("-")[0];if(n=yc[l])return n;if("en"===l)return Dc;throw new Error('Missing locale data for the locale "'+e+'".')}var Oc=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Rc={},Mc=/((?:[^GyMLwWdEabBhHmsSzZO']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,Pc=function(e){return e[e.Short=0]="Short",e[e.ShortGMT=1]="ShortGMT",e[e.Long=2]="Long",e[e.Extended=3]="Extended",e}({}),Nc=function(e){return e[e.FullYear=0]="FullYear",e[e.Month=1]="Month",e[e.Date=2]="Date",e[e.Hours=3]="Hours",e[e.Minutes=4]="Minutes",e[e.Seconds=5]="Seconds",e[e.FractionalSeconds=6]="FractionalSeconds",e[e.Day=7]="Day",e}({}),jc=function(e){return e[e.DayPeriods=0]="DayPeriods",e[e.Days=1]="Days",e[e.Months=2]="Months",e[e.Eras=3]="Eras",e}({});function Lc(e,t){return t&&(e=e.replace(/\{([^}]+)}/g,function(e,n){return null!=t&&n in t?t[n]:e})),e}function Vc(e,t,n,l,i){void 0===n&&(n="-");var o="";(e<0||i&&e<=0)&&(i?e=1-e:(e=-e,o=n));for(var r=String(e);r.length<t;)r="0"+r;return l&&(r=r.substr(r.length-t)),o+r}function $c(e,t,n,l,i){return void 0===n&&(n=0),void 0===l&&(l=!1),void 0===i&&(i=!1),function(o,r){var u,s=function(e,t){switch(e){case Nc.FullYear:return t.getFullYear();case Nc.Month:return t.getMonth();case Nc.Date:return t.getDate();case Nc.Hours:return t.getHours();case Nc.Minutes:return t.getMinutes();case Nc.Seconds:return t.getSeconds();case Nc.FractionalSeconds:return t.getMilliseconds();case Nc.Day:return t.getDay();default:throw new Error('Unknown DateType value "'+e+'".')}}(e,o);if((n>0||s>-n)&&(s+=n),e===Nc.Hours)0===s&&-12===n&&(s=12);else if(e===Nc.FractionalSeconds)return u=t,Vc(s,3).substr(0,u);var a=kc(r,wc.MinusSign);return Vc(s,t,a,l,i)}}function Hc(e,t,n,l){return void 0===n&&(n=Cc.Format),void 0===l&&(l=!1),function(i,o){return function(e,t,n,l,i,o){switch(n){case jc.Months:return function(e,t,n){var l=Bc(e),i=Tc([l[5],l[6]],t);return Tc(i,n)}(t,i,l)[e.getMonth()];case jc.Days:return function(e,t,n){var l=Bc(e),i=Tc([l[3],l[4]],t);return Tc(i,n)}(t,i,l)[e.getDay()];case jc.DayPeriods:var r=e.getHours(),u=e.getMinutes();if(o){var s,a=function(e){var t=Bc(e);return Ac(t),(t[19][2]||[]).map(function(e){return"string"==typeof e?Ic(e):[Ic(e[0]),Ic(e[1])]})}(t),c=function(e,t,n){var l=Bc(e);Ac(l);var i=Tc([l[19][0],l[19][1]],t)||[];return Tc(i,n)||[]}(t,i,l);if(a.forEach(function(e,t){if(Array.isArray(e)){var n=e[0],l=e[1],i=l.hours;r>=n.hours&&u>=n.minutes&&(r<i||r===i&&u<l.minutes)&&(s=c[t])}else e.hours===r&&e.minutes===u&&(s=c[t])}),s)return s}return function(e,t,n){var l=Bc(e),i=Tc([l[1],l[2]],t);return Tc(i,n)}(t,i,l)[r<12?0:1];case jc.Eras:return function(e,t){return Tc(Bc(e)[7],t)}(t,l)[e.getFullYear()<=0?0:1];default:throw new Error("unexpected translation type "+n)}}(i,o,e,t,n,l)}}function Uc(e){return function(t,n,l){var i=-1*l,o=kc(n,wc.MinusSign),r=i>0?Math.floor(i/60):Math.ceil(i/60);switch(e){case Pc.Short:return(i>=0?"+":"")+Vc(r,2,o)+Vc(Math.abs(i%60),2,o);case Pc.ShortGMT:return"GMT"+(i>=0?"+":"")+Vc(r,1,o);case Pc.Long:return"GMT"+(i>=0?"+":"")+Vc(r,2,o)+":"+Vc(Math.abs(i%60),2,o);case Pc.Extended:return 0===l?"Z":(i>=0?"+":"")+Vc(r,2,o)+":"+Vc(Math.abs(i%60),2,o);default:throw new Error('Unknown zone width "'+e+'"')}}}var zc=0,qc=4;function Gc(e,t){return void 0===t&&(t=!1),function(n,l){var i,o,r,u;if(t){var s=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,a=n.getDate();i=1+Math.floor((a+s)/7)}else{var c=(r=n.getFullYear(),u=new Date(r,zc,1).getDay(),new Date(r,0,1+(u<=qc?qc:qc+7)-u)),p=(o=n,new Date(o.getFullYear(),o.getMonth(),o.getDate()+(qc-o.getDay()))).getTime()-c.getTime();i=1+Math.round(p/6048e5)}return Vc(i,e,kc(l,wc.MinusSign))}}var Wc={};function Jc(e,t){e=e.replace(/:/g,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(n)?t:n}function Qc(e){return e instanceof Date&&!isNaN(e.valueOf())}var Kc=new me("UseV4Plurals"),Zc=function(){return function(){}}(),Xc=function(e){function t(t,n){var l=e.call(this)||this;return l.locale=t,l.deprecatedPluralFn=n,l}return Object(l.__extends)(t,e),t.prototype.getPluralCategory=function(e,t){switch(this.deprecatedPluralFn?this.deprecatedPluralFn(t||this.locale,e):function(e){return Bc(e)[18]}(t||this.locale)(e)){case bc.Zero:return"zero";case bc.One:return"one";case bc.Two:return"two";case bc.Few:return"few";case bc.Many:return"many";default:return"other"}},t}(Zc),Yc=function(){function e(e,t,n,l){this._iterableDiffers=e,this._keyValueDiffers=t,this._ngEl=n,this._renderer=l,this._initialClasses=[]}return Object.defineProperty(e.prototype,"klass",{set:function(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ngClass",{set:function(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&(vn(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())},enumerable:!0,configurable:!0}),e.prototype.ngDoCheck=function(){if(this._iterableDiffer){var e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){var t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}},e.prototype._applyKeyValueChanges=function(e){var t=this;e.forEachAddedItem(function(e){return t._toggleClass(e.key,e.currentValue)}),e.forEachChangedItem(function(e){return t._toggleClass(e.key,e.currentValue)}),e.forEachRemovedItem(function(e){e.previousValue&&t._toggleClass(e.key,!1)})},e.prototype._applyIterableChanges=function(e){var t=this;e.forEachAddedItem(function(e){if("string"!=typeof e.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got "+Ee(e.item));t._toggleClass(e.item,!0)}),e.forEachRemovedItem(function(e){return t._toggleClass(e.item,!1)})},e.prototype._applyClasses=function(e){var t=this;e&&(Array.isArray(e)||e instanceof Set?e.forEach(function(e){return t._toggleClass(e,!0)}):Object.keys(e).forEach(function(n){return t._toggleClass(n,!!e[n])}))},e.prototype._removeClasses=function(e){var t=this;e&&(Array.isArray(e)||e instanceof Set?e.forEach(function(e){return t._toggleClass(e,!1)}):Object.keys(e).forEach(function(e){return t._toggleClass(e,!1)}))},e.prototype._toggleClass=function(e,t){var n=this;(e=e.trim())&&e.split(/\s+/g).forEach(function(e){t?n._renderer.addClass(n._ngEl.nativeElement,e):n._renderer.removeClass(n._ngEl.nativeElement,e)})},e}(),ep=function(){function e(e,t,n,l){this.$implicit=e,this.ngForOf=t,this.index=n,this.count=l}return Object.defineProperty(e.prototype,"first",{get:function(){return 0===this.index},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"last",{get:function(){return this.index===this.count-1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"even",{get:function(){return this.index%2==0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"odd",{get:function(){return!this.even},enumerable:!0,configurable:!0}),e}(),tp=function(){function e(e,t,n){this._viewContainer=e,this._template=t,this._differs=n,this._ngForOfDirty=!0,this._differ=null}return Object.defineProperty(e.prototype,"ngForOf",{set:function(e){this._ngForOf=e,this._ngForOfDirty=!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ngForTrackBy",{get:function(){return this._trackByFn},set:function(e){ii()&&null!=e&&"function"!=typeof e&&console&&console.warn&&console.warn("trackBy must be a function, but received "+JSON.stringify(e)+". See https://angular.io/docs/ts/latest/api/common/index/NgFor-directive.html#!#change-propagation for more information."),this._trackByFn=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ngForTemplate",{set:function(e){e&&(this._template=e)},enumerable:!0,configurable:!0}),e.prototype.ngDoCheck=function(){if(this._ngForOfDirty){this._ngForOfDirty=!1;var e=this._ngForOf;if(!this._differ&&e)try{this._differ=this._differs.find(e).create(this.ngForTrackBy)}catch(l){throw new Error("Cannot find a differ supporting object '"+e+"' of type '"+((t=e).name||typeof t)+"'. NgFor only supports binding to Iterables such as Arrays.")}}var t;if(this._differ){var n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}},e.prototype._applyChanges=function(e){var t=this,n=[];e.forEachOperation(function(e,l,i){if(null==e.previousIndex){var o=t._viewContainer.createEmbeddedView(t._template,new ep(null,t._ngForOf,-1,-1),i),r=new np(e,o);n.push(r)}else null==i?t._viewContainer.remove(l):(o=t._viewContainer.get(l),t._viewContainer.move(o,i),r=new np(e,o),n.push(r))});for(var l=0;l<n.length;l++)this._perViewChange(n[l].view,n[l].record);l=0;for(var i=this._viewContainer.length;l<i;l++){var o=this._viewContainer.get(l);o.context.index=l,o.context.count=i,o.context.ngForOf=this._ngForOf}e.forEachIdentityChange(function(e){t._viewContainer.get(e.currentIndex).context.$implicit=e.item})},e.prototype._perViewChange=function(e,t){e.context.$implicit=t.item},e.ngTemplateContextGuard=function(e,t){return!0},e}(),np=function(){return function(e,t){this.record=e,this.view=t}}(),lp=function(){function e(e,t){this._viewContainer=e,this._context=new ip,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=t}return Object.defineProperty(e.prototype,"ngIf",{set:function(e){this._context.$implicit=this._context.ngIf=e,this._updateView()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ngIfThen",{set:function(e){op("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ngIfElse",{set:function(e){op("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()},enumerable:!0,configurable:!0}),e.prototype._updateView=function(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))},e.ngTemplateGuard_ngIf=function(e,t){return!0},e}(),ip=function(){return function(){this.$implicit=null,this.ngIf=null}}();function op(e,t){if(t&&!t.createEmbeddedView)throw new Error(e+" must be a TemplateRef, but received '"+Ee(t)+"'.")}var rp=function(){function e(e,t,n){this._differs=e,this._ngEl=t,this._renderer=n}return Object.defineProperty(e.prototype,"ngStyle",{set:function(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())},enumerable:!0,configurable:!0}),e.prototype.ngDoCheck=function(){if(this._differ){var e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}},e.prototype._applyChanges=function(e){var t=this;e.forEachRemovedItem(function(e){return t._setStyle(e.key,null)}),e.forEachAddedItem(function(e){return t._setStyle(e.key,e.currentValue)}),e.forEachChangedItem(function(e){return t._setStyle(e.key,e.currentValue)})},e.prototype._setStyle=function(e,t){var n=Object(l.__read)(e.split("."),2),i=n[0],o=n[1];null!=(t=null!=t&&o?""+t+o:t)?this._renderer.setStyle(this._ngEl.nativeElement,i,t):this._renderer.removeStyle(this._ngEl.nativeElement,i)},e}();function up(e,t){return Error("InvalidPipeArgument: '"+t+"' for pipe '"+Ee(e)+"'")}var sp=function(){function e(){}var t;return t=e,e.prototype.transform=function(e){if(!e)return e;if("string"!=typeof e)throw up(t,e);return e.toUpperCase()},e}(),ap=function(){function e(e){this.locale=e}var t;return t=e,e.prototype.transform=function(e,n,i,o){if(void 0===n&&(n="mediumDate"),null==e||""===e||e!=e)return null;try{return function(e,t,n,i){var o=function(e){if(Qc(e))return e;if("number"==typeof e&&!isNaN(e))return new Date(e);if("string"==typeof e){e=e.trim();var t,n=parseFloat(e);if(!isNaN(e-n))return new Date(n);if(/^(\d{4}-\d{1,2}-\d{1,2})$/.test(e)){var i=Object(l.__read)(e.split("-").map(function(e){return+e}),3);return new Date(i[0],i[1]-1,i[2])}if(t=e.match(Oc))return function(e){var t=new Date(0),n=0,l=0,i=e[8]?t.setUTCFullYear:t.setFullYear,o=e[8]?t.setUTCHours:t.setHours;e[9]&&(n=Number(e[9]+e[10]),l=Number(e[9]+e[11])),i.call(t,Number(e[1]),Number(e[2])-1,Number(e[3]));var r=Number(e[4]||0)-n,u=Number(e[5]||0)-l,s=Number(e[6]||0),a=Math.round(1e3*parseFloat("0."+(e[7]||0)));return o.call(t,r,u,s,a),t}(t)}var o=new Date(e);if(!Qc(o))throw new Error('Unable to convert "'+e+'" into a date');return o}(e);t=function e(t,n){var l=function(e){return Bc(e)[0]}(t);if(Rc[l]=Rc[l]||{},Rc[l][n])return Rc[l][n];var i="";switch(n){case"shortDate":i=Fc(t,_c.Short);break;case"mediumDate":i=Fc(t,_c.Medium);break;case"longDate":i=Fc(t,_c.Long);break;case"fullDate":i=Fc(t,_c.Full);break;case"shortTime":i=xc(t,_c.Short);break;case"mediumTime":i=xc(t,_c.Medium);break;case"longTime":i=xc(t,_c.Long);break;case"fullTime":i=xc(t,_c.Full);break;case"short":var o=e(t,"shortTime"),r=e(t,"shortDate");i=Lc(Ec(t,_c.Short),[o,r]);break;case"medium":var u=e(t,"mediumTime"),s=e(t,"mediumDate");i=Lc(Ec(t,_c.Medium),[u,s]);break;case"long":var a=e(t,"longTime"),c=e(t,"longDate");i=Lc(Ec(t,_c.Long),[a,c]);break;case"full":var p=e(t,"fullTime"),d=e(t,"fullDate");i=Lc(Ec(t,_c.Full),[p,d])}return i&&(Rc[l][n]=i),i}(n,t)||t;for(var r,u=[];t;){if(!(r=Mc.exec(t))){u.push(t);break}var s=(u=u.concat(r.slice(1))).pop();if(!s)break;t=s}var a=o.getTimezoneOffset();i&&(a=Jc(i,a),o=function(e,t,n){var l=e.getTimezoneOffset();return function(e,t){return(e=new Date(e.getTime())).setMinutes(e.getMinutes()+t),e}(e,-1*(Jc(t,l)-l))}(o,i));var c="";return u.forEach(function(e){var t=function(e){if(Wc[e])return Wc[e];var t;switch(e){case"G":case"GG":case"GGG":t=Hc(jc.Eras,Sc.Abbreviated);break;case"GGGG":t=Hc(jc.Eras,Sc.Wide);break;case"GGGGG":t=Hc(jc.Eras,Sc.Narrow);break;case"y":t=$c(Nc.FullYear,1,0,!1,!0);break;case"yy":t=$c(Nc.FullYear,2,0,!0,!0);break;case"yyy":t=$c(Nc.FullYear,3,0,!1,!0);break;case"yyyy":t=$c(Nc.FullYear,4,0,!1,!0);break;case"M":case"L":t=$c(Nc.Month,1,1);break;case"MM":case"LL":t=$c(Nc.Month,2,1);break;case"MMM":t=Hc(jc.Months,Sc.Abbreviated);break;case"MMMM":t=Hc(jc.Months,Sc.Wide);break;case"MMMMM":t=Hc(jc.Months,Sc.Narrow);break;case"LLL":t=Hc(jc.Months,Sc.Abbreviated,Cc.Standalone);break;case"LLLL":t=Hc(jc.Months,Sc.Wide,Cc.Standalone);break;case"LLLLL":t=Hc(jc.Months,Sc.Narrow,Cc.Standalone);break;case"w":t=Gc(1);break;case"ww":t=Gc(2);break;case"W":t=Gc(1,!0);break;case"d":t=$c(Nc.Date,1);break;case"dd":t=$c(Nc.Date,2);break;case"E":case"EE":case"EEE":t=Hc(jc.Days,Sc.Abbreviated);break;case"EEEE":t=Hc(jc.Days,Sc.Wide);break;case"EEEEE":t=Hc(jc.Days,Sc.Narrow);break;case"EEEEEE":t=Hc(jc.Days,Sc.Short);break;case"a":case"aa":case"aaa":t=Hc(jc.DayPeriods,Sc.Abbreviated);break;case"aaaa":t=Hc(jc.DayPeriods,Sc.Wide);break;case"aaaaa":t=Hc(jc.DayPeriods,Sc.Narrow);break;case"b":case"bb":case"bbb":t=Hc(jc.DayPeriods,Sc.Abbreviated,Cc.Standalone,!0);break;case"bbbb":t=Hc(jc.DayPeriods,Sc.Wide,Cc.Standalone,!0);break;case"bbbbb":t=Hc(jc.DayPeriods,Sc.Narrow,Cc.Standalone,!0);break;case"B":case"BB":case"BBB":t=Hc(jc.DayPeriods,Sc.Abbreviated,Cc.Format,!0);break;case"BBBB":t=Hc(jc.DayPeriods,Sc.Wide,Cc.Format,!0);break;case"BBBBB":t=Hc(jc.DayPeriods,Sc.Narrow,Cc.Format,!0);break;case"h":t=$c(Nc.Hours,1,-12);break;case"hh":t=$c(Nc.Hours,2,-12);break;case"H":t=$c(Nc.Hours,1);break;case"HH":t=$c(Nc.Hours,2);break;case"m":t=$c(Nc.Minutes,1);break;case"mm":t=$c(Nc.Minutes,2);break;case"s":t=$c(Nc.Seconds,1);break;case"ss":t=$c(Nc.Seconds,2);break;case"S":t=$c(Nc.FractionalSeconds,1);break;case"SS":t=$c(Nc.FractionalSeconds,2);break;case"SSS":t=$c(Nc.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=Uc(Pc.Short);break;case"ZZZZZ":t=Uc(Pc.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=Uc(Pc.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=Uc(Pc.Long);break;default:return null}return Wc[e]=t,t}(e);c+=t?t(o,n,a):"''"===e?"'":e.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}(e,n,o||this.locale,i)}catch(r){throw up(t,r.message)}},e}(),cp=function(){function e(){}return e.prototype.transform=function(e){return JSON.stringify(e,null,2)},e}(),pp=function(){function e(){}var t;return t=e,e.prototype.transform=function(e,n,l){if(null==e)return e;if(!this.supports(e))throw up(t,e);return e.slice(n,l)},e.prototype.supports=function(e){return"string"==typeof e||Array.isArray(e)},e}(),dp=function(){return function(){}}(),hp=new me("DocumentToken"),fp="browser",gp="server",mp=new me("cdk-dir-doc",{providedIn:"root",factory:function(){return kt(hp)}}),vp=function(){function e(e){if(this.value="ltr",this.change=new ki,e){var t=(e.body?e.body.dir:null)||(e.documentElement?e.documentElement.dir:null);this.value="ltr"===t||"rtl"===t?t:"ltr"}}return e.prototype.ngOnDestroy=function(){this.change.complete()},e.ngInjectableDef=he({factory:function(){return new e(kt(mp,8))},token:e,providedIn:"root"}),e}(),Dp=function(){return function(){}}();function yp(e){return Array.isArray(e)?e:[e]}function bp(e){return null==e?"":"string"==typeof e?e:e+"px"}function Cp(e,t,n,l){return r(n)&&(l=n,n=void 0),l?Cp(e,t,n).pipe(z(function(e){return i(e)?l.apply(void 0,e):l(e)})):new _(function(l){!function e(t,n,l,i,o){var r;if(function(e){return e&&"function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener}(t)){var u=t;t.addEventListener(n,l,o),r=function(){return u.removeEventListener(n,l,o)}}else if(function(e){return e&&"function"==typeof e.on&&"function"==typeof e.off}(t)){var s=t;t.on(n,l),r=function(){return s.off(n,l)}}else if(function(e){return e&&"function"==typeof e.addListener&&"function"==typeof e.removeListener}(t)){var a=t;t.addListener(n,l),r=function(){return a.removeListener(n,l)}}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(var c=0,p=t.length;c<p;c++)e(t[c],n,l,i,o)}i.add(r)}(e,t,function(e){l.next(arguments.length>1?Array.prototype.slice.call(arguments):e)},l,n)})}var Sp=function(e){function t(t,n){var l=e.call(this,t,n)||this;return l.scheduler=t,l.work=n,l.pending=!1,l}return l.__extends(t,e),t.prototype.schedule=function(e,t){if(void 0===t&&(t=0),this.closed)return this;this.state=e;var n=this.id,l=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(l,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(l,this.id,t),this},t.prototype.requestAsyncId=function(e,t,n){return void 0===n&&(n=0),setInterval(e.flush.bind(e,this),n)},t.prototype.recycleAsyncId=function(e,t,n){if(void 0===n&&(n=0),null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)},t.prototype.execute=function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var n=!1,l=void 0;try{this.work(e)}catch(i){n=!0,l=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),l},t.prototype._unsubscribe=function(){var e=this.id,t=this.scheduler,n=t.actions,l=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==l&&n.splice(l,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null},t}(function(e){function t(t,n){return e.call(this)||this}return l.__extends(t,e),t.prototype.schedule=function(e,t){return void 0===t&&(t=0),this},t}(h)),_p=function(){function e(t,n){void 0===n&&(n=e.now),this.SchedulerAction=t,this.now=n}return e.prototype.schedule=function(e,t,n){return void 0===t&&(t=0),new this.SchedulerAction(this,e).schedule(n,t)},e.now=function(){return Date.now()},e}(),wp=new(function(e){function t(n,l){void 0===l&&(l=_p.now);var i=e.call(this,n,function(){return t.delegate&&t.delegate!==i?t.delegate.now():l()})||this;return i.actions=[],i.active=!1,i.scheduled=void 0,i}return l.__extends(t,e),t.prototype.schedule=function(n,l,i){return void 0===l&&(l=0),t.delegate&&t.delegate!==this?t.delegate.schedule(n,l,i):e.prototype.schedule.call(this,n,l,i)},t.prototype.flush=function(e){var t=this.actions;if(this.active)t.push(e);else{var n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}},t}(_p))(Sp),Fp=function(){function e(e){this.durationSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new xp(e,this.durationSelector))},e}(),xp=function(e){function t(t,n){var l=e.call(this,t)||this;return l.durationSelector=n,l.hasValue=!1,l}return l.__extends(t,e),t.prototype._next=function(e){if(this.value=e,this.hasValue=!0,!this.throttled){var t=c(this.durationSelector)(e);if(t===s)this.destination.error(s.e);else{var n=H(this,t);!n||n.closed?this.clearThrottle():this.add(this.throttled=n)}}},t.prototype.clearThrottle=function(){var e=this.value,t=this.hasValue,n=this.throttled;n&&(this.remove(n),this.throttled=null,n.unsubscribe()),t&&(this.value=null,this.hasValue=!1,this.destination.next(e))},t.prototype.notifyNext=function(e,t,n,l){this.clearThrottle()},t.prototype.notifyComplete=function(){this.clearThrottle()},t}(U);function Ep(e){return!i(e)&&e-parseFloat(e)+1>=0}function kp(e){var t=e.index,n=e.period,l=e.subscriber;if(l.next(t),!l.closed){if(-1===n)return l.complete();e.index=t+1,this.schedule(e,n)}}function Ap(e,t){return void 0===t&&(t=wp),n=function(){return function(e,t,n){void 0===e&&(e=0);var l=-1;return Ep(t)?l=Number(t)<1?1:Number(t):I(t)&&(n=t),I(n)||(n=wp),new _(function(t){var i=Ep(e)?e:+e-n.now();return n.schedule(kp,i,{index:0,period:l,subscriber:t})})}(e,t)},function(e){return e.lift(new Fp(n))};var n}var Tp=function(){function e(e){this.notifier=e}return e.prototype.call=function(e,t){var n=new Ip(e),l=H(n,this.notifier);return l&&!n.seenValue?(n.add(l),t.subscribe(n)):n},e}(),Ip=function(e){function t(t){var n=e.call(this,t)||this;return n.seenValue=!1,n}return l.__extends(t,e),t.prototype.notifyNext=function(e,t,n,l,i){this.seenValue=!0,this.complete()},t.prototype.notifyComplete=function(){},t}(U),Bp="undefined"!=typeof Intl&&Intl.v8BreakIterator,Op=function(){function e(e){this._platformId=e,this.isBrowser=this._platformId?this._platformId===fp:"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Bp)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}return e.ngInjectableDef=he({factory:function(){return new e(kt(Ji,8))},token:e,providedIn:"root"}),e}(),Rp=function(){return function(){}}(),Mp=function(){function e(e,t){this._ngZone=e,this._platform=t,this._scrolled=new A,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map}return e.prototype.register=function(e){var t=this;this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(function(){return t._scrolled.next(e)}))},e.prototype.deregister=function(e){var t=this.scrollContainers.get(e);t&&(t.unsubscribe(),this.scrollContainers.delete(e))},e.prototype.scrolled=function(e){var t=this;return void 0===e&&(e=20),this._platform.isBrowser?new _(function(n){t._globalSubscription||t._addGlobalListener();var l=e>0?t._scrolled.pipe(Ap(e)).subscribe(n):t._scrolled.subscribe(n);return t._scrolledCount++,function(){l.unsubscribe(),t._scrolledCount--,t._scrolledCount||t._removeGlobalListener()}}):oc()},e.prototype.ngOnDestroy=function(){var e=this;this._removeGlobalListener(),this.scrollContainers.forEach(function(t,n){return e.deregister(n)}),this._scrolled.complete()},e.prototype.ancestorScrolled=function(e,t){var n=this.getAncestorScrollContainers(e);return this.scrolled(t).pipe(rc(function(e){return!e||n.indexOf(e)>-1}))},e.prototype.getAncestorScrollContainers=function(e){var t=this,n=[];return this.scrollContainers.forEach(function(l,i){t._scrollableContainsElement(i,e)&&n.push(i)}),n},e.prototype._scrollableContainsElement=function(e,t){var n=t.nativeElement,l=e.getElementRef().nativeElement;do{if(n==l)return!0}while(n=n.parentElement);return!1},e.prototype._addGlobalListener=function(){var e=this;this._globalSubscription=this._ngZone.runOutsideAngular(function(){return Cp(window.document,"scroll").subscribe(function(){return e._scrolled.next()})})},e.prototype._removeGlobalListener=function(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)},e.ngInjectableDef=he({factory:function(){return new e(kt(po),kt(Op))},token:e,providedIn:"root"}),e}(),Pp=function(){return function(){}}(),Np=function(){function e(e,t){var n=this;this._platform=e,t.runOutsideAngular(function(){n._change=e.isBrowser?Y(Cp(window,"resize"),Cp(window,"orientationchange")):oc(),n._invalidateCache=n.change().subscribe(function(){return n._updateViewportSize()})})}return e.prototype.ngOnDestroy=function(){this._invalidateCache.unsubscribe()},e.prototype.getViewportSize=function(){this._viewportSize||this._updateViewportSize();var e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e},e.prototype.getViewportRect=function(){var e=this.getViewportScrollPosition(),t=this.getViewportSize(),n=t.width,l=t.height;return{top:e.top,left:e.left,bottom:e.top+l,right:e.left+n,height:l,width:n}},e.prototype.getViewportScrollPosition=function(){if(!this._platform.isBrowser)return{top:0,left:0};var e=document.documentElement,t=e.getBoundingClientRect();return{top:-t.top||document.body.scrollTop||window.scrollY||e.scrollTop||0,left:-t.left||document.body.scrollLeft||window.scrollX||e.scrollLeft||0}},e.prototype.change=function(e){return void 0===e&&(e=20),e>0?this._change.pipe(Ap(e)):this._change},e.prototype._updateViewportSize=function(){this._viewportSize=this._platform.isBrowser?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0}},e.ngInjectableDef=he({factory:function(){return new e(kt(Op),kt(po))},token:e,providedIn:"root"}),e}(),jp=function(){function e(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}return e.prototype.attach=function(){},e.prototype.enable=function(){if(this._canBeEnabled()){var e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=bp(-this._previousScrollPosition.left),e.style.top=bp(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}},e.prototype.disable=function(){if(this._isEnabled){var e=this._document.documentElement,t=e.style,n=this._document.body.style,l=t.scrollBehavior||"",i=n.scrollBehavior||"";this._isEnabled=!1,t.left=this._previousHTMLStyles.left,t.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),t.scrollBehavior=n.scrollBehavior="auto",window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),t.scrollBehavior=l,n.scrollBehavior=i}},e.prototype._canBeEnabled=function(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;var e=this._document.body,t=this._viewportRuler.getViewportSize();return e.scrollHeight>t.height||e.scrollWidth>t.width},e}();function Lp(){return Error("Scroll strategy has already been attached.")}var Vp=function(){function e(e,t,n,l){var i=this;this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=n,this._config=l,this._scrollSubscription=null,this._detach=function(){i.disable(),i._overlayRef.hasAttached()&&i._ngZone.run(function(){return i._overlayRef.detach()})}}return e.prototype.attach=function(e){if(this._overlayRef)throw Lp();this._overlayRef=e},e.prototype.enable=function(){var e=this;if(!this._scrollSubscription){var t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(function(){var t=e._viewportRuler.getViewportScrollPosition().top;Math.abs(t-e._initialScrollPosition)>e._config.threshold?e._detach():e._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}},e.prototype.disable=function(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)},e}(),$p=function(){function e(){}return e.prototype.enable=function(){},e.prototype.disable=function(){},e.prototype.attach=function(){},e}();function Hp(e,t){return t.some(function(t){return e.bottom<t.top||e.top>t.bottom||e.right<t.left||e.left>t.right})}function Up(e,t){return t.some(function(t){return e.top<t.top||e.bottom>t.bottom||e.left<t.left||e.right>t.right})}var zp=function(){function e(e,t,n,l){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=n,this._config=l,this._scrollSubscription=null}return e.prototype.attach=function(e){if(this._overlayRef)throw Lp();this._overlayRef=e},e.prototype.enable=function(){var e=this;this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(function(){if(e._overlayRef.updatePosition(),e._config&&e._config.autoClose){var t=e._overlayRef.overlayElement.getBoundingClientRect(),n=e._viewportRuler.getViewportSize(),l=n.width,i=n.height;Hp(t,[{width:l,height:i,bottom:i,right:l,top:0,left:0}])&&(e.disable(),e._ngZone.run(function(){return e._overlayRef.detach()}))}}))},e.prototype.disable=function(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)},e}(),qp=function(){function e(e,t,n,l){var i=this;this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=n,this.noop=function(){return new $p},this.close=function(e){return new Vp(i._scrollDispatcher,i._ngZone,i._viewportRuler,e)},this.block=function(){return new jp(i._viewportRuler,i._document)},this.reposition=function(e){return new zp(i._scrollDispatcher,i._viewportRuler,i._ngZone,e)},this._document=l}return e.ngInjectableDef=he({factory:function(){return new e(kt(Mp),kt(Np),kt(po),kt(hp))},token:e,providedIn:"root"}),e}(),Gp=function(){return function(e){var t=this;this.scrollStrategy=new $p,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e&&Object.keys(e).forEach(function(n){void 0!==e[n]&&(t[n]=e[n])})}}(),Wp=function(){return function(e,t,n,l,i){this.offsetX=n,this.offsetY=l,this.panelClass=i,this.originX=e.originX,this.originY=e.originY,this.overlayX=t.overlayX,this.overlayY=t.overlayY}}(),Jp=function(){return function(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}();function Qp(e,t){if("top"!==t&&"bottom"!==t&&"center"!==t)throw Error("ConnectedPosition: Invalid "+e+' "'+t+'". Expected "top", "bottom" or "center".')}function Kp(e,t){if("start"!==t&&"end"!==t&&"center"!==t)throw Error("ConnectedPosition: Invalid "+e+' "'+t+'". Expected "start", "end" or "center".')}var Zp=function(){function e(e){var t=this;this._attachedOverlays=[],this._keydownListener=function(e){for(var n=t._attachedOverlays,l=n.length-1;l>-1;l--)if(n[l]._keydownEventSubscriptions>0){n[l]._keydownEvents.next(e);break}},this._document=e}return e.prototype.ngOnDestroy=function(){this._detach()},e.prototype.add=function(e){this.remove(e),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener,!0),this._isAttached=!0),this._attachedOverlays.push(e)},e.prototype.remove=function(e){var t=this._attachedOverlays.indexOf(e);t>-1&&this._attachedOverlays.splice(t,1),0===this._attachedOverlays.length&&this._detach()},e.prototype._detach=function(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener,!0),this._isAttached=!1)},e.ngInjectableDef=he({factory:function(){return new e(kt(hp))},token:e,providedIn:"root"}),e}(),Xp=function(){function e(e){this._document=e}return e.prototype.ngOnDestroy=function(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)},e.prototype.getContainerElement=function(){return this._containerElement||this._createContainer(),this._containerElement},e.prototype._createContainer=function(){var e=this._document.createElement("div");e.classList.add("cdk-overlay-container"),this._document.body.appendChild(e),this._containerElement=e},e.ngInjectableDef=he({factory:function(){return new e(kt(hp))},token:e,providedIn:"root"}),e}(),Yp=function(){function e(e,t,n,l,i,o,r,u){var s=this;this._portalOutlet=e,this._host=t,this._pane=n,this._config=l,this._ngZone=i,this._keyboardDispatcher=o,this._document=r,this._location=u,this._backdropElement=null,this._backdropClick=new A,this._attachments=new A,this._detachments=new A,this._locationChanges=h.EMPTY,this._keydownEventsObservable=new _(function(e){var t=s._keydownEvents.subscribe(e);return s._keydownEventSubscriptions++,function(){t.unsubscribe(),s._keydownEventSubscriptions--}}),this._keydownEvents=new A,this._keydownEventSubscriptions=0,l.scrollStrategy&&l.scrollStrategy.attach(this),this._positionStrategy=l.positionStrategy}return Object.defineProperty(e.prototype,"overlayElement",{get:function(){return this._pane},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"backdropElement",{get:function(){return this._backdropElement},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hostElement",{get:function(){return this._host},enumerable:!0,configurable:!0}),e.prototype.attach=function(e){var t=this,n=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._config.scrollStrategy&&this._config.scrollStrategy.enable(),this._ngZone.onStable.asObservable().pipe(pc(1)).subscribe(function(){t.hasAttached()&&t.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&this._location&&(this._locationChanges=this._location.subscribe(function(){return t.dispose()})),n},e.prototype.detach=function(){if(this.hasAttached()){this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._config.scrollStrategy&&this._config.scrollStrategy.disable();var e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),e}},e.prototype.dispose=function(){var e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._config.scrollStrategy&&this._config.scrollStrategy.disable(),this.detachBackdrop(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,e&&this._detachments.next(),this._detachments.complete()},e.prototype.hasAttached=function(){return this._portalOutlet.hasAttached()},e.prototype.backdropClick=function(){return this._backdropClick.asObservable()},e.prototype.attachments=function(){return this._attachments.asObservable()},e.prototype.detachments=function(){return this._detachments.asObservable()},e.prototype.keydownEvents=function(){return this._keydownEventsObservable},e.prototype.getConfig=function(){return this._config},e.prototype.updatePosition=function(){this._positionStrategy&&this._positionStrategy.apply()},e.prototype.updatePositionStrategy=function(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))},e.prototype.updateSize=function(e){this._config=Object(l.__assign)({},this._config,e),this._updateElementSize()},e.prototype.setDirection=function(e){this._config=Object(l.__assign)({},this._config,{direction:e}),this._updateElementDirection()},e.prototype.addPanelClass=function(e){this._pane&&this._toggleClasses(this._pane,e,!0)},e.prototype.removePanelClass=function(e){this._pane&&this._toggleClasses(this._pane,e,!1)},e.prototype.getDirection=function(){var e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"},e.prototype._updateElementDirection=function(){this._host.setAttribute("dir",this.getDirection())},e.prototype._updateElementSize=function(){var e=this._pane.style;e.width=bp(this._config.width),e.height=bp(this._config.height),e.minWidth=bp(this._config.minWidth),e.minHeight=bp(this._config.minHeight),e.maxWidth=bp(this._config.maxWidth),e.maxHeight=bp(this._config.maxHeight)},e.prototype._togglePointerEvents=function(e){this._pane.style.pointerEvents=e?"auto":"none"},e.prototype._attachBackdrop=function(){var e=this;this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",function(t){return e._backdropClick.next(t)}),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(function(){requestAnimationFrame(function(){e._backdropElement&&e._backdropElement.classList.add("cdk-overlay-backdrop-showing")})}):this._backdropElement.classList.add("cdk-overlay-backdrop-showing")},e.prototype._updateStackingOrder=function(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)},e.prototype.detachBackdrop=function(){var e=this,t=this._backdropElement;if(t){var n,l=function(){t&&t.parentNode&&t.parentNode.removeChild(t),e._backdropElement==t&&(e._backdropElement=null),e._config.backdropClass&&e._toggleClasses(t,e._config.backdropClass,!1),clearTimeout(n)};t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(function(){t.addEventListener("transitionend",l)}),t.style.pointerEvents="none",n=this._ngZone.runOutsideAngular(function(){return setTimeout(l,500)})}},e.prototype._toggleClasses=function(e,t,n){var l=e.classList;yp(t).forEach(function(e){n?l.add(e):l.remove(e)})},e.prototype._detachContentWhenStable=function(){var e=this;this._ngZone.runOutsideAngular(function(){var t,n=e._ngZone.onStable.asObservable().pipe((t=Y(e._attachments,e._detachments),function(e){return e.lift(new Tp(t))})).subscribe(function(){e._pane&&e._host&&0!==e._pane.children.length||(e._pane&&e._config.panelClass&&e._toggleClasses(e._pane,e._config.panelClass,!1),e._host&&e._host.parentElement&&(e._previousHostParent=e._host.parentElement,e._previousHostParent.removeChild(e._host)),n.unsubscribe())})})},e}(),ed=function(){function e(e,t,n,l,i){var o=this;this._viewportRuler=t,this._document=n,this._platform=l,this._overlayContainer=i,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this.scrollables=[],this._preferredPositions=[],this._positionChanges=new A,this._resizeSubscription=h.EMPTY,this._offsetX=0,this._offsetY=0,this._positionChangeSubscriptions=0,this._appliedPanelClasses=[],this.positionChanges=new _(function(e){var t=o._positionChanges.subscribe(e);return o._positionChangeSubscriptions++,function(){t.unsubscribe(),o._positionChangeSubscriptions--}}),this.setOrigin(e)}return Object.defineProperty(e.prototype,"positions",{get:function(){return this._preferredPositions},enumerable:!0,configurable:!0}),e.prototype.attach=function(e){var t=this;if(this._overlayRef&&e!==this._overlayRef)throw Error("This position strategy is already attached to an overlay");this._validatePositions(),e.hostElement.classList.add("cdk-overlay-connected-position-bounding-box"),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(function(){t._isInitialRender=!0,t.apply()})},e.prototype.apply=function(){if(!(this._isDisposed||this._platform&&!this._platform.isBrowser))if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)this.reapplyLastPosition();else{this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();for(var e,t=this._originRect,n=this._overlayRect,l=this._viewportRect,i=[],o=0,r=this._preferredPositions;o<r.length;o++){var u=r[o],s=this._getOriginPoint(t,u),a=this._getOverlayPoint(s,n,u),c=this._getOverlayFit(a,n,l,u);if(c.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(u,s);this._canFitWithFlexibleDimensions(c,a,l)?i.push({position:u,origin:s,overlayRect:n,boundingBoxRect:this._calculateBoundingBoxRect(s,u)}):(!e||e.overlayFit.visibleArea<c.visibleArea)&&(e={overlayFit:c,overlayPoint:a,originPoint:s,position:u,overlayRect:n})}if(i.length){for(var p=null,d=-1,h=0,f=i;h<f.length;h++){var g=f[h],m=g.boundingBoxRect.width*g.boundingBoxRect.height*(g.position.weight||1);m>d&&(d=m,p=g)}return this._isPushed=!1,void this._applyPosition(p.position,p.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(e.position,e.originPoint);this._applyPosition(e.position,e.originPoint)}},e.prototype.detach=function(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()},e.prototype.dispose=function(){this._isDisposed||(this._boundingBox&&td(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove("cdk-overlay-connected-position-bounding-box"),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)},e.prototype.reapplyLastPosition=function(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();var e=this._lastPosition||this._preferredPositions[0],t=this._getOriginPoint(this._originRect,e);this._applyPosition(e,t)}},e.prototype.withScrollableContainers=function(e){this.scrollables=e},e.prototype.withPositions=function(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this},e.prototype.withViewportMargin=function(e){return this._viewportMargin=e,this},e.prototype.withFlexibleDimensions=function(e){return void 0===e&&(e=!0),this._hasFlexibleDimensions=e,this},e.prototype.withGrowAfterOpen=function(e){return void 0===e&&(e=!0),this._growAfterOpen=e,this},e.prototype.withPush=function(e){return void 0===e&&(e=!0),this._canPush=e,this},e.prototype.withLockedPosition=function(e){return void 0===e&&(e=!0),this._positionLocked=e,this},e.prototype.setOrigin=function(e){return this._origin=e,this},e.prototype.withDefaultOffsetX=function(e){return this._offsetX=e,this},e.prototype.withDefaultOffsetY=function(e){return this._offsetY=e,this},e.prototype.withTransformOriginOn=function(e){return this._transformOriginSelector=e,this},e.prototype._getOriginPoint=function(e,t){var n;if("center"==t.originX)n=e.left+e.width/2;else{var l=this._isRtl()?e.right:e.left,i=this._isRtl()?e.left:e.right;n="start"==t.originX?l:i}return{x:n,y:"center"==t.originY?e.top+e.height/2:"top"==t.originY?e.top:e.bottom}},e.prototype._getOverlayPoint=function(e,t,n){var l;return l="center"==n.overlayX?-t.width/2:"start"===n.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,{x:e.x+l,y:e.y+("center"==n.overlayY?-t.height/2:"top"==n.overlayY?0:-t.height)}},e.prototype._getOverlayFit=function(e,t,n,l){var i=e.x,o=e.y,r=this._getOffset(l,"x"),u=this._getOffset(l,"y");r&&(i+=r),u&&(o+=u);var s=0-o,a=o+t.height-n.height,c=this._subtractOverflows(t.width,0-i,i+t.width-n.width),p=this._subtractOverflows(t.height,s,a),d=c*p;return{visibleArea:d,isCompletelyWithinViewport:t.width*t.height===d,fitsInViewportVertically:p===t.height,fitsInViewportHorizontally:c==t.width}},e.prototype._canFitWithFlexibleDimensions=function(e,t,n){if(this._hasFlexibleDimensions){var l=n.bottom-t.y,i=n.right-t.x,o=this._overlayRef.getConfig().minHeight,r=this._overlayRef.getConfig().minWidth;return(e.fitsInViewportVertically||null!=o&&o<=l)&&(e.fitsInViewportHorizontally||null!=r&&r<=i)}},e.prototype._pushOverlayOnScreen=function(e,t,n){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};var l,i,o=this._viewportRect,r=Math.max(e.x+t.width-o.right,0),u=Math.max(e.y+t.height-o.bottom,0),s=Math.max(o.top-n.top-e.y,0),a=Math.max(o.left-n.left-e.x,0);return this._previousPushAmount={x:l=t.width<=o.width?a||-r:e.x<this._viewportMargin?o.left-n.left-e.x:0,y:i=t.height<=o.height?s||-u:e.y<this._viewportMargin?o.top-n.top-e.y:0},{x:e.x+l,y:e.y+i}},e.prototype._applyPosition=function(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChangeSubscriptions>0){var n=this._getScrollVisibility(),l=new Jp(e,n);this._positionChanges.next(l)}this._isInitialRender=!1},e.prototype._setTransformOrigin=function(e){if(this._transformOriginSelector){var t,n=this._boundingBox.querySelectorAll(this._transformOriginSelector),l=e.overlayY;t="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(var i=0;i<n.length;i++)n[i].style.transformOrigin=t+" "+l}},e.prototype._calculateBoundingBoxRect=function(e,t){var n,l,i,o,r,u,s=this._viewportRect,a=this._isRtl();if("top"===t.overlayY)n=s.height-(l=e.y)+this._viewportMargin;else if("bottom"===t.overlayY)n=s.height-(i=s.height-e.y+2*this._viewportMargin)+this._viewportMargin;else{var c=Math.min(s.bottom-e.y+s.top,e.y),p=this._lastBoundingBoxSize.height;l=e.y-c,(n=2*c)>p&&!this._isInitialRender&&!this._growAfterOpen&&(l=e.y-p/2)}if("end"===t.overlayX&&!a||"start"===t.overlayX&&a)u=s.right-e.x+this._viewportMargin,o=e.x-s.left;else if("start"===t.overlayX&&!a||"end"===t.overlayX&&a)r=e.x,o=s.right-e.x;else{c=Math.min(s.right-e.x+s.left,e.x);var d=this._lastBoundingBoxSize.width;r=e.x-c,(o=2*c)>d&&!this._isInitialRender&&!this._growAfterOpen&&(r=e.x-d/2)}return{top:l,left:r,bottom:i,right:u,width:o,height:n}},e.prototype._setBoundingBoxStyles=function(e,t){var n=this._calculateBoundingBoxRect(e,t);this._isInitialRender||this._growAfterOpen||(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));var l={};if(this._hasExactPosition())l.top=l.left="0",l.bottom=l.right="",l.width=l.height="100%";else{var i=this._overlayRef.getConfig().maxHeight,o=this._overlayRef.getConfig().maxWidth;l.height=bp(n.height),l.top=bp(n.top),l.bottom=bp(n.bottom),l.width=bp(n.width),l.left=bp(n.left),l.right=bp(n.right),l.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",l.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",i&&(l.maxHeight=bp(i)),o&&(l.maxWidth=bp(o))}this._lastBoundingBoxSize=n,td(this._boundingBox.style,l)},e.prototype._resetBoundingBoxStyles=function(){td(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})},e.prototype._resetOverlayElementStyles=function(){td(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})},e.prototype._setOverlayElementStyles=function(e,t){var n={};if(this._hasExactPosition()){var l=this._viewportRuler.getViewportScrollPosition();td(n,this._getExactOverlayY(t,e,l)),td(n,this._getExactOverlayX(t,e,l))}else n.position="static";var i="",o=this._getOffset(t,"x"),r=this._getOffset(t,"y");o&&(i+="translateX("+o+"px) "),r&&(i+="translateY("+r+"px)"),n.transform=i.trim(),this._hasFlexibleDimensions&&this._overlayRef.getConfig().maxHeight&&(n.maxHeight=""),this._hasFlexibleDimensions&&this._overlayRef.getConfig().maxWidth&&(n.maxWidth=""),td(this._pane.style,n)},e.prototype._getExactOverlayY=function(e,t,n){var l={top:null,bottom:null},i=this._getOverlayPoint(t,this._overlayRect,e);this._isPushed&&(i=this._pushOverlayOnScreen(i,this._overlayRect,n));var o=this._overlayContainer?this._overlayContainer.getContainerElement().getBoundingClientRect().top:0;return i.y-=o,"bottom"===e.overlayY?l.bottom=this._document.documentElement.clientHeight-(i.y+this._overlayRect.height)+"px":l.top=bp(i.y),l},e.prototype._getExactOverlayX=function(e,t,n){var l={left:null,right:null},i=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(i=this._pushOverlayOnScreen(i,this._overlayRect,n)),"right"==(this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left")?l.right=this._document.documentElement.clientWidth-(i.x+this._overlayRect.width)+"px":l.left=bp(i.x),l},e.prototype._getScrollVisibility=function(){var e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),n=this.scrollables.map(function(e){return e.getElementRef().nativeElement.getBoundingClientRect()});return{isOriginClipped:Up(e,n),isOriginOutsideView:Hp(e,n),isOverlayClipped:Up(t,n),isOverlayOutsideView:Hp(t,n)}},e.prototype._subtractOverflows=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce(function(e,t){return e-Math.max(t,0)},e)},e.prototype._getNarrowedViewportRect=function(){var e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+e-this._viewportMargin,bottom:n.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}},e.prototype._isRtl=function(){return"rtl"===this._overlayRef.getDirection()},e.prototype._hasExactPosition=function(){return!this._hasFlexibleDimensions||this._isPushed},e.prototype._getOffset=function(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY},e.prototype._validatePositions=function(){if(!this._preferredPositions.length)throw Error("FlexibleConnectedPositionStrategy: At least one position is required.");this._preferredPositions.forEach(function(e){Kp("originX",e.originX),Qp("originY",e.originY),Kp("overlayX",e.overlayX),Qp("overlayY",e.overlayY)})},e.prototype._addPanelClasses=function(e){var t=this;this._pane&&yp(e).forEach(function(e){-1===t._appliedPanelClasses.indexOf(e)&&(t._appliedPanelClasses.push(e),t._pane.classList.add(e))})},e.prototype._clearPanelClasses=function(){var e=this;this._pane&&(this._appliedPanelClasses.forEach(function(t){return e._pane.classList.remove(t)}),this._appliedPanelClasses=[])},e.prototype._getOriginRect=function(){var e=this._origin;return e instanceof Ll?e.nativeElement.getBoundingClientRect():e instanceof HTMLElement?e.getBoundingClientRect():{top:e.y,bottom:e.y,left:e.x,right:e.x,height:0,width:0}},e}();function td(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}var nd=function(){function e(e,t,n,l,i,o){this._preferredPositions=[],this._positionStrategy=new ed(n,l,i,o).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(e,t)}return Object.defineProperty(e.prototype,"_isRtl",{get:function(){return"rtl"===this._overlayRef.getDirection()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onPositionChange",{get:function(){return this._positionStrategy.positionChanges},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"positions",{get:function(){return this._preferredPositions},enumerable:!0,configurable:!0}),e.prototype.attach=function(e){this._overlayRef=e,this._positionStrategy.attach(e),this._direction&&(e.setDirection(this._direction),this._direction=null)},e.prototype.dispose=function(){this._positionStrategy.dispose()},e.prototype.detach=function(){this._positionStrategy.detach()},e.prototype.apply=function(){this._positionStrategy.apply()},e.prototype.recalculateLastPosition=function(){this._positionStrategy.reapplyLastPosition()},e.prototype.withScrollableContainers=function(e){this._positionStrategy.withScrollableContainers(e)},e.prototype.withFallbackPosition=function(e,t,n,l){var i=new Wp(e,t,n,l);return this._preferredPositions.push(i),this._positionStrategy.withPositions(this._preferredPositions),this},e.prototype.withDirection=function(e){return this._overlayRef?this._overlayRef.setDirection(e):this._direction=e,this},e.prototype.withOffsetX=function(e){return this._positionStrategy.withDefaultOffsetX(e),this},e.prototype.withOffsetY=function(e){return this._positionStrategy.withDefaultOffsetY(e),this},e.prototype.withLockedPosition=function(e){return this._positionStrategy.withLockedPosition(e),this},e.prototype.withPositions=function(e){return this._preferredPositions=e.slice(),this._positionStrategy.withPositions(this._preferredPositions),this},e.prototype.setOrigin=function(e){return this._positionStrategy.setOrigin(e),this},e}(),ld=function(){function e(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}return e.prototype.attach=function(e){var t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add("cdk-global-overlay-wrapper"),this._isDisposed=!1},e.prototype.top=function(e){return void 0===e&&(e=""),this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this},e.prototype.left=function(e){return void 0===e&&(e=""),this._rightOffset="",this._leftOffset=e,this._justifyContent="flex-start",this},e.prototype.bottom=function(e){return void 0===e&&(e=""),this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this},e.prototype.right=function(e){return void 0===e&&(e=""),this._leftOffset="",this._rightOffset=e,this._justifyContent="flex-end",this},e.prototype.width=function(e){return void 0===e&&(e=""),this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this},e.prototype.height=function(e){return void 0===e&&(e=""),this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this},e.prototype.centerHorizontally=function(e){return void 0===e&&(e=""),this.left(e),this._justifyContent="center",this},e.prototype.centerVertically=function(e){return void 0===e&&(e=""),this.top(e),this._alignItems="center",this},e.prototype.apply=function(){if(this._overlayRef&&this._overlayRef.hasAttached()){var e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig();e.position=this._cssPosition,e.marginLeft="100%"===n.width?"0":this._leftOffset,e.marginTop="100%"===n.height?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=this._rightOffset,"100%"===n.width?t.justifyContent="flex-start":"center"===this._justifyContent?t.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?t.justifyContent="flex-end":"flex-end"===this._justifyContent&&(t.justifyContent="flex-start"):t.justifyContent=this._justifyContent,t.alignItems="100%"===n.height?"flex-start":this._alignItems}},e.prototype.dispose=function(){if(!this._isDisposed&&this._overlayRef){var e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,n=t.style;t.classList.remove("cdk-global-overlay-wrapper"),n.justifyContent=n.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}},e}(),id=function(){function e(e,t,n,l){this._viewportRuler=e,this._document=t,this._platform=n,this._overlayContainer=l}return e.prototype.global=function(){return new ld},e.prototype.connectedTo=function(e,t,n){return new nd(t,n,e,this._viewportRuler,this._document)},e.prototype.flexibleConnectedTo=function(e){return new ed(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)},e.ngInjectableDef=he({factory:function(){return new e(kt(Np),kt(hp),kt(Op,8),kt(Xp,8))},token:e,providedIn:"root"}),e}(),od=0,rd=function(){function e(e,t,n,l,i,o,r,u,s,a){this.scrollStrategies=e,this._overlayContainer=t,this._componentFactoryResolver=n,this._positionBuilder=l,this._keyboardDispatcher=i,this._injector=o,this._ngZone=r,this._document=u,this._directionality=s,this._location=a}return e.prototype.create=function(e){var t=this._createHostElement(),n=this._createPaneElement(t),l=this._createPortalOutlet(n),i=new Gp(e);return i.direction=i.direction||this._directionality.value,new Yp(l,t,n,i,this._ngZone,this._keyboardDispatcher,this._document,this._location)},e.prototype.position=function(){return this._positionBuilder},e.prototype._createPaneElement=function(e){var t=this._document.createElement("div");return t.id="cdk-overlay-"+od++,t.classList.add("cdk-overlay-pane"),e.appendChild(t),t},e.prototype._createHostElement=function(){var e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e},e.prototype._createPortalOutlet=function(e){return this._appRef||(this._appRef=this._injector.get(Ao)),new Za(e,this._componentFactoryResolver,this._appRef,this._injector)},e}(),ud=new me("cdk-connected-overlay-scroll-strategy");function sd(e){return function(){return e.scrollStrategies.reposition()}}var ad=function(){return function(){}}(),cd=function(){return function(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabel=null,this.autoFocus=!0,this.restoreFocus=!0,this.closeOnNavigation=!0}}();function pd(){throw Error("Attempting to attach dialog content after content is already attached")}var dd=function(e){function t(t,n,l,i,o){var r=e.call(this)||this;return r._elementRef=t,r._focusTrapFactory=n,r._changeDetectorRef=l,r._document=i,r._config=o,r._elementFocusedBeforeDialogWasOpened=null,r._state="enter",r._animationStateChanged=new ki,r._ariaLabelledBy=null,r}return Object(l.__extends)(t,e),t.prototype.attachComponentPortal=function(e){return this._portalOutlet.hasAttached()&&pd(),this._savePreviouslyFocusedElement(),this._portalOutlet.attachComponentPortal(e)},t.prototype.attachTemplatePortal=function(e){return this._portalOutlet.hasAttached()&&pd(),this._savePreviouslyFocusedElement(),this._portalOutlet.attachTemplatePortal(e)},t.prototype._trapFocus=function(){this._focusTrap||(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement)),this._config.autoFocus&&this._focusTrap.focusInitialElementWhenReady()},t.prototype._restoreFocus=function(){var e=this._elementFocusedBeforeDialogWasOpened;this._config.restoreFocus&&e&&"function"==typeof e.focus&&e.focus(),this._focusTrap&&this._focusTrap.destroy()},t.prototype._savePreviouslyFocusedElement=function(){var e=this;this._document&&(this._elementFocusedBeforeDialogWasOpened=this._document.activeElement,this._elementRef.nativeElement.focus&&Promise.resolve().then(function(){return e._elementRef.nativeElement.focus()}))},t.prototype._onAnimationDone=function(e){"enter"===e.toState?this._trapFocus():"exit"===e.toState&&this._restoreFocus(),this._animationStateChanged.emit(e)},t.prototype._onAnimationStart=function(e){this._animationStateChanged.emit(e)},t.prototype._startExitAnimation=function(){this._state="exit",this._changeDetectorRef.markForCheck()},t}(Ka),hd=0,fd=function(){function e(e,t,n,l){void 0===l&&(l="mat-dialog-"+hd++);var i=this;this._overlayRef=e,this._containerInstance=t,this.id=l,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new A,this._afterClosed=new A,this._beforeClosed=new A,t._id=l,t._animationStateChanged.pipe(rc(function(e){return"done"===e.phaseName&&"enter"===e.toState}),pc(1)).subscribe(function(){i._afterOpened.next(),i._afterOpened.complete()}),t._animationStateChanged.pipe(rc(function(e){return"done"===e.phaseName&&"exit"===e.toState}),pc(1)).subscribe(function(){return i._overlayRef.dispose()}),e.detachments().subscribe(function(){i._beforeClosed.next(i._result),i._beforeClosed.complete(),i._afterClosed.next(i._result),i._afterClosed.complete(),i.componentInstance=null,i._overlayRef.dispose()}),e.keydownEvents().pipe(rc(function(e){return e.keyCode===tc&&!i.disableClose})).subscribe(function(){return i.close()})}return e.prototype.close=function(e){var t=this;this._result=e,this._containerInstance._animationStateChanged.pipe(rc(function(e){return"start"===e.phaseName}),pc(1)).subscribe(function(){t._beforeClosed.next(e),t._beforeClosed.complete(),t._overlayRef.detachBackdrop()}),this._containerInstance._startExitAnimation()},e.prototype.afterOpened=function(){return this._afterOpened.asObservable()},e.prototype.afterClosed=function(){return this._afterClosed.asObservable()},e.prototype.beforeClosed=function(){return this._beforeClosed.asObservable()},e.prototype.backdropClick=function(){return this._overlayRef.backdropClick()},e.prototype.keydownEvents=function(){return this._overlayRef.keydownEvents()},e.prototype.updatePosition=function(e){var t=this._getPositionStrategy();return e&&(e.left||e.right)?e.left?t.left(e.left):t.right(e.right):t.centerHorizontally(),e&&(e.top||e.bottom)?e.top?t.top(e.top):t.bottom(e.bottom):t.centerVertically(),this._overlayRef.updatePosition(),this},e.prototype.updateSize=function(e,t){return void 0===e&&(e=""),void 0===t&&(t=""),this._getPositionStrategy().width(e).height(t),this._overlayRef.updatePosition(),this},e.prototype.addPanelClass=function(e){return this._overlayRef.addPanelClass(e),this},e.prototype.removePanelClass=function(e){return this._overlayRef.removePanelClass(e),this},e.prototype.afterOpen=function(){return this.afterOpened()},e.prototype.beforeClose=function(){return this.beforeClosed()},e.prototype._getPositionStrategy=function(){return this._overlayRef.getConfig().positionStrategy},e}(),gd=new me("MatDialogData"),md=new me("mat-dialog-default-options"),vd=new me("mat-dialog-scroll-strategy");function Dd(e){return function(){return e.scrollStrategies.block()}}var yd=function(){function e(e,t,n,l,i,o,r){var u,s=this;this._overlay=e,this._injector=t,this._location=n,this._defaultOptions=l,this._parentDialog=o,this._overlayContainer=r,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new A,this._afterOpenedAtThisLevel=new A,this._ariaHiddenElements=new Map,this.afterAllClosed=(u=function(){return s.openDialogs.length?s._afterAllClosed:s._afterAllClosed.pipe(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){var n=e[e.length-1];I(n)?e.pop():n=null;var l=e.length;return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 1===e.length||2===e.length&&I(e[1])?J(e[0]):X(1)(oc.apply(void 0,e))}(1!==l||n?l>0?W(e,n):lc(n):ic(e[0]),t)}}(void 0))},new _(function(e){var t;try{t=u()}catch(n){return void e.error(n)}return(t?J(t):lc()).subscribe(e)})),this._scrollStrategy=i}return Object.defineProperty(e.prototype,"openDialogs",{get:function(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"afterOpened",{get:function(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"afterOpen",{get:function(){return this.afterOpened},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_afterAllClosed",{get:function(){var e=this._parentDialog;return e?e._afterAllClosed:this._afterAllClosedAtThisLevel},enumerable:!0,configurable:!0}),e.prototype.open=function(e,t){var n=this;if((t=function(e,t){return Object(l.__assign)({},t,e)}(t,this._defaultOptions||new cd)).id&&this.getDialogById(t.id))throw Error('Dialog with id "'+t.id+'" exists already. The dialog id must be unique.');var i=this._createOverlay(t),o=this._attachDialogContainer(i,t),r=this._attachDialogContent(e,o,i,t);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(r),r.afterClosed().subscribe(function(){return n._removeOpenDialog(r)}),this.afterOpened.next(r),r},e.prototype.closeAll=function(){this._closeDialogs(this.openDialogs)},e.prototype.getDialogById=function(e){return this.openDialogs.find(function(t){return t.id===e})},e.prototype.ngOnDestroy=function(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()},e.prototype._createOverlay=function(e){var t=this._getOverlayConfig(e);return this._overlay.create(t)},e.prototype._getOverlayConfig=function(e){var t=new Gp({positionStrategy:this._overlay.position().global(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(t.backdropClass=e.backdropClass),t},e.prototype._attachDialogContainer=function(e,t){var n=new ec(t&&t.viewContainerRef&&t.viewContainerRef.injector||this._injector,new WeakMap([[cd,t]])),l=new Ja(dd,t.viewContainerRef,n);return e.attach(l).instance},e.prototype._attachDialogContent=function(e,t,n,l){var i=new fd(n,t,this._location,l.id);if(l.hasBackdrop&&n.backdropClick().subscribe(function(){i.disableClose||i.close()}),e instanceof Ai)t.attachTemplatePortal(new Qa(e,null,{$implicit:l.data,dialogRef:i}));else{var o=this._createInjector(l,i,t),r=t.attachComponentPortal(new Ja(e,void 0,o));i.componentInstance=r.instance}return i.updateSize(l.width,l.height).updatePosition(l.position),i},e.prototype._createInjector=function(e,t,n){var l=e&&e.viewContainerRef&&e.viewContainerRef.injector,i=new WeakMap([[dd,n],[gd,e.data],[fd,t]]);return!e.direction||l&&l.get(vp,null)||i.set(vp,{value:e.direction,change:oc()}),new ec(l||this._injector,i)},e.prototype._removeOpenDialog=function(e){var t=this.openDialogs.indexOf(e);t>-1&&(this.openDialogs.splice(t,1),this.openDialogs.length||(this._ariaHiddenElements.forEach(function(e,t){e?t.setAttribute("aria-hidden",e):t.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._afterAllClosed.next()))},e.prototype._hideNonDialogContentFromAssistiveTechnology=function(){var e=this._overlayContainer.getContainerElement();if(e.parentElement)for(var t=e.parentElement.children,n=t.length-1;n>-1;n--){var l=t[n];l===e||"SCRIPT"===l.nodeName||"STYLE"===l.nodeName||l.hasAttribute("aria-live")||(this._ariaHiddenElements.set(l,l.getAttribute("aria-hidden")),l.setAttribute("aria-hidden","true"))}},e.prototype._closeDialogs=function(e){for(var t=e.length;t--;)e[t].close()},e}(),bd=function(){function e(e,t,n){this.dialogRef=e,this._elementRef=t,this._dialog=n}return e.prototype.ngOnInit=function(){this.dialogRef||(this.dialogRef=function(e,t){for(var n=e.nativeElement.parentElement;n&&!n.classList.contains("mat-dialog-container");)n=n.parentElement;return n?t.find(function(e){return e.id===n.id}):null}(this._elementRef,this._dialog.openDialogs))},e.prototype.ngOnChanges=function(e){var t=e._matDialogClose||e._matDialogCloseResult;t&&(this.dialogResult=t.currentValue)},e}(),Cd=function(){return function(){}}(),Sd=null;function _d(){return Sd}var wd,Fd={class:"className",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"},xd={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ed={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"};Ce.Node&&(wd=Ce.Node.prototype.contains||function(e){return!!(16&this.compareDocumentPosition(e))});var kd,Ad=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(l.__extends)(t,e),t.prototype.parse=function(e){throw new Error("parse not implemented")},t.makeCurrent=function(){var e;e=new t,Sd||(Sd=e)},t.prototype.hasProperty=function(e,t){return t in e},t.prototype.setProperty=function(e,t,n){e[t]=n},t.prototype.getProperty=function(e,t){return e[t]},t.prototype.invoke=function(e,t,n){var i;(i=e)[t].apply(i,Object(l.__spread)(n))},t.prototype.logError=function(e){window.console&&(console.error?console.error(e):console.log(e))},t.prototype.log=function(e){window.console&&window.console.log&&window.console.log(e)},t.prototype.logGroup=function(e){window.console&&window.console.group&&window.console.group(e)},t.prototype.logGroupEnd=function(){window.console&&window.console.groupEnd&&window.console.groupEnd()},Object.defineProperty(t.prototype,"attrToPropMap",{get:function(){return Fd},enumerable:!0,configurable:!0}),t.prototype.contains=function(e,t){return wd.call(e,t)},t.prototype.querySelector=function(e,t){return e.querySelector(t)},t.prototype.querySelectorAll=function(e,t){return e.querySelectorAll(t)},t.prototype.on=function(e,t,n){e.addEventListener(t,n,!1)},t.prototype.onAndCancel=function(e,t,n){return e.addEventListener(t,n,!1),function(){e.removeEventListener(t,n,!1)}},t.prototype.dispatchEvent=function(e,t){e.dispatchEvent(t)},t.prototype.createMouseEvent=function(e){var t=this.getDefaultDocument().createEvent("MouseEvent");return t.initEvent(e,!0,!0),t},t.prototype.createEvent=function(e){var t=this.getDefaultDocument().createEvent("Event");return t.initEvent(e,!0,!0),t},t.prototype.preventDefault=function(e){e.preventDefault(),e.returnValue=!1},t.prototype.isPrevented=function(e){return e.defaultPrevented||null!=e.returnValue&&!e.returnValue},t.prototype.getInnerHTML=function(e){return e.innerHTML},t.prototype.getTemplateContent=function(e){return"content"in e&&this.isTemplateElement(e)?e.content:null},t.prototype.getOuterHTML=function(e){return e.outerHTML},t.prototype.nodeName=function(e){return e.nodeName},t.prototype.nodeValue=function(e){return e.nodeValue},t.prototype.type=function(e){return e.type},t.prototype.content=function(e){return this.hasProperty(e,"content")?e.content:e},t.prototype.firstChild=function(e){return e.firstChild},t.prototype.nextSibling=function(e){return e.nextSibling},t.prototype.parentElement=function(e){return e.parentNode},t.prototype.childNodes=function(e){return e.childNodes},t.prototype.childNodesAsList=function(e){for(var t=e.childNodes,n=new Array(t.length),l=0;l<t.length;l++)n[l]=t[l];return n},t.prototype.clearNodes=function(e){for(;e.firstChild;)e.removeChild(e.firstChild)},t.prototype.appendChild=function(e,t){e.appendChild(t)},t.prototype.removeChild=function(e,t){e.removeChild(t)},t.prototype.replaceChild=function(e,t,n){e.replaceChild(t,n)},t.prototype.remove=function(e){return e.parentNode&&e.parentNode.removeChild(e),e},t.prototype.insertBefore=function(e,t,n){e.insertBefore(n,t)},t.prototype.insertAllBefore=function(e,t,n){n.forEach(function(n){return e.insertBefore(n,t)})},t.prototype.insertAfter=function(e,t,n){e.insertBefore(n,t.nextSibling)},t.prototype.setInnerHTML=function(e,t){e.innerHTML=t},t.prototype.getText=function(e){return e.textContent},t.prototype.setText=function(e,t){e.textContent=t},t.prototype.getValue=function(e){return e.value},t.prototype.setValue=function(e,t){e.value=t},t.prototype.getChecked=function(e){return e.checked},t.prototype.setChecked=function(e,t){e.checked=t},t.prototype.createComment=function(e){return this.getDefaultDocument().createComment(e)},t.prototype.createTemplate=function(e){var t=this.getDefaultDocument().createElement("template");return t.innerHTML=e,t},t.prototype.createElement=function(e,t){return(t=t||this.getDefaultDocument()).createElement(e)},t.prototype.createElementNS=function(e,t,n){return(n=n||this.getDefaultDocument()).createElementNS(e,t)},t.prototype.createTextNode=function(e,t){return(t=t||this.getDefaultDocument()).createTextNode(e)},t.prototype.createScriptTag=function(e,t,n){var l=(n=n||this.getDefaultDocument()).createElement("SCRIPT");return l.setAttribute(e,t),l},t.prototype.createStyleElement=function(e,t){var n=(t=t||this.getDefaultDocument()).createElement("style");return this.appendChild(n,this.createTextNode(e,t)),n},t.prototype.createShadowRoot=function(e){return e.createShadowRoot()},t.prototype.getShadowRoot=function(e){return e.shadowRoot},t.prototype.getHost=function(e){return e.host},t.prototype.clone=function(e){return e.cloneNode(!0)},t.prototype.getElementsByClassName=function(e,t){return e.getElementsByClassName(t)},t.prototype.getElementsByTagName=function(e,t){return e.getElementsByTagName(t)},t.prototype.classList=function(e){return Array.prototype.slice.call(e.classList,0)},t.prototype.addClass=function(e,t){e.classList.add(t)},t.prototype.removeClass=function(e,t){e.classList.remove(t)},t.prototype.hasClass=function(e,t){return e.classList.contains(t)},t.prototype.setStyle=function(e,t,n){e.style[t]=n},t.prototype.removeStyle=function(e,t){e.style[t]=""},t.prototype.getStyle=function(e,t){return e.style[t]},t.prototype.hasStyle=function(e,t,n){var l=this.getStyle(e,t)||"";return n?l==n:l.length>0},t.prototype.tagName=function(e){return e.tagName},t.prototype.attributeMap=function(e){for(var t=new Map,n=e.attributes,l=0;l<n.length;l++){var i=n.item(l);t.set(i.name,i.value)}return t},t.prototype.hasAttribute=function(e,t){return e.hasAttribute(t)},t.prototype.hasAttributeNS=function(e,t,n){return e.hasAttributeNS(t,n)},t.prototype.getAttribute=function(e,t){return e.getAttribute(t)},t.prototype.getAttributeNS=function(e,t,n){return e.getAttributeNS(t,n)},t.prototype.setAttribute=function(e,t,n){e.setAttribute(t,n)},t.prototype.setAttributeNS=function(e,t,n,l){e.setAttributeNS(t,n,l)},t.prototype.removeAttribute=function(e,t){e.removeAttribute(t)},t.prototype.removeAttributeNS=function(e,t,n){e.removeAttributeNS(t,n)},t.prototype.templateAwareRoot=function(e){return this.isTemplateElement(e)?this.content(e):e},t.prototype.createHtmlDocument=function(){return document.implementation.createHTMLDocument("fakeTitle")},t.prototype.getDefaultDocument=function(){return document},t.prototype.getBoundingClientRect=function(e){try{return e.getBoundingClientRect()}catch(t){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}},t.prototype.getTitle=function(e){return e.title},t.prototype.setTitle=function(e,t){e.title=t||""},t.prototype.elementMatches=function(e,t){return!!this.isElementNode(e)&&(e.matches&&e.matches(t)||e.msMatchesSelector&&e.msMatchesSelector(t)||e.webkitMatchesSelector&&e.webkitMatchesSelector(t))},t.prototype.isTemplateElement=function(e){return this.isElementNode(e)&&"TEMPLATE"===e.nodeName},t.prototype.isTextNode=function(e){return e.nodeType===Node.TEXT_NODE},t.prototype.isCommentNode=function(e){return e.nodeType===Node.COMMENT_NODE},t.prototype.isElementNode=function(e){return e.nodeType===Node.ELEMENT_NODE},t.prototype.hasShadowRoot=function(e){return null!=e.shadowRoot&&e instanceof HTMLElement},t.prototype.isShadowRoot=function(e){return e instanceof DocumentFragment},t.prototype.importIntoDoc=function(e){return document.importNode(this.templateAwareRoot(e),!0)},t.prototype.adoptNode=function(e){return document.adoptNode(e)},t.prototype.getHref=function(e){return e.getAttribute("href")},t.prototype.getEventKey=function(e){var t=e.key;if(null==t){if(null==(t=e.keyIdentifier))return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===e.location&&Ed.hasOwnProperty(t)&&(t=Ed[t]))}return xd[t]||t},t.prototype.getGlobalEventTarget=function(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null},t.prototype.getHistory=function(){return window.history},t.prototype.getLocation=function(){return window.location},t.prototype.getBaseHref=function(e){var t,n=Td||(Td=document.querySelector("base"))?Td.getAttribute("href"):null;return null==n?null:(t=n,kd||(kd=document.createElement("a")),kd.setAttribute("href",t),"/"===kd.pathname.charAt(0)?kd.pathname:"/"+kd.pathname)},t.prototype.resetBaseElement=function(){Td=null},t.prototype.getUserAgent=function(){return window.navigator.userAgent},t.prototype.setData=function(e,t,n){this.setAttribute(e,"data-"+t,n)},t.prototype.getData=function(e,t){return this.getAttribute(e,"data-"+t)},t.prototype.getComputedStyle=function(e){return getComputedStyle(e)},t.prototype.supportsWebAnimation=function(){return"function"==typeof Element.prototype.animate},t.prototype.performanceNow=function(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()},t.prototype.supportsCookies=function(){return!0},t.prototype.getCookie=function(e){return function(e,t){var n,i;t=encodeURIComponent(t);try{for(var o=Object(l.__values)(e.split(";")),r=o.next();!r.done;r=o.next()){var u=r.value,s=u.indexOf("="),a=Object(l.__read)(-1==s?[u,""]:[u.slice(0,s),u.slice(s+1)],2),c=a[1];if(a[0].trim()===t)return decodeURIComponent(c)}}catch(p){n={error:p}}finally{try{r&&!r.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}return null}(document.cookie,e)},t.prototype.setCookie=function(e,t){document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)},t}(function(e){function t(){var t=e.call(this)||this;t._animationPrefix=null,t._transitionEnd=null;try{var n=t.createElement("div",document);if(null!=t.getStyle(n,"animationName"))t._animationPrefix="";else for(var l=["Webkit","Moz","O","ms"],i=0;i<l.length;i++)if(null!=t.getStyle(n,l[i]+"AnimationName")){t._animationPrefix="-"+l[i].toLowerCase()+"-";break}var o={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};Object.keys(o).forEach(function(e){null!=t.getStyle(n,e)&&(t._transitionEnd=o[e])})}catch(r){t._animationPrefix=null,t._transitionEnd=null}return t}return Object(l.__extends)(t,e),t.prototype.getDistributedNodes=function(e){return e.getDistributedNodes()},t.prototype.resolveAndSetHref=function(e,t,n){e.href=null==n?t:t+"/../"+n},t.prototype.supportsDOMEvents=function(){return!0},t.prototype.supportsNativeShadowDOM=function(){return"function"==typeof document.body.createShadowRoot},t.prototype.getAnimationPrefix=function(){return this._animationPrefix?this._animationPrefix:""},t.prototype.getTransitionEnd=function(){return this._transitionEnd?this._transitionEnd:""},t.prototype.supportsAnimation=function(){return null!=this._animationPrefix&&null!=this._transitionEnd},t}(function(){function e(){this.resourceLoaderType=null}return Object.defineProperty(e.prototype,"attrToPropMap",{get:function(){return this._attrToPropMap},set:function(e){this._attrToPropMap=e},enumerable:!0,configurable:!0}),e}())),Td=null,Id=hp;function Bd(){return!!window.history.pushState}var Od=function(e){function t(t){var n=e.call(this)||this;return n._doc=t,n._init(),n}return Object(l.__extends)(t,e),t.prototype._init=function(){this.location=_d().getLocation(),this._history=_d().getHistory()},t.prototype.getBaseHrefFromDOM=function(){return _d().getBaseHref(this._doc)},t.prototype.onPopState=function(e){_d().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",e,!1)},t.prototype.onHashChange=function(e){_d().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",e,!1)},Object.defineProperty(t.prototype,"pathname",{get:function(){return this.location.pathname},set:function(e){this.location.pathname=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"search",{get:function(){return this.location.search},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hash",{get:function(){return this.location.hash},enumerable:!0,configurable:!0}),t.prototype.pushState=function(e,t,n){Bd()?this._history.pushState(e,t,n):this.location.hash=n},t.prototype.replaceState=function(e,t,n){Bd()?this._history.replaceState(e,t,n):this.location.hash=n},t.prototype.forward=function(){this._history.forward()},t.prototype.back=function(){this._history.back()},Object(l.__decorate)([Object(l.__param)(0,bt(Id)),Object(l.__metadata)("design:paramtypes",[Object])],t)}(fc),Rd=new me("TRANSITION_ID"),Md=[{provide:Hi,useFactory:function(e,t,n){return function(){n.get(Ui).donePromise.then(function(){var n=_d();Array.prototype.slice.apply(n.querySelectorAll(t,"style[ng-transition]")).filter(function(t){return n.getAttribute(t,"ng-transition")===e}).forEach(function(e){return n.remove(e)})})}},deps:[Rd,Id,tl],multi:!0}],Pd=function(){function e(){}return e.init=function(){var t;t=new e,So=t},e.prototype.addToWindow=function(e){Ce.getAngularTestability=function(t,n){void 0===n&&(n=!0);var l=e.findTestabilityInTree(t,n);if(null==l)throw new Error("Could not find testability for element.");return l},Ce.getAllAngularTestabilities=function(){return e.getAllTestabilities()},Ce.getAllAngularRootElements=function(){return e.getAllRootElements()},Ce.frameworkStabilizers||(Ce.frameworkStabilizers=[]),Ce.frameworkStabilizers.push(function(e){var t=Ce.getAllAngularTestabilities(),n=t.length,l=!1,i=function(t){l=l||t,0==--n&&e(l)};t.forEach(function(e){e.whenStable(i)})})},e.prototype.findTestabilityInTree=function(e,t,n){if(null==t)return null;var l=e.getTestability(t);return null!=l?l:n?_d().isShadowRoot(t)?this.findTestabilityInTree(e,_d().getHost(t),!0):this.findTestabilityInTree(e,_d().parentElement(t),!0):null},e}();function Nd(e,t){"undefined"!=typeof COMPILED&&COMPILED||((Ce.ng=Ce.ng||{})[e]=t)}var jd={ApplicationRef:Ao,NgZone:po};function Ld(e){return $o(e)}var Vd=new me("EventManagerPlugins"),$d=function(){function e(e,t){var n=this;this._zone=t,this._eventNameToPlugin=new Map,e.forEach(function(e){return e.manager=n}),this._plugins=e.slice().reverse()}return e.prototype.addEventListener=function(e,t,n){return this._findPluginFor(t).addEventListener(e,t,n)},e.prototype.addGlobalEventListener=function(e,t,n){return this._findPluginFor(t).addGlobalEventListener(e,t,n)},e.prototype.getZone=function(){return this._zone},e.prototype._findPluginFor=function(e){var t=this._eventNameToPlugin.get(e);if(t)return t;for(var n=this._plugins,l=0;l<n.length;l++){var i=n[l];if(i.supports(e))return this._eventNameToPlugin.set(e,i),i}throw new Error("No event manager plugin found for event "+e)},e}(),Hd=function(){function e(e){this._doc=e}return e.prototype.addGlobalEventListener=function(e,t,n){var l=_d().getGlobalEventTarget(this._doc,e);if(!l)throw new Error("Unsupported event target "+l+" for event "+t);return this.addEventListener(l,t,n)},e}(),Ud=function(){function e(){this._stylesSet=new Set}return e.prototype.addStyles=function(e){var t=this,n=new Set;e.forEach(function(e){t._stylesSet.has(e)||(t._stylesSet.add(e),n.add(e))}),this.onStylesAdded(n)},e.prototype.onStylesAdded=function(e){},e.prototype.getAllStyles=function(){return Array.from(this._stylesSet)},e}(),zd=function(e){function t(t){var n=e.call(this)||this;return n._doc=t,n._hostNodes=new Set,n._styleNodes=new Set,n._hostNodes.add(t.head),n}return Object(l.__extends)(t,e),t.prototype._addStylesToHost=function(e,t){var n=this;e.forEach(function(e){var l=n._doc.createElement("style");l.textContent=e,n._styleNodes.add(t.appendChild(l))})},t.prototype.addHost=function(e){this._addStylesToHost(this._stylesSet,e),this._hostNodes.add(e)},t.prototype.removeHost=function(e){this._hostNodes.delete(e)},t.prototype.onStylesAdded=function(e){var t=this;this._hostNodes.forEach(function(n){return t._addStylesToHost(e,n)})},t.prototype.ngOnDestroy=function(){this._styleNodes.forEach(function(e){return _d().remove(e)})},t}(Ud),qd={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Gd=/%COMP%/g,Wd="_nghost-%COMP%",Jd="_ngcontent-%COMP%";function Qd(e,t,n){for(var l=0;l<t.length;l++){var i=t[l];Array.isArray(i)?Qd(e,i,n):(i=i.replace(Gd,e),n.push(i))}return n}function Kd(e){return function(t){!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}var Zd=function(){function e(e,t,n){this.eventManager=e,this.sharedStylesHost=t,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new Xd(e)}return e.prototype.createRenderer=function(e,t){if(!e||!t)return this.defaultRenderer;switch(t.encapsulation){case Ie.Emulated:var n=this.rendererByCompId.get(t.id);return n||(n=new nh(this.eventManager,this.sharedStylesHost,t,this.appId),this.rendererByCompId.set(t.id,n)),n.applyToHost(e),n;case Ie.Native:case Ie.ShadowDom:return new lh(this.eventManager,this.sharedStylesHost,e,t);default:if(!this.rendererByCompId.has(t.id)){var l=Qd(t.id,t.styles,[]);this.sharedStylesHost.addStyles(l),this.rendererByCompId.set(t.id,this.defaultRenderer)}return this.defaultRenderer}},e.prototype.begin=function(){},e.prototype.end=function(){},e}(),Xd=function(){function e(e){this.eventManager=e,this.data=Object.create(null)}return e.prototype.destroy=function(){},e.prototype.createElement=function(e,t){return t?document.createElementNS(qd[t],e):document.createElement(e)},e.prototype.createComment=function(e){return document.createComment(e)},e.prototype.createText=function(e){return document.createTextNode(e)},e.prototype.appendChild=function(e,t){e.appendChild(t)},e.prototype.insertBefore=function(e,t,n){e&&e.insertBefore(t,n)},e.prototype.removeChild=function(e,t){e&&e.removeChild(t)},e.prototype.selectRootElement=function(e,t){var n="string"==typeof e?document.querySelector(e):e;if(!n)throw new Error('The selector "'+e+'" did not match any elements');return t||(n.textContent=""),n},e.prototype.parentNode=function(e){return e.parentNode},e.prototype.nextSibling=function(e){return e.nextSibling},e.prototype.setAttribute=function(e,t,n,l){if(l){t=l+":"+t;var i=qd[l];i?e.setAttributeNS(i,t,n):e.setAttribute(t,n)}else e.setAttribute(t,n)},e.prototype.removeAttribute=function(e,t,n){if(n){var l=qd[n];l?e.removeAttributeNS(l,t):e.removeAttribute(n+":"+t)}else e.removeAttribute(t)},e.prototype.addClass=function(e,t){e.classList.add(t)},e.prototype.removeClass=function(e,t){e.classList.remove(t)},e.prototype.setStyle=function(e,t,n,l){l&Ul.DashCase?e.style.setProperty(t,n,l&Ul.Important?"important":""):e.style[t]=n},e.prototype.removeStyle=function(e,t,n){n&Ul.DashCase?e.style.removeProperty(t):e.style[t]=""},e.prototype.setProperty=function(e,t,n){eh(t,"property"),e[t]=n},e.prototype.setValue=function(e,t){e.nodeValue=t},e.prototype.listen=function(e,t,n){return eh(t,"listener"),"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Kd(n)):this.eventManager.addEventListener(e,t,Kd(n))},e}(),Yd="@".charCodeAt(0);function eh(e,t){if(e.charCodeAt(0)===Yd)throw new Error("Found the synthetic "+t+" "+e+'. Please include either "BrowserAnimationsModule" or "NoopAnimationsModule" in your application.')}var th,nh=function(e){function t(t,n,l,i){var o=e.call(this,t)||this;o.component=l;var r=Qd(i+"-"+l.id,l.styles,[]);return n.addStyles(r),o.contentAttr=Jd.replace(Gd,i+"-"+l.id),o.hostAttr=Wd.replace(Gd,i+"-"+l.id),o}return Object(l.__extends)(t,e),t.prototype.applyToHost=function(t){e.prototype.setAttribute.call(this,t,this.hostAttr,"")},t.prototype.createElement=function(t,n){var l=e.prototype.createElement.call(this,t,n);return e.prototype.setAttribute.call(this,l,this.contentAttr,""),l},t}(Xd),lh=function(e){function t(t,n,l,i){var o=e.call(this,t)||this;o.sharedStylesHost=n,o.hostEl=l,o.component=i,o.shadowRoot=i.encapsulation===Ie.ShadowDom?l.attachShadow({mode:"open"}):l.createShadowRoot(),o.sharedStylesHost.addHost(o.shadowRoot);for(var r=Qd(i.id,i.styles,[]),u=0;u<r.length;u++){var s=document.createElement("style");s.textContent=r[u],o.shadowRoot.appendChild(s)}return o}return Object(l.__extends)(t,e),t.prototype.nodeOrShadowRoot=function(e){return e===this.hostEl?this.shadowRoot:e},t.prototype.destroy=function(){this.sharedStylesHost.removeHost(this.shadowRoot)},t.prototype.appendChild=function(t,n){return e.prototype.appendChild.call(this,this.nodeOrShadowRoot(t),n)},t.prototype.insertBefore=function(t,n,l){return e.prototype.insertBefore.call(this,this.nodeOrShadowRoot(t),n,l)},t.prototype.removeChild=function(t,n){return e.prototype.removeChild.call(this,this.nodeOrShadowRoot(t),n)},t.prototype.parentNode=function(t){return this.nodeOrShadowRoot(e.prototype.parentNode.call(this,this.nodeOrShadowRoot(t)))},t}(Xd),ih="undefined"!=typeof Zone&&Zone.__symbol__||function(e){return"__zone_symbol__"+e},oh=ih("addEventListener"),rh=ih("removeEventListener"),uh={},sh="__zone_symbol__propagationStopped";"undefined"!=typeof Zone&&Zone[ih("BLACK_LISTED_EVENTS")]&&(th={});var ah=function(e){return!!th&&th.hasOwnProperty(e)},ch=function(e){var t=uh[e.type];if(t){var n=this[t];if(n){var l=[e];if(1===n.length)return(r=n[0]).zone!==Zone.current?r.zone.run(r.handler,this,l):r.handler.apply(this,l);for(var i=n.slice(),o=0;o<i.length&&!0!==e[sh];o++){var r;(r=i[o]).zone!==Zone.current?r.zone.run(r.handler,this,l):r.handler.apply(this,l)}}}},ph=function(e){function t(t,n,l){var i=e.call(this,t)||this;return i.ngZone=n,l&&function(e){return e===gp}(l)||i.patchEvent(),i}return Object(l.__extends)(t,e),t.prototype.patchEvent=function(){if("undefined"!=typeof Event&&Event&&Event.prototype&&!Event.prototype.__zone_symbol__stopImmediatePropagation){var e=Event.prototype.__zone_symbol__stopImmediatePropagation=Event.prototype.stopImmediatePropagation;Event.prototype.stopImmediatePropagation=function(){this&&(this[sh]=!0),e&&e.apply(this,arguments)}}},t.prototype.supports=function(e){return!0},t.prototype.addEventListener=function(e,t,n){var l=this,i=n;if(!e[oh]||po.isInAngularZone()&&!ah(t))e.addEventListener(t,i,!1);else{var o=uh[t];o||(o=uh[t]=ih("ANGULAR"+t+"FALSE"));var r=e[o],u=r&&r.length>0;r||(r=e[o]=[]);var s=ah(t)?Zone.root:Zone.current;if(0===r.length)r.push({zone:s,handler:i});else{for(var a=!1,c=0;c<r.length;c++)if(r[c].handler===i){a=!0;break}a||r.push({zone:s,handler:i})}u||e[oh](t,ch,!1)}return function(){return l.removeEventListener(e,t,i)}},t.prototype.removeEventListener=function(e,t,n){var l=e[rh];if(!l)return e.removeEventListener.apply(e,[t,n,!1]);var i=uh[t],o=i&&e[i];if(!o)return e.removeEventListener.apply(e,[t,n,!1]);for(var r=!1,u=0;u<o.length;u++)if(o[u].handler===n){r=!0,o.splice(u,1);break}r?0===o.length&&l.apply(e,[t,ch,!1]):e.removeEventListener.apply(e,[t,n,!1])},t}(Hd),dh={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0},hh=new me("HammerGestureConfig"),fh=new me("HammerLoader"),gh=function(){function e(){this.events=[],this.overrides={}}return e.prototype.buildHammer=function(e){var t=new Hammer(e,this.options);for(var n in t.get("pinch").set({enable:!0}),t.get("rotate").set({enable:!0}),this.overrides)t.get(n).set(this.overrides[n]);return t},e}(),mh=function(e){function t(t,n,l,i){var o=e.call(this,t)||this;return o._config=n,o.console=l,o.loader=i,o}return Object(l.__extends)(t,e),t.prototype.supports=function(e){return!(!dh.hasOwnProperty(e.toLowerCase())&&!this.isCustomEvent(e)||!window.Hammer&&!this.loader&&(this.console.warn('The "'+e+'" event cannot be bound because Hammer.JS is not loaded and no custom loader has been specified.'),1))},t.prototype.addEventListener=function(e,t,n){var l=this,i=this.manager.getZone();if(t=t.toLowerCase(),!window.Hammer&&this.loader){var o=!1,r=function(){o=!0};return this.loader().then(function(){if(!window.Hammer)return l.console.warn("The custom HAMMER_LOADER completed, but Hammer.JS is not present."),void(r=function(){});o||(r=l.addEventListener(e,t,n))}).catch(function(){l.console.warn('The "'+t+'" event cannot be bound because the custom Hammer.JS loader failed.'),r=function(){}}),function(){r()}}return i.runOutsideAngular(function(){var o=l._config.buildHammer(e),r=function(e){i.runGuarded(function(){n(e)})};return o.on(t,r),function(){o.off(t,r),"function"==typeof o.destroy&&o.destroy()}})},t.prototype.isCustomEvent=function(e){return this._config.events.indexOf(e)>-1},t}(Hd),vh=["alt","control","meta","shift"],Dh={alt:function(e){return e.altKey},control:function(e){return e.ctrlKey},meta:function(e){return e.metaKey},shift:function(e){return e.shiftKey}},yh=function(e){function t(t){return e.call(this,t)||this}var n;return Object(l.__extends)(t,e),n=t,t.prototype.supports=function(e){return null!=n.parseEventName(e)},t.prototype.addEventListener=function(e,t,l){var i=n.parseEventName(t),o=n.eventCallback(i.fullKey,l,this.manager.getZone());return this.manager.getZone().runOutsideAngular(function(){return _d().onAndCancel(e,i.domEventName,o)})},t.parseEventName=function(e){var t=e.toLowerCase().split("."),l=t.shift();if(0===t.length||"keydown"!==l&&"keyup"!==l)return null;var i=n._normalizeKey(t.pop()),o="";if(vh.forEach(function(e){var n=t.indexOf(e);n>-1&&(t.splice(n,1),o+=e+".")}),o+=i,0!=t.length||0===i.length)return null;var r={};return r.domEventName=l,r.fullKey=o,r},t.getEventFullKey=function(e){var t="",n=_d().getEventKey(e);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),vh.forEach(function(l){l!=n&&(0,Dh[l])(e)&&(t+=l+".")}),t+=n},t.eventCallback=function(e,t,l){return function(i){n.getEventFullKey(i)===e&&l.runGuarded(function(){return t(i)})}},t._normalizeKey=function(e){switch(e){case"esc":return"escape";default:return e}},t}(Hd),bh=function(){return function(){}}(),Ch=function(e){function t(t){var n=e.call(this)||this;return n._doc=t,n}return Object(l.__extends)(t,e),t.prototype.sanitize=function(e,t){if(null==t)return null;switch(e){case Gl.NONE:return t;case Gl.HTML:return t instanceof _h?t.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(t,"HTML"),function(e,t){var n=null;try{pi=pi||new oi(e);var l=t?String(t):"";n=pi.getInertBodyElement(l);var i=5,o=l;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,l=o,o=n.innerHTML,n=pi.getInertBodyElement(l)}while(l!==o);var r=new Ci,u=r.sanitizeChildren(Fi(n)||n);return ii()&&r.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),u}finally{if(n)for(var s=Fi(n)||n;s.firstChild;)s.removeChild(s.firstChild)}}(this._doc,String(t)));case Gl.STYLE:return t instanceof wh?t.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(t,"Style"),function(e){if(!(e=String(e).trim()))return"";var t=e.match(Bi);return t&&si(t[1])===t[1]||e.match(Ii)&&function(e){for(var t=!0,n=!0,l=0;l<e.length;l++){var i=e.charAt(l);"'"===i&&n?t=!t:'"'===i&&t&&(n=!n)}return t&&n}(e)?e:(ii()&&console.warn("WARNING: sanitizing unsafe style value "+e+" (see http://g.co/ng/security#xss)."),"unsafe")}(t));case Gl.SCRIPT:if(t instanceof Fh)return t.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(t,"Script"),new Error("unsafe value used in a script context");case Gl.URL:return t instanceof Eh||t instanceof xh?t.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(t,"URL"),si(String(t)));case Gl.RESOURCE_URL:if(t instanceof Eh)return t.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(t,"ResourceURL"),new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error("Unexpected SecurityContext "+e+" (see http://g.co/ng/security#xss)")}},t.prototype.checkNotSafeValue=function(e,t){if(e instanceof Sh)throw new Error("Required a safe "+t+", got a "+e.getTypeName()+" (see http://g.co/ng/security#xss)")},t.prototype.bypassSecurityTrustHtml=function(e){return new _h(e)},t.prototype.bypassSecurityTrustStyle=function(e){return new wh(e)},t.prototype.bypassSecurityTrustScript=function(e){return new Fh(e)},t.prototype.bypassSecurityTrustUrl=function(e){return new xh(e)},t.prototype.bypassSecurityTrustResourceUrl=function(e){return new Eh(e)},t}(bh),Sh=function(){function e(e){this.changingThisBreaksApplicationSecurity=e}return e.prototype.toString=function(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"},e}(),_h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(l.__extends)(t,e),t.prototype.getTypeName=function(){return"HTML"},t}(Sh),wh=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(l.__extends)(t,e),t.prototype.getTypeName=function(){return"Style"},t}(Sh),Fh=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(l.__extends)(t,e),t.prototype.getTypeName=function(){return"Script"},t}(Sh),xh=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(l.__extends)(t,e),t.prototype.getTypeName=function(){return"URL"},t}(Sh),Eh=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(l.__extends)(t,e),t.prototype.getTypeName=function(){return"ResourceURL"},t}(Sh),kh=Fo(ir,"browser",[{provide:Ji,useValue:fp},{provide:Wi,useValue:function(){Ad.makeCurrent(),Pd.init()},multi:!0},{provide:fc,useClass:Od,deps:[Id]},{provide:Id,useFactory:function(){return document},deps:[]}]);function Ah(){return new Li}var Th=function(){function e(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}var t;return t=e,e.withServerTransition=function(e){return{ngModule:t,providers:[{provide:zi,useValue:e.appId},{provide:Rd,useExisting:zi},Md]}},e}();"undefined"!=typeof window&&window;var Ih=function(){function e(e){this._platform=e}return e.prototype.isDisabled=function(e){return e.hasAttribute("disabled")},e.prototype.isVisible=function(e){return function(e){return!!(e.offsetWidth||e.offsetHeight||"function"==typeof e.getClientRects&&e.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility},e.prototype.isTabbable=function(e){if(!this._platform.isBrowser)return!1;var t,n=function(e){try{return e.frameElement}catch(t){return null}}((t=e).ownerDocument&&t.ownerDocument.defaultView||window);if(n){var l=n&&n.nodeName.toLowerCase();if(-1===Oh(n))return!1;if((this._platform.BLINK||this._platform.WEBKIT)&&"object"===l)return!1;if((this._platform.BLINK||this._platform.WEBKIT)&&!this.isVisible(n))return!1}var i=e.nodeName.toLowerCase(),o=Oh(e);if(e.hasAttribute("contenteditable"))return-1!==o;if("iframe"===i)return!1;if("audio"===i){if(!e.hasAttribute("controls"))return!1;if(this._platform.BLINK)return!0}if("video"===i){if(!e.hasAttribute("controls")&&this._platform.TRIDENT)return!1;if(this._platform.BLINK||this._platform.FIREFOX)return!0}return("object"!==i||!this._platform.BLINK&&!this._platform.WEBKIT)&&!(this._platform.WEBKIT&&this._platform.IOS&&!function(e){var t=e.nodeName.toLowerCase(),n="input"===t&&e.type;return"text"===n||"password"===n||"select"===t||"textarea"===t}(e))&&e.tabIndex>=0},e.prototype.isFocusable=function(e){return function(e){return!function(e){return function(e){return"input"==e.nodeName.toLowerCase()}(e)&&"hidden"==e.type}(e)&&(function(e){var t=e.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(e)||function(e){return function(e){return"a"==e.nodeName.toLowerCase()}(e)&&e.hasAttribute("href")}(e)||e.hasAttribute("contenteditable")||Bh(e))}(e)&&!this.isDisabled(e)&&this.isVisible(e)},e.ngInjectableDef=he({factory:function(){return new e(kt(Op))},token:e,providedIn:"root"}),e}();function Bh(e){if(!e.hasAttribute("tabindex")||void 0===e.tabIndex)return!1;var t=e.getAttribute("tabindex");return"-32768"!=t&&!(!t||isNaN(parseInt(t,10)))}function Oh(e){if(!Bh(e))return null;var t=parseInt(e.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}var Rh=function(){function e(e,t,n,l,i){void 0===i&&(i=!1);var o=this;this._element=e,this._checker=t,this._ngZone=n,this._document=l,this._hasAttached=!1,this._startAnchorListener=function(){return o.focusLastTabbableElement()},this._endAnchorListener=function(){return o.focusFirstTabbableElement()},this._enabled=!0,i||this.attachAnchors()}return Object.defineProperty(e.prototype,"enabled",{get:function(){return this._enabled},set:function(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){var e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this._startAnchorListener),e.parentNode&&e.parentNode.removeChild(e)),t&&(t.removeEventListener("focus",this._endAnchorListener),t.parentNode&&t.parentNode.removeChild(t)),this._startAnchor=this._endAnchor=null},e.prototype.attachAnchors=function(){var e=this;return!!this._hasAttached||(this._ngZone.runOutsideAngular(function(){e._startAnchor||(e._startAnchor=e._createAnchor(),e._startAnchor.addEventListener("focus",e._startAnchorListener)),e._endAnchor||(e._endAnchor=e._createAnchor(),e._endAnchor.addEventListener("focus",e._endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)},e.prototype.focusInitialElementWhenReady=function(){var e=this;return new Promise(function(t){e._executeOnStable(function(){return t(e.focusInitialElement())})})},e.prototype.focusFirstTabbableElementWhenReady=function(){var e=this;return new Promise(function(t){e._executeOnStable(function(){return t(e.focusFirstTabbableElement())})})},e.prototype.focusLastTabbableElementWhenReady=function(){var e=this;return new Promise(function(t){e._executeOnStable(function(){return t(e.focusLastTabbableElement())})})},e.prototype._getRegionBoundary=function(e){for(var t=this._element.querySelectorAll("[cdk-focus-region-"+e+"], [cdkFocusRegion"+e+"], [cdk-focus-"+e+"]"),n=0;n<t.length;n++)t[n].hasAttribute("cdk-focus-"+e)?console.warn("Found use of deprecated attribute 'cdk-focus-"+e+"', use 'cdkFocusRegion"+e+"' instead. The deprecated attribute will be removed in 8.0.0.",t[n]):t[n].hasAttribute("cdk-focus-region-"+e)&&console.warn("Found use of deprecated attribute 'cdk-focus-region-"+e+"', use 'cdkFocusRegion"+e+"' instead. The deprecated attribute will be removed in 8.0.0.",t[n]);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)},e.prototype.focusInitialElement=function(){var e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");return e?(e.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",e),ii()&&!this._checker.isFocusable(e)&&console.warn("Element matching '[cdkFocusInitial]' is not focusable.",e),e.focus(),!0):this.focusFirstTabbableElement()},e.prototype.focusFirstTabbableElement=function(){var e=this._getRegionBoundary("start");return e&&e.focus(),!!e},e.prototype.focusLastTabbableElement=function(){var e=this._getRegionBoundary("end");return e&&e.focus(),!!e},e.prototype.hasAttached=function(){return this._hasAttached},e.prototype._getFirstTabbableElement=function(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;for(var t=e.children||e.childNodes,n=0;n<t.length;n++){var l=t[n].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[n]):null;if(l)return l}return null},e.prototype._getLastTabbableElement=function(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;for(var t=e.children||e.childNodes,n=t.length-1;n>=0;n--){var l=t[n].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[n]):null;if(l)return l}return null},e.prototype._createAnchor=function(){var e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e},e.prototype._toggleAnchorTabIndex=function(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")},e.prototype._executeOnStable=function(e){this._ngZone.isStable?e():this._ngZone.onStable.asObservable().pipe(pc(1)).subscribe(e)},e}(),Mh=function(){function e(e,t,n){this._checker=e,this._ngZone=t,this._document=n}return e.prototype.create=function(e,t){return void 0===t&&(t=!1),new Rh(e,this._checker,this._ngZone,this._document,t)},e.ngInjectableDef=he({factory:function(){return new e(kt(Ih),kt(po),kt(hp))},token:e,providedIn:"root"}),e}(),Ph=new me("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}}),Nh=function(){function e(e,t){this._sanityChecksEnabled=e,this._hammerLoader=t,this._hasDoneGlobalChecks=!1,this._hasCheckedHammer=!1,this._document="object"==typeof document&&document?document:null,this._window="object"==typeof window&&window?window:null,this._areChecksEnabled()&&!this._hasDoneGlobalChecks&&(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._hasDoneGlobalChecks=!0)}return e.prototype._areChecksEnabled=function(){return this._sanityChecksEnabled&&ii()&&!this._isTestEnv()},e.prototype._isTestEnv=function(){var e=this._window;return e&&(e.__karma__||e.jasmine)},e.prototype._checkDoctypeIsDefined=function(){this._document&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")},e.prototype._checkThemeIsPresent=function(){if(this._document&&this._document.body&&"function"==typeof getComputedStyle){var e=this._document.createElement("div");e.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(e);var t=getComputedStyle(e);t&&"none"!==t.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(e)}},e.prototype._checkHammerIsAvailable=function(){!this._hasCheckedHammer&&this._window&&(!this._areChecksEnabled()||this._window.Hammer||this._hammerLoader||console.warn("Could not find HammerJS. Certain Angular Material components may not work correctly."),this._hasCheckedHammer=!0)},e}(),jh=Er({encapsulation:2,styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}@media (-ms-high-contrast:active){.mat-dialog-container{outline:solid 1px}}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button+.mat-button,.mat-dialog-actions .mat-button+.mat-raised-button,.mat-dialog-actions .mat-raised-button+.mat-button,.mat-dialog-actions .mat-raised-button+.mat-raised-button{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button+.mat-button,[dir=rtl] .mat-dialog-actions .mat-button+.mat-raised-button,[dir=rtl] .mat-dialog-actions .mat-raised-button+.mat-button,[dir=rtl] .mat-dialog-actions .mat-raised-button+.mat-raised-button{margin-left:0;margin-right:8px}"],data:{animation:[{type:7,name:"dialogContainer",definitions:[{type:0,name:"void, exit",styles:{type:6,styles:{opacity:0,transform:"scale(0.7)"},offset:null},options:void 0},{type:0,name:"enter",styles:{type:6,styles:{transform:"none"},offset:null},options:void 0},{type:1,expr:"* => enter",animation:{type:4,styles:{type:6,styles:{transform:"none",opacity:1},offset:null},timings:"150ms cubic-bezier(0, 0, 0.2, 1)"},options:null},{type:1,expr:"* => void, * => exit",animation:{type:4,styles:{type:6,styles:{opacity:0},offset:null},timings:"75ms cubic-bezier(0.4, 0.0, 0.2, 1)"},options:null}],options:{}}]}});function Lh(e){return Ss(0,[(e()(),lu(0,null,null,0))],null,null)}function Vh(e){return Ss(0,[as(402653184,1,{_portalOutlet:0}),(e()(),lu(16777216,null,null,1,null,Lh)),Gu(2,212992,[[1,4]],0,Xa,[Ol,Oo],{portal:[0,"portal"]},null)],function(e,t){e(t,2,0,"")},null)}function $h(e){return Ss(0,[(e()(),iu(0,0,null,null,1,"mat-dialog-container",[["aria-modal","true"],["class","mat-dialog-container"],["tabindex","-1"]],[[1,"id",0],[1,"role",0],[1,"aria-labelledby",0],[1,"aria-label",0],[1,"aria-describedby",0],[40,"@dialogContainer",0]],[["component","@dialogContainer.start"],["component","@dialogContainer.done"]],function(e,t,n){var l=!0;return"component:@dialogContainer.start"===t&&(l=!1!==Ou(e,1)._onAnimationStart(n)&&l),"component:@dialogContainer.done"===t&&(l=!1!==Ou(e,1)._onAnimationDone(n)&&l),l},Vh,jh)),Gu(1,49152,null,0,dd,[Ll,Mh,Mo,[2,hp],cd],null,null)],null,function(e,t){e(t,0,0,Ou(t,1)._id,Ou(t,1)._config.role,Ou(t,1)._config.ariaLabel?null:Ou(t,1)._ariaLabelledBy,Ou(t,1)._config.ariaLabel,Ou(t,1)._config.ariaDescribedBy||null,Ou(t,1)._state)})}var Hh=Su("mat-dialog-container",dd,$h,{},{},[]),Uh=function(e){function t(t,n){var l=e.call(this,t)||this;l.sources=n,l.completed=0,l.haveValues=0;var i=n.length;l.values=new Array(i);for(var o=0;o<i;o++){var r=H(l,n[o],null,o);r&&l.add(r)}return l}return l.__extends(t,e),t.prototype.notifyNext=function(e,t,n,l,i){this.values[n]=t,i._hasValue||(i._hasValue=!0,this.haveValues++)},t.prototype.notifyComplete=function(e){var t=this.destination,n=this.haveValues,l=this.values,i=l.length;e._hasValue?(this.completed++,this.completed===i&&(n===i&&t.next(l),t.complete())):t.complete()},t}(U),zh=function(){function e(){}return Object.defineProperty(e.prototype,"value",{get:function(){return this.control?this.control.value:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"valid",{get:function(){return this.control?this.control.valid:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"invalid",{get:function(){return this.control?this.control.invalid:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pending",{get:function(){return this.control?this.control.pending:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"disabled",{get:function(){return this.control?this.control.disabled:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"enabled",{get:function(){return this.control?this.control.enabled:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"errors",{get:function(){return this.control?this.control.errors:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pristine",{get:function(){return this.control?this.control.pristine:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dirty",{get:function(){return this.control?this.control.dirty:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"touched",{get:function(){return this.control?this.control.touched:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"status",{get:function(){return this.control?this.control.status:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"untouched",{get:function(){return this.control?this.control.untouched:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"statusChanges",{get:function(){return this.control?this.control.statusChanges:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"valueChanges",{get:function(){return this.control?this.control.valueChanges:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return null},enumerable:!0,configurable:!0}),e.prototype.reset=function(e){void 0===e&&(e=void 0),this.control&&this.control.reset(e)},e.prototype.hasError=function(e,t){return!!this.control&&this.control.hasError(e,t)},e.prototype.getError=function(e,t){return this.control?this.control.getError(e,t):null},e}(),qh=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(l.__extends)(t,e),Object.defineProperty(t.prototype,"formDirective",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return null},enumerable:!0,configurable:!0}),t}(zh);function Gh(e){return null==e||0===e.length}var Wh=new me("NgValidators"),Jh=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/,Qh=function(){function e(){}return e.min=function(e){return function(t){if(Gh(t.value)||Gh(e))return null;var n=parseFloat(t.value);return!isNaN(n)&&n<e?{min:{min:e,actual:t.value}}:null}},e.max=function(e){return function(t){if(Gh(t.value)||Gh(e))return null;var n=parseFloat(t.value);return!isNaN(n)&&n>e?{max:{max:e,actual:t.value}}:null}},e.required=function(e){return Gh(e.value)?{required:!0}:null},e.requiredTrue=function(e){return!0===e.value?null:{required:!0}},e.email=function(e){return Gh(e.value)?null:Jh.test(e.value)?null:{email:!0}},e.minLength=function(e){return function(t){if(Gh(t.value))return null;var n=t.value?t.value.length:0;return n<e?{minlength:{requiredLength:e,actualLength:n}}:null}},e.maxLength=function(e){return function(t){var n=t.value?t.value.length:0;return n>e?{maxlength:{requiredLength:e,actualLength:n}}:null}},e.pattern=function(t){return t?("string"==typeof t?(l="","^"!==t.charAt(0)&&(l+="^"),l+=t,"$"!==t.charAt(t.length-1)&&(l+="$"),n=new RegExp(l)):(l=t.toString(),n=t),function(e){if(Gh(e.value))return null;var t=e.value;return n.test(t)?null:{pattern:{requiredPattern:l,actualValue:t}}}):e.nullValidator;var n,l},e.nullValidator=function(e){return null},e.compose=function(e){if(!e)return null;var t=e.filter(Kh);return 0==t.length?null:function(e){return Xh(function(e,n){return t.map(function(t){return t(e)})}(e))}},e.composeAsync=function(e){if(!e)return null;var t=e.filter(Kh);return 0==t.length?null:function(e){return function e(){for(var t,n=[],l=0;l<arguments.length;l++)n[l]=arguments[l];return"function"==typeof n[n.length-1]&&(t=n.pop()),1===n.length&&i(n[0])&&(n=n[0]),0===n.length?nc:t?e(n).pipe(z(function(e){return t.apply(void 0,e)})):new _(function(e){return new Uh(e,n)})}(function(e,n){return t.map(function(t){return t(e)})}(e).map(Zh)).pipe(z(Xh))}},e}();function Kh(e){return null!=e}function Zh(e){var t=Vi(e)?J(e):e;if(!$i(t))throw new Error("Expected validator to return Promise or Observable.");return t}function Xh(e){var t=e.reduce(function(e,t){return null!=t?Object(l.__assign)({},e,t):e},{});return 0===Object.keys(t).length?null:t}var Yh=new me("NgValueAccessor"),ef=function(){function e(e,t){this._renderer=e,this._elementRef=t,this.onChange=function(e){},this.onTouched=function(){}}return e.prototype.writeValue=function(e){this._renderer.setProperty(this._elementRef.nativeElement,"checked",e)},e.prototype.registerOnChange=function(e){this.onChange=e},e.prototype.registerOnTouched=function(e){this.onTouched=e},e.prototype.setDisabledState=function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)},e}(),tf=new me("CompositionEventMode"),nf=function(){function e(e,t,n){var l;this._renderer=e,this._elementRef=t,this._compositionMode=n,this.onChange=function(e){},this.onTouched=function(){},this._composing=!1,null==this._compositionMode&&(this._compositionMode=(l=_d()?_d().getUserAgent():"",!/android (\d+)/.test(l.toLowerCase())))}return e.prototype.writeValue=function(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==e?"":e)},e.prototype.registerOnChange=function(e){this.onChange=e},e.prototype.registerOnTouched=function(e){this.onTouched=e},e.prototype.setDisabledState=function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)},e.prototype._handleInput=function(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)},e.prototype._compositionStart=function(){this._composing=!0},e.prototype._compositionEnd=function(e){this._composing=!1,this._compositionMode&&this.onChange(e)},e}();function lf(e){return e.validate?function(t){return e.validate(t)}:e}function of(e){return e.validate?function(t){return e.validate(t)}:e}var rf=function(){function e(e,t){this._renderer=e,this._elementRef=t,this.onChange=function(e){},this.onTouched=function(){}}return e.prototype.writeValue=function(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==e?"":e)},e.prototype.registerOnChange=function(e){this.onChange=function(t){e(""==t?null:parseFloat(t))}},e.prototype.registerOnTouched=function(e){this.onTouched=e},e.prototype.setDisabledState=function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)},e}();function uf(){throw new Error("unimplemented")}var sf=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._parent=null,t.name=null,t.valueAccessor=null,t._rawValidators=[],t._rawAsyncValidators=[],t}return Object(l.__extends)(t,e),Object.defineProperty(t.prototype,"validator",{get:function(){return uf()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"asyncValidator",{get:function(){return uf()},enumerable:!0,configurable:!0}),t}(zh),af=function(){function e(){this._accessors=[]}return e.prototype.add=function(e,t){this._accessors.push([e,t])},e.prototype.remove=function(e){for(var t=this._accessors.length-1;t>=0;--t)if(this._accessors[t][1]===e)return void this._accessors.splice(t,1)},e.prototype.select=function(e){var t=this;this._accessors.forEach(function(n){t._isSameGroup(n,e)&&n[1]!==e&&n[1].fireUncheck(e.value)})},e.prototype._isSameGroup=function(e,t){return!!e[0].control&&e[0]._parent===t._control._parent&&e[1].name===t.name},e}(),cf=function(){function e(e,t,n,l){this._renderer=e,this._elementRef=t,this._registry=n,this._injector=l,this.onChange=function(){},this.onTouched=function(){}}return e.prototype.ngOnInit=function(){this._control=this._injector.get(sf),this._checkName(),this._registry.add(this._control,this)},e.prototype.ngOnDestroy=function(){this._registry.remove(this)},e.prototype.writeValue=function(e){this._state=e===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)},e.prototype.registerOnChange=function(e){var t=this;this._fn=e,this.onChange=function(){e(t.value),t._registry.select(t)}},e.prototype.fireUncheck=function(e){this.writeValue(e)},e.prototype.registerOnTouched=function(e){this.onTouched=e},e.prototype.setDisabledState=function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)},e.prototype._checkName=function(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)},e.prototype._throwNameError=function(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')},e}(),pf=function(){function e(e,t){this._renderer=e,this._elementRef=t,this.onChange=function(e){},this.onTouched=function(){}}return e.prototype.writeValue=function(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(e))},e.prototype.registerOnChange=function(e){this.onChange=function(t){e(""==t?null:parseFloat(t))}},e.prototype.registerOnTouched=function(e){this.onTouched=e},e.prototype.setDisabledState=function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)},e}(),df='\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',hf='\n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>';function ff(e,t){return null==e?""+t:(t&&"object"==typeof t&&(t="Object"),(e+": "+t).slice(0,50))}var gf=function(){function e(e,t){this._renderer=e,this._elementRef=t,this._optionMap=new Map,this._idCounter=0,this.onChange=function(e){},this.onTouched=function(){},this._compareWith=xe}return Object.defineProperty(e.prototype,"compareWith",{set:function(e){if("function"!=typeof e)throw new Error("compareWith must be a function, but received "+JSON.stringify(e));this._compareWith=e},enumerable:!0,configurable:!0}),e.prototype.writeValue=function(e){this.value=e;var t=this._getOptionId(e);null==t&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);var n=ff(t,e);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)},e.prototype.registerOnChange=function(e){var t=this;this.onChange=function(n){t.value=t._getOptionValue(n),e(t.value)}},e.prototype.registerOnTouched=function(e){this.onTouched=e},e.prototype.setDisabledState=function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)},e.prototype._registerOption=function(){return(this._idCounter++).toString()},e.prototype._getOptionId=function(e){var t,n;try{for(var i=Object(l.__values)(Array.from(this._optionMap.keys())),o=i.next();!o.done;o=i.next()){var r=o.value;if(this._compareWith(this._optionMap.get(r),e))return r}}catch(u){t={error:u}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return null},e.prototype._getOptionValue=function(e){var t=function(e){return e.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t):e},e}(),mf=function(){function e(e,t,n){this._element=e,this._renderer=t,this._select=n,this._select&&(this.id=this._select._registerOption())}return Object.defineProperty(e.prototype,"ngValue",{set:function(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(ff(this.id,e)),this._select.writeValue(this._select.value))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{set:function(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)},enumerable:!0,configurable:!0}),e.prototype._setElementValue=function(e){this._renderer.setProperty(this._element.nativeElement,"value",e)},e.prototype.ngOnDestroy=function(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))},e}();function vf(e,t){return null==e?""+t:("string"==typeof t&&(t="'"+t+"'"),t&&"object"==typeof t&&(t="Object"),(e+": "+t).slice(0,50))}var Df=function(){function e(e,t){this._renderer=e,this._elementRef=t,this._optionMap=new Map,this._idCounter=0,this.onChange=function(e){},this.onTouched=function(){},this._compareWith=xe}return Object.defineProperty(e.prototype,"compareWith",{set:function(e){if("function"!=typeof e)throw new Error("compareWith must be a function, but received "+JSON.stringify(e));this._compareWith=e},enumerable:!0,configurable:!0}),e.prototype.writeValue=function(e){var t,n=this;if(this.value=e,Array.isArray(e)){var l=e.map(function(e){return n._getOptionId(e)});t=function(e,t){e._setSelected(l.indexOf(t.toString())>-1)}}else t=function(e,t){e._setSelected(!1)};this._optionMap.forEach(t)},e.prototype.registerOnChange=function(e){var t=this;this.onChange=function(n){var l=[];if(n.hasOwnProperty("selectedOptions"))for(var i=n.selectedOptions,o=0;o<i.length;o++){var r=i.item(o),u=t._getOptionValue(r.value);l.push(u)}else for(i=n.options,o=0;o<i.length;o++)(r=i.item(o)).selected&&(u=t._getOptionValue(r.value),l.push(u));t.value=l,e(l)}},e.prototype.registerOnTouched=function(e){this.onTouched=e},e.prototype.setDisabledState=function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)},e.prototype._registerOption=function(e){var t=(this._idCounter++).toString();return this._optionMap.set(t,e),t},e.prototype._getOptionId=function(e){var t,n;try{for(var i=Object(l.__values)(Array.from(this._optionMap.keys())),o=i.next();!o.done;o=i.next()){var r=o.value;if(this._compareWith(this._optionMap.get(r)._value,e))return r}}catch(u){t={error:u}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return null},e.prototype._getOptionValue=function(e){var t=function(e){return e.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t)._value:e},e}(),yf=function(){function e(e,t,n){this._element=e,this._renderer=t,this._select=n,this._select&&(this.id=this._select._registerOption(this))}return Object.defineProperty(e.prototype,"ngValue",{set:function(e){null!=this._select&&(this._value=e,this._setElementValue(vf(this.id,e)),this._select.writeValue(this._select.value))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{set:function(e){this._select?(this._value=e,this._setElementValue(vf(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)},enumerable:!0,configurable:!0}),e.prototype._setElementValue=function(e){this._renderer.setProperty(this._element.nativeElement,"value",e)},e.prototype._setSelected=function(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)},e.prototype.ngOnDestroy=function(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))},e}();function bf(e,t){return Object(l.__spread)(t.path,[e])}function Cf(e,t){e||_f(t,"Cannot find control with"),t.valueAccessor||_f(t,"No value accessor for form control with"),e.validator=Qh.compose([e.validator,t.validator]),e.asyncValidator=Qh.composeAsync([e.asyncValidator,t.asyncValidator]),t.valueAccessor.writeValue(e.value),function(e,t){t.valueAccessor.registerOnChange(function(n){e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&Sf(e,t)})}(e,t),function(e,t){e.registerOnChange(function(e,n){t.valueAccessor.writeValue(e),n&&t.viewToModelUpdate(e)})}(e,t),function(e,t){t.valueAccessor.registerOnTouched(function(){e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&Sf(e,t),"submit"!==e.updateOn&&e.markAsTouched()})}(e,t),t.valueAccessor.setDisabledState&&e.registerOnDisabledChange(function(e){t.valueAccessor.setDisabledState(e)}),t._rawValidators.forEach(function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange(function(){return e.updateValueAndValidity()})}),t._rawAsyncValidators.forEach(function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange(function(){return e.updateValueAndValidity()})})}function Sf(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function _f(e,t){var n;throw n=e.path.length>1?"path: '"+e.path.join(" -> ")+"'":e.path[0]?"name: '"+e.path+"'":"unspecified name attribute",new Error(t+" "+n)}function wf(e){return null!=e?Qh.compose(e.map(lf)):null}function Ff(e){return null!=e?Qh.composeAsync(e.map(of)):null}var xf=[ef,pf,rf,gf,Df,cf],Ef=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(l.__extends)(t,e),t.prototype.ngOnInit=function(){this._checkParentType(),this.formDirective.addFormGroup(this)},t.prototype.ngOnDestroy=function(){this.formDirective&&this.formDirective.removeFormGroup(this)},Object.defineProperty(t.prototype,"control",{get:function(){return this.formDirective.getFormGroup(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return bf(this.name,this._parent)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"formDirective",{get:function(){return this._parent?this._parent.formDirective:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"validator",{get:function(){return wf(this._validators)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"asyncValidator",{get:function(){return Ff(this._asyncValidators)},enumerable:!0,configurable:!0}),t.prototype._checkParentType=function(){},t}(qh),kf=function(){function e(e){this._cd=e}return Object.defineProperty(e.prototype,"ngClassUntouched",{get:function(){return!!this._cd.control&&this._cd.control.untouched},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ngClassTouched",{get:function(){return!!this._cd.control&&this._cd.control.touched},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ngClassPristine",{get:function(){return!!this._cd.control&&this._cd.control.pristine},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ngClassDirty",{get:function(){return!!this._cd.control&&this._cd.control.dirty},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ngClassValid",{get:function(){return!!this._cd.control&&this._cd.control.valid},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ngClassInvalid",{get:function(){return!!this._cd.control&&this._cd.control.invalid},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ngClassPending",{get:function(){return!!this._cd.control&&this._cd.control.pending},enumerable:!0,configurable:!0}),e}(),Af=function(e){function t(t){return e.call(this,t)||this}return Object(l.__extends)(t,e),t}(kf),Tf=function(e){function t(t){return e.call(this,t)||this}return Object(l.__extends)(t,e),t}(kf);function If(e){var t=Of(e)?e.validators:e;return Array.isArray(t)?wf(t):t||null}function Bf(e,t){var n=Of(t)?t.asyncValidators:e;return Array.isArray(n)?Ff(n):n||null}function Of(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}var Rf=function(){function e(e,t){this.validator=e,this.asyncValidator=t,this._onCollectionChange=function(){},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}return Object.defineProperty(e.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"valid",{get:function(){return"VALID"===this.status},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"invalid",{get:function(){return"INVALID"===this.status},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pending",{get:function(){return"PENDING"==this.status},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"disabled",{get:function(){return"DISABLED"===this.status},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"enabled",{get:function(){return"DISABLED"!==this.status},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dirty",{get:function(){return!this.pristine},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"untouched",{get:function(){return!this.touched},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"updateOn",{get:function(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"},enumerable:!0,configurable:!0}),e.prototype.setValidators=function(e){this.validator=If(e)},e.prototype.setAsyncValidators=function(e){this.asyncValidator=Bf(e)},e.prototype.clearValidators=function(){this.validator=null},e.prototype.clearAsyncValidators=function(){this.asyncValidator=null},e.prototype.markAsTouched=function(e){void 0===e&&(e={}),this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)},e.prototype.markAsUntouched=function(e){void 0===e&&(e={}),this.touched=!1,this._pendingTouched=!1,this._forEachChild(function(e){e.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)},e.prototype.markAsDirty=function(e){void 0===e&&(e={}),this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)},e.prototype.markAsPristine=function(e){void 0===e&&(e={}),this.pristine=!0,this._pendingDirty=!1,this._forEachChild(function(e){e.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)},e.prototype.markAsPending=function(e){void 0===e&&(e={}),this.status="PENDING",!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)},e.prototype.disable=function(e){void 0===e&&(e={}),this.status="DISABLED",this.errors=null,this._forEachChild(function(t){t.disable(Object(l.__assign)({},e,{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(e),this._onDisabledChange.forEach(function(e){return e(!0)})},e.prototype.enable=function(e){void 0===e&&(e={}),this.status="VALID",this._forEachChild(function(t){t.enable(Object(l.__assign)({},e,{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(e),this._onDisabledChange.forEach(function(e){return e(!1)})},e.prototype._updateAncestors=function(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),this._parent._updatePristine(),this._parent._updateTouched())},e.prototype.setParent=function(e){this._parent=e},e.prototype.updateValueAndValidity=function(e){void 0===e&&(e={}),this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)},e.prototype._updateTreeValidity=function(e){void 0===e&&(e={emitEvent:!0}),this._forEachChild(function(t){return t._updateTreeValidity(e)}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})},e.prototype._setInitialStatus=function(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"},e.prototype._runValidator=function(){return this.validator?this.validator(this):null},e.prototype._runAsyncValidator=function(e){var t=this;if(this.asyncValidator){this.status="PENDING";var n=Zh(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(function(n){return t.setErrors(n,{emitEvent:e})})}},e.prototype._cancelExistingSubscription=function(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()},e.prototype.setErrors=function(e,t){void 0===t&&(t={}),this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)},e.prototype.get=function(e){return function(e,t,n){return null==t?null:(t instanceof Array||(t=t.split(".")),t instanceof Array&&0===t.length?null:t.reduce(function(e,t){return e instanceof Pf?e.controls.hasOwnProperty(t)?e.controls[t]:null:e instanceof Nf&&e.at(t)||null},e))}(this,e)},e.prototype.getError=function(e,t){var n=t?this.get(t):this;return n&&n.errors?n.errors[e]:null},e.prototype.hasError=function(e,t){return!!this.getError(e,t)},Object.defineProperty(e.prototype,"root",{get:function(){for(var e=this;e._parent;)e=e._parent;return e},enumerable:!0,configurable:!0}),e.prototype._updateControlsErrors=function(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)},e.prototype._initObservables=function(){this.valueChanges=new ki,this.statusChanges=new ki},e.prototype._calculateStatus=function(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"},e.prototype._anyControlsHaveStatus=function(e){return this._anyControls(function(t){return t.status===e})},e.prototype._anyControlsDirty=function(){return this._anyControls(function(e){return e.dirty})},e.prototype._anyControlsTouched=function(){return this._anyControls(function(e){return e.touched})},e.prototype._updatePristine=function(e){void 0===e&&(e={}),this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)},e.prototype._updateTouched=function(e){void 0===e&&(e={}),this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)},e.prototype._isBoxedValue=function(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e},e.prototype._registerOnCollectionChange=function(e){this._onCollectionChange=e},e.prototype._setUpdateStrategy=function(e){Of(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)},e}(),Mf=function(e){function t(t,n,l){void 0===t&&(t=null);var i=e.call(this,If(n),Bf(l,n))||this;return i._onChange=[],i._applyFormState(t),i._setUpdateStrategy(n),i.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),i._initObservables(),i}return Object(l.__extends)(t,e),t.prototype.setValue=function(e,t){var n=this;void 0===t&&(t={}),this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(function(e){return e(n.value,!1!==t.emitViewToModelChange)}),this.updateValueAndValidity(t)},t.prototype.patchValue=function(e,t){void 0===t&&(t={}),this.setValue(e,t)},t.prototype.reset=function(e,t){void 0===e&&(e=null),void 0===t&&(t={}),this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1},t.prototype._updateValue=function(){},t.prototype._anyControls=function(e){return!1},t.prototype._allControlsDisabled=function(){return this.disabled},t.prototype.registerOnChange=function(e){this._onChange.push(e)},t.prototype._clearChangeFns=function(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=function(){}},t.prototype.registerOnDisabledChange=function(e){this._onDisabledChange.push(e)},t.prototype._forEachChild=function(e){},t.prototype._syncPendingControls=function(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))},t.prototype._applyFormState=function(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e},t}(Rf),Pf=function(e){function t(t,n,l){var i=e.call(this,If(n),Bf(l,n))||this;return i.controls=t,i._initObservables(),i._setUpdateStrategy(n),i._setUpControls(),i.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),i}return Object(l.__extends)(t,e),t.prototype.registerControl=function(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)},t.prototype.addControl=function(e,t){this.registerControl(e,t),this.updateValueAndValidity(),this._onCollectionChange()},t.prototype.removeControl=function(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange(function(){}),delete this.controls[e],this.updateValueAndValidity(),this._onCollectionChange()},t.prototype.setControl=function(e,t){this.controls[e]&&this.controls[e]._registerOnCollectionChange(function(){}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity(),this._onCollectionChange()},t.prototype.contains=function(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled},t.prototype.setValue=function(e,t){var n=this;void 0===t&&(t={}),this._checkAllValuesPresent(e),Object.keys(e).forEach(function(l){n._throwIfControlMissing(l),n.controls[l].setValue(e[l],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)},t.prototype.patchValue=function(e,t){var n=this;void 0===t&&(t={}),Object.keys(e).forEach(function(l){n.controls[l]&&n.controls[l].patchValue(e[l],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)},t.prototype.reset=function(e,t){void 0===e&&(e={}),void 0===t&&(t={}),this._forEachChild(function(n,l){n.reset(e[l],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t),this._updatePristine(t),this._updateTouched(t)},t.prototype.getRawValue=function(){return this._reduceChildren({},function(e,t,n){return e[n]=t instanceof Mf?t.value:t.getRawValue(),e})},t.prototype._syncPendingControls=function(){var e=this._reduceChildren(!1,function(e,t){return!!t._syncPendingControls()||e});return e&&this.updateValueAndValidity({onlySelf:!0}),e},t.prototype._throwIfControlMissing=function(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error("Cannot find form control with name: "+e+".")},t.prototype._forEachChild=function(e){var t=this;Object.keys(this.controls).forEach(function(n){return e(t.controls[n],n)})},t.prototype._setUpControls=function(){var e=this;this._forEachChild(function(t){t.setParent(e),t._registerOnCollectionChange(e._onCollectionChange)})},t.prototype._updateValue=function(){this.value=this._reduceValue()},t.prototype._anyControls=function(e){var t=this,n=!1;return this._forEachChild(function(l,i){n=n||t.contains(i)&&e(l)}),n},t.prototype._reduceValue=function(){var e=this;return this._reduceChildren({},function(t,n,l){return(n.enabled||e.disabled)&&(t[l]=n.value),t})},t.prototype._reduceChildren=function(e,t){var n=e;return this._forEachChild(function(e,l){n=t(n,e,l)}),n},t.prototype._allControlsDisabled=function(){var e,t;try{for(var n=Object(l.__values)(Object.keys(this.controls)),i=n.next();!i.done;i=n.next())if(this.controls[i.value].enabled)return!1}catch(o){e={error:o}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}return Object.keys(this.controls).length>0||this.disabled},t.prototype._checkAllValuesPresent=function(e){this._forEachChild(function(t,n){if(void 0===e[n])throw new Error("Must supply a value for form control with name: '"+n+"'.")})},t}(Rf),Nf=function(e){function t(t,n,l){var i=e.call(this,If(n),Bf(l,n))||this;return i.controls=t,i._initObservables(),i._setUpdateStrategy(n),i._setUpControls(),i.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),i}return Object(l.__extends)(t,e),t.prototype.at=function(e){return this.controls[e]},t.prototype.push=function(e){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity(),this._onCollectionChange()},t.prototype.insert=function(e,t){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity()},t.prototype.removeAt=function(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange(function(){}),this.controls.splice(e,1),this.updateValueAndValidity()},t.prototype.setControl=function(e,t){this.controls[e]&&this.controls[e]._registerOnCollectionChange(function(){}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity(),this._onCollectionChange()},Object.defineProperty(t.prototype,"length",{get:function(){return this.controls.length},enumerable:!0,configurable:!0}),t.prototype.setValue=function(e,t){var n=this;void 0===t&&(t={}),this._checkAllValuesPresent(e),e.forEach(function(e,l){n._throwIfControlMissing(l),n.at(l).setValue(e,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)},t.prototype.patchValue=function(e,t){var n=this;void 0===t&&(t={}),e.forEach(function(e,l){n.at(l)&&n.at(l).patchValue(e,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)},t.prototype.reset=function(e,t){void 0===e&&(e=[]),void 0===t&&(t={}),this._forEachChild(function(n,l){n.reset(e[l],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t),this._updatePristine(t),this._updateTouched(t)},t.prototype.getRawValue=function(){return this.controls.map(function(e){return e instanceof Mf?e.value:e.getRawValue()})},t.prototype._syncPendingControls=function(){var e=this.controls.reduce(function(e,t){return!!t._syncPendingControls()||e},!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e},t.prototype._throwIfControlMissing=function(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error("Cannot find form control at index "+e)},t.prototype._forEachChild=function(e){this.controls.forEach(function(t,n){e(t,n)})},t.prototype._updateValue=function(){var e=this;this.value=this.controls.filter(function(t){return t.enabled||e.disabled}).map(function(e){return e.value})},t.prototype._anyControls=function(e){return this.controls.some(function(t){return t.enabled&&e(t)})},t.prototype._setUpControls=function(){var e=this;this._forEachChild(function(t){return e._registerControl(t)})},t.prototype._checkAllValuesPresent=function(e){this._forEachChild(function(t,n){if(void 0===e[n])throw new Error("Must supply a value for form control at index: "+n+".")})},t.prototype._allControlsDisabled=function(){var e,t;try{for(var n=Object(l.__values)(this.controls),i=n.next();!i.done;i=n.next())if(i.value.enabled)return!1}catch(o){e={error:o}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}return this.controls.length>0||this.disabled},t.prototype._registerControl=function(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)},t}(Rf),jf=Promise.resolve(null),Lf=function(e){function t(t,n){var l=e.call(this)||this;return l.submitted=!1,l._directives=[],l.ngSubmit=new ki,l.form=new Pf({},wf(t),Ff(n)),l}return Object(l.__extends)(t,e),t.prototype.ngAfterViewInit=function(){this._setUpdateStrategy()},Object.defineProperty(t.prototype,"formDirective",{get:function(){return this},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"control",{get:function(){return this.form},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"controls",{get:function(){return this.form.controls},enumerable:!0,configurable:!0}),t.prototype.addControl=function(e){var t=this;jf.then(function(){var n=t._findContainer(e.path);e.control=n.registerControl(e.name,e.control),Cf(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),t._directives.push(e)})},t.prototype.getControl=function(e){return this.form.get(e.path)},t.prototype.removeControl=function(e){var t=this;jf.then(function(){var n,l,i=t._findContainer(e.path);i&&i.removeControl(e.name),(l=(n=t._directives).indexOf(e))>-1&&n.splice(l,1)})},t.prototype.addFormGroup=function(e){var t=this;jf.then(function(){var n=t._findContainer(e.path),l=new Pf({});(function(e,t){null==e&&_f(t,"Cannot find control with"),e.validator=Qh.compose([e.validator,t.validator]),e.asyncValidator=Qh.composeAsync([e.asyncValidator,t.asyncValidator])})(l,e),n.registerControl(e.name,l),l.updateValueAndValidity({emitEvent:!1})})},t.prototype.removeFormGroup=function(e){var t=this;jf.then(function(){var n=t._findContainer(e.path);n&&n.removeControl(e.name)})},t.prototype.getFormGroup=function(e){return this.form.get(e.path)},t.prototype.updateModel=function(e,t){var n=this;jf.then(function(){n.form.get(e.path).setValue(t)})},t.prototype.setValue=function(e){this.control.setValue(e)},t.prototype.onSubmit=function(e){return this.submitted=!0,t=this._directives,this.form._syncPendingControls(),t.forEach(function(e){var t=e.control;"submit"===t.updateOn&&t._pendingChange&&(e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1)}),this.ngSubmit.emit(e),!1;var t},t.prototype.onReset=function(){this.resetForm()},t.prototype.resetForm=function(e){void 0===e&&(e=void 0),this.form.reset(e),this.submitted=!1},t.prototype._setUpdateStrategy=function(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)},t.prototype._findContainer=function(e){return e.pop(),e.length?this.form.get(e):this.form},t}(qh),Vf=function(){function e(){}return e.modelParentException=function(){throw new Error('\n      ngModel cannot be used to register form controls with a parent formGroup directive.  Try using\n      formGroup\'s partner directive "formControlName" instead.  Example:\n\n      \n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });\n\n      Or, if you\'d like to avoid registering this form control, indicate that it\'s standalone in ngModelOptions:\n\n      Example:\n\n      \n    <div [formGroup]="myGroup">\n       <input formControlName="firstName">\n       <input [(ngModel)]="showMoreControls" [ngModelOptions]="{standalone: true}">\n    </div>\n  ')},e.formGroupNameException=function(){throw new Error("\n      ngModel cannot be used to register form controls with a parent formGroupName or formArrayName directive.\n\n      Option 1: Use formControlName instead of ngModel (reactive strategy):\n\n      "+df+"\n\n      Option 2:  Update ngModel's parent be ngModelGroup (template-driven strategy):\n\n      "+hf)},e.missingNameException=function(){throw new Error('If ngModel is used within a form tag, either the name attribute must be set or the form\n      control must be defined as \'standalone\' in ngModelOptions.\n\n      Example 1: <input [(ngModel)]="person.firstName" name="first">\n      Example 2: <input [(ngModel)]="person.firstName" [ngModelOptions]="{standalone: true}">')},e.modelGroupParentException=function(){throw new Error("\n      ngModelGroup cannot be used with a parent formGroup directive.\n\n      Option 1: Use formGroupName instead of ngModelGroup (reactive strategy):\n\n      "+df+"\n\n      Option 2:  Use a regular form tag instead of the formGroup directive (template-driven strategy):\n\n      "+hf)},e.ngFormWarning=function(){console.warn("\n    It looks like you're using 'ngForm'.\n\n    Support for using the 'ngForm' element selector has been deprecated in Angular v6 and will be removed\n    in Angular v9.\n\n    Use 'ng-form' instead.\n\n    Before:\n    <ngForm #myForm=\"ngForm\">\n\n    After:\n    <ng-form #myForm=\"ngForm\">\n    ")},e}(),$f=new me("NgFormSelectorWarning"),Hf=function(e){function t(t,n,l){var i=e.call(this)||this;return i._parent=t,i._validators=n,i._asyncValidators=l,i}var n;return Object(l.__extends)(t,e),n=t,t.prototype._checkParentType=function(){this._parent instanceof n||this._parent instanceof Lf||Vf.modelGroupParentException()},t}(Ef),Uf=Promise.resolve(null),zf=function(e){function t(t,n,l,i){var o=e.call(this)||this;return o.control=new Mf,o._registered=!1,o.update=new ki,o._parent=t,o._rawValidators=n||[],o._rawAsyncValidators=l||[],o.valueAccessor=function(e,t){if(!t)return null;Array.isArray(t)||_f(e,"Value accessor was not provided as an array for form control with");var n=void 0,l=void 0,i=void 0;return t.forEach(function(t){var o;t.constructor===nf?n=t:(o=t,xf.some(function(e){return o.constructor===e})?(l&&_f(e,"More than one built-in value accessor matches form control with"),l=t):(i&&_f(e,"More than one custom value accessor matches form control with"),i=t))}),i||l||n||(_f(e,"No valid value accessor for form control with"),null)}(o,i),o}return Object(l.__extends)(t,e),t.prototype.ngOnChanges=function(e){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in e&&this._updateDisabled(e),function(e,t){if(!e.hasOwnProperty("model"))return!1;var n=e.model;return!!n.isFirstChange()||!xe(t,n.currentValue)}(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)},t.prototype.ngOnDestroy=function(){this.formDirective&&this.formDirective.removeControl(this)},Object.defineProperty(t.prototype,"path",{get:function(){return this._parent?bf(this.name,this._parent):[this.name]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"formDirective",{get:function(){return this._parent?this._parent.formDirective:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"validator",{get:function(){return wf(this._rawValidators)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"asyncValidator",{get:function(){return Ff(this._rawAsyncValidators)},enumerable:!0,configurable:!0}),t.prototype.viewToModelUpdate=function(e){this.viewModel=e,this.update.emit(e)},t.prototype._setUpControl=function(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0},t.prototype._setUpdateStrategy=function(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)},t.prototype._isStandalone=function(){return!this._parent||!(!this.options||!this.options.standalone)},t.prototype._setUpStandalone=function(){Cf(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})},t.prototype._checkForErrors=function(){this._isStandalone()||this._checkParentType(),this._checkName()},t.prototype._checkParentType=function(){!(this._parent instanceof Hf)&&this._parent instanceof Ef?Vf.formGroupNameException():this._parent instanceof Hf||this._parent instanceof Lf||Vf.modelParentException()},t.prototype._checkName=function(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()||this.name||Vf.missingNameException()},t.prototype._updateValue=function(e){var t=this;Uf.then(function(){t.control.setValue(e,{emitViewToModelChange:!1})})},t.prototype._updateDisabled=function(e){var t=this,n=e.isDisabled.currentValue,l=""===n||n&&"false"!==n;Uf.then(function(){l&&!t.control.disabled?t.control.disable():!l&&t.control.disabled&&t.control.enable()})},t}(sf),qf=function(){function e(){}return e.prototype.ngOnChanges=function(e){"maxlength"in e&&(this._createValidator(),this._onChange&&this._onChange())},e.prototype.validate=function(e){return null!=this.maxlength?this._validator(e):null},e.prototype.registerOnValidatorChange=function(e){this._onChange=e},e.prototype._createValidator=function(){this._validator=Qh.maxLength(parseInt(this.maxlength,10))},e}(),Gf=function(){return function(){}}(),Wf=function(){return function(){}}(),Jf=function(){function e(){}var t;return t=e,e.withConfig=function(e){return{ngModule:t,providers:[{provide:$f,useValue:e.warnOnDeprecatedNgFormSelector}]}},e}(),Qf=n("7RJT"),Kf=n("gFX4"),Zf=n("mkMP"),Xf=function(){function e(e){var t=this;this._postMessageService=e,this.socketAddress=Aa.socketServerAddress,this.serverAddress=Aa.serverAddress,this.cdnAddress=Aa.production?Aa.cdnAddress:Aa.local?"":"https://app.beelinks.solutions",this.mediaServiceAddress=Aa.mediaServerAddress,this.botAddress=Aa.botURL,this.redisURL=Aa.redisURL,this.LocalStoragePermissions=new Qf.BehaviorSubject(this.CheckLocalStoragePermissions()),this.Settings=new Qf.BehaviorSubject(void 0),this.FSharePermissions=new Qf.BehaviorSubject(!1),this.AllowedCall=new Qf.BehaviorSubject(!1),this.Session=new Qf.BehaviorSubject(void 0),this.ShowLoader=new Qf.BehaviorSubject(!1),this.Permissions=new Qf.BehaviorSubject(void 0),this.EmojiJson=new Qf.BehaviorSubject(Zf),this.showMoreMenu=new Qf.BehaviorSubject(!1),this.ServerAddress=new Qf.BehaviorSubject(this.serverAddress),this.SocketServerAddress=new Qf.BehaviorSubject(this.socketAddress),this.CDNAddress=new Qf.BehaviorSubject(this.cdnAddress),this.MediaServiceAddress=new Qf.BehaviorSubject(this.mediaServiceAddress),this.BotServiceAddress=new Qf.BehaviorSubject(this.botAddress),this.RedisServiceAddress=new Qf.BehaviorSubject(this.redisURL),this.OldSession=new Qf.BehaviorSubject(void 0),this.ShowEndchatDialog=new Qf.BehaviorSubject(!1),this.UnregisteredAccessPermissions=new Qf.BehaviorSubject(!0),this.Maximized=new Qf.BehaviorSubject(!1),this.RegisterFormDialogOpened=new Qf.BehaviorSubject(!1),this.AutoScroll=new Qf.BehaviorSubject(!0),this.NotificationCount=new Qf.BehaviorSubject(0),this.AllowEdit=new Qf.BehaviorSubject(!0),this.Muted=new Qf.BehaviorSubject(!1),this.PlayAudio=new Ia.Subject,this.Conversation=new Qf.BehaviorSubject([]),this.isMobile=new Qf.BehaviorSubject(!1),this.endChat=new Qf.BehaviorSubject(!0),this.previousAgent=new Qf.BehaviorSubject(void 0),this.customFields=new Qf.BehaviorSubject([]),this.botConversationStarted=new Qf.BehaviorSubject(!1),this.chatBot={id:"",image:"/cw/assets/img/icons/svg/chatbot-outline.svg",name:"ChatBot",nickname:"ChatBot"},Ba("Application State Service Initialized"),this._postMessageService.Load.subscribe(function(e){if(e){t.endChat.next(!1),t.ServerAddress.next(e.serverAddress),t.FSharePermissions.next(e.fshare),t.Settings.next(e.settings),t.ShowLoader.next(e.showLoader),t.Maximized.next(!!e.chatWindowState&&e.chatWindowState),t.Session.next(e.session),t.isMobile.next(t.Session.getValue().isMobile),t.AllowedCall.next(e.allowedCall),t.Muted.next(t.GetStorage("muted")),t.SaveStorage("sessionStart",!0),t.Permissions.next(e.permissions),t.customFields.next(e.customFields),t._postMessageService.Maximize.subscribe(function(e){t.Maximized.next(e),t.SetMessageCount(0)}),t._postMessageService.GotUserInformation.subscribe(function(e){t.AllowEdit.next(!!e.AllowEdit)}),t._postMessageService.ShowLoader.subscribe(function(e){t.ShowLoader.next(e)});var n=t.GetStorage("notificationCount");t.NotificationCount.next(0!=n?parseInt(n)+1:0)}})}return e.prototype.SaveChatBotState=function(e){this.botConversationStarted.next(e),this.SaveStorage("botState",e)},e.prototype.CheckLocalStoragePermissions=function(){try{if(window.localStorage)return!0}catch(e){return!1}},e.prototype.UpdateSession=function(e){var t=this;switch(JSON.parse(JSON.stringify(this.Session.getValue())),this.Session.getValue().agent&&this.previousAgent.next(this.Session.getValue().agent),e&&Object.keys(e).map(function(n){"agent"!=n.toLowerCase()?t.Session.getValue()[n]=e[n]:t.Session.getValue().agent=6!=e.state&&7!=e.state&&8!=e.state||e.agent.id||e.agent.name?5==e.state?e.agent.id?e.agent:{id:"",name:"",image:""}:e[n]?e.agent:{id:"",name:"",image:""}:t.chatBot}),this.Session.next(this.Session.getValue()),this._postMessageService.SendMessage("setSession",this.Session.getValue(),"*"),this.Session.getValue().deviceID&&this._postMessageService.SendMessage("setDeviceToken",this.Session.getValue().deviceID,"*"),this.Session.getValue().state){case 3:case 4:this._postMessageService.SendMessage("gotAgent",this.Session.getValue().agent,"bz-cb|bz-am");break;case 6:case 7:case 8:this.Session.getValue().agent&&this._postMessageService.SendMessage("gotAgent",this.Session.getValue().agent,"bz-cb|bz-am")}},e.prototype.IsNoAgent=function(e){return Object.keys(e).every(function(t){return""===e[t]||null===e[t]})},e.prototype.RefreshSession=function(){this.ClearStorage(["notificationCount","messages","lasttouchedTime","conversations","botState","botmessages","disconnectionTime","invitationPopupClosed"]),this.OldSession.next(JSON.parse(JSON.stringify(this.Session.getValue()))),this.Session.getValue().cid="",this.Session.getValue().agent={name:"",id:"",image:""},this.Session.getValue().state=1,this._postMessageService.SendMessage("removeAgent",{},"*"),this.UpdateSession(this.Session.getValue())},e.prototype.ToggleMute=function(e){this.SaveStorage("muted",e),this.Muted.next(e)},e.prototype.PlayNotificationSound=function(){this.PlayAudio.next(!0)},e.prototype.ClearStorage=function(e){var t=this;e.map(function(e){localStorage.removeItem(t.Session.getValue().nsp+e)})},e.prototype.SaveStorage=function(e,t){switch(e){case"messages":case"botmessages":case"conversations":return void localStorage.setItem(this.Session.getValue().nsp+e,JSON.stringify(t||[]));case"lasttouchedTime":return void localStorage.setItem(this.Session.getValue().nsp+e,t||(new Date).toISOString());case"muted":return void localStorage.setItem(this.Session.getValue().nsp+e,JSON.stringify(t));case"botState":case"sessionStart":case"invitationPopupClosed":return void localStorage.setItem(this.Session.getValue().nsp+e,JSON.stringify(t));case"disconnectionTime":localStorage.setItem(this.Session.getValue().nsp+e,t?JSON.stringify(t):(new Date).toString());default:return void localStorage.setItem(this.Session.getValue().nsp+e,JSON.stringify(t||0))}},e.prototype.RemoveStorage=function(e){localStorage.removeItem(this.Session.getValue().nsp+e)},e.prototype.GetStorage=function(e){var t=void 0;switch(e){case"messages":case"botmessages":case"conversations":return(t=localStorage.getItem(this.Session.getValue().nsp+e))?JSON.parse(t):[];case"lasttouchedTime":return(t=localStorage.getItem(this.Session.getValue().nsp+e))||(new Date).toISOString();case"muted":return!!(t=localStorage.getItem(this.Session.getValue().nsp+e))&&JSON.parse(t);case"sessionStart":case"invitationPopupClosed":return!!this.Session.getValue()&&!!(t=localStorage.getItem(this.Session.getValue().nsp+e))&&JSON.parse(t);case"botState":return JSON.parse(localStorage.getItem(this.Session.getValue().nsp+e)||"false");default:return(t=localStorage.getItem(this.Session.getValue().nsp+e))?JSON.parse(JSON.stringify(t)):0}},e.prototype.SetMessageCount=function(e){this.SaveStorage("notificationCount",e),this.NotificationCount.next(e),this._postMessageService.SendMessage("messageCount",e?1:0,"bz-cb")},e.prototype.RecentConversation=function(e){e.length&&this.Conversation.next(e)},e}(),Yf=n("Q1FS"),eg=function(){function e(e){var t=this;this._appStateService=e,this.serverAddress=Aa.production||Aa.dev?"":"http://localhost:8000",this.agentServiceAddress=Aa.production||Aa.dev?"/api":"http://localhost:8005/api",this.visitor={},this._appStateService.Session.subscribe(function(e){t.visitor=e})}return e.prototype.SendXMLHttpRequest=function(e,t,n,l,i,o,r){var u=this;return new Yf.Observable(function(s){var a=new XMLHttpRequest,c=i?u.agentServiceAddress:l?u.serverAddress+"":"";r&&(a.responseType=r),a.open(t,c+e,!0),i&&a.setRequestHeader("Authorization","Visitor-"+u.visitor.csid),o&&o.length&&o.map(function(e){a.setRequestHeader(e.name,e.value)}),a.send(n),a.onreadystatechange=function(e){try{4==a.readyState&&(a.status>=200&&a.status<400?(s.next(a.response),s.complete()):s.error(a.response))}catch(t){s.error(t)}}})},e}(),tg=function(){function e(e,t){var n=this;this._appService=e,this._restService=t,this.socketServer="",this.serverAddress="",this.session=void 0,this.serverDisconnect=new Ia.Subject,this.socket=new Qf.BehaviorSubject(void 0),this.status=new Qf.BehaviorSubject(!1),this.syncSession=new Ia.Subject,this.loading=new Qf.BehaviorSubject(!0),this.showDisconnectDialog=new Ia.Subject,this.loadScriptPolling=new Qf.BehaviorSubject(!1),this.PollingInterval=void 0,this.loadscriptInProgress=!1,this.socketReconnectInProgress=!1,this.attempts=3,this.reconnectAttempts=this.attempts,this.loadscriptAttempts=this.attempts,this.socketAttepmts=this.attempts,this._appService.SocketServerAddress.subscribe(function(e){n.socketServer=e}),this._appService.ServerAddress.subscribe(function(e){n.serverAddress=e}),this._appService.Session.subscribe(function(e){e&&(n.session=e,n.socket.getValue()||n.status.getValue()||(n.socket.next(Kf(n.socketServer+n.session.nsp,{transports:["websocket"],secure:!0,reconnection:!0,reconnectionDelay:25e3,query:"csid="+n.session.csid+"&state="+n.session.state+"&type=Visitors"})),n.socketSubscription=n.socket.subscribe(function(e){e&&(n.socket.getValue().on("connect",function(){clearInterval(n.PollingInterval),n.PollingInterval=void 0,n.reconnectAttempts=n.attempts,n.loadscriptAttempts=n.attempts,n.socketAttepmts=n.attempts,n.socketReconnectInProgress=!1,n.loadscriptInProgress=!1,n.status.next(!0),n.loading.next(!1),n.serverDisconnect.next(!1),n.showDisconnectDialog.next(!0)}),n.socket.getValue().on("disconnect",function(e){n.status.next(!1),n.serverDisconnect.next(!0)}),n.socket.getValue().on("reconnect_attempt",function(){n.reconnectAttempts>0&&n.session?(n.socketReconnectInProgress=!0,--n.reconnectAttempts,n.serverDisconnect.next(!1),n.socket.getValue().io.opts.query="csid="+n.session.csid+"&state="+n.session.state+"&type=Visitors"):(n.socketReconnectInProgress=!1,n.loadscriptInProgress=!1,n.CheckIfSocketConnected&&n.Disconnect(),!n.PollingInterval&&n.session&&n._appService.Session.getValue()&&n.SocketPolling())}))})))})}return e.prototype.GetStatus=function(){return this.status.asObservable()},e.prototype.CheckIfSocketConnected=function(){return!(!(this.socket.getValue()&&this.socket.getValue().id&&this.socket.getValue().connected)||this.socket.getValue().disconnected)},e.prototype.SocketPolling=function(){var e=this;this.PollingInterval=setInterval(function(){if(e.socketAttepmts>0&&!e.CheckIfSocketConnected()){if(e.reconnectAttempts>0||e.CheckIfSocketConnected()||e.socketReconnectInProgress)return;e.reconnectAttempts=e.attempts,--e.socketAttepmts,e.socketReconnectInProgress=!1,e.session&&e._appService.Session.next(e.session)}else clearInterval(e.PollingInterval),e.PollingInterval=void 0},1e4)},e.prototype.GetDisconnectionStatus=function(){return this.serverDisconnect.asObservable()},e.prototype.GetSyncSessionStatus=function(){return this.syncSession.asObservable()},e.prototype.GetSocketInstance=function(){return this.socket.asObservable()},e.prototype.Disconnect=function(){this.status.next(!1),this.socket.getValue().disconnect(),this.socket.next(void 0),this.socketSubscription.unsubscribe()},e.prototype.ChangeState=function(e){var t=this;return new Yf.Observable(function(n){t.socket.getValue().emit("changeState",{state:e},function(e){"ok"==e.status?(n.next(e),n.complete()):n.error({code:"cst",text:"Error in Changing State"})})})},e.prototype.SendMessageToServer=function(e){var t=this;return new Yf.Observable(function(n){try{t.socket.getValue().emit(t.session&&8!=t.session.state?"privateMessage":"botMessage",e,function(t){"ok"==t.status?(e._id=t._id,e.date=t.date,e.delivered=t.delivered,n.next(e),n.complete()):n.error({code:"pvm",text:"Error in Sending Private Message"})})}catch(l){n.error({code:"pvm",text:"Error in Sending Private Message"})}})},e.prototype.SendDisconnectMessageToServer=function(e){var t=this;return new Yf.Observable(function(n){try{t.socket.getValue().emit("disconnectEventFromClient",e,function(e){"ok"==e.status?(n.next(e.msg),n.complete()):n.error({code:"pvm",text:"Error in Sending Disconnection Message"})})}catch(l){n.error({code:"pvm",text:"Error in Sending Disconnection Message"})}})},e.prototype.SendBotMessageToServer=function(e){var t=this;return new Yf.Observable(function(n){t.socket.getValue().emit("privateBotMessage",e,function(t){"ok"==t.status?(e.date=t.date,n.next(e),n.complete()):n.error("Unconfigured"==t.status?{code:"Unconfigured",data:t.data}:{code:"pvm",text:"Error in Sending Private Message"})})})},e.prototype.GotAdditionalData=function(e){var t=this;return new Yf.Observable(function(n){t.socket.getValue().emit("updateAdditionalDataInfo",e,function(e){"AdditionalDataUpdated"==e.status?(n.next(e),n.complete()):n.error({code:"uadi",text:"Error in Updating Additional Data"})})})},e.prototype.SyncState=function(e){var t=this;return new Yf.Observable(function(n){try{t.socket.getValue().emit("getState",e,function(e){n.next(e),n.complete()})}catch(l){n.error("Insufficient Data")}})},e.prototype.ChangeStateRest=function(e){var t=this;return new Yf.Observable(function(n){t._restService.SendXMLHttpRequest("/chats/changeState","POST",JSON.stringify({state:e,_id:t.session.csid}),!1,!0,[{name:"Content-Type",value:"application/json"}]).subscribe(function(e){var t=JSON.parse(e);"ok"==t.status?(n.next(t),n.complete()):n.error({code:"cst",text:"Error in Changing State"})},function(e){n.error({code:"cst",text:"Error in Changing State"})})})},e.prototype.SendDisconnectMessageToServerRest=function(e){var t=this;return new Yf.Observable(function(n){try{t._restService.SendXMLHttpRequest("/chats/disconnectEventFromClient","POST",JSON.stringify({msg:e,_id:t.session._id||t.session.csid}),!1,!0,[{name:"Content-Type",value:"application/json"}]).subscribe(function(e){var t=JSON.parse(e);"ok"==t.status?(n.next(t.msg),n.complete()):n.error({code:"pvm",text:"Error in Sending Disconnection Message"})},function(e){n.error({code:"pvm",text:"Error in Sending Disconnection Message"})})}catch(l){n.error({code:"pvm",text:"Error in Sending Disconnection Message"})}})},e.prototype.GotAdditionalDataRest=function(e){var t=this;return new Yf.Observable(function(n){t._restService.SendXMLHttpRequest("/chats/updateAdditionalDataInfo","POST",JSON.stringify(e),!1,!0,[{name:"Content-Type",value:"application/json"}]).subscribe(function(e){var t=JSON.parse(e);"AdditionalDataUpdated"==t.status?(n.next(t),n.complete()):n.error({code:"uadi",text:"Error in Updating Additional Data"})},function(e){n.error({code:"uadi",text:"Error in Updating Additional Data"})})})},e.prototype.SyncStateRest=function(e){var t=this;return new Yf.Observable(function(n){try{t._restService.SendXMLHttpRequest("/chats/getState","POST",JSON.stringify(e),!1,!0,[{name:"Content-Type",value:"application/json"}]).subscribe(function(e){var t=JSON.parse(e);n.next(t),n.complete()},function(e){n.error("Error")})}catch(l){n.error("Insufficient Data")}})},e}(),ng=function(){function e(e,t,n,i){var o=this;this._postMessageService=e,this._socketService=t,this._appStateService=n,this._restService=i,this.Session=void 0,this.matchingRegex={urlRegexMatch:/((http(s)?:\/\/)?([\w-]+\.)+[\w-]+[.com]+([\w\-\.,@?^=%&amp;:\/~\+#]*[\w\-\@?^=%&amp;\/~\+#])?)/gim,script:/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gim},this.AllowTicketWhenAgentAvailable=new Qf.BehaviorSubject(!1),this.Messages=new Qf.BehaviorSubject([]),this.AgentList=new Qf.BehaviorSubject([]),this.Promotions=new Qf.BehaviorSubject([]),this.News=new Qf.BehaviorSubject([]),this.FAQS=new Qf.BehaviorSubject([]),this.ScrollToBottom=new Qf.BehaviorSubject(!1),this.viewMode=new Qf.BehaviorSubject(void 0),this.ShowDisplay=new Qf.BehaviorSubject(!1),this.TempData=new Qf.BehaviorSubject(void 0),this.UpdateCredentials=new Qf.BehaviorSubject(void 0),this.LostAgent=new Ia.Subject,this.noAgentAvailable=new Qf.BehaviorSubject(!1),this.botMessages=new Qf.BehaviorSubject([]),this.botError=new Qf.BehaviorSubject(!1),this.botServiceAddress="",this.LastTouchedTime=new Qf.BehaviorSubject(void 0),this.Maximized=!1,this.AutoScroll=!0,this.Conversations=new Qf.BehaviorSubject([]),this.Reviews=new Qf.BehaviorSubject([]),this.closeEmoji=new Ia.Subject,this.ViewingChatHistory=new Qf.BehaviorSubject(!1),this.SelectedConversation=new Qf.BehaviorSubject({}),this.noMoreRecentChatsToShow=new Qf.BehaviorSubject(!1),this.noMoreNewsToFetch=new Qf.BehaviorSubject(!1),this.noMoreFaqsToFetch=new Qf.BehaviorSubject(!1),this.helpChatInitiated=new Qf.BehaviorSubject(!1),this.actionFormReceived=new Ia.Subject,this.closeActionForm=new Ia.Subject,this.restartingApp=new Qf.BehaviorSubject(!1),this.attachmentGallery=new Qf.BehaviorSubject(void 0),this.subscrtiptions=[],this.typing=new Qf.BehaviorSubject(!1),this.sending=new Qf.BehaviorSubject(!1),this.cannedFormOpened=new Qf.BehaviorSubject(!1),this.banned=new Qf.BehaviorSubject(!1),this.newsFetched=new Qf.BehaviorSubject(!1),this.promotionsFetched=new Qf.BehaviorSubject(!1),this.faqFetched=new Qf.BehaviorSubject(!1),this.MessagesFetched=new Qf.BehaviorSubject(!1),this.startOver=new Qf.BehaviorSubject(!1),this.gotAgent=new Ia.Subject,this.forceEndedChat=new Qf.BehaviorSubject(!1),this.endChatByAgent=new Qf.BehaviorSubject(!1),this.endChatByVisitor=new Qf.BehaviorSubject(!1),this.feedbackSubmitted=new Qf.BehaviorSubject(!1),this.RecentWindowLoading=new Qf.BehaviorSubject(!1),this.customFeedback=new Qf.BehaviorSubject({}),this.serverDisconnect=!0,this._appStateService.Session.subscribe(function(e){if(e&&(o.Session=e,o.LastTouchedTime.next(o._appStateService.GetStorage("lasttouchedTime")),!o.ShowDisplay.getValue())){o.ShowDisplay.getValue()||Object.keys(e).map(function(t){"username"==t?e[t]&&-1==e[t].indexOf("Guest")&&(o.Session[t]=e[t]):"email"==t?e[t]&&"unregistered"!=e[t].toLowerCase()&&(o.Session[t]=e[t]):o.Session[t]=e[t]}),o.GetAvailableAgentsRest(),o.ShowDisplay.next(!0),o._socketService.loading.next(!1),!o.Socket||3!=e.state&&4!=e.state&&2!=e.state&&8!=e.state||o.Session.clientID||(o.GetConversationClientIDRest(e.cid),o.GetFilledtCustomFeedback(e.cid));var t=void 0;switch(o.Session.state){case 2:o.LoadMessagesOffline(),o.viewMode.next("message-window");break;case 3:o.LoadMessagesRest(o.Session.cid,o.LastTouchedTime.getValue()),o.viewMode.next("message-window");break;case 4:if(t=o._appStateService.GetStorage("invitationPopupClosed"),o.LoadMessagesRest(o.Session.cid,o.LastTouchedTime.getValue()),o.viewMode.next("home"),!o.Maximized&&!t){var n=o._appStateService.GetStorage("messages"),l="";n&&n.length&&n.reverse().map(function(e){l||"Agents"!=e.type||(l=e)}),l&&(o._postMessageService.SendMessage("newMessage",l,"bz-am"),setTimeout(function(){o._postMessageService.SendMessage("maximize",{},"bz-am")},2e3))}break;case 5:if(o.LoadMessagesOffline(),o.viewMode.next("message-window"),t=o._appStateService.GetStorage("invitationPopupClosed"),!o.Maximized&&!t){n=o._appStateService.GetStorage("messages");var i="";n&&n.length&&n.reverse().map(function(e){i||"Agents"!=e.type||(i=e,o._postMessageService.SendMessage("newMessage",e,"bz-am"),setTimeout(function(){o._postMessageService.SendMessage("maximize",{},"bz-am")},2e3))})}break;case 6:o.Session.workflow&&o._appStateService.SaveStorage("workFlow",o.Session.workflow?o.Session.workflow:""),o.Session.msg&&o.Session.msg.length>0&&o._appStateService.SaveStorage("msg",o.Session.msg?o.Session.msg:""),o._appStateService.ClearStorage(["messages","lasttouchedTime","notificationCount","botmessages","conversations"]),o.viewMode.next("home");break;case 7:o.LoadBotMessages(),o.viewMode.next("message-window");break;case 8:o.Session&&(o.Session&&o.Session.exists?(o.LoadMessagesOffline(),o.viewMode.next("message-window")):(o.GetBotGreetingMessageRest(),o.viewMode.next("home")));break;default:o._appStateService.ClearStorage(["messages","lasttouchedTime","notificationCount","botmessages","botState","disconnectionTime"]),o.viewMode.next("home")}}}),this._appStateService.Maximized.subscribe(function(e){o.Maximized=e}),this._appStateService.AutoScroll.subscribe(function(e){o.AutoScroll=e}),this._postMessageService.closeEmoji.subscribe(function(e){e&&o.closeEmoji.next(!0)}),this._appStateService.previousAgent.subscribe(function(e){o.previousAgent=e}),this._socketService.GetSocketInstance().subscribe(function(e){e?(o.subscrtiptions.push(o._socketService.GetDisconnectionStatus().subscribe(function(e){o.serverDisconnect=e})),o.Socket=e,o.subscrtiptions.push(o._appStateService.Permissions.subscribe(function(e){o.Permissions=e,o.Permissions&&o.Permissions.news&&o._appStateService.GetStorage("sessionStart")?o.GetNewsRest():(o.News.next([]),o.newsFetched.next(!0)),o.Permissions&&o.Permissions.promotions&&o._appStateService.GetStorage("sessionStart")?o.GetPromotionsRest():(o.Promotions.next([]),o.promotionsFetched.next(!0)),e&&o.AllowTicketWhenAgentAvailable.next(e.allowedAgentAvailable),e&&o.GetFAQSRest("",o.Session.nsp).subscribe(function(e){e&&e.status&&"ok"==e.status&&o.FAQS.next(e.FAQS)}),e&&e.showchathistory&&o.GetMoreRecentChatsRest().subscribe()})),o.Socket.on("privateMessage",function(e){if(o.SendHelpNotifications(),o.Maximized||"Visitors"==e.type||"Events"==e.type||(o._postMessageService.SendMessage("newMessage",e,"bz-am"),o._postMessageService.SendMessage("maximize",{},"bz-am")),o.Maximized&&o.AutoScroll&&"message-window"==o.viewMode.getValue()&&!o.ViewingChatHistory.getValue()&&"Visitors"!=e.type)o._appStateService.SetMessageCount(0),o.UpdateMessageSentStatusRest();else if("Visitors"!=e.type){o._appStateService.PlayNotificationSound();var t=o._appStateService.GetStorage("notificationCount"),n=t?parseInt(t)+1:1;o._appStateService.SetMessageCount(n)}o.SaveMessage(e)}),o.Socket.on("transferChat",function(e){e.event?o.AppendEventsMessages(e.event):o._appStateService.IsNoAgent(o.Session.agent)?o._appStateService.IsNoAgent(o.Session.agent)&&!o._appStateService.IsNoAgent(o.previousAgent)&&e.agent.name!=o.previousAgent.name&&e.agent.id!=o.previousAgent.id||o.AppendEventsMessages("Connected To Agent "+e.agent.name):o.AppendEventsMessages(e.agent.name!=o.Session.agent.name&&e.agent.id!=o.Session.agent.id?"Chat Transferred To "+e.agent.name:"Connected To Agent "+e.agent.name),e.agent&&(o.Session.agent=e.agent,o.Session.state=3,o._appStateService.UpdateSession(o.Session))}),o.Socket.on("updateCallSettings",function(e){return l.__awaiter(o,void 0,void 0,function(){return l.__generator(this,function(t){return this._appStateService.AllowedCall.next(e.settings),this._postMessageService.SendMessage("updateCallSettings",e.settings,"*"),[2]})})}),o.Socket.on("agentOnline",function(e){return l.__awaiter(o,void 0,void 0,function(){var t;return l.__generator(this,function(n){return(t=this.AgentList.getValue().filter(function(t){return t._id!=e.agent._id})).unshift(e.agent),this.AgentList.next(t),[2]})})}),o.Socket.on("agentOffline",function(e){return l.__awaiter(o,void 0,void 0,function(){var t;return l.__generator(this,function(n){return t=this.AgentList.getValue().filter(function(t){return t._id!=e.agent._id}),this.AgentList.next(t),[2]})})}),o.Socket.on("agentUnavailable",function(e){return l.__awaiter(o,void 0,void 0,function(){return l.__generator(this,function(t){return e&&this.AgentList.next(this.AgentList.getValue().filter(function(t){return t._id!=e.id})),[2]})})}),o.Socket.on("endChatByAgent",function(e){return l.__awaiter(o,void 0,void 0,function(){return l.__generator(this,function(e){return this.endChatByAgent.next(!0),[2]})})}),o.Socket.on("noAgent",function(e){2==e.state&&o._appStateService.IsNoAgent(e.agent),o.UpdateAgentTypingState(!1),o._appStateService.UpdateSession(e),o.LostAgent.next(!0)}),o.Socket.on("userUpdated",function(e){e.status&&delete e.status,o._appStateService.UpdateSession(e)}),o.Socket.on("noAgentWithBot",function(e){"noAgent"==e.status&&delete e.status,o.Session.state=5,o._appStateService.UpdateSession(o.Session),o.viewMode.next("home"),setTimeout(function(){o.noAgentAvailable.next(!0)},0)}),o.Socket.on("visitorBanned",function(e){"ok"==e.status&&e.visitor&&o.banned.next(!0)}),o.Socket.on("gotAgent",function(e){5==o.Session.state&&o.ClearTemporaryMessage(),2!=o.Session.state||o.Session.inactive||(o._appStateService.IsNoAgent(o.Session.agent)?o._appStateService.IsNoAgent(o.Session.agent)&&!o._appStateService.IsNoAgent(o.previousAgent)?o.AppendEventsMessages(e.agent.name!=o.previousAgent.name&&e.agent.id!=o.previousAgent.id?"Chat Transferred To "+e.agent.name:"Connected To Agent "):e.agent&&o.AppendEventsMessages("Connected To Agent "+e.agent.name):e.agent.name!=o.Session.agent.name&&e.agent.id!=o.Session.agent.id&&o.AppendEventsMessages("Chat Transferred To "+e.agent.name)),o.gotAgent.next(!0),"message-window"!=o.viewMode.getValue()&&o.viewMode.next("message-window"),o.ExtractGreetingMessage(e),o._appStateService.UpdateSession(e)}),o.Socket.on("newEngagement",function(e){return l.__awaiter(o,void 0,void 0,function(){return l.__generator(this,function(t){return this.Maximized||((e.greetingMessage||e.msg)&&this._postMessageService.SendMessage("newMessage",e.msg||e.greetingMessage,"bz-am"),this._appStateService.SetMessageCount(1),this._postMessageService.SendMessage("maximize",{},"bz-am")),this.ExtractGreetingMessage(e),this.Session.username&&-1==this.Session.username.indexOf("Guest")&&(e.username=this.Session.username),this.Session.email&&"unregistered"!=e.username.toLowerCase()&&(e.email=this.Session.email),this._appStateService.UpdateSession(e),e&&e.state&&(4==e.state||5==e.state)&&this._appStateService.SaveStorage("invitationPopupClosed",!1),[2]})})}),o.Socket.on("getWorkFlow",function(e){return l.__awaiter(o,void 0,void 0,function(){return l.__generator(this,function(e){return[2]})})}),o.Socket.on("allPopUpWindowsClose",function(e){o._postMessageService.SendMessage("negotiatePopUpClose",{},"*")}),o.Socket.on("allHelpSupportWindowsClose",function(e){o._postMessageService.SendMessage("allHelpSupportWindowsClose",{},"*")}),o.Socket.on("privateMessageSent",function(e){o.Session.cid==e.cid&&(setTimeout(function(){o.Messages.next(o.Messages.getValue().map(function(e){return"Visitors"==e.type&&(e.sent=!0),e}))},500),setTimeout(function(){o.SaveMessageStorage()},0))}),o.Socket.on("typingState",function(e){3!=o.Session.state&&8!=o.Session.state||o.UpdateAgentTypingState(e.state)}),o.Socket.on("chatBotTransferToAgent",function(e){o.TransferChatToAgentFromBot()}),o.Socket.on("cannedformReceived",function(e){e&&e.form&&e.form.length&&!o.cannedFormOpened.getValue()&&(o.actionFormReceived.next(e.form[0]),o.UpdateAgentTypingState(!1))}),o.Socket.on("closeActionForm",function(e){e&&"ok"==e.status&&setTimeout(function(){o.closeActionForm.next()},3e3)}),o.Socket.on("excludeSender",function(e){}),o.Socket.on("engageBot",function(e){1==o.Session.state&&e.botEnabled&&(o.GetBotGreetingMessageRest(),o.Session.state=8,o.Session.agent="",o._appStateService.UpdateSession(o.Session),o._postMessageService.SendMessage("gotAgent",o.Session.agent,"bz-cb|bz-am"))}),o.Socket.on("credentialsUpdated",function(e){"ok"==e.status&&(delete e.status,o._appStateService.UpdateSession({username:e.username,email:e.email}))}),o.subscrtiptions.push(o._postMessageService.SendFromAutoMessage.subscribe(function(e){try{if(3==o.Session.state||2==o.Session.state)o.SendPlainMessageGeneralized(e);else{if(4!=o.Session.state&&5!=o.Session.state)throw new Error("Permission Error Unable to send Message Error Code: "+o.Session.state);o._socketService.ChangeStateRest(3).subscribe(function(t){"ok"==t.status&&(o.AppendEventsMessages("Moved to State Chatting"),o.Session=parseInt(t.session),o._appStateService.UpdateSession(o.Session),o.SendPlainMessage(e))},function(e){})}}catch(t){}})),o.subscrtiptions.push(o._postMessageService.GotUserInformation.subscribe(function(e){e.username&&e.email&&(!o.Session.email||!o.Session.userName||o.Session.email&&"unregistered"==o.Session.email.toLowerCase())&&(o.Socket.emit("updateCredentials",e,function(t){"ok"==t.status&&(delete t.status,o._appStateService.UpdateSession({username:e.username,email:e.email}))}),o._appStateService.AllowEdit.next(!e.viewEdit||e.viewEdit))})),o.subscrtiptions.push(o._socketService.GetStatus().subscribe(function(e){})),o.subscrtiptions.push(o._postMessageService.GotAddionalData.subscribe(function(e){e&&o.AdditionalDataUpdate(e).subscribe(function(e){},function(e){})})),o.subscrtiptions.push(o._postMessageService.GotRequestedCarData.subscribe(function(e){o.GotRequestedCarData(e).subscribe(function(e){},function(e){})}))):o.subscrtiptions.map(function(e){e.unsubscribe()})}),this._socketService.loadScriptPolling.subscribe(function(e){e&&o.RestartChatOnDisconnect()}),this._postMessageService.initiateChatSupport.subscribe(function(e){e&&o.StartSupportChat(e)}),this._appStateService.BotServiceAddress.subscribe(function(e){o.botServiceAddress=e}),this._postMessageService.Maximize.subscribe(function(e){e&&"message-window"==o.viewMode.getValue()&&o.UpdateMessageSentStatusRest()}),this.MessagesFetched.subscribe(function(e){e&&o.GetDisconnectedTime()})}return e.prototype.IsUserNotRegistered=function(){return!(this.Session.email&&(!this.Session.email||"unregistered"!=this.Session.email.toLowerCase()))},e.prototype.ServerDisconnection=function(){this.forceEndedChat.next(!0),this.endChatByAgent.getValue()?this.AppendEventsMessages("Chat ended by "+this.Session.agent.name,!0):this.endChatByVisitor.getValue()?this.AppendEventsMessages("Chat Ended",!0):this.AppendEventsMessages("Chat ended due to inactivity",!0),this.UpdateAgentTypingState(!1),8!=this.Session.state&&this.SendTypingEventRest(!1),this.Maximized||8==this.Session.state||(this._postMessageService.SendMessage("maximize",{},"bz-cw"),this._postMessageService.SendMessage("minimize",{},"bz-cb")),this.EndChat(!1),this._appStateService.ShowEndchatDialog.next(!0)},e.prototype.UpdateMessageSentStatus=function(){this.Socket.emit("privateMessageRecieved",{sessionid:this.Session._id||this.Session.csid,cid:this.Session.cid,type:"Agents"},function(e){})},e.prototype.UpdateMessageSentStatusRest=function(){try{this.Session.cid&&this._restService.SendXMLHttpRequest("/chats/privateMessageRecieved","POST",JSON.stringify({sessionid:this.Session.csid,cid:this.Session.cid,type:"Agents"}),!1,!0,[{name:"Content-Type",value:"application/json"}]).subscribe(function(e){JSON.parse(e)},function(e){})}catch(e){}},e.prototype.UpdateAgentTypingState=function(e){this.typing.next(e)},e.prototype.GetBotGreetingMessage=function(){var e=this;this.Socket&&this.Socket.emit("getBotGreetingMessage",{state:this.Session?this.Session.state:"1"},function(t){t.botGreetingMessage&&t.botGreetingMessage.length&&e.SaveBotMessage(t.botGreetingMessage)})},e.prototype.TransferChatToAgentFromBot=function(){try{this._restService.SendXMLHttpRequest("/chats/botTransferToAgent","POST",JSON.stringify({sessionid:this.Session.csid}),!1,!0,[{name:"Content-Type",value:"application/json"}]).subscribe(function(e){},function(e){})}catch(e){}},e.prototype.SaveMessage=function(e){this.Messages.getValue().push(e),this.Messages.next(this.Messages.getValue()),this._appStateService.SaveStorage("lasttouchedTime",e.date?e.date:(new Date).toISOString()),this.SaveMessageStorage()},e.prototype.SaveMessageStorage=function(){this._appStateService.SaveStorage("messages",this.Messages.getValue())},e.prototype.SaveBotMessage=function(e){this.botMessages.next(e),this._appStateService.SaveStorage("botmessages",e),this._appStateService.SaveStorage("lasttouchedTime",e[e.length-1].date?e[e.length-1].date:(new Date).toISOString())},e.prototype.LoadBotMessages=function(){this.botMessages.next(this._appStateService.GetStorage("botmessages"))},e.prototype.LoadBotState=function(){var e=this;return new Yf.Observable(function(t){t.next(e._appStateService.GetStorage("botState")),t.complete()})},e.prototype.ClearBotMessages=function(){this._appStateService.ClearStorage(["botmessages"]),this.botMessages.next([])},e.prototype.GetConversations=function(){this.Conversations.next(this._appStateService.GetStorage("conversations"))},e.prototype.SendTypingEvent=function(e){var t=this;return new Yf.Observable(function(n){t.Socket.emit("visitorTyping",{state:e},function(e){}),n.next(!0),n.complete()})},e.prototype.SendTypingEventRest=function(e){var t=this;return new Yf.Observable(function(n){try{t._restService.SendXMLHttpRequest("/chats/typing","POST",JSON.stringify({type:"Visitors",state:e,sessionid:t.Session.csid}),!1,!0,[{name:"Content-Type",value:"application/json"}]).subscribe(function(e){n.next(!0),n.complete()},function(e){n.next(!1),n.complete()})}catch(l){}})},e.prototype.CloseChat=function(){var e=this;return new Yf.Observable(function(t){try{e._restService.SendXMLHttpRequest("/chats/endChat","POST",JSON.stringify({sid:e.Session.csid}),!1,!0,[{name:"Content-Type",value:"application/json"}]).subscribe(function(e){var n=JSON.parse(e);n&&"ok"==n.status?(t.next(!0),t.complete()):(t.next(!1),t.complete())},function(e){t.next(!1),t.complete()})}catch(n){}})},e.prototype.SneakPeak=function(e){var t=this;return new Yf.Observable(function(n){t.Socket.emit("visitorSneakPeak",{msg:e},function(e){}),n.next(!0),n.complete()})},e.prototype.SneakPeakRest=function(e){var t=this;return new Yf.Observable(function(n){try{t._restService.SendXMLHttpRequest("/chats/visitorSneakPeak","POST",JSON.stringify({msg:e,_id:t.Session.csid}),!1,!0,[{name:"Content-Type",value:"application/json"}]).subscribe(function(e){n.next(!0),n.complete()},function(e){n.next(!1),n.complete()})}catch(l){}})},e.prototype.GetConversationClientID=function(e){var t=this;this.Socket.emit("getConversationClientID",{cid:e},function(e){e&&t._appStateService.UpdateSession(e)})},e.prototype.GetConversationClientIDRest=function(e){var t=this;try{this._restService.SendXMLHttpRequest("/chats/getConversationClientID","POST",JSON.stringify({cid:e,_id:this.Session.csid}),!1,!0,[{name:"Content-Type",value:"application/json"}]).subscribe(function(e){var n=JSON.parse(e);e&&t._appStateService.UpdateSession(n)},function(e){})}catch(n){}},e.prototype.GetFilledtCustomFeedback=function(e){var t=this;try{this._restService.SendXMLHttpRequest("/chats/getCustomFeedback","POST",JSON.stringify({cid:e,_id:this.Session.csid}),!1,!0,[{name:"Content-Type",value:"application/json"}]).subscribe(function(e){var n=JSON.parse(e);n&&t.customFeedback.next(n.customfeedback)},function(e){})}catch(n){}},e.prototype.AppendEventsMessages=function(e,t){if(void 0===t&&(t=!1),e&&(3==this.Session.state||4==this.Session.state||2==this.Session.state||t)){var n={from:this.Session.agent&&this.Session.agent.name?this.Session.agent.name:this.previousAgent&&this.previousAgent.name?this.previousAgent.name:"",to:this.Session.username?this.Session.username:"",body:e,type:"Events",cid:this.Session.cid?this.Session.cid:"",attachment:!1,date:(new Date).toISOString(),form:[],delivered:!0,sent:!0,chatFormData:""};8==this.Session.state?this.AppendChatBotMessage(n):this.SaveMessage(n)}},e.prototype.SendDisconnectEventToServer=function(e){var t=this;try{(e&&3==this.Session.state||4==this.Session.state||2==this.Session.state)&&this._socketService.SendDisconnectMessageToServerRest(e).subscribe(function(e){e&&t.SaveMessage(e)},function(e){})}catch(n){}},e.prototype.FormatSurvey=function(e,t){var n='<h5 class="clearfix p-0">'+t+"</h5>";return Object.keys(e).map(function(t){n+=t+" : "+e[t]+"<br>"}),{from:this.Session.username?this.Session.username:"",to:this.Session.agent?this.Session.agent:void 0,body:n,type:"Visitors",cid:this.Session.cid?this.Session.cid:"",attachment:!1,date:(new Date).toISOString(),chatFormData:t}},e.prototype.AppendFormsMessages=function(e,t){var n=this;return new Yf.Observable(function(l){try{n.SendMessage(n.FormatSurvey(e,t)),l.next(!0),l.complete()}catch(i){l.error()}})},e.prototype.ReplaceSendingMessage=function(e){var t=this.Messages.getValue().map(function(t){return"Visitors"!=t.type&&"Events"!=t.type||(t&&t.sending&&t.date==e.date&&e.delivered?(t.sending=!1,Object.keys(e).map(function(n){t[n]=e[n]})):t.hasOwnProperty("delivered")&&t.delivered&&t.sending?(t.retry=!1,t.sending=!1):t.hasOwnProperty("delivered")&&!t.delivered?(t.sending=!1,t.retry=!0):t.sending=!1),t});this.Messages.next(t),this._appStateService.SaveStorage("lasttouchedTime",e.date?e.date:(new Date).toISOString()),this.SaveMessageStorage()},e.prototype.ChatBotMessage=function(e){var t=this;return new Yf.Observable(function(n){t.Socket.emit("botMessage",{msg:e},function(e){e.reply?(n.next(e.reply),n.complete()):n.error(e.error)})})},e.prototype.SendChatBotMessage=function(e){var t=this;this.AppendChatBotMessage(e),this.UpdateAgentTypingState(!0),this.ChatBotMessage(e).subscribe(function(e){setTimeout(function(){e&&e.text&&!e.text.match(/Did/)?t.AppendChatBotMessage(t.GetChatBotReplyMessage(e.text)):t.AppendChatBotMessage(t.GetChatBotReplyMessage("Sorry, I'm not sure what you meant!")),t.UpdateAgentTypingState(!1)},100)},function(e){t.AppendChatBotMessage(t.GetChatBotReplyMessage(e)),t.UpdateAgentTypingState(!1)})},e.prototype.SendMessage=function(e,t){var n=this;if(void 0===t&&(t=!1),t&&(this.Messages.next(this.Messages.getValue().filter(function(t,n){return t._id!=e._id||JSON.stringify(t)!==JSON.stringify(e)})),e.retry=!1),this._appStateService.AutoScroll.next(!0),3==this.Session.state||4==this.Session.state||2==this.Session.state||8==this.Session.state){e.sending=!0,this.SaveMessage(e);try{this.sending.next(!0),this._socketService.SendMessageToServer(e).subscribe(function(e){e&&(n.sending.next(!1),n.ReplaceSendingMessage(e),n._appStateService.SetMessageCount(0))},function(t){n.sending.next(!1),e.retry=!0,n.ReplaceSendingMessage(e)})}catch(l){this.ReplaceSendingMessage(e),setTimeout(function(){n.sending.next(!1)},1e3)}}},e.prototype.GetIndicesOf=function(e,t,n){var l=e.length;if(0==l)return[];var i,o=0,r=[];for(n||(t=t.toLowerCase(),e=e.toLowerCase());(i=t.indexOf(e,o))>-1;)r.push(i),o=i+l;return r},e.prototype.CheckUrl=function(e,t){var n=this;return void 0===t&&(t="urlRegexMatch"),new Yf.Observable(function(l){var i=e.match(n.matchingRegex[t]),o="",r=[];i&&i.length?(e=e.replace(/(?:\r\n|\r|\n)/g," (lb) "),(i=Oa(i))&&i.length&&(r=e.split(" ")).map(function(e,t){return i.map(function(t){var n=t.replace(/www./,"");n=(-1===t.indexOf("http")?"http://":"")+t;var l=t.replace(t,'<a href="'+n+'" target="_blank">'+t+"</a>");t==e&&(e=l)}),o+=t!=r.length-1?e+" ":e,e}),l.next(o.split(" (lb) ").join("\n")),l.complete()):(l.next(e),l.complete())})},e.prototype.CheckScript=function(e){var t=document.createElement("div");t.innerHTML=e;for(var n=t.getElementsByTagName("script"),l=n.length;l--;)n[l].parentNode.removeChild(n[l]);return t.innerHTML},e.prototype.ReplaceHtmlEntities=function(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},e.prototype.ReplaceAll=function(e,t,n){var l=this;return new Yf.Observable(function(n){var i=e,o="",r="",u=e.match(l.matchingRegex[t]);u&&u.length?(u=Oa(u)).map(function(e){for(;""!=i&&-1!==i.indexOf(e);){var t=i.indexOf(e);if(r+=i.substring(0,t),o=i.substring(t,t+e.length),r+="<p>"+o+"</p>",-1==(i=i.substring(t+e.length)).indexOf(e)){r+=i;break}}}):r=e,n.next(r),n.complete()})},e.prototype.SendPlainMessage=function(e,t){var n=this;void 0===t&&(t=[]);try{if(!e.trim()&&t&&!t.length)return;var l=this.ReplaceHtmlEntities(e);this.CheckUrl(l).subscribe(function(e){if(e&&e.replace(/^\s+|\s+$/g,"")||!t||t.length)if(e=e.replace(/^\s+|\s+$/g,""),n.Session.state&&n.Session.state>1&&n.Session.state<=5){var l={from:n.Session.username?n.Session.username:"",to:n.Session.agent?n.Session.agent:void 0,body:e,type:"Visitors",cid:n.Session.cid?n.Session.cid:"",attachment:!1,date:(new Date).toISOString(),form:t||[]};n.SendMessage(l)}else 7!=n.Session.state&&8!=n.Session.state||(l={from:n.Session.username?n.Session.username:"",to:"Assistant",body:e,type:"Visitors",cid:n.Session.cid?n.Session.cid:"",attachment:!1,date:(new Date).toISOString(),form:t||[]},n._appStateService.AutoScroll.next(!0),7==n.Session.state?n.SendWorkFlowBotMessage(l):n.SendChatBotMessage(l))})}catch(i){}},e.prototype.SendPlainMessageGeneralized=function(e,t){var n=this;void 0===t&&(t=[]);try{if(!e.trim()&&t&&!t.length)return;var l=this.ReplaceHtmlEntities(e);this.CheckUrl(l).subscribe(function(e){if((e&&e.replace(/^\s+|\s+$/g,"")||!t||t.length)&&(e=e.replace(/^\s+|\s+$/g,""),n.Session.state&&n.Session.state>1&&n.Session.state<=8)){var l={from:n.Session.username?n.Session.username:"",to:n.Session.agent?n.Session.agent:void 0,body:e,type:"Visitors",cid:n.Session.cid?n.Session.cid:"",attachment:!1,date:(new Date).toISOString(),form:t||[]};7==n.Session.state?n.SendWorkFlowBotMessage(l):n.SendMessage(l)}})}catch(i){}},e.prototype.SendWorkFlowBotMessage=function(e){var t=this;this._socketService.SendBotMessageToServer(e).subscribe(function(e){setTimeout(function(){t.SaveMessage(e),t._appStateService.SetMessageCount(0),t.ClearBotMessages(),t.LoadMessagesRest(t.Session.cid,t.LastTouchedTime.getValue())},1e3)},function(e){var n={from:t.Session.agent.name?t.Session.agent.name:"Assistant",to:t.Session.username?t.Session.username:"",body:"Sorry, I'm not sure what you meant!",type:"ChatBot",cid:t.Session.cid?t.Session.cid:"",attachment:!1,date:(new Date).toISOString()};"Unconfigured"==e.code&&(t.botError.next(!0),t.botMessages.next(t.botMessages.getValue().concat(e.data)),setTimeout(function(){t.botMessages.next(t.botMessages.getValue().concat(n)),t.SaveBotMessage(t.botMessages.getValue())},500))})},e.prototype.GetChatBotReplyMessage=function(e,t){return{from:this.Session.agent?this.Session.agent:"Assistant",to:this.Session.username?this.Session.username:"",body:e,type:"ChatBot",cid:this.Session.cid?this.Session.cid:"",attachment:!1,date:(new Date).toISOString(),form:t||[]}},e.prototype.AppendChatBotMessage=function(e){this.botMessages.next(this.botMessages.getValue().concat(e)),this.SaveBotMessage(this.botMessages.getValue())},e.prototype.UpdateMessages=function(e){this.Messages.next(this.Messages.getValue().concat(e))},e.prototype.SendAttatchment=function(e){var t=this;try{(this.Session.state&&this.Session.state>"1"&&this.Session.state<"5"||"7"==this.Session.state)&&(this._appStateService.AutoScroll.next(!0),this._socketService.SendMessageToServer(e).subscribe(function(e){t.SaveMessage(e)},function(e){}))}catch(n){}},e.prototype.EndChatOnDisconnect1=function(){this._socketService.showDisconnectDialog.next(!1),this.ShowDisplay.next(!1),this.botMessages.next([]),this.Messages.next([]),this.AgentList.next([]),this.Promotions.next(void 0),this.News.next(void 0),this._appStateService.Session.next(void 0),this._socketService.Disconnect()},e.prototype.ClearSessionData=function(){var e=this;return new Yf.Observable(function(t){e._appStateService.endChat.next(!0),e._appStateService.RefreshSession(),e._appStateService.Permissions.next(void 0),e.News.next(void 0),e.Messages.next([]),e.botMessages.next([]),e.AgentList.next([]),e.Promotions.next(void 0),e.customFeedback.next({}),e.Conversations.next([]),e.ShowDisplay.next(!1),e._socketService.showDisconnectDialog.next(!1),t.next(!0),t.complete()})},e.prototype.EndChat=function(e){void 0===e&&(e=!0),this._appStateService.endChat.next(!0),this._appStateService.SaveStorage("sessionStart",!1),this._appStateService.SaveStorage("invitationPopupClosed",!1),this._socketService.Disconnect(),e?this._appStateService.ShowEndchatDialog.next(!0):setTimeout(function(){},0)},e.prototype.EndChatOnDisconnect=function(){this._appStateService.Permissions.next(void 0),this.News.next(void 0),this.Messages.next([]),this.botMessages.next([]),this.AgentList.next([]),this.Promotions.next(void 0),this.FAQS.next(void 0),this.ShowDisplay.next(!1),this._socketService.showDisconnectDialog.next(!1),this._appStateService.Session.next(void 0),this._socketService.Disconnect()},e.prototype.ChangeState=function(e){var t=this;return new Yf.Observable(function(n){t._socketService.ChangeStateRest(e).subscribe(function(e){"ok"==e.status?(t.Session.state=3,e.session&&t._appStateService.UpdateSession(e.session),n.next(e),n.complete()):n.error({code:"cst",text:"Error in Changing State"})},function(e){n.error({code:"cst",text:"Error in Changing State"})})})},e.prototype.LoadMessages=function(e,t){var n=this,l=this._appStateService.GetStorage("messages"),i=l.filter(function(e){return e.sent&&"Events"!=e.type}),o=(l.filter(function(e){return e.delivered&&!e.sent&&"Events"!=e.type}),i&&i.length?i[i.length-1]._id:"");this.Socket.emit("getMessages",{cid:e,lasttouchedTime:t,_id:o},function(e){l=(l=l.filter(function(t){return null==e.find(function(e){return t._id==e._id})})).filter(function(e){return e._id}),o&&n.Messages.next(l),e&&(e.length?(n.Messages.next(o?n.Messages.getValue().concat(e):e),t=new Date(e[e.length-1].date)?e[e.length-1].date:(new Date).toISOString(),n._appStateService.SaveStorage("messages",n.Messages.getValue()),n._appStateService.SaveStorage("lasttouchedTime",t),n.MessagesFetched.next(!0)):(n._appStateService.SaveStorage("lasttouchedTime",(new Date).toISOString()),n.MessagesFetched.next(!0)))})},e.prototype.GetLastMessageIDForFetching=function(){var e=this;return new Yf.Observable(function(t){var n=e._appStateService.GetStorage("messages"),l=n.filter(function(e){return e.sent&&"Events"!=e.type});n.filter(function(e){return e.delivered&&!e.sent&&"Events"!=e.type}),t.next({id:l&&l.length?l[l.length-1]._id:"",messages:n}),t.complete()})},e.prototype.LoadMessagesRest=function(e,t){var n=this,l=this._appStateService.GetStorage("messages"),i=l.filter(function(e){return e.sent&&"Events"!=e.type}),o=(l.filter(function(e){return e.delivered&&!e.sent&&"Events"!=e.type}),i&&i.length?i[i.length-1]._id:"");this._restService.SendXMLHttpRequest("/chats/getMessages","POST",JSON.stringify({cid:e,lasttouchedTime:t,_id:o,sessionID:this.Session.csid}),!1,!0,[{name:"Content-Type",value:"application/json"}]).subscribe(function(e){var i=JSON.parse(e);l=(l=l.filter(function(e){return null==i.find(function(t){return e._id==t._id})})).filter(function(e){return e._id}),o&&n.Messages.next(l),i&&(i.length?(n.Messages.next(o?n.Messages.getValue().concat(i):i),t=new Date(i[i.length-1].date)?i[i.length-1].date:(new Date).toISOString(),n._appStateService.SaveStorage("messages",n.Messages.getValue()),n._appStateService.SaveStorage("lasttouchedTime",t),n.MessagesFetched.next(!0)):(n._appStateService.SaveStorage("lasttouchedTime",(new Date).toISOString()),n.MessagesFetched.next(!0)))},function(e){n.LoadMessagesOffline()})},e.prototype.LoadMessagesOffline=function(){this.Messages.next(this._appStateService.GetStorage("messages")),this._appStateService.SaveStorage("lasttouchedTime",(new Date).toISOString()),this.MessagesFetched.next(!0)},e.prototype.SubmitSurvey=function(e,t){var n=this;return new Yf.Observable(function(l){n.Socket.emit("submitsurvey",{survey:e,feedbackForm:t,forceEnded:n.forceEndedChat.getValue()},function(e){"ok"==e.status?(l.next(!0),l.complete()):l.error({code:"sur",text:"Error in Submitting Survey"})})})},e.prototype.SubmitSurveyRest=function(e,t){var n=this;return new Yf.Observable(function(l){n._restService.SendXMLHttpRequest("/visitor/submitSurveyAfterEndChat","POST",JSON.stringify({survey:e,feedbackForm:t,sid:n.Session._id||n.Session.id||n.Session.csid,cid:n.Session.cid}),!1,!0,[{name:"Content-Type",value:"application/json"}]).subscribe(function(e){n.feedbackSubmitted.next(!0),l.next(!0),l.complete()},function(e){l.error("cannot end Chat")})})},e.prototype.SubmitTicket=function(e){var t=this;return new Yf.Observable(function(n){t.Socket.emit("submitTicket",e,function(e){"ok"==e.status?(n.next(e),n.complete()):"chat"==e.status?(t.ExtractGreetingMessage(e.session),t._appStateService.UpdateSession(e.session),n.next(e),n.complete()):n.error({code:"stt",text:"Error in Submitting Ticket"})})})},e.prototype.SubmitTicketRest=function(e){var t=this;return new Yf.Observable(function(n){try{var l=t._socketService.CheckIfSocketConnected();t._restService.SendXMLHttpRequest("/chats/submitTicket","POST",JSON.stringify({ticket:e,sessionid:t.Session.csid,socketID:l?t.Socket.id:""}),!1,!0,[{name:"Content-Type",value:"application/json"}]).subscribe(function(e){var i=JSON.parse(e);"ok"==i.status?(n.next(i),n.complete()):"chat"==i.status?(l&&t.ExtractGreetingMessage(i.session),t._appStateService.UpdateSession(i.session),n.next(i),n.complete()):n.error({code:"stt",text:"Error in Submitting Ticket"})},function(e){n.error({code:"stt",text:"Error in Submitting Ticket"})})}catch(i){n.error({code:"stt",text:"Error in Submitting Ticket"})}})},e.prototype.ConvertChatToTicket=function(e){var t=this;return new Yf.Observable(function(n){t.Socket.emit("convertChatToTicket",e,function(e){"ok"==e.status?n.next(!0):n.error({code:"stt",text:"Error in Submitting Ticket"})})})},e.prototype.UserInformation=function(e){var t=this;return new Yf.Observable(function(n){var l=window.setTimeout(function(){n.error({code:"uit",text:"Register User Timeout"})},3e4);t.Socket.emit(1==t.Session.state||8==t.Session.state?"userinformation":"updateUserInfo",e,function(e){if("noAgent"==e.status)n.next(!1);else{e.status&&delete e.status,clearTimeout(l),t.botMessages.getValue()&&t.botMessages.getValue().length&&t.ClearBotMessages(),t._appStateService.UpdateSession(e),"message-window"!=t.viewMode.getValue()&&t.viewMode.next("message-window");var i={};i.username=e.username,i.email=e.email,i.phone=e.phone?e.phone:"",t.ExtractGreetingMessage(e),n.next(!0),n.complete()}})})},e.prototype.ClearTemporaryMessage=function(){this.Messages.next([]),this._appStateService.ClearStorage(["messages"])},e.prototype.GetBotGreetingMessageRest=function(){var e=this;try{var t=this._socketService.CheckIfSocketConnected();this._restService.SendXMLHttpRequest("/chats/initiateChatForBot","POST",JSON.stringify({state:this.Session?this.Session.state:"1",_id:this.Session.csid,socketID:t?this.Socket.id:""}),!1,!0,[{name:"Content-Type",value:"application/json"}]).subscribe(function(t){var n=JSON.parse(t);n.botGreetingMessage&&e.ExtractGreetingMessage({greetingMessage:n.botGreetingMessage}),n&&n.session&&e._appStateService.UpdateSession(n.session)})}catch(n){}},e.prototype.UserInformationRest=function(e){var t=this;return new Yf.Observable(function(n){var l=t.Session.state,i=t._socketService.CheckIfSocketConnected(),o=1==t.Session.state||8==t.Session.state||5==t.Session.state?"userinformation":"updateUserInfo",r=window.setTimeout(function(){n.error({code:"uit",text:"Register User Timeout"})},3e4);t._restService.SendXMLHttpRequest("/chats/"+o,"POST",JSON.stringify({data:e,sessionid:t.Session.csid,socketID:i?t.Socket.id:""}),!1,!0,[{name:"Content-Type",value:"application/json"}]).subscribe(function(e){var o=JSON.parse(e);if(o&&"noAgent"!=o.status&&5==l&&t.ClearTemporaryMessage(),"noAgent"==o.status)n.next(!1);else{o.status&&delete o.status,clearTimeout(r),t.botMessages.getValue()&&t.botMessages.getValue().length&&t.ClearBotMessages(),t._appStateService.UpdateSession(o),"message-window"!=t.viewMode.getValue()&&t.viewMode.next("message-window");var u={};u.username=o.username,u.email=o.email,u.phone=o.phone?o.phone:"",i&&t.ExtractGreetingMessage(o),n.next(!0),n.complete()}},function(e){n.next(!1),n.complete()})})},e.prototype.SubmitCustomFormRest=function(e,t){var n=this;return new Yf.Observable(function(l){n._restService.SendXMLHttpRequest("/chats/submitCustomSurvey","POST",JSON.stringify({cid:n.Session.cid,customFeedback:e,log:t,sessionid:n.Session.csid}),!1,!0,[{name:"Content-Type",value:"application/json"}]).subscribe(function(e){var t=JSON.parse(e);t&&(t.result.visitorCustomFields?(n.customFeedback.next(t.result.visitorCustomFields),l.next(!0),l.complete()):(l.next(!1),l.complete()))},function(e){l.next(!1),l.complete()})})},e.prototype.UpdateUserInformation=function(e){var t=this;return new Yf.Observable(function(n){t.Socket.emit("updateUserInfo",e,function(e){"userUpdated"==e.status?(delete e.status,t._appStateService.UpdateSession(e),n.next(e)):n.error({code:"uui",text:"Error in Updating User"})})})},e.prototype.UpdateUserInformationRest=function(e){var t=this;return new Yf.Observable(function(n){t._restService.SendXMLHttpRequest("/chats/updateUserInfo","POST",JSON.stringify({data:e,sessionid:t.Session.csid}),!1,!0,[{name:"Content-Type",value:"application/json"}]).subscribe(function(e){var l=JSON.parse(e);"userUpdated"==l.status?(delete l.status,t._appStateService.UpdateSession(l),n.next(l)):n.error({code:"uui",text:"Error in Updating User"})},function(e){n.error({code:"uui",text:"Error in Updating User"})})})},e.prototype.UpdateCredentialsForm=function(e){var t=this;return new Yf.Observable(function(n){t.Socket.emit("updateCredentials",e,function(l){"ok"==l.status?(t._appStateService.UpdateSession({username:e.username,email:e.email,phone:e.phone,message:e.message}),delete l.status,delete l.message,t.AppendFormsMessages(l,"Credentials Updated").subscribe(function(e){n.next(!0),n.complete()})):n.error(l)})})},e.prototype.UpdateCredentialsFormRest=function(e){var t=this;return new Yf.Observable(function(n){t._restService.SendXMLHttpRequest("/chats/updateCredentials","POST",JSON.stringify({data:e,sessionid:t.Session.csid}),!1,!0,[{name:"Content-Type",value:"application/json"}]).subscribe(function(e){var l=JSON.parse(e);"ok"==l.status?(t._appStateService.UpdateSession({username:l.username,email:l.email,phone:l.phone?l.phone:"",message:l.message?l.message:""}),delete l.status,delete l.message,t.AppendFormsMessages(l,"Credentials Updated").subscribe(function(e){n.next(!0),n.complete()})):n.error(l)},function(e){n.error("error")})})},e.prototype.WorkFlowInput=function(e){var t=this;return new Yf.Observable(function(n){t.Socket.emit("workFlowInput",{value:e},function(e){"ok"==e.status?(n.next(e),n.complete()):n.error({code:"wfi",text:"Error in Submitting Workflow"})})})},e.prototype.WorkFlowInputRest=function(e){var t=this;return new Yf.Observable(function(n){t._restService.SendXMLHttpRequest("/chats/workFlowInput","POST",JSON.stringify({value:e,sessionid:t.Session.csid}),!1,!0,[{name:"Content-Type",value:"application/json"}]).subscribe(function(e){var t=JSON.parse(e);"ok"==t.status?(n.next(t),n.complete()):n.error({code:"wfi",text:"Error in Submitting Workflow"})})})},e.prototype.PrivateBotMessage=function(e){var t=this;return new Yf.Observable(function(n){t.Socket.emit("privateBotMessage",e.msg,function(e){"ok"==e.status?n.next(e):n.error({code:"pvm",text:"Error in Sending Private Message"})})})},e.prototype.AdditionalDataUpdate=function(e){var t=this;return new Yf.Observable(function(n){t.Socket.emit("updateAdditionalDataInfo",e,function(e){"AdditionalDataUpdated"==e.status?(n.next(e),n.complete()):n.error("Error in Updating Additional Data")})})},e.prototype.AdditionalDataUpdateRest=function(e){var t=this;return new Yf.Observable(function(n){t._restService.SendXMLHttpRequest("/chats/updateAdditionalDataInfo","POST",JSON.stringify({data:e,sessionID:t.Session.csid}),!1,!0,[{name:"Content-Type",value:"application/json"}]).subscribe(function(e){var t=JSON.parse(e);"AdditionalDataUpdated"==t.status?(n.next(t),n.complete()):n.error("Error in Updating Additional Data")},function(e){n.error("Error in Updating Additional Data")})})},e.prototype.GotRequestedCarData=function(e){var t=this;return new Yf.Observable(function(n){t.Socket.emit("updateRequestedCarInfo",e,function(e){"CarRequestedDataUpdated"==e.status?(n.next(e),n.complete()):n.error("Error in Updating Requested Car Data")})})},e.prototype.GotRequestedCarDataRest=function(e){var t=this;return new Yf.Observable(function(n){t._restService.SendXMLHttpRequest("/chats/updateRequestedCarInfo","POST",JSON.stringify({data:e,sessionID:t.Session.csid}),!1,!0,[{name:"Content-Type",value:"application/json"}]).subscribe(function(e){var t=JSON.parse(e);"updateRequestedCarInfo"==t.status?(n.next(t),n.complete()):n.error("Error in Updating Requested Car Data")},function(e){n.error("Error in Updating Requested Car Data")})})},e.prototype.DeleteMessageFromSession=function(e){(e.msg||e.greetingMessage)&&(delete e.msg||delete e.greetingMessage)},e.prototype.ExtractGreetingMessage=function(e){if(e&&e.credentials){var t=JSON.parse(JSON.stringify(e.credentials));delete e.credentials,this.SaveMessage(t)}(e.greetingMessage||e.msg)&&(t=JSON.parse(JSON.stringify(e.greetingMessage||e.msg)),delete e.greetingMessage,this.SaveMessage(t))},e.prototype.GetAvailableAgents=function(){var e=this;try{this.Socket.emit("getAvailableAgents",{},function(t){"ok"==t.status&&e.AgentList.next(t.agentsList.length?t.agentsList:[])})}catch(t){}},e.prototype.GetAvailableAgentsRest=function(){var e=this;try{this._restService.SendXMLHttpRequest("/chats/getAvailableAgents","POST",JSON.stringify({sessionid:this.Session.csid}),!1,!0,[{name:"Content-Type",value:"application/json"}]).subscribe(function(t){var n=JSON.parse(t);"ok"==n.status&&e.AgentList.next(n.agentsList.length?n.agentsList:[])},function(t){e.AgentList.next([])})}catch(t){}},e.prototype.GetNews=function(){var e=this;this.Socket.emit("getNews",{},function(t){e.newsFetched.next(!0),"ok"==t.status&&e.News.next(t.news.length?t.news:[])})},e.prototype.GetMoreNews=function(e){var t=this;return new Yf.Observable(function(n){t.Socket.emit("getMoreActiveNews",{_id:e},function(e){"ok"==e.status&&(e.news&&(e.news.length>0?e.news.length<5?(t.News.next(t.News.getValue().concat(e.news)),n.next(!1),n.complete()):(t.News.next(t.News.getValue().concat(e.news)),n.next(!0),n.complete()):(n.next(!1),n.complete())),e.hasOwnProperty("noMoreNews")&&t.noMoreNewsToFetch.next(e.noMoreNews))})})},e.prototype.GetNewsRest=function(){var e=this;this._restService.SendXMLHttpRequest("/chats/getNews","POST",JSON.stringify({sessionid:this.Session.csid}),!1,!0,[{name:"Content-Type",value:"application/json"}]).subscribe(function(t){var n=JSON.parse(t);e.newsFetched.next(!0),"ok"==n.status&&e.News.next(n.news.length?n.news:[])},function(t){e.News.next([])})},e.prototype.GetMoreNewsRest=function(e,t){var n=this;return new Yf.Observable(function(l){n._restService.SendXMLHttpRequest("/chats/getMoreActiveNews","POST",JSON.stringify({sessionid:n.Session.csid,_id:e,nsp:t}),!1,!0,[{name:"Content-Type",value:"application/json"}]).subscribe(function(e){var t=JSON.parse(e);"ok"==t.status?(t&&t.status&&"ok"==t.status&&(n.News.next(n.News.getValue().concat(t.News)),l.next(),l.complete()),t.hasOwnProperty("noMoreNews")&&n.noMoreNewsToFetch.next(t.noMoreNews)):l.error("Unable to Load Faqs")})})},e.prototype.GetDatedNewsRest=function(e,t){var n=this;return new Yf.Observable(function(l){n._restService.SendXMLHttpRequest("/chats/getActiveNewsByDate","POST",JSON.stringify({sessionid:n.Session.csid,filters:e,nsp:t}),!1,!0,[{name:"Content-Type",value:"application/json"}]).subscribe(function(e){var t=JSON.parse(e);"ok"==t.status&&(l.next(t.news&&t.news.length?t.news:[]),l.complete())})})},e.prototype.GetDatedNews=function(e){var t=this;return new Yf.Observable(function(n){t.Socket.emit("getActiveNewsByDate",{filters:e},function(e){"ok"==e.status&&(n.next(e.news&&e.news.length?e.news:[]),n.complete())})})},e.prototype.GetPromotions=function(){var e=this;this.Socket.emit("getPromotions",{},function(t){"ok"==t.status&&e.Promotions.next(t.promotions.length?t.promotions:[]),e.promotionsFetched.next(!0)})},e.prototype.GetPromotionsRest=function(){var e=this;this._restService.SendXMLHttpRequest("/chats/getPromotions","POST",JSON.stringify({sessionid:this.Session.csid}),!1,!0,[{name:"Content-Type",value:"application/json"}]).subscribe(function(t){var n=JSON.parse(t);"ok"==n.status&&e.Promotions.next(n.promotions.length?n.promotions:[]),e.promotionsFetched.next(!0)},function(t){e.Promotions.next([]),e.promotionsFetched.next(!0)})},e.prototype.LikeOnPost=function(e,t,n){var l=this;return void 0===n&&(n=!1),new Yf.Observable(function(i){l._restService.SendXMLHttpRequest("/chats/likeOnPost","POST",JSON.stringify({sessionid:l.Session.csid,nsp:l.Session.nsp,_id:e,likes:t,alreadyLiked:n}),!1,!0,[{name:"Content-Type",value:"application/json"}]).subscribe(function(e){var t,n=JSON.parse(e);"ok"==n.status&&(l.Promotions.getValue().map(function(e,l){return e._id==n.promotion._id&&(t=l,e=n.promotion),e}),i.next({promotion:n.promotion,index:t}),i.complete())})})},e.prototype.ReviewOnPost=function(e,t){var n=this;return new Yf.Observable(function(l){n._restService.SendXMLHttpRequest("/chats/reviewOnPost","POST",JSON.stringify({sessionid:n.Session.csid,nsp:n.Session.nsp,reviews:t,_id:e}),!1,!0,[{name:"Content-Type",value:"application/json"}]).subscribe(function(e){var t,i=JSON.parse(e);"ok"==i.status?(n.Promotions.getValue().map(function(e,n){return e._id==i.promotion._id&&(t=n,e=i.promotion),e}),l.next({promotion:i.promotion,index:t}),l.complete()):l.error()})})},e.prototype.ViewsOnProduct=function(e,t){var n=this;return new Yf.Observable(function(l){n._restService.SendXMLHttpRequest("/chats/viewsOnProduct","POST",JSON.stringify({sessionid:n.Session.csid,_id:e,views:t}),!1,!0,[{name:"Content-Type",value:"application/json"}]).subscribe(function(e){var t,i=JSON.parse(e);"ok"==i.status?(n.Promotions.getValue().map(function(e,n){return e._id==i.promotion._id&&(t=n,e=i.promotion),e}),l.next({promotion:i.promotion,index:t}),l.complete()):l.error()})})},e.prototype.DeleteReviewOnPost=function(e,t){var n=this;return new Yf.Observable(function(l){n._restService.SendXMLHttpRequest("/chats/deleteReviewOnPost","POST",JSON.stringify({sessionid:n.Session.csid,reviews:e,promotionID:t}),!1,!0,[{name:"Content-Type",value:"application/json"}]).subscribe(function(e){var t,i=JSON.parse(e);"ok"==i.status?(n.Promotions.getValue().map(function(e,n){return e._id==i.promotion._id&&(t=n,e=i.promotion),e}),l.next({promotion:i.promotion,index:t}),l.complete()):l.error()})})},e.prototype.GetReviewsRest=function(e,t){var n=this;return void 0===t&&(t=""),new Yf.Observable(function(l){n._restService.SendXMLHttpRequest("/chats/getMoreReviews","POST",JSON.stringify({sessionid:n.Session.csid,promoid:e,date:t,deviceID:n.Session.deviceID}),!1,!0,[{name:"Content-Type",value:"application/json"}]).subscribe(function(t){var i=JSON.parse(t);"ok"==i.status?i.reviews&&(i.reviews.length&&n.Promotions.next(n.Promotions.getValue().map(function(t){return t._id==e&&(t.reviews&&t.reviews.length?(t.reviews=t.reviews.concat(i.reviews),t.noMoreReviews=i.noMoreReviews):t.reviews=i.reviews),t})),l.next(i),l.complete()):l.error("Error in getting more Recent Conversation")})})},e.prototype.GetFAQS=function(e){var t=this;return new Yf.Observable(function(n){t.Socket.emit("getFAQS",{text:e},function(e){"ok"==e.status?(n.next(e),n.complete()):n.error("Unable to Load Faqs")})})},e.prototype.GetFAQSRest=function(e,t){var n=this;return void 0===e&&(e=""),new Yf.Observable(function(l){n._restService.SendXMLHttpRequest("/chats/getFAQS","POST",JSON.stringify({sessionid:n.Session.csid,text:e||"",nsp:t}),!1,!0,[{name:"Content-Type",value:"application/json"}]).subscribe(function(e){var t=JSON.parse(e);"ok"==t.status?(l.next(t),l.complete()):l.error("Unable to Load Faqs"),l.error("Unable to Load Faqs")})})},e.prototype.GetMoreFAQSRest=function(e,t){var n=this;return new Yf.Observable(function(l){n._restService.SendXMLHttpRequest("/chats/getFAQS","POST",JSON.stringify({sessionid:n.Session.csid,_id:e,nsp:t}),!1,!0,[{name:"Content-Type",value:"application/json"}]).subscribe(function(e){var t=JSON.parse(e);"ok"==t.status&&t&&t.status&&"ok"==t.status&&(n.FAQS.next(n.FAQS.getValue().concat(t.FAQS)),l.next(),l.complete()),t.hasOwnProperty("noMoreFaqs")?n.noMoreFaqsToFetch.next(t.noMoreFaqs):l.error("Unable to Load Faqs")})})},e.prototype.GetWorkFlows=function(){this.Socket.emit("getWorkFlows",{},function(e){})},e.prototype.GetWorkFlowsRest=function(){this._restService.SendXMLHttpRequest("/chats/getWorkFlows","POST",JSON.stringify({sessionid:this.Session.csid}),!1,!0,[{name:"Content-Type",value:"application/json"}]).subscribe(function(e){JSON.parse(e)})},e.prototype.FetchRecentChatMessages=function(e){var t=this;return new Yf.Observable(function(n){t.Socket.emit("getSelectedChat",{cid:e},function(e){"ok"==e.status?(n.next(e.msgList),n.complete()):n.error()})})},e.prototype.FetchRecentChatMessagesRest=function(e){var t=this;return new Yf.Observable(function(n){t._restService.SendXMLHttpRequest("/chats/getSelectedChat","POST",JSON.stringify({cid:e,sessionid:t.Session.csid,deviceID:t.Session.deviceID}),!1,!0,[{name:"Content-Type",value:"application/json"}]).subscribe(function(e){var t=JSON.parse(e);"ok"==t.status?(n.next(t.msgList),n.complete()):(n.next([]),n.complete())},function(e){n.next([]),n.complete()})})},e.prototype.ShowSelectedChat=function(e){var t=this;this.Conversations.getValue()[e].msgFetched?(this.SelectedConversation.next({conversationDetails:this.Conversations.getValue()[e],msgList:this.Conversations.getValue()[e].msgList}),this.viewMode.next("message-window"),this.ViewingChatHistory.next(!0)):this.FetchRecentChatMessagesRest(this.Conversations.getValue()[e]._id).subscribe(function(n){n&&n.length&&(t.Conversations.getValue().map(function(l){l._id==t.Conversations.getValue()[e]._id&&(t.Conversations.getValue()[e].msgFetched=!0,t.Conversations.getValue()[e].msgList=n)}),t.SelectedConversation.next({conversationDetails:t.Conversations.getValue()[e],msgList:n}),t.viewMode.next("message-window"),t.ViewingChatHistory.next(!0))})},e.prototype.CheckIfMoreConversations=function(){var e=this;return new Yf.Observable(function(t){e.Session.conversations.length?e.Socket.emit("checkMoreRecentChats",{deviceID:e.Session.deviceID,id:e.Conversations.getValue()[e.Conversations.getValue().length-1]._id},function(n){e.noMoreRecentChatsToShow.next(n.noMoreChats),t.next(!0),t.complete()}):t.next()})},e.prototype.CheckIfMoreConversationsRest=function(){var e=this;return new Yf.Observable(function(t){e.Session.conversations.length?e._restService.SendXMLHttpRequest("/chats/getMoreRecentChats","POST",JSON.stringify({deviceID:e.Session.deviceID,_id:e.Conversations.getValue()[e.Conversations.getValue().length-1]._id,sessionid:e.Session.csid}),!1,!0,[{name:"Content-Type",value:"application/json"}]).subscribe(function(n){var l=JSON.parse(n);e.noMoreRecentChatsToShow.next(l.noMoreChats),t.next(!0),t.complete()},function(e){t.next(!1)}):t.next(!1)})},e.prototype.GetMoreRecentChats=function(e,t){var n=this;return new Yf.Observable(function(l){n.Socket.emit("getMoreRecentChats",{deviceID:e,_id:t},function(e){"ok"==e.status?(e.chats&&(e.chats.length>0?e.chats.length<14?(n.Conversations.next(n.Conversations.getValue().concat(e.chats)),l.next(!1),l.complete()):(n.Conversations.next(n.Conversations.getValue().concat(e.chats)),l.next(!0),l.complete()):(l.next(!1),l.complete())),e.noMoreChats&&n.noMoreRecentChatsToShow.next(!0)):l.error("Error in getting more Recent Conversation")})})},e.prototype.GetMoreRecentChatsRest=function(e){var t=this;return void 0===e&&(e=""),new Yf.Observable(function(n){t.Session&&t.Session.deviceID?t._restService.SendXMLHttpRequest("/chats/getMoreRecentChats","POST",JSON.stringify({nsp:t.Session.nsp,sessionid:t.Session.csid,deviceID:t.Session.deviceID,_id:e||""}),!1,!0,[{name:"Content-Type",value:"application/json"}]).subscribe(function(e){var l=JSON.parse(e);"ok"==l.status?(l.chats&&(l.chats.length>0?l.chats.length<14?(t.Conversations.next(t.Conversations.getValue().concat(l.chats)),n.next(!1),n.complete()):(t.Conversations.next(t.Conversations.getValue().concat(l.chats)),n.next(!0),n.complete()):(n.next(!1),n.complete())),l.noMoreChats&&t.noMoreRecentChatsToShow.next(!0)):n.error("Error in getting more Recent Conversation")},function(e){n.error("Error in getting more Recent Conversation")}):(n.next(!1),n.complete())})},e.prototype.CloseNegotiate=function(){var e=this;return new Yf.Observable(function(t){e.Socket.emit("negotiatePopUpClose",{},function(e){"ok"==e.status?(t.next(!0),t.complete()):(t.next(!1),t.complete())})})},e.prototype.CloseHelpWindow=function(){var e=this;return new Yf.Observable(function(t){e.Socket.emit("CloseHelpWindow",{},function(e){"ok"==e.status?(t.next(!0),t.complete()):(t.next(!1),t.complete())})})},e.prototype.SendHelpNotifications=function(){this._postMessageService.SendMessage("SupportNotifications",{},"*")},e.prototype.StartSupportChat=function(e){var t={username:e.username?e.username.trim():"Guest"+(new Date).toLocaleTimeString().split(":").join("").split(" ")[0],email:e.email?e.email.trim():"Unregistered"};this.helpChatInitiated.next(t)},e.prototype.GetDisconnectedTime=function(){if(this.Session&&(3==this.Session.state||4==this.Session.state||2==this.Session.state)&&this.Session.clientID&&!this._appStateService.endChat.getValue()){var e=this._appStateService.GetStorage("disconnectionTime");e&&this.IsValidDate(new Date(e))?(this.SendDisconnectEventToServer("Visitor was disconnected from "+this.GetCurrentLocalTime(e)+" to "+this.GetCurrentLocalTime()+" due to connection loss"),this._appStateService.RemoveStorage("disconnectionTime")):this._appStateService.RemoveStorage("disconnectionTime")}},e.prototype.GetCurrentLocalTime=function(e){var t=e?new Date(e):new Date;return t.toDateString()+" "+t.getHours()+":"+t.getMinutes()+":"+t.getSeconds()},e.prototype.IsValidDate=function(e){return"[object Date]"===Object.prototype.toString.call(e)&&!isNaN(e.getTime())},e.prototype.OpenConversations=function(){var e=this;this.RecentWindowLoading.next(!0),this.ViewingChatHistory.next(!0),this.viewMode.next("conversation-window"),setTimeout(function(){e.RecentWindowLoading.next(!1)},0)},e.prototype.SessionStartOver=function(e){var t=this;return void 0===e&&(e=!0),new Yf.Observable(function(n){e&&t._socketService.loading.next(!0),t.forceEndedChat.next(!1),t.endChatByAgent.next(!1),t.endChatByVisitor.next(!1),t.feedbackSubmitted.next(!1),t.ViewingChatHistory.next(!1),t.noMoreRecentChatsToShow.next(!1),t.noMoreNewsToFetch.next(!1),t.noMoreFaqsToFetch.next(!1),t._appStateService.Session.next(void 0),t.RestartSession(),n.next(!0),n.complete()})},e.prototype.RestartChatOnDisconnect=function(){this._appStateService.Permissions.next(void 0),this.News.next(void 0),this.Messages.next([]),this.botMessages.next([]),this.AgentList.next([]),this.Promotions.next(void 0),this.ShowDisplay.next(!1),this.ViewingChatHistory.next(!1),this._socketService.showDisconnectDialog.next(!1),this._appStateService.Session.next(void 0),this._socketService.CheckIfSocketConnected()&&this._socketService.Disconnect(),this.restartingApp.next(!0),this.RestartSession()},e.prototype.RestartSession=function(){var e={};this.Session&&this.Session.username&&-1!==this.Session.username.indexOf("Guest")&&(e={}),this._postMessageService.SendMessage("restartChat",e,"*")},e}(),lg=function(){function e(e,t){var n=this;this.dialogRef=e,this._appStateService=t,this.themeSettings=void 0,this.ticketFormNoAgent=void 0,this._appStateService.Settings.subscribe(function(e){e&&(n.themeSettings=e.dialogSettings,n.ticketFormNoAgent=e.ticketFormNoAgent)}),this._appStateService.endChat.subscribe(function(e){n.dialogRef&&e&&n.dialogRef.close()})}return e.prototype.ngOnInit=function(){},e.prototype.SvgChangeColor=function(e){var t=this.logo.nativeElement.contentDocument.getElementsByTagName("path").item(0);t&&t.setAttribute("fill",this.themeSettings.dialogLogoColor)},e.prototype.NoAgentAvailable=function(e){this.dialogRef.close(e?{status:"Yes"}:{status:"No"})},e.prototype.Close=function(){this.dialogRef.close({status:"No"})},e}(),ig=n("dMDw"),og=function(){function e(e,t,n){var l=this;this._dataService=e,this._appStateService=t,this.dialogRef=n,this.subscriptions=[],this.session=void 0,this.userName="",this.userEmail="",this.phone="",this.subject="",this.message="",this.emailRegex=/^[_a-z0-9]+(\.[_a-z0-9]+)*@[a-z0-9-]+(\.[a-z0-9-]+)*(\.[a-z]{2,4})$/,this.NumbersOnlyPatter=/^\d+$/,this.numberPattern2=/^([+]{1})?\d+$/,this.invalidEmail=!1,this.invalidPhone=!1,this.subjectRequired=!1,this.messageRequired=!1,this.submitting=!1,this.submitted=!1,this.themeSettings=void 0,this.ticketForm=void 0,this.ticketSubmitted=void 0,this.tempData={},this.CheckErrors=new A,this.error=!1,this.subscriptions.push(this._dataService.TempData.subscribe(function(e){e&&(l.tempData=JSON.parse(JSON.stringify(e)),l._dataService.TempData.next(void 0))})),this.subscriptions.push(this._appStateService.Session.subscribe(function(e){l.session=e,(l.tempData.email&&"unregistered"!=l.tempData.email.toLowerCase()||e.email&&"unregistered"!=e.email.toLowerCase())&&(l.userEmail=l.tempData.email||e.email),(l.tempData.username&&-1==l.tempData.username.indexOf("Guest")||e.username&&-1==e.username.indexOf("Guest"))&&(l.userName=l.tempData.username||e.username),(l.tempData.phone||e.phone)&&(l.phone=l.tempData.phone?l.tempData.phone:e.phone?e.phone:""),l.session&&1!=l.session.state&&l.ticketForm&&(l.ticketForm.content=l.ticketForm.content.replace(/we are currently away./i,""))})),this.subscriptions.push(this._appStateService.Settings.subscribe(function(e){e&&(l.themeSettings=e.dialogSettings,l.ticketForm=e.ticketForm,l.ticketSubmitted=e.ticketSubmitted,l.session&&1!=l.session.state&&(l.ticketForm.content=l.ticketForm.content.replace(/we are currently away./i,"")))})),this.subscriptions.push(this._appStateService.AllowEdit.subscribe(function(e){l.allowEdit=e})),this.subscriptions.push(this.CheckErrors.pipe(Object(ig.debounceTime)(500)).subscribe(function(e){if(e)switch(e){case"userEmail":l.invalidEmail=!new RegExp(l.emailRegex,"gi").test(l.userEmail);break;case"phone":l.invalidPhone=!(!l.phone||new RegExp(l.numberPattern2).test(l.phone));break;case"subject":l.subject&&(l.subjectRequired=!1);break;case"message":l.message&&(l.messageRequired=!1)}})),this.subscriptions.push(this._appStateService.endChat.subscribe(function(e){l.dialogRef&&e&&l.dialogRef.close()}))}return e.prototype.ngOnInit=function(){},e.prototype.ngOnDestroy=function(){this.subscriptions.map(function(e){e.unsubscribe()})},e.prototype.SubmitTicket=function(){var e=this;this.invalidEmail=!1,this.subjectRequired=!1,this.messageRequired=!1,this.invalidPhone=!1,new RegExp(this.emailRegex,"gi").test(this.userEmail.trim())||(this.invalidEmail=!0),this.subject.trim()||(this.subjectRequired=!0),this.message.trim()||(this.messageRequired=!0),this.phone.trim()&&!new RegExp(this.numberPattern2).test(this.phone.trim())&&(this.invalidPhone=!0),this.subjectRequired||this.invalidEmail||this.messageRequired||this.invalidPhone||(this.submitting=!0,this.error=!1,this._dataService.SubmitTicketRest({name:this.userName.trim()?this.userName.trim:this.session.username?this.session.username:"",email:this.userEmail.trim(),phone:this.phone.trim(),subject:this.subject.trim(),message:this.message.trim()}).subscribe(function(t){e.submitting=!1,t&&"ok"==t.status?e._dataService.AppendFormsMessages({name:e.userName.trim(),email:e.userEmail.trim(),phone:e.phone.trim(),subject:e.subject.trim(),message:e.message.trim()},"Ticket Submitted").subscribe(function(t){e.submitted=!0,e.subject="",e.message="",e.phone="",e.dialogRef.disableClose=!0},function(t){e.submitting=!1}):t&&"chat"==t.status&&(e.subject="",e.message="",e.phone="",setTimeout(function(){e.dialogRef.close({result:"chat"})},500))},function(t){e.submitting=!1,e.submitted=!0,e.dialogRef.disableClose=!0,e.error=!0}))},e.prototype.CloseDialog=function(){this.dialogRef.close({result:"close"})},e.prototype.RefreshForm=function(){clearTimeout(this.closeTimer),this.submitted=!1,this.dialogRef.disableClose=!1},e.prototype.TypingEvent=function(e,t){this.CheckErrors.next(t)},e}(),rg=function(){function e(e,t,n){var l=this;this._dataService=e,this._appStateService=t,this.dialog=n,this.subscriptions=[],this.userName="",this.userEmail="",this.invalidEmail=!1,this.invalidName=!1,this.Loading=!0,this.loading=!1,this.emailRegex=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,this.namePattern=/^[a-z0-9]+$/i,this.numberPattern2=/^([+]{1})?\d+$/,this.CheckErrors=new A,this.emojiRegex=/\uD83C\uDFF4\uDB40\uDC67\uDB40\uDC62(?:\uDB40\uDC65\uDB40\uDC6E\uDB40\uDC67|\uDB40\uDC73\uDB40\uDC63\uDB40\uDC74|\uDB40\uDC77\uDB40\uDC6C\uDB40\uDC73)\uDB40\uDC7F|\uD83D\uDC68(?:\uD83C\uDFFC\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68\uD83C\uDFFB|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFE])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFD])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFC])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83D\uDC68|(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D[\uDC66\uDC67])|[\u2695\u2696\u2708]\uFE0F|\uD83D[\uDC66\uDC67]|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|(?:\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708])\uFE0F|\uD83C\uDFFB\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C[\uDFFB-\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFB\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFC\u200D\uD83E\uDD1D\u200D\uD83D\uDC69)\uD83C\uDFFB|\uD83E\uDDD1(?:\uD83C\uDFFF\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1(?:\uD83C[\uDFFB-\uDFFF])|\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1)|(?:\uD83E\uDDD1\uD83C\uDFFE\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFF\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB-\uDFFE])|(?:\uD83E\uDDD1\uD83C\uDFFC\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFD\u200D\uD83E\uDD1D\u200D\uD83D\uDC69)(?:\uD83C[\uDFFB\uDFFC])|\uD83D\uDC69(?:\uD83C\uDFFE\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFD\uDFFF])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFD-\uDFFF])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFB\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFC-\uDFFF])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|(?:\uD83E\uDDD1\uD83C\uDFFD\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFE\u200D\uD83E\uDD1D\u200D\uD83D\uDC69)(?:\uD83C[\uDFFB-\uDFFD])|\uD83D\uDC69\u200D\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83D\uDC41\uFE0F\u200D\uD83D\uDDE8|\uD83D\uDC69(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|(?:(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)\uFE0F|\uD83D\uDC6F|\uD83E[\uDD3C\uDDDE\uDDDF])\u200D[\u2640\u2642]|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD6-\uDDDD])(?:(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|\u200D[\u2640\u2642])|\uD83C\uDFF4\u200D\u2620)\uFE0F|\uD83D\uDC69\u200D\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C\uDFF3\uFE0F\u200D\uD83C\uDF08|\uD83D\uDC15\u200D\uD83E\uDDBA|\uD83D\uDC69\u200D\uD83D\uDC66|\uD83D\uDC69\u200D\uD83D\uDC67|\uD83C\uDDFD\uD83C\uDDF0|\uD83C\uDDF4\uD83C\uDDF2|\uD83C\uDDF6\uD83C\uDDE6|[#\*0-9]\uFE0F\u20E3|\uD83C\uDDE7(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|\uD83C\uDDF9(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|\uD83C\uDDEA(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|\uD83E\uDDD1(?:\uD83C[\uDFFB-\uDFFF])|\uD83C\uDDF7(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])|\uD83C\uDDF2(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|\uD83C\uDDE6(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|\uD83C\uDDF0(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|\uD83C\uDDED(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|\uD83C\uDDE9(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|\uD83C\uDDFE(?:\uD83C[\uDDEA\uDDF9])|\uD83C\uDDEC(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|\uD83C\uDDF8(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|\uD83C\uDDEB(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|\uD83C\uDDF5(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|\uD83C\uDDFB(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|\uD83C\uDDF3(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|\uD83C\uDDE8(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|\uD83C\uDDF1(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|\uD83C\uDDFF(?:\uD83C[\uDDE6\uDDF2\uDDFC])|\uD83C\uDDFC(?:\uD83C[\uDDEB\uDDF8])|\uD83C\uDDFA(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|\uD83C\uDDEE(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|\uD83C\uDDEF(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u270A-\u270D]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC70\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDCAA\uDD74\uDD7A\uDD90\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD0F\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD36\uDDB5\uDDB6\uDDBB\uDDD2-\uDDD5])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u270A\u270B\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF93\uDFA0-\uDFCA\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF4\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC3E\uDC40\uDC42-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDD7A\uDD95\uDD96\uDDA4\uDDFB-\uDE4F\uDE80-\uDEC5\uDECC\uDED0-\uDED2\uDED5\uDEEB\uDEEC\uDEF4-\uDEFA\uDFE0-\uDFEB]|\uD83E[\uDD0D-\uDD3A\uDD3C-\uDD45\uDD47-\uDD71\uDD73-\uDD76\uDD7A-\uDDA2\uDDA5-\uDDAA\uDDAE-\uDDCA\uDDCD-\uDDFF\uDE70-\uDE73\uDE78-\uDE7A\uDE80-\uDE82\uDE90-\uDE95])|(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDED5\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEFA\uDFE0-\uDFEB]|\uD83E[\uDD0D-\uDD3A\uDD3C-\uDD45\uDD47-\uDD71\uDD73-\uDD76\uDD7A-\uDDA2\uDDA5-\uDDAA\uDDAE-\uDDCA\uDDCD-\uDDFF\uDE70-\uDE73\uDE78-\uDE7A\uDE80-\uDE82\uDE90-\uDE95])\uFE0F|(?:[\u261D\u26F9\u270A-\u270D]|\uD83C[\uDF85\uDFC2-\uDFC4\uDFC7\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDC8F\uDC91\uDCAA\uDD74\uDD75\uDD7A\uDD90\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD0F\uDD18-\uDD1F\uDD26\uDD30-\uDD39\uDD3C-\uDD3E\uDDB5\uDDB6\uDDB8\uDDB9\uDDBB\uDDCD-\uDDCF\uDDD1-\uDDDD])/g,this.themeSettings=void 0,this.permissions=void 0,this.Conversations=[],this.agentsList=[],this.phoneRequired=!1,this.subscriptions.push(this._appStateService.Permissions.subscribe(function(e){l.permissions=e})),this.subscriptions.push(this._appStateService.Session.subscribe(function(e){e&&(l.Session=e,l.phone=e.phone?e.phone:"",4==e.state&&5==e.state||(l.Session.email&&"unregistered"!=l.Session.email.toLowerCase()&&(l.userEmail=l.Session.email),l.Session.username&&-1==l.Session.username.indexOf("Guest")&&(l.userName=l.Session.username)))})),this.subscriptions.push(this._appStateService.AllowEdit.subscribe(function(e){l.allowEdit=e})),this.subscriptions.push(this._appStateService.ShowLoader.subscribe(function(e){l.Loading=e})),this.subscriptions.push(this._appStateService.Settings.subscribe(function(e){e&&(l.registerationForm=e.registerationForm,l.themeSettings=e.themeSettings)})),this.subscriptions.push(this._dataService.Conversations.subscribe(function(e){e.length>0&&(l.Conversations=e)})),this.subscriptions.push(this._dataService.AgentList.subscribe(function(e){l.agentsList=e})),this.subscriptions.push(this._appStateService.endChat.subscribe(function(e){l.endChat=e})),this.subscriptions.push(this.CheckErrors.pipe(Object(ig.debounceTime)(500)).subscribe(function(e){if(e)switch(e){case"userName":l.invalidName=!(l.permissions.chatAsGuest||-1===l.userName.indexOf("Guest")&&l.userName);break;case"userEmail":l.permissions.chatAsGuest?l.permissions.chatAsGuest?l.userEmail&&"unregistered"!=l.userEmail.toLowerCase()&&(l.invalidEmail=!new RegExp(l.emailRegex).test(l.userEmail.toLowerCase())):l.invalidEmail=!1:l.invalidEmail="unregistered"==l.userEmail.toLowerCase()||!l.userEmail||!new RegExp(l.emailRegex).test(l.userEmail.toLowerCase());break;case"phone":l.invalidPhone=!(!l.phone||new RegExp(l.numberPattern2).test(l.phone))}}))}return e.prototype.ngOnInit=function(){},e.prototype.ngOnDestroy=function(){this.subscriptions.map(function(e){return e.unsubscribe()}),(this.Session&&4==this.Session.state||5==this.Session.state)&&this._dataService.TempData.next({username:this.userName,email:this.userEmail})},e.prototype.Submit=function(e){var t=this;if(e.preventDefault(),!this.loading){this.loading=!0;var n={};this.invalidEmail=!1,this.invalidPhone=!1,this.phone&&!new RegExp(this.numberPattern2).test(this.phone)&&(this.invalidPhone=!0),this.invalidPhone&&(this.invalidPhone=!0),this.permissions.chatAsGuest?this.permissions.chatAsGuest?this.userEmail&&"unregistered"!=this.userEmail.toLowerCase()&&(this.invalidEmail=!new RegExp(this.emailRegex).test(this.userEmail.toLowerCase())):this.invalidEmail=!1:(this.invalidEmail="unregistered"==this.userEmail.toLowerCase()||!this.userEmail||!new RegExp(this.emailRegex).test(this.userEmail.toLowerCase()),this.invalidName=-1!==this.userName.indexOf("Guest")||!this.userName),this.invalidEmail||this.invalidPhone||this.invalidName?this.loading=!1:(n.username=this.userName?this.userName.trim():"Guest"+(new Date).toLocaleTimeString().split(":").join("").split(" ")[0],n.email=this.userEmail?this.userEmail.trim():"Unregistered",this.phone&&(n.phone=this.phone),this.message&&(n.message=this.message),this._dataService.UserInformationRest(n).subscribe(function(e){t.loading=!1,e?t._dataService.viewMode.next("message-window"):t.dialog.open(lg,{autoFocus:!0,panelClass:["dialog-inner"]}).afterClosed().subscribe(function(e){e&&"Yes"==e.status&&(t._dataService.TempData.next(n),t.dialog.open(og,{panelClass:["dialog-inner"],autoFocus:!0}).afterClosed().subscribe(function(e){e&&"chat"==e.result&&t._dataService.viewMode.next("message-window")}))},function(e){})},function(e){t.loading=!1}))}},e.prototype.OpenTicketForm=function(){var e=this;this.dialog.open(og,{panelClass:["dialog-inner"],autoFocus:!0}).afterClosed().subscribe(function(t){t&&"chat"==t.result&&e._dataService.viewMode.next("message-window")})},e.prototype.TypingEvent=function(e,t){this.CheckErrors.next(t)},e}(),ug=Er({encapsulation:2,styles:[[""]],data:{}});function sg(e){return Ss(0,[(e()(),iu(0,0,null,null,0,"input",[["class","form-control op-1"],["disabled",""],["placeholder","Enter Name"]],[[8,"value",0]],[[null,"input"]],function(e,t,n){var l=!0;return"input"===t&&(l=!1!==e.component.TypingEvent(n,"userName")&&l),l},null,null))],null,function(e,t){e(t,0,0,t.component.userName)})}function ag(e){return Ss(0,[(e()(),iu(0,0,null,null,8,"input",[["autocomplete","off"],["class","form-control"],["name","userName"],["placeholder","Enter Name"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"ngModelChange"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(e,t,n){var l=!0,i=e.component;return"input"===t&&(l=!1!==Ou(e,4)._handleInput(n.target.value)&&l),"blur"===t&&(l=!1!==Ou(e,4).onTouched()&&l),"compositionstart"===t&&(l=!1!==Ou(e,4)._compositionStart()&&l),"compositionend"===t&&(l=!1!==Ou(e,4)._compositionEnd(n.target.value)&&l),"input"===t&&(l=!1!==i.TypingEvent(n,"userName")&&l),"ngModelChange"===t&&(l=!1!==(i.userName=n)&&l),l},null,null)),Gu(1,278528,null,0,Yc,[Yo,er,Ll,zl],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),Gu(2,278528,null,0,rp,[er,Ll,zl],{ngStyle:[0,"ngStyle"]},null),vs(3,{"border-color":0}),Gu(4,16384,null,0,nf,[zl,Ll,[2,tf]],null,null),Ju(1024,null,Yh,function(e){return[e]},[nf]),Gu(6,671744,null,0,zf,[[2,qh],[8,null],[8,null],[6,Yh]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),Ju(2048,null,sf,null,[zf]),Gu(8,16384,null,0,Af,[[4,sf]],null,null)],function(e,t){var n=t.component;e(t,1,0,"form-control",n.invalidName?"border-red":"");var l=n.themeSettings?e(t,3,0,n.themeSettings.borderColor):"";e(t,2,0,l),e(t,6,0,"userName",n.userName)},function(e,t){e(t,0,0,Ou(t,8).ngClassUntouched,Ou(t,8).ngClassTouched,Ou(t,8).ngClassPristine,Ou(t,8).ngClassDirty,Ou(t,8).ngClassValid,Ou(t,8).ngClassInvalid,Ou(t,8).ngClassPending)})}function cg(e){return Ss(0,[(e()(),iu(0,0,null,null,3,"div",[["class","input-group-addon tooltip top-right"]],null,null,null,null,null)),(e()(),iu(1,0,null,null,0,"img",[["class","svg floatToCenter w-20"],["src","/cw/assets/img/icons/svg/error-filled.svg"]],null,null,null,null,null)),(e()(),iu(2,0,null,null,1,"span",[["class","tooltip-inner"]],null,null,null,null,null)),(e()(),ys(-1,null,["Please enter a valid username"]))],null,null)}function pg(e){return Ss(0,[(e()(),iu(0,0,null,null,0,"input",[["class","form-control op-1"],["disabled",""],["placeholder","Enter Email Address"],["required",""]],[[8,"value",0]],[[null,"input"]],function(e,t,n){var l=!0;return"input"===t&&(l=!1!==e.component.TypingEvent(n,"userEmail")&&l),l},null,null))],null,function(e,t){e(t,0,0,t.component.userEmail)})}function dg(e){return Ss(0,[(e()(),iu(0,0,null,null,8,"input",[["autocomplete","off"],["class","form-control"],["name","userEmail"],["placeholder","Enter Email Address"],["type","email"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(e,t,n){var l=!0,i=e.component;return"input"===t&&(l=!1!==Ou(e,4)._handleInput(n.target.value)&&l),"blur"===t&&(l=!1!==Ou(e,4).onTouched()&&l),"compositionstart"===t&&(l=!1!==Ou(e,4)._compositionStart()&&l),"compositionend"===t&&(l=!1!==Ou(e,4)._compositionEnd(n.target.value)&&l),"ngModelChange"===t&&(l=!1!==(i.userEmail=n)&&l),"input"===t&&(l=!1!==i.TypingEvent(n,"userEmail")&&l),l},null,null)),Gu(1,278528,null,0,Yc,[Yo,er,Ll,zl],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),Gu(2,278528,null,0,rp,[er,Ll,zl],{ngStyle:[0,"ngStyle"]},null),vs(3,{"border-color":0}),Gu(4,16384,null,0,nf,[zl,Ll,[2,tf]],null,null),Ju(1024,null,Yh,function(e){return[e]},[nf]),Gu(6,671744,null,0,zf,[[2,qh],[8,null],[8,null],[6,Yh]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),Ju(2048,null,sf,null,[zf]),Gu(8,16384,null,0,Af,[[4,sf]],null,null)],function(e,t){var n=t.component;e(t,1,0,"form-control",n.invalidEmail?"border-red":"");var l=n.themeSettings?e(t,3,0,n.themeSettings.borderColor):"";e(t,2,0,l),e(t,6,0,"userEmail",n.userEmail)},function(e,t){e(t,0,0,Ou(t,8).ngClassUntouched,Ou(t,8).ngClassTouched,Ou(t,8).ngClassPristine,Ou(t,8).ngClassDirty,Ou(t,8).ngClassValid,Ou(t,8).ngClassInvalid,Ou(t,8).ngClassPending)})}function hg(e){return Ss(0,[(e()(),iu(0,0,null,null,3,"div",[["class","input-group-addon tooltip top-right"]],null,null,null,null,null)),(e()(),iu(1,0,null,null,0,"img",[["class","svg floatToCenter w-20"],["src","/cw/assets/img/icons/svg/error-filled.svg"]],null,null,null,null,null)),(e()(),iu(2,0,null,null,1,"span",[["class","tooltip-inner"]],null,null,null,null,null)),(e()(),ys(-1,null,["Please enter a valid email"]))],null,null)}function fg(e){return Ss(0,[(e()(),iu(0,0,null,null,3,"div",[["class","input-group-addon tooltip top-right"]],null,null,null,null,null)),(e()(),iu(1,0,null,null,0,"img",[["class","svg floatToCenter w-20"],["src","/cw/assets/img/icons/svg/error-filled.svg"]],null,null,null,null,null)),(e()(),iu(2,0,null,null,1,"span",[["class","tooltip-inner"]],null,null,null,null,null)),(e()(),ys(-1,null,["Please enter a valid phone number"]))],null,null)}function gg(e){return Ss(0,[(e()(),iu(0,0,null,null,4,"div",[["class","clearfix text-center m-b-10"]],null,null,null,null,null)),(e()(),iu(1,0,null,null,3,"h5",[],null,null,null,null,null)),Gu(2,278528,null,0,rp,[er,Ll,zl],{ngStyle:[0,"ngStyle"]},null),vs(3,{color:0}),(e()(),ys(-1,null,["OR"]))],function(e,t){var n=t.component,l=n.themeSettings?e(t,3,0,n.themeSettings.contentColor):"";e(t,2,0,l)},null)}function mg(e){return Ss(0,[(e()(),iu(0,0,null,null,5,"div",[["class","btn-group-lg m-b-15"]],null,null,null,null,null)),(e()(),iu(1,0,null,null,4,"button",[["class","btn btn-lg btn-block"],["id","btnSubmitTicket"],["type","button"]],null,[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.OpenTicketForm()&&l),l},null,null)),Gu(2,278528,null,0,rp,[er,Ll,zl],{ngStyle:[0,"ngStyle"]},null),vs(3,{"background-color":0,color:1}),(e()(),iu(4,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),ys(5,null,["",""]))],function(e,t){var n=t.component,l=n.themeSettings?e(t,3,0,n.themeSettings.btnColor,n.themeSettings.btnTextcolor):"";e(t,2,0,l)},function(e,t){e(t,5,0,t.component.registerationForm.btnTicket)})}function vg(e){return Ss(0,[(e()(),iu(0,0,null,null,57,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(e,t,n){var l=!0;return"submit"===t&&(l=!1!==Ou(e,2).onSubmit(n)&&l),"reset"===t&&(l=!1!==Ou(e,2).onReset()&&l),l},null,null)),Gu(1,16384,null,0,Gf,[],null,null),Gu(2,4210688,null,0,Lf,[[8,null],[8,null]],null,null),Ju(2048,null,qh,null,[Lf]),Gu(4,16384,null,0,Tf,[[4,qh]],null,null),(e()(),iu(5,0,null,null,3,"h6",[["class","title-with-border border-gray"]],null,null,null,null,null)),Gu(6,278528,null,0,rp,[er,Ll,zl],{ngStyle:[0,"ngStyle"]},null),vs(7,{color:0}),(e()(),ys(8,null,[" ",""])),(e()(),iu(9,0,null,null,7,"div",[["class","input-block"]],null,null,null,null,null)),(e()(),iu(10,0,null,null,6,"div",[["class","input-group has-danger"]],null,null,null,null,null)),(e()(),lu(16777216,null,null,1,null,sg)),Gu(12,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,ag)),Gu(14,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,cg)),Gu(16,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),iu(17,0,null,null,7,"div",[["class","input-block"]],null,null,null,null,null)),(e()(),iu(18,0,null,null,6,"div",[["class","input-group has-danger"]],null,null,null,null,null)),(e()(),lu(16777216,null,null,1,null,pg)),Gu(20,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,dg)),Gu(22,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,hg)),Gu(24,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),iu(25,0,null,null,12,"div",[["class","input-block"]],null,null,null,null,null)),(e()(),iu(26,0,null,null,11,"div",[["class","input-group has-danger"]],null,null,null,null,null)),(e()(),iu(27,0,null,null,8,"input",[["autocomplete","off"],["class","form-control"],["id","phone"],["name","phone"],["placeholder","(+)123-4567-8901"],["type","tel"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(e,t,n){var l=!0,i=e.component;return"input"===t&&(l=!1!==Ou(e,31)._handleInput(n.target.value)&&l),"blur"===t&&(l=!1!==Ou(e,31).onTouched()&&l),"compositionstart"===t&&(l=!1!==Ou(e,31)._compositionStart()&&l),"compositionend"===t&&(l=!1!==Ou(e,31)._compositionEnd(n.target.value)&&l),"ngModelChange"===t&&(l=!1!==(i.phone=n)&&l),"input"===t&&(l=!1!==i.TypingEvent(n,"phone")&&l),l},null,null)),Gu(28,278528,null,0,Yc,[Yo,er,Ll,zl],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),Gu(29,278528,null,0,rp,[er,Ll,zl],{ngStyle:[0,"ngStyle"]},null),vs(30,{"border-color":0}),Gu(31,16384,null,0,nf,[zl,Ll,[2,tf]],null,null),Ju(1024,null,Yh,function(e){return[e]},[nf]),Gu(33,671744,null,0,zf,[[2,qh],[8,null],[8,null],[6,Yh]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),Ju(2048,null,sf,null,[zf]),Gu(35,16384,null,0,Af,[[4,sf]],null,null),(e()(),lu(16777216,null,null,1,null,fg)),Gu(37,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),iu(38,0,null,null,8,"div",[["class","input-block"]],null,null,null,null,null)),(e()(),iu(39,0,null,null,7,"textarea",[["autocomplete","off"],["class","form-control no-resize"],["id","message"],["name","message"],["rows","3"]],[[8,"placeholder",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(e,t,n){var l=!0,i=e.component;return"input"===t&&(l=!1!==Ou(e,42)._handleInput(n.target.value)&&l),"blur"===t&&(l=!1!==Ou(e,42).onTouched()&&l),"compositionstart"===t&&(l=!1!==Ou(e,42)._compositionStart()&&l),"compositionend"===t&&(l=!1!==Ou(e,42)._compositionEnd(n.target.value)&&l),"ngModelChange"===t&&(l=!1!==(i.message=n)&&l),l},null,null)),Gu(40,278528,null,0,rp,[er,Ll,zl],{ngStyle:[0,"ngStyle"]},null),vs(41,{"border-color":0}),Gu(42,16384,null,0,nf,[zl,Ll,[2,tf]],null,null),Ju(1024,null,Yh,function(e){return[e]},[nf]),Gu(44,671744,null,0,zf,[[2,qh],[8,null],[8,null],[6,Yh]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),Ju(2048,null,sf,null,[zf]),Gu(46,16384,null,0,Af,[[4,sf]],null,null),(e()(),iu(47,0,null,null,6,"div",[["class","btn-group m-b-15"]],null,null,null,null,null)),(e()(),iu(48,0,null,null,5,"button",[["class","btn"],["type","button"]],null,[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.Submit(n)&&l),l},null,null)),Gu(49,278528,null,0,Yc,[Yo,er,Ll,zl],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),Gu(50,278528,null,0,rp,[er,Ll,zl],{ngStyle:[0,"ngStyle"]},null),vs(51,{"background-color":0,color:1}),(e()(),iu(52,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),ys(53,null,["",""])),(e()(),lu(16777216,null,null,1,null,gg)),Gu(55,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,mg)),Gu(57,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component,l=n.themeSettings?e(t,7,0,n.themeSettings.contentColor):"";e(t,6,0,l),e(t,12,0,!n.allowEdit),e(t,14,0,n.allowEdit),e(t,16,0,n.invalidName),e(t,20,0,!n.allowEdit),e(t,22,0,n.allowEdit),e(t,24,0,n.invalidEmail),e(t,28,0,"form-control",n.invalidPhone?"border-red":"");var i=n.themeSettings?e(t,30,0,n.themeSettings.borderColor):"";e(t,29,0,i),e(t,33,0,"phone",n.phone),e(t,37,0,n.invalidPhone);var o=n.themeSettings?e(t,41,0,n.themeSettings.borderColor):"";e(t,40,0,o),e(t,44,0,"message",n.message),e(t,49,0,"btn",n.Conversations.length>0&&n.permissions.showchathistory?n.loading?"btnSpinner w50":"w50":n.loading?"btnSpinner btn-block":"btn-block");var r=n.themeSettings?e(t,51,0,n.themeSettings.btnColor,n.themeSettings.btnTextcolor):"";e(t,50,0,r),e(t,55,0,n.permissions&&(n.permissions.allowedAgentAvailable||!n.permissions.allowedAgentAvailable&&n.agentsList&&!n.agentsList.length)),e(t,57,0,n.permissions&&(n.permissions.allowedAgentAvailable||!n.permissions.allowedAgentAvailable&&n.agentsList&&!n.agentsList.length))},function(e,t){var n=t.component;e(t,0,0,Ou(t,4).ngClassUntouched,Ou(t,4).ngClassTouched,Ou(t,4).ngClassPristine,Ou(t,4).ngClassDirty,Ou(t,4).ngClassValid,Ou(t,4).ngClassInvalid,Ou(t,4).ngClassPending),e(t,8,0,n.registerationForm.content),e(t,27,0,Ou(t,35).ngClassUntouched,Ou(t,35).ngClassTouched,Ou(t,35).ngClassPristine,Ou(t,35).ngClassDirty,Ou(t,35).ngClassValid,Ou(t,35).ngClassInvalid,Ou(t,35).ngClassPending),e(t,39,0,n.Session&&n.Session.nsp&&"/sbtjapan.com"==n.Session.nsp?"How did you know about SBT":"",Ou(t,46).ngClassUntouched,Ou(t,46).ngClassTouched,Ou(t,46).ngClassPristine,Ou(t,46).ngClassDirty,Ou(t,46).ngClassValid,Ou(t,46).ngClassInvalid,Ou(t,46).ngClassPending),e(t,53,0,n.registerationForm.btnChat)})}function Dg(e){return Ss(0,[(e()(),iu(0,0,null,null,1,"app-userinformation-form",[],null,null,null,vg,ug)),Gu(1,245760,null,0,rg,[ng,Xf,yd],null,null)],function(e,t){e(t,1,0)},null)}var yg=Su("app-userinformation-form",rg,Dg,{},{},[]),bg=function(){function e(e,t,n,l){var i=this;this._appStateService=e,this._dataService=t,this.dialogRef=n,this.data=l,this.subscriptions=[],this.userName="",this.userEmail="",this.invalidEmail=!1,this.invalidName=!1,this.Loading=!1,this.loading=!1,this.updateCredentials=!1,this.checkInvitation=!0,this.emailRegex=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,this.namePattern=/^[a-z0-9]+$/i,this.numberPattern2=/^([+]{1})?\d+$/,this.emojiRegex=/\uD83C\uDFF4\uDB40\uDC67\uDB40\uDC62(?:\uDB40\uDC65\uDB40\uDC6E\uDB40\uDC67|\uDB40\uDC73\uDB40\uDC63\uDB40\uDC74|\uDB40\uDC77\uDB40\uDC6C\uDB40\uDC73)\uDB40\uDC7F|\uD83D\uDC68(?:\uD83C\uDFFC\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68\uD83C\uDFFB|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFE])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFD])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFC])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83D\uDC68|(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D[\uDC66\uDC67])|[\u2695\u2696\u2708]\uFE0F|\uD83D[\uDC66\uDC67]|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|(?:\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708])\uFE0F|\uD83C\uDFFB\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C[\uDFFB-\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFB\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFC\u200D\uD83E\uDD1D\u200D\uD83D\uDC69)\uD83C\uDFFB|\uD83E\uDDD1(?:\uD83C\uDFFF\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1(?:\uD83C[\uDFFB-\uDFFF])|\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1)|(?:\uD83E\uDDD1\uD83C\uDFFE\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFF\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB-\uDFFE])|(?:\uD83E\uDDD1\uD83C\uDFFC\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFD\u200D\uD83E\uDD1D\u200D\uD83D\uDC69)(?:\uD83C[\uDFFB\uDFFC])|\uD83D\uDC69(?:\uD83C\uDFFE\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFD\uDFFF])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFD-\uDFFF])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFB\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFC-\uDFFF])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|(?:\uD83E\uDDD1\uD83C\uDFFD\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFE\u200D\uD83E\uDD1D\u200D\uD83D\uDC69)(?:\uD83C[\uDFFB-\uDFFD])|\uD83D\uDC69\u200D\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83D\uDC41\uFE0F\u200D\uD83D\uDDE8|\uD83D\uDC69(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|(?:(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)\uFE0F|\uD83D\uDC6F|\uD83E[\uDD3C\uDDDE\uDDDF])\u200D[\u2640\u2642]|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD6-\uDDDD])(?:(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|\u200D[\u2640\u2642])|\uD83C\uDFF4\u200D\u2620)\uFE0F|\uD83D\uDC69\u200D\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C\uDFF3\uFE0F\u200D\uD83C\uDF08|\uD83D\uDC15\u200D\uD83E\uDDBA|\uD83D\uDC69\u200D\uD83D\uDC66|\uD83D\uDC69\u200D\uD83D\uDC67|\uD83C\uDDFD\uD83C\uDDF0|\uD83C\uDDF4\uD83C\uDDF2|\uD83C\uDDF6\uD83C\uDDE6|[#\*0-9]\uFE0F\u20E3|\uD83C\uDDE7(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|\uD83C\uDDF9(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|\uD83C\uDDEA(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|\uD83E\uDDD1(?:\uD83C[\uDFFB-\uDFFF])|\uD83C\uDDF7(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])|\uD83C\uDDF2(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|\uD83C\uDDE6(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|\uD83C\uDDF0(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|\uD83C\uDDED(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|\uD83C\uDDE9(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|\uD83C\uDDFE(?:\uD83C[\uDDEA\uDDF9])|\uD83C\uDDEC(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|\uD83C\uDDF8(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|\uD83C\uDDEB(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|\uD83C\uDDF5(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|\uD83C\uDDFB(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|\uD83C\uDDF3(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|\uD83C\uDDE8(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|\uD83C\uDDF1(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|\uD83C\uDDFF(?:\uD83C[\uDDE6\uDDF2\uDDFC])|\uD83C\uDDFC(?:\uD83C[\uDDEB\uDDF8])|\uD83C\uDDFA(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|\uD83C\uDDEE(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|\uD83C\uDDEF(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u270A-\u270D]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC70\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDCAA\uDD74\uDD7A\uDD90\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD0F\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD36\uDDB5\uDDB6\uDDBB\uDDD2-\uDDD5])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u270A\u270B\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF93\uDFA0-\uDFCA\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF4\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC3E\uDC40\uDC42-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDD7A\uDD95\uDD96\uDDA4\uDDFB-\uDE4F\uDE80-\uDEC5\uDECC\uDED0-\uDED2\uDED5\uDEEB\uDEEC\uDEF4-\uDEFA\uDFE0-\uDFEB]|\uD83E[\uDD0D-\uDD3A\uDD3C-\uDD45\uDD47-\uDD71\uDD73-\uDD76\uDD7A-\uDDA2\uDDA5-\uDDAA\uDDAE-\uDDCA\uDDCD-\uDDFF\uDE70-\uDE73\uDE78-\uDE7A\uDE80-\uDE82\uDE90-\uDE95])|(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDED5\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEFA\uDFE0-\uDFEB]|\uD83E[\uDD0D-\uDD3A\uDD3C-\uDD45\uDD47-\uDD71\uDD73-\uDD76\uDD7A-\uDDA2\uDDA5-\uDDAA\uDDAE-\uDDCA\uDDCD-\uDDFF\uDE70-\uDE73\uDE78-\uDE7A\uDE80-\uDE82\uDE90-\uDE95])\uFE0F|(?:[\u261D\u26F9\u270A-\u270D]|\uD83C[\uDF85\uDFC2-\uDFC4\uDFC7\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDC8F\uDC91\uDCAA\uDD74\uDD75\uDD7A\uDD90\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD0F\uDD18-\uDD1F\uDD26\uDD30-\uDD39\uDD3C-\uDD3E\uDDB5\uDDB6\uDDB8\uDDB9\uDDBB\uDDCD-\uDDCF\uDDD1-\uDDDD])/g,this.register=!1,this.viewingChatHistory=!1,this.showRegisterContent=!0,this.phoneRequired=!1,this.permissions=void 0,this.showCloseButton=!0,this.CheckErrors=new A,this.errorFields=[],this.regex={email:/^[_a-z0-9]+(\.[_a-z0-9]+)*@[a-z0-9-]+(\.[a-z0-9-]+)*(\.[a-z]{2,4})$/,tel:/^[0-9+\-()\s]+$/,phone:/^([+]{1})?\d+$/,number:/^[0-9]+$/,httpRegex:/(http:\/\/)/,httpsRegex:/(https:\/\/)/,url:/^(https?):\/\/(-\.)?([^\s\/?\.#-]+\.?)+(\/[^\s]*)?$/i,numberRangeRegex:/^[0-9]+-[0-9]+$/,infiniteNumberRangeRegex:/^[0-9]+\+$/},this.feedback={},this.customFieldsMap={},this._appStateService.RegisterFormDialogOpened.next(!0),this.showCloseButton=this.data.showCloseButton,this.checkInvitation=this.data.checkInvite,this.data.hasOwnProperty("showRegisterContent")&&(this.showRegisterContent=this.data.showRegisterContent),this.subscriptions.push(this._appStateService.Permissions.subscribe(function(e){i.permissions=e})),this.subscriptions.push(this._appStateService.Settings.subscribe(function(e){e&&(i.registerationForm=e.registerationForm,e.registerationForm.customFields.map(function(e){e.visible&&("username"!=e.name||i.permissions.chatAsGuest||(e.customRegex||(e.customRegex=[]),e.customRegex.push({name:"guest",value:i.permissions.chatAsGuest}),e.required=!i.permissions.chatAsGuest),"email"==e.name&&(e.customRegex||(e.customRegex=[]),i.permissions.chatAsGuest||e.customRegex.push({name:i.emailRegex,value:!0}),e.required=!i.permissions.chatAsGuest),i.customFieldsMap[e.name]=e)}),i.themeSettings=e.dialogSettings)})),this.subscriptions.push(this._appStateService.Session.subscribe(function(e){if(e){if(i.Session=e,i.phone=e.phone?e.phone:"",i.Session&&1!=i.Session.state&&5!=i.Session.state&&(i.registerationForm.content=i.registerationForm.content.replace(/CHAT NOW/i,"REGISTER NOW")),i._dataService.TempData.getValue())return void(4!=e.state&&5!=e.state||(i._dataService.TempData.getValue().email&&"unregistered"!=i._dataService.TempData.getValue().email.toLowerCase()&&(i.userEmail=i._dataService.TempData.getValue().email),i._dataService.TempData.getValue().username&&-1==i._dataService.TempData.getValue().username.indexOf("Guest")&&(i.userName=i._dataService.TempData.getValue().username),i._dataService.TempData.next(void 0)));i.Session.email&&(i.userEmail=i.Session.email),i.Session.username&&(i.userName=i.Session.username),i.updateCredentials=i._dataService.UpdateCredentials.getValue(),i._dataService.UpdateCredentials.next(!1),i.updateCredentials&&(i.register=!0)}})),this.subscriptions.push(this._appStateService.ShowLoader.subscribe(function(e){i.Loading=e})),this.subscriptions.push(this._dataService.ViewingChatHistory.subscribe(function(e){i.viewingChatHistory=e})),this.subscriptions.push(this._appStateService.AllowEdit.subscribe(function(e){i.allowEdit=e})),this.subscriptions.push(this.CheckErrors.pipe(Object(ig.debounceTime)(500)).subscribe(function(e){if(e&&e.key)if(i.customFieldsMap[e.key].errorRequired=!(e.value||!i.customFieldsMap[e.key].required),i.customFieldsMap[e.key].customRegex&&i.customFieldsMap[e.key].customRegex.length&&e.value){var t=!1;i.customFieldsMap[e.key].customRegex.map(function(n){t=!(new RegExp(n.name,"gi").test(e.value)==n.value)}),i.customFieldsMap[e.key].errorInvalid=!(!t||i.customFieldsMap[e.key].errorRequired)}else i.customFieldsMap[e.key].errorRequired&&(i.customFieldsMap[e.key].errorInvalid=!1)})),this.subscriptions.push(this._appStateService.endChat.subscribe(function(e){i.dialogRef&&e&&i.dialogRef.close()})),this.subscriptions.push(this._dataService.gotAgent.subscribe(function(e){e&&i.dialogRef.close({status:"No"})}))}return e.prototype.Close=function(){this.dialogRef.close({status:"closed"})},e.prototype.ngOnInit=function(){},e.prototype.ngOnDestroy=function(){this.subscriptions.map(function(e){e.unsubscribe()}),this._appStateService.RegisterFormDialogOpened.next(!1)},e.prototype.GetFieldsArray=function(){return Object.values(this.customFieldsMap)},e.prototype.IsValidUsername=function(e){return!!this.permissions.chatAsGuest||!(-1!==e.indexOf("Guest")||!e)},e.prototype.IsValidEmail=function(e){var t=!1;return this.permissions.chatAsGuest?this.permissions.chatAsGuest?e&&"unregistered"!=e.toLowerCase()&&(t=!!new RegExp(this.emailRegex).test(e.toLowerCase())):t=!0:t=!("unregistered"==e.toLowerCase()||!e||!new RegExp(this.emailRegex).test(e.toLowerCase())),t},e.prototype.ValidateForm=function(){var e=this;try{if(this.ResetForm().subscribe(function(t){t&&(e.dataList={},e.errorFields=[],e.inputFields=[])}),this.inputFields=[],this.inputFields=this.formNativeElement.nativeElement.querySelectorAll('[id^="field"]'),this.inputFields.length&&Array.from(this.inputFields).map(function(t,n){if(e.dataList[t.name]="","checkbox"==t.type&&t.checked)e.dataList[t.name]=t.name;else if("radio"==t.type)for(var l=document.getElementsByName(t.name),i=0;i<l.length;i++)l[i].checked&&(e.dataList[t.name]=l[i].value);else e.dataList[t.name]=t.options&&t.options.length?t.options[t.selectedIndex].value:!t.value||"text"!=t.type&&"textarea"!=t.type&&"email"!=t.type&&"password"!=t.type?"":t.value;if(e.dataList[t.name]&&e.regex.hasOwnProperty(t.type)&&(new RegExp(e.regex[t.type]).test(e.dataList[t.name])||(e.dataList[t.name]="",e.customFieldsMap[t.name].errorInvalid=!0,-1===e.errorFields.indexOf(t.id)&&e.errorFields.push(t.id))),e.customFieldsMap[t.name].customRegex&&e.customFieldsMap[t.name].customRegex.length&&e.dataList[t.name]){var o=!1;e.customFieldsMap[t.name].customRegex.map(function(n){o=!(new RegExp(n.name,"gi").test(e.dataList[t.name])==n.value)}),e.customFieldsMap[t.name].errorInvalid=!!o}!e.dataList[t.name]&&e.customFieldsMap[t.name].required?(e.customFieldsMap[t.name].errorRequired=!0,-1===e.errorFields.indexOf(t.id)&&e.errorFields.push(t.id)):new Error("Construction Error: input field does not have ID")}),this.errorFields.length)return;var t={};Object.keys(this.dataList).map(function(n,l){t[e.registerationForm.customFields[l].name]=e.dataList[n],e.feedback[e.registerationForm.customFields[l].label]=e.dataList[n]}),this.openMessageWindow(t)}catch(n){}},e.prototype.ResetForm=function(){var e=this;return new _(function(t){e.GetFieldsArray().map(function(e){return e.errorInvalid&&(e.errorInvalid=!1),e.errorRequired&&(e.errorRequired=!1),e}),t.next(!0),t.complete()})},e.prototype.openMessageWindow=function(e){var t,n=this;this.loading||(this.viewingChatHistory&&this._dataService.ViewingChatHistory.next(!1),this.loading=!0,e.username||(e.username=this.userName),e.email||(e.email=this.userEmail),t=e,this.updateCredentials&&(4!=this.Session.state&&5!=this.Session.state||!this.checkInvitation)?this._dataService.UpdateCredentialsFormRest(t).subscribe(function(e){n.loading=!1,n.dialogRef.close(e?"success":"failure")},function(e){n.loading=!1,n.dialogRef.close("failure")}):this._dataService.UserInformationRest(t).subscribe(function(e){n.loading=!1,n.dialogRef.close(e?"success":{status:"no-agent",user:t})},function(e){n.loading=!1}))},e.prototype.TypingEvent=function(e,t){this.CheckErrors.next({key:t,value:e.target.value})},e}(),Cg=Er({encapsulation:2,styles:[[""]],data:{}});function Sg(e){return Ss(0,[(e()(),iu(0,0,null,null,2,"div",[["class","dialog-close svgOnHover"]],null,[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.Close()&&l),l},null,null)),(e()(),iu(1,0,null,null,0,"img",[["class","svg"],["src","/cw/assets/img/icons/svg/cancel-circle-outline.svg"]],null,null,null,null,null)),(e()(),iu(2,0,null,null,0,"img",[["class","svg hover"],["src","/cw/assets/img/icons/svg/cancel-circle-filled.svg"]],null,null,null,null,null))],null,null)}function _g(e){return Ss(0,[(e()(),iu(0,0,null,null,0,"input",[["class","form-control input-sm"]],[[8,"name",0],[8,"id",0],[8,"placeholder",0],[8,"type",0],[8,"value",0]],[[null,"input"]],function(e,t,n){var l=!0;return"input"===t&&(l=!1!==e.component.TypingEvent(n,e.parent.parent.context.$implicit.name)&&l),l},null,null))],null,function(e,t){e(t,0,0,eu(1,"",t.parent.parent.context.$implicit.name?t.parent.parent.context.$implicit.name:"",""),"field"+(t.parent.parent.context.index+1+2),eu(1,"",t.parent.parent.context.$implicit.placeholder,""),eu(1,"",t.parent.parent.context.$implicit.elementType,""),eu(1,"",t.parent.parent.context.$implicit.value?t.parent.parent.context.$implicit.value:"",""))})}function wg(e){return Ss(0,[(e()(),iu(0,0,null,null,0,"textarea",[["class","form-control input-sm"]],[[8,"name",0],[8,"placeholder",0],[8,"id",0],[8,"value",0]],[[null,"input"]],function(e,t,n){var l=!0;return"input"===t&&(l=!1!==e.component.TypingEvent(n,e.parent.parent.context.$implicit.name)&&l),l},null,null))],null,function(e,t){e(t,0,0,eu(1,"",t.parent.parent.context.$implicit.name?t.parent.parent.context.$implicit.name:"",""),eu(1,"",t.parent.parent.context.$implicit.placeholder,""),"field"+(t.parent.parent.context.index+1+2),eu(1,"",t.parent.parent.context.$implicit.value?t.parent.parent.context.$implicit.value:"",""))})}function Fg(e){return Ss(0,[(e()(),iu(0,0,null,null,8,"div",[["class","input-block"]],null,null,null,null,null)),(e()(),iu(1,0,null,null,1,"label",[],null,null,null,null,null)),(e()(),ys(2,null,[" ","",""])),(e()(),iu(3,0,null,null,5,"div",[["class","input-group"]],null,null,null,null,null)),Gu(4,278528,null,0,Yc,[Yo,er,Ll,zl],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(e()(),lu(16777216,null,null,1,null,_g)),Gu(6,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,wg)),Gu(8,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null)],function(e,t){e(t,4,0,"input-group",t.parent.context.$implicit.errorRequired||t.parent.context.$implicit.errorInvalid?"has-danger":""),e(t,6,0,"text"==t.parent.context.$implicit.elementType&&!t.parent.context.$implicit.multiline||"text"!=t.parent.context.$implicit.elementType),e(t,8,0,"text"==t.parent.context.$implicit.elementType&&t.parent.context.$implicit.multiline)},function(e,t){e(t,2,0,t.parent.context.$implicit.label,t.parent.context.$implicit.required?"*":"")})}function xg(e){return Ss(0,[(e()(),iu(0,0,null,null,4,"div",[["class","pretty p-default p-round m-b-7"]],null,null,null,null,null)),(e()(),iu(1,0,null,null,0,"input",[],[[8,"checked",0],[8,"type",0],[8,"id",0],[8,"name",0],[8,"checked",0],[8,"value",0]],null,null,null,null)),(e()(),iu(2,0,null,null,2,"div",[["class","state p-success"]],null,null,null,null,null)),(e()(),iu(3,0,null,null,1,"label",[],null,null,null,null,null)),(e()(),ys(4,null,["",""]))],null,function(e,t){e(t,1,0,t.context.$implicit.value,eu(1,"",t.parent.parent.context.$implicit.elementType,""),"field"+(t.parent.parent.context.index+1+2),t.parent.parent.context.$implicit.name,"true"==t.parent.parent.context.$implicit.value,eu(1,"",t.context.$implicit.value,"")),e(t,4,0,t.context.$implicit.name)})}function Eg(e){return Ss(0,[(e()(),iu(0,0,null,null,6,"div",[["class","input-block m-0"]],null,null,null,null,null)),(e()(),iu(1,0,null,null,1,"label",[],null,null,null,null,null)),(e()(),ys(2,null,[" ","",""])),(e()(),iu(3,0,null,null,3,"div",[["class","input-group"]],null,null,null,null,null)),Gu(4,278528,null,0,Yc,[Yo,er,Ll,zl],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(e()(),lu(16777216,null,null,1,null,xg)),Gu(6,278528,null,0,tp,[Oo,Ai,Yo],{ngForOf:[0,"ngForOf"]},null)],function(e,t){e(t,4,0,"input-group",t.parent.context.$implicit.errorRequired||t.parent.context.$implicit.errorInvalid?"has-danger":""),e(t,6,0,t.parent.context.$implicit.options)},function(e,t){e(t,2,0,t.parent.context.$implicit.label,t.parent.context.$implicit.required?"*":"")})}function kg(e){return Ss(0,[(e()(),iu(0,0,null,null,10,"div",[["class","input-block m-0"]],null,null,null,null,null)),(e()(),iu(1,0,null,null,1,"label",[],null,null,null,null,null)),(e()(),ys(2,null,[" ","",""])),(e()(),iu(3,0,null,null,7,"div",[["class","input-group"]],null,null,null,null,null)),Gu(4,278528,null,0,Yc,[Yo,er,Ll,zl],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(e()(),iu(5,0,null,null,5,"div",[["class","pretty p-svg p-smooth"]],null,null,null,null,null)),(e()(),iu(6,0,null,null,0,"input",[],[[8,"type",0],[8,"name",0],[8,"id",0],[8,"checked",0]],null,null,null,null)),(e()(),iu(7,0,null,null,3,"div",[["class","state p-success"]],null,null,null,null,null)),(e()(),iu(8,0,null,null,0,"img",[["class","svg"],["src","/cw/assets/img/icons/svg/ok.svg"],["width","15"]],null,null,null,null,null)),(e()(),iu(9,0,null,null,1,"label",[],null,null,null,null,null)),(e()(),ys(10,null,["",""]))],function(e,t){e(t,4,0,"input-group",t.parent.context.$implicit.errorRequired||t.parent.context.$implicit.errorInvalid?"has-danger":"")},function(e,t){e(t,2,0,t.parent.context.$implicit.label,t.parent.context.$implicit.required?"*":""),e(t,6,0,eu(1,"",t.parent.context.$implicit.elementType,""),eu(1,"",t.parent.context.$implicit.name,""),"field"+(t.parent.context.index+1+2),!(!t.parent.context.$implicit||!t.parent.context.$implicit.value)&&t.parent.context.$implicit.value),e(t,10,0,t.parent.context.$implicit.name)})}function Ag(e){return Ss(0,[(e()(),iu(0,0,null,null,3,"option",[["disabled","true"]],[[8,"selected",0]],null,null,null,null)),Gu(1,147456,null,0,mf,[Ll,zl,[8,null]],{value:[0,"value"]},null),Gu(2,147456,null,0,yf,[Ll,zl,[8,null]],{value:[0,"value"]},null),(e()(),ys(3,null,[" "," "]))],function(e,t){e(t,1,0,eu(1,"",t.parent.parent.context.$implicit.value,"")),e(t,2,0,eu(1,"",t.parent.parent.context.$implicit.value,""))},function(e,t){e(t,0,0,t.parent.parent.context.$implicit.value),e(t,3,0,t.parent.parent.context.$implicit.value)})}function Tg(e){return Ss(0,[(e()(),iu(0,0,null,null,3,"option",[],null,null,null,null,null)),Gu(1,147456,null,0,mf,[Ll,zl,[8,null]],{value:[0,"value"]},null),Gu(2,147456,null,0,yf,[Ll,zl,[8,null]],{value:[0,"value"]},null),(e()(),ys(3,null,[" "," "]))],function(e,t){e(t,1,0,eu(1,"",t.context.$implicit.value,"")),e(t,2,0,eu(1,"",t.context.$implicit.value,""))},function(e,t){e(t,3,0,t.context.$implicit.value)})}function Ig(e){return Ss(0,[(e()(),iu(0,0,null,null,10,"div",[["class","input-block m-0"]],null,null,null,null,null)),(e()(),iu(1,0,null,null,1,"label",[],null,null,null,null,null)),(e()(),ys(2,null,[" ","",""])),(e()(),iu(3,0,null,null,7,"div",[["class","input-group"]],null,null,null,null,null)),Gu(4,278528,null,0,Yc,[Yo,er,Ll,zl],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(e()(),iu(5,0,null,null,5,"div",[["class","sel style1 sel-sm"]],null,null,null,null,null)),(e()(),iu(6,0,null,null,4,"select",[["class","form-control input-sm"]],[[8,"id",0]],null,null,null,null)),(e()(),lu(16777216,null,null,1,null,Ag)),Gu(8,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,Tg)),Gu(10,278528,null,0,tp,[Oo,Ai,Yo],{ngForOf:[0,"ngForOf"]},null)],function(e,t){e(t,4,0,"input-group",t.parent.context.$implicit.errorRequired||t.parent.context.$implicit.errorInvalid?"has-danger":""),e(t,8,0,t.parent.context.$implicit.value),e(t,10,0,t.parent.context.$implicit.options)},function(e,t){e(t,2,0,t.parent.context.$implicit.label,t.parent.context.$implicit.required?"*":""),e(t,6,0,"field"+(t.parent.context.index+1+2))})}function Bg(e){return Ss(0,[(e()(),iu(0,0,null,null,1,"span",[["class","tooltip-inner"]],null,null,null,null,null)),(e()(),ys(-1,null,["Please select at least one option"]))],null,null)}function Og(e){return Ss(0,[(e()(),iu(0,0,null,null,1,"span",[["class","tooltip-inner"]],null,null,null,null,null)),(e()(),ys(-1,null,["Please select the given option"]))],null,null)}function Rg(e){return Ss(0,[(e()(),iu(0,0,null,null,1,"span",[["class","tooltip-inner"]],null,null,null,null,null)),(e()(),ys(1,null,["Please fill the "," "]))],null,function(e,t){var n=t.parent.parent.context.$implicit.name.toLowerCase();e(t,1,0,n)})}function Mg(e){return Ss(0,[(e()(),iu(0,0,null,null,7,"div",[["class","input-group-addon tooltip top-right"]],null,null,null,null,null)),(e()(),iu(1,0,null,null,0,"img",[["class","svg floatToCenter w-20"],["src","/cw/assets/img/icons/svg/error-filled.svg"]],null,null,null,null,null)),(e()(),lu(16777216,null,null,1,null,Bg)),Gu(3,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,Og)),Gu(5,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,Rg)),Gu(7,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null)],function(e,t){e(t,3,0,"radio"==t.parent.context.$implicit.elementType||"dropdown"==t.parent.context.$implicit.elementType),e(t,5,0,"checkbox"==t.parent.context.$implicit.elementType),e(t,7,0,"text"==t.parent.context.$implicit.elementType||"password"==t.parent.context.$implicit.elementType||"email"==t.parent.context.$implicit.elementType)},null)}function Pg(e){return Ss(0,[(e()(),iu(0,0,null,null,1,"span",[["class","tooltip-inner"]],null,null,null,null,null)),(e()(),ys(1,null,["Please enter valid ",""]))],null,function(e,t){var n=t.parent.parent.context.$implicit.name.toLowerCase();e(t,1,0,n)})}function Ng(e){return Ss(0,[(e()(),iu(0,0,null,null,3,"div",[["class","input-group-addon tooltip top-right"]],null,null,null,null,null)),(e()(),iu(1,0,null,null,0,"img",[["class","svg floatToCenter w-20"],["src","/cw/assets/img/icons/svg/error-filled.svg"]],null,null,null,null,null)),(e()(),lu(16777216,null,null,1,null,Pg)),Gu(3,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null)],function(e,t){e(t,3,0,"text"==t.parent.context.$implicit.elementType||"password"==t.parent.context.$implicit.elementType||"email"==t.parent.context.$implicit.elementType)},null)}function jg(e){return Ss(0,[(e()(),iu(0,0,null,null,12,"li",[],null,null,null,null,null)),(e()(),lu(16777216,null,null,1,null,Fg)),Gu(2,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,Eg)),Gu(4,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,kg)),Gu(6,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,Ig)),Gu(8,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,Mg)),Gu(10,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,Ng)),Gu(12,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null)],function(e,t){e(t,2,0,"password"==t.context.$implicit.elementType||"email"==t.context.$implicit.elementType||"text"==t.context.$implicit.elementType),e(t,4,0,"radio"==t.context.$implicit.elementType),e(t,6,0,"checkbox"==t.context.$implicit.elementType),e(t,8,0,"dropdown"==t.context.$implicit.elementType),e(t,10,0,t.context.$implicit.errorRequired),e(t,12,0,t.context.$implicit.errorInvalid)},null)}function Lg(e){return Ss(0,[(e()(),iu(0,0,[[1,0],["userInfoForm",1]],null,6,"form",[["id","formInputs"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(e,t,n){var l=!0;return"submit"===t&&(l=!1!==Ou(e,2).onSubmit(n)&&l),"reset"===t&&(l=!1!==Ou(e,2).onReset()&&l),l},null,null)),Gu(1,16384,null,0,Gf,[],null,null),Gu(2,4210688,null,0,Lf,[[8,null],[8,null]],null,null),Ju(2048,null,qh,null,[Lf]),Gu(4,16384,null,0,Tf,[[4,qh]],null,null),(e()(),lu(16777216,null,null,1,null,jg)),Gu(6,278528,null,0,tp,[Oo,Ai,Yo],{ngForOf:[0,"ngForOf"]},null)],function(e,t){e(t,6,0,t.component.GetFieldsArray())},function(e,t){e(t,0,0,Ou(t,4).ngClassUntouched,Ou(t,4).ngClassTouched,Ou(t,4).ngClassPristine,Ou(t,4).ngClassDirty,Ou(t,4).ngClassValid,Ou(t,4).ngClassInvalid,Ou(t,4).ngClassPending)})}function Vg(e){return Ss(0,[as(671088640,1,{formNativeElement:0}),(e()(),lu(16777216,null,null,1,null,Sg)),Gu(2,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),iu(3,0,null,null,2,"div",[["class","clearfix dialog-header p-24"]],null,null,null,null,null)),(e()(),iu(4,0,null,null,1,"h5",[],null,null,null,null,null)),(e()(),ys(5,null,[""," "])),(e()(),iu(6,0,null,null,4,"div",[["class","clearfix dialog-content p-24"],["id","homePopup"]],null,null,null,null,null)),Gu(7,278528,null,0,rp,[er,Ll,zl],{ngStyle:[0,"ngStyle"]},null),vs(8,{"background-color":0,color:1}),(e()(),lu(16777216,null,null,1,null,Lg)),Gu(10,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),iu(11,0,null,null,6,"div",[["class","dialog-footer"]],null,null,null,null,null)),(e()(),iu(12,0,null,null,5,"button",[["class","btn btn-md bg-charcoal btn-block"],["id","btnStartChat"],["type","button"]],null,[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.ValidateForm()&&l),l},null,null)),Gu(13,278528,null,0,Yc,[Yo,er,Ll,zl],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),Gu(14,278528,null,0,rp,[er,Ll,zl],{ngStyle:[0,"ngStyle"]},null),vs(15,{"background-color":0,color:1}),(e()(),iu(16,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),ys(17,null,["",""]))],function(e,t){var n=t.component;e(t,2,0,n.showCloseButton);var l=n.themeSettings?e(t,8,0,n.themeSettings.dialogBgColor,n.themeSettings.dialogTextColor):"";e(t,7,0,l),e(t,10,0,n.customFieldsMap),e(t,13,0,"btn btn-md bg-charcoal btn-block",n.loading?"btnSpinner":"");var i=n.themeSettings?e(t,15,0,n.themeSettings.btnColor,n.themeSettings.btnTextcolor):"";e(t,14,0,i)},function(e,t){var n=t.component;e(t,5,0,n.showRegisterContent?n.registerationForm.content:"Please fill in the form below to register"),e(t,17,0,n.register?"Register Now":"Chat Now")})}function $g(e){return Ss(0,[(e()(),iu(0,0,null,null,1,"app-user-information-form",[],null,null,null,Vg,Cg)),Gu(1,245760,null,0,bg,[Xf,ng,fd,gd],null,null)],function(e,t){e(t,1,0)},null)}var Hg=Su("app-user-information-form",bg,$g,{},{},[]),Ug=Er({encapsulation:2,styles:[[""]],data:{}});function zg(e){return Ss(0,[(e()(),iu(0,0,null,null,0,"input",[["class"," op-1 form-control"],["disabled",""]],[[8,"value",0]],null,null,null,null))],null,function(e,t){e(t,0,0,t.component.userName)})}function qg(e){return Ss(0,[(e()(),iu(0,0,null,null,5,"input",[["autocomplete","off"],["class","form-control"],["id","userName"],["name","userName"],["placeholder","Enter Name"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(e,t,n){var l=!0,i=e.component;return"input"===t&&(l=!1!==Ou(e,1)._handleInput(n.target.value)&&l),"blur"===t&&(l=!1!==Ou(e,1).onTouched()&&l),"compositionstart"===t&&(l=!1!==Ou(e,1)._compositionStart()&&l),"compositionend"===t&&(l=!1!==Ou(e,1)._compositionEnd(n.target.value)&&l),"ngModelChange"===t&&(l=!1!==(i.userName=n)&&l),l},null,null)),Gu(1,16384,null,0,nf,[zl,Ll,[2,tf]],null,null),Ju(1024,null,Yh,function(e){return[e]},[nf]),Gu(3,671744,null,0,zf,[[2,qh],[8,null],[8,null],[6,Yh]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),Ju(2048,null,sf,null,[zf]),Gu(5,16384,null,0,Af,[[4,sf]],null,null)],function(e,t){e(t,3,0,"userName",t.component.userName)},function(e,t){e(t,0,0,Ou(t,5).ngClassUntouched,Ou(t,5).ngClassTouched,Ou(t,5).ngClassPristine,Ou(t,5).ngClassDirty,Ou(t,5).ngClassValid,Ou(t,5).ngClassInvalid,Ou(t,5).ngClassPending)})}function Gg(e){return Ss(0,[(e()(),iu(0,0,null,null,0,"input",[["class","op-1 form-control"],["disabled",""]],[[8,"value",0]],[[null,"input"]],function(e,t,n){var l=!0;return"input"===t&&(l=!1!==e.component.TypingEvent(n,"userEmail")&&l),l},null,null))],null,function(e,t){e(t,0,0,t.component.userEmail)})}function Wg(e){return Ss(0,[(e()(),iu(0,0,null,null,6,"input",[["autocomplete","off"],["class","form-control"],["id","userEmail"],["name","userEmail"],["placeholder","Enter Email Address"],["type","email"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(e,t,n){var l=!0,i=e.component;return"input"===t&&(l=!1!==Ou(e,2)._handleInput(n.target.value)&&l),"blur"===t&&(l=!1!==Ou(e,2).onTouched()&&l),"compositionstart"===t&&(l=!1!==Ou(e,2)._compositionStart()&&l),"compositionend"===t&&(l=!1!==Ou(e,2)._compositionEnd(n.target.value)&&l),"ngModelChange"===t&&(l=!1!==(i.userEmail=n)&&l),"input"===t&&(l=!1!==i.TypingEvent(n,"userEmail")&&l),l},null,null)),Gu(1,278528,null,0,Yc,[Yo,er,Ll,zl],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),Gu(2,16384,null,0,nf,[zl,Ll,[2,tf]],null,null),Ju(1024,null,Yh,function(e){return[e]},[nf]),Gu(4,671744,null,0,zf,[[2,qh],[8,null],[8,null],[6,Yh]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),Ju(2048,null,sf,null,[zf]),Gu(6,16384,null,0,Af,[[4,sf]],null,null)],function(e,t){var n=t.component;e(t,1,0,"form-control",n.invalidEmail?"border-red":""),e(t,4,0,"userEmail",n.userEmail)},function(e,t){e(t,0,0,Ou(t,6).ngClassUntouched,Ou(t,6).ngClassTouched,Ou(t,6).ngClassPristine,Ou(t,6).ngClassDirty,Ou(t,6).ngClassValid,Ou(t,6).ngClassInvalid,Ou(t,6).ngClassPending)})}function Jg(e){return Ss(0,[(e()(),iu(0,0,null,null,3,"div",[["class","input-group-addon tooltip top-right"]],null,null,null,null,null)),(e()(),iu(1,0,null,null,0,"img",[["class","svg floatToCenter w-20"],["src","/cw/assets/img/icons/svg/error-filled.svg"]],null,null,null,null,null)),(e()(),iu(2,0,null,null,1,"span",[["class","tooltip-inner"]],null,null,null,null,null)),(e()(),ys(-1,null,["Please enter a valid email"]))],null,null)}function Qg(e){return Ss(0,[(e()(),iu(0,0,null,null,3,"div",[["class","input-group-addon tooltip top-right"]],null,null,null,null,null)),(e()(),iu(1,0,null,null,0,"img",[["class","svg floatToCenter w-20"],["src","/cw/assets/img/icons/svg/error-filled.svg"]],null,null,null,null,null)),(e()(),iu(2,0,null,null,1,"span",[["class","tooltip-inner"]],null,null,null,null,null)),(e()(),ys(-1,null,["Please enter a Phone Number"]))],null,null)}function Kg(e){return Ss(0,[(e()(),iu(0,0,null,null,3,"div",[["class","input-group-addon tooltip top-right"]],null,null,null,null,null)),(e()(),iu(1,0,null,null,0,"img",[["class","svg floatToCenter w-20"],["src","/cw/assets/img/icons/svg/error-filled.svg"]],null,null,null,null,null)),(e()(),iu(2,0,null,null,1,"span",[["class","tooltip-inner"]],null,null,null,null,null)),(e()(),ys(-1,null,["Please enter subject"]))],null,null)}function Zg(e){return Ss(0,[(e()(),iu(0,0,null,null,3,"div",[["class","input-group-addon tooltip top-right"]],null,null,null,null,null)),(e()(),iu(1,0,null,null,0,"img",[["class","svg floatToCenter w-20"],["src","/cw/assets/img/icons/svg/error-filled.svg"]],null,null,null,null,null)),(e()(),iu(2,0,null,null,1,"span",[["class","tooltip-inner"]],null,null,null,null,null)),(e()(),ys(-1,null,["Please enter message"]))],null,null)}function Xg(e){return Ss(0,[(e()(),iu(0,0,null,null,64,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(e,t,n){var l=!0;return"submit"===t&&(l=!1!==Ou(e,2).onSubmit(n)&&l),"reset"===t&&(l=!1!==Ou(e,2).onReset()&&l),l},null,null)),Gu(1,16384,null,0,Gf,[],null,null),Gu(2,4210688,null,0,Lf,[[8,null],[8,null]],null,null),Ju(2048,null,qh,null,[Lf]),Gu(4,16384,null,0,Tf,[[4,qh]],null,null),(e()(),iu(5,0,null,null,1,"h6",[["class","title-with-border border-gray"]],null,null,null,null,null)),(e()(),ys(6,null,["",""])),(e()(),iu(7,0,null,null,5,"div",[["class","input-block"]],null,null,null,null,null)),(e()(),iu(8,0,null,null,4,"div",[["class","input-group"]],null,null,null,null,null)),(e()(),lu(16777216,null,null,1,null,zg)),Gu(10,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,qg)),Gu(12,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),iu(13,0,null,null,8,"div",[["class","input-block"]],null,null,null,null,null)),(e()(),iu(14,0,null,null,7,"div",[["class","input-group"]],null,null,null,null,null)),Gu(15,278528,null,0,Yc,[Yo,er,Ll,zl],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(e()(),lu(16777216,null,null,1,null,Gg)),Gu(17,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,Wg)),Gu(19,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,Jg)),Gu(21,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),iu(22,0,null,null,11,"div",[["class","input-block"]],null,null,null,null,null)),(e()(),iu(23,0,null,null,10,"div",[["class","input-group"]],null,null,null,null,null)),Gu(24,278528,null,0,Yc,[Yo,er,Ll,zl],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(e()(),iu(25,0,null,null,6,"input",[["autocomplete","off"],["class","form-control"],["id","phone"],["name","phone"],["placeholder","(+)123-4567-8901"],["type","tel"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(e,t,n){var l=!0,i=e.component;return"input"===t&&(l=!1!==Ou(e,27)._handleInput(n.target.value)&&l),"blur"===t&&(l=!1!==Ou(e,27).onTouched()&&l),"compositionstart"===t&&(l=!1!==Ou(e,27)._compositionStart()&&l),"compositionend"===t&&(l=!1!==Ou(e,27)._compositionEnd(n.target.value)&&l),"ngModelChange"===t&&(l=!1!==(i.phone=n)&&l),"input"===t&&(l=!1!==i.TypingEvent(n,"phone")&&l),l},null,null)),Gu(26,278528,null,0,Yc,[Yo,er,Ll,zl],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),Gu(27,16384,null,0,nf,[zl,Ll,[2,tf]],null,null),Ju(1024,null,Yh,function(e){return[e]},[nf]),Gu(29,671744,null,0,zf,[[2,qh],[8,null],[8,null],[6,Yh]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),Ju(2048,null,sf,null,[zf]),Gu(31,16384,null,0,Af,[[4,sf]],null,null),(e()(),lu(16777216,null,null,1,null,Qg)),Gu(33,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),iu(34,0,null,null,11,"div",[["class","input-block"]],null,null,null,null,null)),(e()(),iu(35,0,null,null,10,"div",[["class","input-group"]],null,null,null,null,null)),Gu(36,278528,null,0,Yc,[Yo,er,Ll,zl],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(e()(),iu(37,0,null,null,6,"input",[["autocomplete","off"],["class","form-control"],["id","subject"],["name","subject"],["placeholder","Enter Subject"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(e,t,n){var l=!0,i=e.component;return"input"===t&&(l=!1!==Ou(e,39)._handleInput(n.target.value)&&l),"blur"===t&&(l=!1!==Ou(e,39).onTouched()&&l),"compositionstart"===t&&(l=!1!==Ou(e,39)._compositionStart()&&l),"compositionend"===t&&(l=!1!==Ou(e,39)._compositionEnd(n.target.value)&&l),"ngModelChange"===t&&(l=!1!==(i.subject=n)&&l),"input"===t&&(l=!1!==i.TypingEvent(n,"subject")&&l),l},null,null)),Gu(38,278528,null,0,Yc,[Yo,er,Ll,zl],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),Gu(39,16384,null,0,nf,[zl,Ll,[2,tf]],null,null),Ju(1024,null,Yh,function(e){return[e]},[nf]),Gu(41,671744,null,0,zf,[[2,qh],[8,null],[8,null],[6,Yh]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),Ju(2048,null,sf,null,[zf]),Gu(43,16384,null,0,Af,[[4,sf]],null,null),(e()(),lu(16777216,null,null,1,null,Kg)),Gu(45,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),iu(46,0,null,null,11,"div",[["class","input-block"]],null,null,null,null,null)),(e()(),iu(47,0,null,null,10,"div",[["class","input-group"]],null,null,null,null,null)),Gu(48,278528,null,0,Yc,[Yo,er,Ll,zl],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(e()(),iu(49,0,null,null,6,"textarea",[["autocomplete","off"],["class","form-control no-resize"],["id","message"],["name","message"],["placeholder","Enter Message"],["rows","3"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(e,t,n){var l=!0,i=e.component;return"input"===t&&(l=!1!==Ou(e,51)._handleInput(n.target.value)&&l),"blur"===t&&(l=!1!==Ou(e,51).onTouched()&&l),"compositionstart"===t&&(l=!1!==Ou(e,51)._compositionStart()&&l),"compositionend"===t&&(l=!1!==Ou(e,51)._compositionEnd(n.target.value)&&l),"ngModelChange"===t&&(l=!1!==(i.message=n)&&l),"input"===t&&(l=!1!==i.TypingEvent(n,"message")&&l),l},null,null)),Gu(50,278528,null,0,Yc,[Yo,er,Ll,zl],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),Gu(51,16384,null,0,nf,[zl,Ll,[2,tf]],null,null),Ju(1024,null,Yh,function(e){return[e]},[nf]),Gu(53,671744,null,0,zf,[[2,qh],[8,null],[8,null],[6,Yh]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),Ju(2048,null,sf,null,[zf]),Gu(55,16384,null,0,Af,[[4,sf]],null,null),(e()(),lu(16777216,null,null,1,null,Zg)),Gu(57,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),iu(58,0,null,null,6,"div",[["class","input-block"]],null,null,null,null,null)),(e()(),iu(59,0,null,null,5,"button",[["class","btn btn-md bg-charcoal btn-block"],["id","btnStartChat"],["type","button"]],null,[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.SubmitTicket()&&l),l},null,null)),Gu(60,278528,null,0,Yc,[Yo,er,Ll,zl],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),Gu(61,278528,null,0,rp,[er,Ll,zl],{ngStyle:[0,"ngStyle"]},null),vs(62,{"background-color":0,color:1}),(e()(),iu(63,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),ys(64,null,["",""]))],function(e,t){var n=t.component;e(t,10,0,!n.allowEdit),e(t,12,0,n.allowEdit),e(t,15,0,"input-group",n.invalidEmail?"has-danger":""),e(t,17,0,!n.allowEdit),e(t,19,0,n.allowEdit),e(t,21,0,n.invalidEmail),e(t,24,0,"input-group",n.invalidPhone?"has-danger":""),e(t,26,0,"form-control",n.invalidPhone?"border-red":""),e(t,29,0,"phone",n.phone),e(t,33,0,n.invalidPhone),e(t,36,0,"input-group",n.subjectRequired?"has-danger":""),e(t,38,0,"form-control",n.subjectRequired?"border-red":""),e(t,41,0,"subject",n.subject),e(t,45,0,n.subjectRequired),e(t,48,0,"input-group",n.messageRequired?"has-danger":""),e(t,50,0,"form-control no-resize",n.messageRequired?"border-red":""),e(t,53,0,"message",n.message),e(t,57,0,n.messageRequired),e(t,60,0,"btn btn-md bg-charcoal btn-block",n.submitting?"btnSpinner":"");var l=n.themeSettings?e(t,62,0,n.themeSettings.btnColor,n.themeSettings.btnTextcolor):"";e(t,61,0,l)},function(e,t){var n=t.component;e(t,0,0,Ou(t,4).ngClassUntouched,Ou(t,4).ngClassTouched,Ou(t,4).ngClassPristine,Ou(t,4).ngClassDirty,Ou(t,4).ngClassValid,Ou(t,4).ngClassInvalid,Ou(t,4).ngClassPending),e(t,6,0,n.ticketForm.content),e(t,25,0,Ou(t,31).ngClassUntouched,Ou(t,31).ngClassTouched,Ou(t,31).ngClassPristine,Ou(t,31).ngClassDirty,Ou(t,31).ngClassValid,Ou(t,31).ngClassInvalid,Ou(t,31).ngClassPending),e(t,37,0,Ou(t,43).ngClassUntouched,Ou(t,43).ngClassTouched,Ou(t,43).ngClassPristine,Ou(t,43).ngClassDirty,Ou(t,43).ngClassValid,Ou(t,43).ngClassInvalid,Ou(t,43).ngClassPending),e(t,49,0,Ou(t,55).ngClassUntouched,Ou(t,55).ngClassTouched,Ou(t,55).ngClassPristine,Ou(t,55).ngClassDirty,Ou(t,55).ngClassValid,Ou(t,55).ngClassInvalid,Ou(t,55).ngClassPending),e(t,64,0,n.ticketForm.btnText)})}function Yg(e){return Ss(0,[(e()(),iu(0,0,null,null,0,"img",[["alt","Success Icon"],["class","m-b-20"],["height","auto"],["src","/cw/assets/img/icons/svg/ok-done-green.svg"],["width","80"]],null,null,null,null,null))],null,null)}function em(e){return Ss(0,[(e()(),iu(0,0,null,null,1,"h5",[["class","title-with-border border-gray"]],null,null,null,null,null)),(e()(),ys(1,null,["",""]))],null,function(e,t){e(t,1,0,t.component.ticketSubmitted.heading)})}function tm(e){return Ss(0,[(e()(),iu(0,0,null,null,0,"img",[["alt","Error Occured"],["class","m-b-20"],["height","auto"],["src","/cw/assets/img/icons/svg/error-filled.svg"],["width","80"]],null,null,null,null,null))],null,null)}function nm(e){return Ss(0,[(e()(),iu(0,0,null,null,1,"h5",[["class","title-with-border border-gray"]],null,null,null,null,null)),(e()(),ys(-1,null,["An error occurred while submitting Ticket. Do you want to try again?"]))],null,null)}function lm(e){return Ss(0,[(e()(),iu(0,0,null,null,1,"h6",[],null,null,null,null,null)),(e()(),ys(1,null,["",""]))],null,function(e,t){e(t,1,0,t.component.ticketSubmitted.content)})}function im(e){return Ss(0,[(e()(),iu(0,0,null,null,26,"div",[["class","text-center clearfix p-24"],["id","successfullWindow"]],null,null,null,null,null)),Gu(1,278528,null,0,rp,[er,Ll,zl],{ngStyle:[0,"ngStyle"]},null),vs(2,{"background-color":0,color:1}),(e()(),lu(16777216,null,null,1,null,Yg)),Gu(4,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,em)),Gu(6,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,tm)),Gu(8,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,nm)),Gu(10,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,lm)),Gu(12,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),iu(13,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),iu(14,0,null,null,12,"div",[["class","flex_btns"]],null,null,null,null,null)),(e()(),iu(15,0,null,null,5,"div",[],null,null,null,null,null)),(e()(),iu(16,0,null,null,4,"button",[["class","btn"],["type","button"]],null,[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.RefreshForm()&&l),l},null,null)),Gu(17,278528,null,0,rp,[er,Ll,zl],{ngStyle:[0,"ngStyle"]},null),vs(18,{"background-color":0,color:1}),(e()(),iu(19,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),ys(20,null,["",""])),(e()(),iu(21,0,null,null,5,"div",[],null,null,null,null,null)),(e()(),iu(22,0,null,null,4,"button",[["class","btn"],["type","button"]],null,[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.CloseDialog()&&l),l},null,null)),Gu(23,278528,null,0,rp,[er,Ll,zl],{ngStyle:[0,"ngStyle"]},null),vs(24,{"background-color":0,color:1}),(e()(),iu(25,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),ys(26,null,["",""]))],function(e,t){var n=t.component,l=n.themeSettings?e(t,2,0,n.themeSettings.dialogBgColor,n.themeSettings.dialogTextColor):"";e(t,1,0,l),e(t,4,0,!n.error),e(t,6,0,!n.error),e(t,8,0,n.error),e(t,10,0,n.error),e(t,12,0,!n.error);var i=n.themeSettings?e(t,18,0,n.themeSettings.dialogBtnColor,n.themeSettings.dialogBtnTextColor):"";e(t,17,0,i);var o=n.themeSettings?e(t,24,0,n.themeSettings.dialogSecondaryBtnColor,n.themeSettings.dialogSecondaryBtnTextColor):"";e(t,23,0,o)},function(e,t){var n=t.component;e(t,20,0,n.ticketSubmitted.btn1Text),e(t,26,0,n.ticketSubmitted.btn2Text)})}function om(e){return Ss(0,[(e()(),iu(0,0,null,null,2,"div",[["class","dialog-close svgOnHover"]],null,[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.CloseDialog()&&l),l},null,null)),(e()(),iu(1,0,null,null,0,"img",[["class","svg"],["src","/cw/assets/img/icons/svg/cancel-circle-outline.svg"]],null,null,null,null,null)),(e()(),iu(2,0,null,null,0,"img",[["class","svg hover"],["src","/cw/assets/img/icons/svg/cancel-circle-filled.svg"]],null,null,null,null,null)),(e()(),iu(3,0,null,null,4,"div",[["class","clearfix p-24"]],null,null,null,null,null)),Gu(4,278528,null,0,rp,[er,Ll,zl],{ngStyle:[0,"ngStyle"]},null),vs(5,{"background-color":0,color:1}),(e()(),lu(16777216,null,null,1,null,Xg)),Gu(7,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,im)),Gu(9,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component,l=n.themeSettings?e(t,5,0,n.themeSettings.dialogBgColor,n.themeSettings.dialogTextColor):"";e(t,4,0,l),e(t,7,0,!n.submitted),e(t,9,0,n.submitted)},null)}function rm(e){return Ss(0,[(e()(),iu(0,0,null,null,1,"app-ticket-form-dialog",[],null,null,null,om,Ug)),Gu(1,245760,null,0,og,[ng,Xf,fd],null,null)],function(e,t){e(t,1,0)},null)}var um=Su("app-ticket-form-dialog",og,rm,{},{},[]),sm=function(){function e(){}return e.prototype.transform=function(e){switch(e.toString().split(".").pop().toLowerCase()){case"png":case"jpeg":case"jpg":case"gif":case"bmp":case"svg":return"image";case"mp3":case"aac":return"audio";case"mp4":case"m4a":case"m4v":case"f4v":case"m4b":case"f4b":case"mov":return"video";case"pdf":case"docx":case"doc":case"txt":case"csv":case"xls":case"xlsx":return"document";default:return"data"}},e}(),am=function(){function e(){}return e.prototype.transform=function(e){var t=!1,n=new RegExp(/\w+|^[a-zA-Z0-9~`!@#\$%\^&\*\(\)_\-\+={\[\}\]\|\\:;"'<,>\.\?\/  ]+$/,"gm"),l=RegExp(/(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff])|[\ud800-\udbff][\udc00-\udfff]|[\u0023-\u0039]\ufe0f?\u20e3|\u3299|\u3297|\u303d|\u3030|\u24c2|\ud83c[\udd70-\udd71]|\ud83c[\udd7e-\udd7f]|\ud83c\udd8e|\ud83c[\udd91-\udd9a]|\ud83c[\udde6-\uddff]|\ud83c[\ude01-\ude02]|\ud83c\ude1a|\ud83c\ude2f|\ud83c[\ude32-\ude3a]|\ud83c[\ude50-\ude51]|\u203c|\u2049|[\u25aa-\u25ab]|\u25b6|\u25c0|[\u25fb-\u25fe]|\u00a9|\u00ae|\u2122|\u2139|\ud83c\udc04|[\u2600-\u26FF]|\u2b05|\u2b06|\u2b07|\u2b1b|\u2b1c|\u2b50|\u2b55|\u231a|\u231b|\u2328|\u23cf|[\u23e9-\u23f3]|[\u23f8-\u23fa]|\ud83c\udccf|\u2934|\u2935|[\u2190-\u21ff])/,"gm");if(l.test(e.trim())){var i=e.trim().replace(l,"");n.test(i)||(t=!0)}return t},e}(),cm=function(){function e(e,t,n){var l=this;this._dataService=e,this._appStateService=t,this.dialogRef=n,this.subscriptions=[],this.session=void 0,this.userName="",this.userEmail="",this.phone="",this.subject="",this.conversation=[],this.filteredConversation=[],this.emailRegex=/^[_a-z0-9]+(\.[_a-z0-9]+)*@[a-z0-9-]+(\.[a-z0-9-]+)*(\.[a-z]{2,4})$/,this.NumbersOnlyPatter=/^[0-9\-]+$/,this.invalidEmail=!1,this.invalidPhone=!1,this.subjectRequired=!1,this.imageError=!1,this.submitting=!1,this.submitted=!1,this.themeSettings=void 0,this.ticketForm=void 0,this.ticketSubmitted=void 0,this.subscriptions.push(this._appStateService.Session.subscribe(function(e){l.session=e,e.email&&"unregistered"!=e.email.toLowerCase()&&(l.userEmail=e.email),e.username&&-1==e.username.indexOf("Guest")&&(l.userName=e.username),l.session&&1!=l.session.state&&l.ticketForm&&(l.ticketForm.content=l.ticketForm.content.replace(/we are currently away./i,""))})),this.subscriptions.push(this._appStateService.Settings.subscribe(function(e){e&&(l.themeSettings=e.dialogSettings,l.ticketForm=e.ticketForm,l.ticketSubmitted=e.ticketSubmitted,l.session&&1!=l.session.state&&(l.ticketForm.content=l.ticketForm.content.replace(/we are currently away./i,"")))})),this.subscriptions.push(this._appStateService.AllowEdit.subscribe(function(e){l.allowEdit=e})),this.subscriptions.push(this._dataService.Messages.subscribe(function(e){e.length>0&&(l.conversation=e,l.filteredConversation=e)}))}return e.prototype.ngOnInit=function(){},e.prototype.ngOnDestroy=function(){this.subscriptions.map(function(e){e.unsubscribe()})},e.prototype.Close=function(){this.dialogRef.close({status:"closed"})},e.prototype.SubmitTicket=function(){var e=this,t=this.filteredConversation.filter(function(e){return!e.unselected});this.invalidEmail=!1,this.subjectRequired=!1,this.invalidPhone=!1,new RegExp(this.emailRegex,"gi").test(this.userEmail)||(this.invalidEmail=!0),this.subject||(this.subjectRequired=!0),this.phone&&!new RegExp(this.NumbersOnlyPatter).test(this.phone)&&(this.invalidPhone=!0),this.subjectRequired||this.invalidEmail||this.invalidPhone||(this.submitting=!0,this._dataService.ConvertChatToTicket({name:this.userName.trim(),email:this.userEmail.trim(),phone:this.phone.trim(),subject:this.subject.trim(),conversation:JSON.stringify(t)}).subscribe(function(t){e.submitting=!1,t&&(e.submitted=!0,e.subject="",e.conversation=[],e.phone="",e.dialogRef.disableClose=!0,e.closeTimer=setTimeout(function(){e.submitted=!1,e.dialogRef.close({result:"ok"})},5e3))},function(t){e.submitting=!1}))},e.prototype.CloseDialog=function(){this.dialogRef.close({result:"close"})},e.prototype.RefreshForm=function(){clearTimeout(this.closeTimer),this.submitted=!1,this.dialogRef.disableClose=!1},e.prototype.ImageBroken=function(){this.imageError=!0},e.prototype.EditMessage=function(e,t){this.filteredConversation=this.filteredConversation.map(function(n){return n._id==e._id&&(n.unselected=t),n})},e}(),pm=Er({encapsulation:2,styles:[["#TicketChat{width:50%;float:right;height:calc(100vh - 205px);padding:40px 10px}#TicketChatForm{width:50%;float:left;height:calc(100vh - 120px);padding:40px 10px}.disabled-Message{opacity:.5}#ConvertChat input{padding:0 5px;margin:5px 0;height:35px;line-height:36px;font-size:12px}#ConvertChat .chat-text{font-size:10px}"]],data:{}});function dm(e){return Ss(0,[(e()(),iu(0,0,null,null,0,"input",[["class"," op-1 form-control"],["disabled",""]],[[8,"value",0]],null,null,null,null))],null,function(e,t){e(t,0,0,t.component.userName)})}function hm(e){return Ss(0,[(e()(),iu(0,0,null,null,5,"input",[["autocomplete","off"],["class","form-control"],["id","userName"],["name","userName"],["placeholder","Enter Name"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(e,t,n){var l=!0,i=e.component;return"input"===t&&(l=!1!==Ou(e,1)._handleInput(n.target.value)&&l),"blur"===t&&(l=!1!==Ou(e,1).onTouched()&&l),"compositionstart"===t&&(l=!1!==Ou(e,1)._compositionStart()&&l),"compositionend"===t&&(l=!1!==Ou(e,1)._compositionEnd(n.target.value)&&l),"ngModelChange"===t&&(l=!1!==(i.userName=n)&&l),l},null,null)),Gu(1,16384,null,0,nf,[zl,Ll,[2,tf]],null,null),Ju(1024,null,Yh,function(e){return[e]},[nf]),Gu(3,671744,null,0,zf,[[2,qh],[8,null],[8,null],[6,Yh]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),Ju(2048,null,sf,null,[zf]),Gu(5,16384,null,0,Af,[[4,sf]],null,null)],function(e,t){e(t,3,0,"userName",t.component.userName)},function(e,t){e(t,0,0,Ou(t,5).ngClassUntouched,Ou(t,5).ngClassTouched,Ou(t,5).ngClassPristine,Ou(t,5).ngClassDirty,Ou(t,5).ngClassValid,Ou(t,5).ngClassInvalid,Ou(t,5).ngClassPending)})}function fm(e){return Ss(0,[(e()(),iu(0,0,null,null,0,"input",[["class","op-1 form-control"],["disabled",""]],[[8,"value",0]],null,null,null,null))],null,function(e,t){e(t,0,0,t.component.userEmail)})}function gm(e){return Ss(0,[(e()(),iu(0,0,null,null,6,"input",[["autocomplete","off"],["class","form-control"],["id","userEmail"],["name","userEmail"],["placeholder","Enter Email Address"],["type","email"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(e,t,n){var l=!0,i=e.component;return"input"===t&&(l=!1!==Ou(e,2)._handleInput(n.target.value)&&l),"blur"===t&&(l=!1!==Ou(e,2).onTouched()&&l),"compositionstart"===t&&(l=!1!==Ou(e,2)._compositionStart()&&l),"compositionend"===t&&(l=!1!==Ou(e,2)._compositionEnd(n.target.value)&&l),"ngModelChange"===t&&(l=!1!==(i.userEmail=n)&&l),l},null,null)),Gu(1,278528,null,0,Yc,[Yo,er,Ll,zl],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),Gu(2,16384,null,0,nf,[zl,Ll,[2,tf]],null,null),Ju(1024,null,Yh,function(e){return[e]},[nf]),Gu(4,671744,null,0,zf,[[2,qh],[8,null],[8,null],[6,Yh]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),Ju(2048,null,sf,null,[zf]),Gu(6,16384,null,0,Af,[[4,sf]],null,null)],function(e,t){var n=t.component;e(t,1,0,"form-control",n.invalidEmail?"border-red":""),e(t,4,0,"userEmail",n.userEmail)},function(e,t){e(t,0,0,Ou(t,6).ngClassUntouched,Ou(t,6).ngClassTouched,Ou(t,6).ngClassPristine,Ou(t,6).ngClassDirty,Ou(t,6).ngClassValid,Ou(t,6).ngClassInvalid,Ou(t,6).ngClassPending)})}function mm(e){return Ss(0,[(e()(),iu(0,0,null,null,39,"div",[["id","TicketChatForm"]],null,null,null,null,null)),(e()(),iu(1,0,null,null,38,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(e,t,n){var l=!0;return"submit"===t&&(l=!1!==Ou(e,3).onSubmit(n)&&l),"reset"===t&&(l=!1!==Ou(e,3).onReset()&&l),l},null,null)),Gu(2,16384,null,0,Gf,[],null,null),Gu(3,4210688,null,0,Lf,[[8,null],[8,null]],null,null),Ju(2048,null,qh,null,[Lf]),Gu(5,16384,null,0,Tf,[[4,qh]],null,null),(e()(),iu(6,0,null,null,1,"p",[["class","title-with-border border-gray"]],null,null,null,null,null)),(e()(),ys(7,null,["",""])),(e()(),iu(8,0,null,null,4,"div",[["class","input-block"]],null,null,null,null,null)),(e()(),lu(16777216,null,null,1,null,dm)),Gu(10,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,hm)),Gu(12,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),iu(13,0,null,null,4,"div",[["class","input-block has-feedback"]],null,null,null,null,null)),(e()(),lu(16777216,null,null,1,null,fm)),Gu(15,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,gm)),Gu(17,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),iu(18,0,null,null,7,"div",[["class","input-block"]],null,null,null,null,null)),(e()(),iu(19,0,null,null,6,"input",[["autocomplete","off"],["class","form-control"],["id","phone"],["name","phone"],["placeholder","Enter Phone Number"],["type","tel"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(e,t,n){var l=!0,i=e.component;return"input"===t&&(l=!1!==Ou(e,21)._handleInput(n.target.value)&&l),"blur"===t&&(l=!1!==Ou(e,21).onTouched()&&l),"compositionstart"===t&&(l=!1!==Ou(e,21)._compositionStart()&&l),"compositionend"===t&&(l=!1!==Ou(e,21)._compositionEnd(n.target.value)&&l),"ngModelChange"===t&&(l=!1!==(i.phone=n)&&l),l},null,null)),Gu(20,278528,null,0,Yc,[Yo,er,Ll,zl],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),Gu(21,16384,null,0,nf,[zl,Ll,[2,tf]],null,null),Ju(1024,null,Yh,function(e){return[e]},[nf]),Gu(23,671744,null,0,zf,[[2,qh],[8,null],[8,null],[6,Yh]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),Ju(2048,null,sf,null,[zf]),Gu(25,16384,null,0,Af,[[4,sf]],null,null),(e()(),iu(26,0,null,null,7,"div",[["class","input-block"]],null,null,null,null,null)),(e()(),iu(27,0,null,null,6,"input",[["autocomplete","off"],["class","form-control"],["id","subject"],["name","subject"],["placeholder","Enter Subject"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(e,t,n){var l=!0,i=e.component;return"input"===t&&(l=!1!==Ou(e,29)._handleInput(n.target.value)&&l),"blur"===t&&(l=!1!==Ou(e,29).onTouched()&&l),"compositionstart"===t&&(l=!1!==Ou(e,29)._compositionStart()&&l),"compositionend"===t&&(l=!1!==Ou(e,29)._compositionEnd(n.target.value)&&l),"ngModelChange"===t&&(l=!1!==(i.subject=n)&&l),l},null,null)),Gu(28,278528,null,0,Yc,[Yo,er,Ll,zl],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),Gu(29,16384,null,0,nf,[zl,Ll,[2,tf]],null,null),Ju(1024,null,Yh,function(e){return[e]},[nf]),Gu(31,671744,null,0,zf,[[2,qh],[8,null],[8,null],[6,Yh]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),Ju(2048,null,sf,null,[zf]),Gu(33,16384,null,0,Af,[[4,sf]],null,null),(e()(),iu(34,0,null,null,5,"div",[["class","input-block"]],null,null,null,null,null)),(e()(),iu(35,0,null,null,4,"button",[["class","btn btn-md btn-block"],["id","btnStartChat"],["type","button"]],null,[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.SubmitTicket()&&l),l},null,null)),Gu(36,278528,null,0,rp,[er,Ll,zl],{ngStyle:[0,"ngStyle"]},null),vs(37,{"background-color":0,color:1}),(e()(),iu(38,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),ys(39,null,["",""]))],function(e,t){var n=t.component;e(t,10,0,!n.allowEdit),e(t,12,0,n.allowEdit),e(t,15,0,!n.allowEdit),e(t,17,0,n.allowEdit),e(t,20,0,"form-control",n.invalidPhone?"border-red":""),e(t,23,0,"phone",n.phone),e(t,28,0,"form-control",n.subjectRequired?"border-red":""),e(t,31,0,"subject",n.subject);var l=n.themeSettings?e(t,37,0,n.themeSettings.dialogBtnColor,n.themeSettings.dialogBtnTextColor):"";e(t,36,0,l)},function(e,t){var n=t.component;e(t,1,0,Ou(t,5).ngClassUntouched,Ou(t,5).ngClassTouched,Ou(t,5).ngClassPristine,Ou(t,5).ngClassDirty,Ou(t,5).ngClassValid,Ou(t,5).ngClassInvalid,Ou(t,5).ngClassPending),e(t,7,0,n.ticketForm.content),e(t,19,0,Ou(t,25).ngClassUntouched,Ou(t,25).ngClassTouched,Ou(t,25).ngClassPristine,Ou(t,25).ngClassDirty,Ou(t,25).ngClassValid,Ou(t,25).ngClassInvalid,Ou(t,25).ngClassPending),e(t,27,0,Ou(t,33).ngClassUntouched,Ou(t,33).ngClassTouched,Ou(t,33).ngClassPristine,Ou(t,33).ngClassDirty,Ou(t,33).ngClassValid,Ou(t,33).ngClassInvalid,Ou(t,33).ngClassPending),e(t,39,0,n.ticketForm.btnText)})}function vm(e){return Ss(0,[(e()(),iu(0,0,null,null,1,"button",[["class","btn btn-xs bg-red pull-right"]],null,[[null,"click"]],function(e,t,n){var l=!0,i=e.component;return"click"===t&&(l=!1!==i.EditMessage(i.filteredConversation[e.parent.context.index],!0)&&l),l},null,null)),(e()(),iu(1,0,null,null,0,"img",[["alt","Delete"],["src","/cw/assets/img/icons/svg/delete.svg"],["width","12"]],null,null,null,null,null))],null,null)}function Dm(e){return Ss(0,[(e()(),iu(0,0,null,null,1,"button",[["class","btn btn-xs bg-red pull-right"]],null,[[null,"click"]],function(e,t,n){var l=!0,i=e.component;return"click"===t&&(l=!1!==i.EditMessage(i.filteredConversation[e.parent.context.index],!1)&&l),l},null,null)),(e()(),iu(1,0,null,null,0,"img",[["alt","Send"],["src","/cw/assets/img/icons/svg/send.svg"],["width","12"]],null,null,null,null,null))],null,null)}function ym(e){return Ss(0,[(e()(),iu(0,0,null,null,0,"img",[["height","auto"],["width","100%"]],[[8,"src",4]],null,null,null,null))],null,function(e,t){e(t,0,0,eu(1,"",t.parent.parent.context.$implicit.body,""))})}function bm(e){return Ss(0,[(e()(),iu(0,0,null,null,0,"audio",[["controls",""]],[[8,"src",4]],null,null,null,null))],null,function(e,t){e(t,0,0,eu(1,"",t.parent.parent.context.$implicit.body,""))})}function Cm(e){return Ss(0,[(e()(),iu(0,0,null,null,1,"video",[["controls",""],["width","250"]],null,null,null,null,null)),(e()(),iu(1,0,null,null,0,"source",[["type","video/mp4"]],[[8,"src",4]],null,null,null,null))],null,function(e,t){e(t,1,0,eu(1,"",t.parent.parent.context.$implicit.body,""))})}function Sm(e){return Ss(0,[(e()(),iu(0,0,null,null,29,"div",[["class","chat-text attachment"]],[[1,"disabled",0]],null,null,null,null)),Gu(1,278528,null,0,Yc,[Yo,er,Ll,zl],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),Gu(2,278528,null,0,rp,[er,Ll,zl],{ngStyle:[0,"ngStyle"]},null),vs(3,{"background-color":0,color:1}),vs(4,{"background-color":0,color:1}),(e()(),iu(5,0,null,null,20,"a",[["target","_blank"]],[[8,"href",4]],null,null,null,null)),Gu(6,278528,null,0,Yc,[Yo,er,Ll,zl],{ngClass:[0,"ngClass"]},null),gs(7,1),gs(8,1),gs(9,1),gs(10,1),(e()(),iu(11,0,null,null,9,"div",[["class","thumbnail"]],null,null,null,null,null)),(e()(),lu(16777216,null,null,2,null,ym)),Gu(13,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),gs(14,1),(e()(),lu(16777216,null,null,2,null,bm)),Gu(16,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),gs(17,1),(e()(),lu(16777216,null,null,2,null,Cm)),Gu(19,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),gs(20,1),(e()(),iu(21,0,null,null,4,"div",[["class","file-name tooltip top"]],null,null,null,null,null)),(e()(),iu(22,0,null,null,1,"span",[["class","ellipsis"]],null,null,null,null,null)),(e()(),ys(23,null,["",""])),(e()(),iu(24,0,null,null,1,"span",[["class","tooltip-inner"]],null,null,null,null,null)),(e()(),ys(25,null,["",""])),(e()(),iu(26,0,null,null,3,"span",[["class","arrow"]],null,null,null,null,null)),Gu(27,278528,null,0,rp,[er,Ll,zl],{ngStyle:[0,"ngStyle"]},null),vs(28,{"border-top-color":0}),vs(29,{"border-top-color":0})],function(e,t){var n=t.component;e(t,1,0,"chat-text attachment",t.parent.context.$implicit.unselected?"disabled-Message":"");var l=n.displaySettings?"Visitors"==t.parent.context.$implicit.type?e(t,3,0,n.displaySettings.sentBGColor,n.displaySettings.sentForeColor):e(t,4,0,n.displaySettings.recieveBGColor,n.displaySettings.recieveForeColor):"";e(t,2,0,l);var i="data"==wr(t,6,0,e(t,7,0,Ou(t.parent.parent.parent.parent.parent,0),t.parent.context.$implicit.body))?"file":"image"==wr(t,6,0,e(t,8,0,Ou(t.parent.parent.parent.parent.parent,0),t.parent.context.$implicit.body))?"image":"audio"==wr(t,6,0,e(t,9,0,Ou(t.parent.parent.parent.parent.parent,0),t.parent.context.$implicit.body))?"audio":"document"==wr(t,6,0,e(t,10,0,Ou(t.parent.parent.parent.parent.parent,0),t.parent.context.$implicit.body))?"document":"";e(t,6,0,i);var o=t.parent.context.$implicit.attachment&&"image"==wr(t,13,0,e(t,14,0,Ou(t.parent.parent.parent.parent.parent,0),t.parent.context.$implicit.body));e(t,13,0,o);var r=t.parent.context.$implicit.attachment&&"audio"==wr(t,16,0,e(t,17,0,Ou(t.parent.parent.parent.parent.parent,0),t.parent.context.$implicit.body));e(t,16,0,r);var u=t.parent.context.$implicit.attachment&&"video"==wr(t,19,0,e(t,20,0,Ou(t.parent.parent.parent.parent.parent,0),t.parent.context.$implicit.body));e(t,19,0,u);var s=n.displaySettings?"Visitors"==t.parent.context.$implicit.type?e(t,28,0,n.displaySettings.sentBGColor):e(t,29,0,n.displaySettings.recieveBGColor):"";e(t,27,0,s)},function(e,t){e(t,0,0,!!t.parent.context.$implicit.unselected||null),e(t,5,0,eu(1,"",t.parent.context.$implicit.body,"")),e(t,23,0,t.parent.context.$implicit.filename),e(t,25,0,t.parent.context.$implicit.filename)})}function _m(e){return Ss(0,[(e()(),iu(0,0,null,null,13,"div",[["class","chat-text"]],[[1,"disabled",0]],null,null,null,null)),Gu(1,278528,null,0,Yc,[Yo,er,Ll,zl],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),Gu(2,278528,null,0,rp,[er,Ll,zl],{ngStyle:[0,"ngStyle"]},null),vs(3,{"background-color":0,color:1}),vs(4,{"background-color":0,color:1}),(e()(),iu(5,0,null,null,4,"p",[],null,null,null,null,null)),Gu(6,278528,null,0,Yc,[Yo,er,Ll,zl],{ngClass:[0,"ngClass"]},null),gs(7,1),(e()(),iu(8,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),ys(9,null,["",""])),(e()(),iu(10,0,null,null,3,"span",[["class","arrow"]],null,null,null,null,null)),Gu(11,278528,null,0,rp,[er,Ll,zl],{ngStyle:[0,"ngStyle"]},null),vs(12,{"border-top-color":0}),vs(13,{"border-top-color":0})],function(e,t){var n=t.component;e(t,1,0,"chat-text",t.parent.context.$implicit.unselected?"disabled-Message":"");var l=n.displaySettings?"Visitors"==t.parent.context.$implicit.type?e(t,3,0,n.displaySettings.sentBGColor,n.displaySettings.sentForeColor):e(t,4,0,n.displaySettings.recieveBGColor,n.displaySettings.recieveForeColor):"";e(t,2,0,l);var i=wr(t,6,0,e(t,7,0,Ou(t.parent.parent.parent.parent.parent,1),t.parent.context.$implicit.body))?"onlyEmoji":"";e(t,6,0,i);var o=n.displaySettings?"Visitors"==t.parent.context.$implicit.type?e(t,12,0,n.displaySettings.sentBGColor):e(t,13,0,n.displaySettings.recieveBGColor):"";e(t,11,0,o)},function(e,t){e(t,0,0,!!t.parent.context.$implicit.unselected||null),e(t,9,0,t.parent.context.$implicit.body)})}function wm(e){return Ss(0,[(e()(),iu(0,0,null,null,8,"div",[["class","chat-info"]],[[1,"disabled",0]],null,null,null,null)),Gu(1,278528,null,0,Yc,[Yo,er,Ll,zl],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),Gu(2,278528,null,0,rp,[er,Ll,zl],{ngStyle:[0,"ngStyle"]},null),vs(3,{color:0}),vs(4,{color:0}),(e()(),iu(5,0,null,null,3,"span",[],null,null,null,null,null)),(e()(),ys(6,null,[""," ",""])),gs(7,2),gs(8,2)],function(e,t){var n=t.component;e(t,1,0,"chat-info",t.parent.context.$implicit.unselected?"disabled-Message":"");var l=n.displaySettings?"Visitors"==t.parent.context.$implicit.type?e(t,3,0,n.displaySettings.sentForeColor):e(t,4,0,n.displaySettings.recieveForeColor):"";e(t,2,0,l)},function(e,t){e(t,0,0,!!t.parent.context.$implicit.unselected||null);var n=wr(t,6,0,e(t,7,0,Ou(t.parent.parent.parent.parent.parent,2),t.parent.context.$implicit.date,"mediumDate")),l=wr(t,6,1,e(t,8,0,Ou(t.parent.parent.parent.parent.parent,2),t.parent.context.$implicit.date,"shortTime"));e(t,6,0,n,l)})}function Fm(e){return Ss(0,[(e()(),iu(0,0,null,null,11,"div",[],null,null,null,null,null)),Gu(1,278528,null,0,Yc,[Yo,er,Ll,zl],{ngClass:[0,"ngClass"]},null),(e()(),lu(16777216,null,null,1,null,vm)),Gu(3,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,Dm)),Gu(5,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,Sm)),Gu(7,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,_m)),Gu(9,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,wm)),Gu(11,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null)],function(e,t){e(t,1,0,"Visitors"==t.context.$implicit.type?"chat-msg msg_sent":"chat-msg msg_recieved"),e(t,3,0,!t.context.$implicit.unselected),e(t,5,0,t.context.$implicit.unselected),e(t,7,0,""!=t.context.$implicit.body&&t.context.$implicit.attachment),e(t,9,0,""!=t.context.$implicit.body&&!t.context.$implicit.attachment),e(t,11,0,""!=t.context.$implicit.body)},null)}function xm(e){return Ss(0,[(e()(),iu(0,0,null,null,2,"div",[["class","messages clearfix"]],null,null,null,null,null)),(e()(),lu(16777216,null,null,1,null,Fm)),Gu(2,278528,null,0,tp,[Oo,Ai,Yo],{ngForOf:[0,"ngForOf"]},null)],function(e,t){e(t,2,0,t.component.filteredConversation)},null)}function Em(e){return Ss(0,[(e()(),iu(0,0,[["scrollbarRef",1]],null,2,"div",[["class","activateSscrollbar"]],null,null,null,null,null)),(e()(),lu(16777216,null,null,1,null,xm)),Gu(2,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null)],function(e,t){e(t,2,0,t.component.filteredConversation)},null)}function km(e){return Ss(0,[(e()(),iu(0,0,null,null,4,"div",[["id","TicketChat"]],null,null,null,null,null)),(e()(),iu(1,0,null,null,1,"h6",[["class","title-with-border border-gray"]],null,null,null,null,null)),(e()(),ys(-1,null,["Conversation"])),(e()(),lu(16777216,null,null,1,null,Em)),Gu(4,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null)],function(e,t){e(t,4,0,t.component.session.agent)},null)}function Am(e){return Ss(0,[(e()(),iu(0,0,null,null,21,"div",[["class","text-center clearfix p-24"],["id","successfullWindow"]],null,null,null,null,null)),Gu(1,278528,null,0,rp,[er,Ll,zl],{ngStyle:[0,"ngStyle"]},null),vs(2,{"background-color":0,color:1}),(e()(),iu(3,0,null,null,0,"img",[["alt","Success Icon"],["class","m-b-20"],["height","auto"],["src","/cw/assets/img/icons/svg/ok-done-green.svg"],["width","80"]],null,null,null,null,null)),(e()(),iu(4,0,null,null,1,"h5",[["class","title-with-border border-gray"]],null,null,null,null,null)),(e()(),ys(5,null,["",""])),(e()(),iu(6,0,null,null,1,"h6",[],null,null,null,null,null)),(e()(),ys(7,null,["",""])),(e()(),iu(8,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),iu(9,0,null,null,12,"div",[["class","flex_btns"]],null,null,null,null,null)),(e()(),iu(10,0,null,null,5,"div",[],null,null,null,null,null)),(e()(),iu(11,0,null,null,4,"button",[["class","btn"],["type","button"]],null,[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.RefreshForm()&&l),l},null,null)),Gu(12,278528,null,0,rp,[er,Ll,zl],{ngStyle:[0,"ngStyle"]},null),vs(13,{"background-color":0,color:1}),(e()(),iu(14,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),ys(15,null,["",""])),(e()(),iu(16,0,null,null,5,"div",[],null,null,null,null,null)),(e()(),iu(17,0,null,null,4,"button",[["class","btn"],["type","button"]],null,[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.CloseDialog()&&l),l},null,null)),Gu(18,278528,null,0,rp,[er,Ll,zl],{ngStyle:[0,"ngStyle"]},null),vs(19,{"background-color":0,color:1}),(e()(),iu(20,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),ys(21,null,["",""]))],function(e,t){var n=t.component,l=n.themeSettings?e(t,2,0,n.themeSettings.dialogBgColor,n.themeSettings.dialogTextColor):"";e(t,1,0,l);var i=n.themeSettings?e(t,13,0,n.themeSettings.dialogBtnColor,n.themeSettings.dialogBtnTextColor):"";e(t,12,0,i);var o=n.themeSettings?e(t,19,0,n.themeSettings.dialogSecondaryBtnColor,n.themeSettings.dialogSecondaryBtnTextColor):"";e(t,18,0,o)},function(e,t){var n=t.component;e(t,5,0,n.ticketSubmitted.ticketSubmitted),e(t,7,0,n.ticketSubmitted.content),e(t,15,0,n.ticketSubmitted.btn1Text),e(t,21,0,n.ticketSubmitted.btn2Text)})}function Tm(e){return Ss(0,[Wu(0,sm,[]),Wu(0,am,[]),Wu(0,ap,[or]),(e()(),iu(3,0,null,null,2,"div",[["class","dialog-close svgOnHover"]],null,[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.Close()&&l),l},null,null)),(e()(),iu(4,0,null,null,0,"img",[["class","svg"],["src","/cw/assets/img/icons/svg/cancel-circle-outline.svg"]],null,null,null,null,null)),(e()(),iu(5,0,null,null,0,"img",[["class","svg hover"],["src","/cw/assets/img/icons/svg/cancel-circle-filled.svg"]],null,null,null,null,null)),(e()(),iu(6,0,null,null,6,"div",[["class","clearfix"],["id","ConvertChat"]],null,null,null,null,null)),Gu(7,278528,null,0,rp,[er,Ll,zl],{ngStyle:[0,"ngStyle"]},null),vs(8,{"background-color":0,color:1}),(e()(),lu(16777216,null,null,1,null,mm)),Gu(10,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,km)),Gu(12,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,Am)),Gu(14,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component,l=n.themeSettings?e(t,8,0,n.themeSettings.dialogBgColor,n.themeSettings.dialogTextColor):"";e(t,7,0,l),e(t,10,0,!n.submitted),e(t,12,0,!n.submitted),e(t,14,0,n.submitted)},null)}function Im(e){return Ss(0,[(e()(),iu(0,0,null,null,1,"app-convert-ticket-dialog",[],null,null,null,Tm,pm)),Gu(1,245760,null,0,cm,[ng,Xf,fd],null,null)],function(e,t){e(t,1,0)},null)}var Bm=Su("app-convert-ticket-dialog",cm,Im,{},{},[]),Om=Er({encapsulation:2,styles:[[""]],data:{}});function Rm(e){return Ss(0,[as(402653184,1,{logo:0}),(e()(),iu(1,0,null,null,2,"div",[["class","dialog-close svgOnHover"]],null,[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.Close()&&l),l},null,null)),(e()(),iu(2,0,null,null,0,"img",[["class","svg"],["src","/cw/assets/img/icons/svg/cancel-circle-outline.svg"]],null,null,null,null,null)),(e()(),iu(3,0,null,null,0,"img",[["class","svg hover"],["src","/cw/assets/img/icons/svg/cancel-circle-filled.svg"]],null,null,null,null,null)),(e()(),iu(4,0,null,null,21,"div",[["class","text-center clearfix p-24"]],null,null,null,null,null)),Gu(5,278528,null,0,rp,[er,Ll,zl],{ngStyle:[0,"ngStyle"]},null),vs(6,{"background-color":0,color:1}),(e()(),iu(7,0,[[1,0],["logo",1]],null,0,"object",[["class","m-b-20"],["data","/cw/assets/img/icons/svg/chat-icon.svg"],["height","auto"],["id","logo"],["name","logo"],["type","image/svg+xml"],["width","80"]],null,[[null,"load"]],function(e,t,n){var l=!0;return"load"===t&&(l=!1!==e.component.SvgChangeColor(n)&&l),l},null,null)),(e()(),iu(8,0,null,null,4,"h6",[["class","title-with-border border-gray"]],null,null,null,null,null)),(e()(),ys(9,null,["",""])),(e()(),iu(10,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),iu(11,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),ys(12,null,["",""])),(e()(),iu(13,0,null,null,12,"div",[["class","flex_btns"]],null,null,null,null,null)),(e()(),iu(14,0,null,null,5,"div",[],null,null,null,null,null)),(e()(),iu(15,0,null,null,4,"button",[["class","btn"],["type","button"]],null,[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.NoAgentAvailable(!0)&&l),l},null,null)),Gu(16,278528,null,0,rp,[er,Ll,zl],{ngStyle:[0,"ngStyle"]},null),vs(17,{"background-color":0,color:1}),(e()(),iu(18,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),ys(19,null,["",""])),(e()(),iu(20,0,null,null,5,"div",[],null,null,null,null,null)),(e()(),iu(21,0,null,null,4,"button",[["class","btn"],["type","button"]],null,[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.NoAgentAvailable(!1)&&l),l},null,null)),Gu(22,278528,null,0,rp,[er,Ll,zl],{ngStyle:[0,"ngStyle"]},null),vs(23,{"background-color":0,color:1}),(e()(),iu(24,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),ys(25,null,["",""]))],function(e,t){var n=t.component,l=n.themeSettings?e(t,6,0,n.themeSettings.dialogBgColor,n.themeSettings.dialogTextColor):"";e(t,5,0,l);var i=n.themeSettings?e(t,17,0,n.themeSettings.dialogBtnColor,n.themeSettings.dialogBtnTextColor):"";e(t,16,0,i);var o=n.themeSettings?e(t,23,0,n.themeSettings.dialogSecondaryBtnColor,n.themeSettings.dialogSecondaryBtnTextColor):"";e(t,22,0,o)},function(e,t){var n=t.component;e(t,9,0,n.ticketFormNoAgent.heading),e(t,12,0,n.ticketFormNoAgent.content),e(t,19,0,n.ticketFormNoAgent.btn1Text),e(t,25,0,n.ticketFormNoAgent.btn2Text)})}function Mm(e){return Ss(0,[(e()(),iu(0,0,null,null,1,"app-noagent-ticket-dialog",[],null,null,null,Rm,Om)),Gu(1,114688,null,0,lg,[fd,Xf],null,null)],function(e,t){e(t,1,0)},null)}var Pm=Su("app-noagent-ticket-dialog",lg,Mm,{},{},[]),Nm=function(){function e(e,t,n,l){var i=this;this.dialogRef=e,this._postMessageService=t,this._appService=n,this._dataService=l,this.subscriptions=[],this.restarting=!1,this.themeSettings=void 0,this.reinitiateDialogue=void 0,this.banned=!1,this.subscriptions.push(this._postMessageService.Load.subscribe(function(e){e&&i.dialogRef.close({status:"ok"})})),this.subscriptions.push(this._appService.Session.subscribe(function(e){e&&(i.Session=e)})),this.subscriptions.push(this._appService.Settings.subscribe(function(e){e&&(i.themeSettings=e.dialogSettings,i.reinitiateDialogue=e.reinitiateDialogue)})),this.subscriptions.push(this._dataService.banned.subscribe(function(e){i.banned=e}))}return e.prototype.ngOnInit=function(){},e.prototype.SvgChangeColor=function(e){var t=this.logo.nativeElement.contentDocument.getElementsByTagName("path").item(0);t&&t.setAttribute("fill",this.themeSettings.dialogLogoColor)},e.prototype.ngOnDestroy=function(){this.subscriptions.map(function(e){e.unsubscribe()})},e.prototype.StartAgain=function(e){var t=this;this._dataService.ClearSessionData().subscribe(function(e){e&&t._dataService.SessionStartOver(!1).subscribe(function(e){e&&(t.restarting=!0)})})},e}(),jm=function(){function e(e,t,n,l,i){var o=this;this._dataService=e,this._appStateService=t,this._restService=n,this.dialogRef=l,this.dialogue=i,this.subscriptions=[],this.emailRegex=/^[_a-z0-9]+(\.[_a-z0-9]+)*@[a-z0-9-]+(\.[a-z0-9-]+)*(\.[a-z]{2,4})$/,this.session=void 0,this.state="confirmation",this.invalidEmail=!1,this.submitting=!1,this.submitted=!1,this.banned=!1,this.themeSettings=void 0,this.transcriptFormConfirm=void 0,this.lostAgentDialogue=void 0,this.subscriptions.push(this._appStateService.OldSession.subscribe(function(e){e&&(o.session=e,o._appStateService.OldSession.next(void 0))})),this.subscriptions.push(this._appStateService.Settings.subscribe(function(e){e&&(o.themeSettings=e.dialogSettings,o.transcriptFormConfirm=e.transcriptFormConfirm,o.lostAgentDialogue=e.lostAgentDialogue)})),this.subscriptions.push(this._dataService.banned.subscribe(function(e){o.banned=e}))}return e.prototype.ngOnInit=function(){},e.prototype.ngOnDestroy=function(){this.subscriptions.map(function(e){e.unsubscribe()})},e.prototype.WantTranscript=function(){new RegExp(this.emailRegex).test(this.session.email)?this.SubmitTranscript(this.session.email,this.session.cid):this.state="invalidemail"},e.prototype.SubmitEmail=function(){this.invalidEmail=!1,new RegExp(this.emailRegex).test(this.email)?(this.state="sending",this.SubmitTranscript(this.email,this.session.cid)):this.invalidEmail=!0},e.prototype.CloseDialog=function(){this.dialogRef.close(),this.dialogue.open(Nm,{disableClose:!0,autoFocus:!0}).afterClosed().subscribe(function(e){})},e.prototype.Close=function(){this.dialogRef.close()},e.prototype.SubmitTranscript=function(e,t){var n=this;this._restService.SendXMLHttpRequest("/visitor/emailtranscript","POST",JSON.stringify({email:e||e,sid:this.session._id||this.session.id||this.session.csid,cid:this.session.cid}),!1,!0,[{name:"Content-Type",value:"application/json"}]).subscribe(function(e){"ok"==JSON.parse(e).status&&(n.state="sent"),setTimeout(function(){n.dialogRef.close({status:"ok"})},3e3)},function(e){})},e}(),Lm=Er({encapsulation:2,styles:[[""]],data:{}});function Vm(e){return Ss(0,[(e()(),iu(0,0,null,null,1,"h6",[["class","title-with-border border-gray"]],null,null,null,null,null)),(e()(),ys(1,null,["",""]))],null,function(e,t){e(t,1,0,t.component.transcriptFormConfirm.wantTransc)})}function $m(e){return Ss(0,[(e()(),iu(0,0,null,null,8,"div",[["class","flex_btns"]],null,null,null,null,null)),(e()(),iu(1,0,null,null,3,"div",[],null,null,null,null,null)),(e()(),iu(2,0,null,null,2,"button",[["class","btn bg-olive"],["type","button"]],null,[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.WantTranscript()&&l),l},null,null)),(e()(),iu(3,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),ys(4,null,["",""])),(e()(),iu(5,0,null,null,3,"div",[],null,null,null,null,null)),(e()(),iu(6,0,null,null,2,"button",[["class","btn bg-red"],["type","button"]],null,[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.CloseDialog()&&l),l},null,null)),(e()(),iu(7,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),ys(8,null,["",""]))],null,function(e,t){var n=t.component;e(t,4,0,n.transcriptFormConfirm.btn1Text),e(t,8,0,n.transcriptFormConfirm.btn2Text)})}function Hm(e){return Ss(0,[(e()(),iu(0,0,null,null,10,"div",[["class","text-center clearfix p-24"]],null,null,null,null,null)),Gu(1,278528,null,0,rp,[er,Ll,zl],{ngStyle:[0,"ngStyle"]},null),vs(2,{"background-color":0,color:1}),(e()(),iu(3,0,null,null,0,"img",[["alt","Chat Ended"],["class","m-b-20"],["height","auto"],["src","/cw/assets/img/icons/svg/chat-icon-orange.svg"],["width","80"]],null,null,null,null,null)),(e()(),iu(4,0,null,null,1,"h5",[["class","text-red"]],null,null,null,null,null)),(e()(),ys(5,null,["",""])),(e()(),iu(6,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),lu(16777216,null,null,1,null,Vm)),Gu(8,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,$m)),Gu(10,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component,l=n.themeSettings?e(t,2,0,n.themeSettings.dialogBgColor,n.themeSettings.dialogTextColor):"";e(t,1,0,l),e(t,8,0,!n.banned),e(t,10,0,!n.banned)},function(e,t){e(t,5,0,t.component.transcriptFormConfirm.heading)})}function Um(e){return Ss(0,[(e()(),iu(0,0,null,null,17,"div",[["class","clearfix p-24"]],null,null,null,null,null)),Gu(1,278528,null,0,rp,[er,Ll,zl],{ngStyle:[0,"ngStyle"]},null),vs(2,{"background-color":0,color:1}),(e()(),iu(3,0,null,null,1,"h6",[["class","title-with-border border-gray"]],null,null,null,null,null)),(e()(),ys(4,null,["",""])),(e()(),iu(5,0,null,null,7,"div",[["class","input-block"]],null,null,null,null,null)),(e()(),iu(6,0,null,null,6,"input",[["autocomplete","off"],["class","form-control"],["id","email"],["name","email"],["placeholder","Enter Email Address"],["type","email"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(e,t,n){var l=!0,i=e.component;return"input"===t&&(l=!1!==Ou(e,8)._handleInput(n.target.value)&&l),"blur"===t&&(l=!1!==Ou(e,8).onTouched()&&l),"compositionstart"===t&&(l=!1!==Ou(e,8)._compositionStart()&&l),"compositionend"===t&&(l=!1!==Ou(e,8)._compositionEnd(n.target.value)&&l),"ngModelChange"===t&&(l=!1!==(i.email=n)&&l),l},null,null)),Gu(7,278528,null,0,Yc,[Yo,er,Ll,zl],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),Gu(8,16384,null,0,nf,[zl,Ll,[2,tf]],null,null),Ju(1024,null,Yh,function(e){return[e]},[nf]),Gu(10,671744,null,0,zf,[[8,null],[8,null],[8,null],[6,Yh]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),Ju(2048,null,sf,null,[zf]),Gu(12,16384,null,0,Af,[[4,sf]],null,null),(e()(),iu(13,0,null,null,4,"button",[["class","btn btn-block"],["type","submit"]],null,[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.SubmitEmail()&&l),l},null,null)),Gu(14,278528,null,0,rp,[er,Ll,zl],{ngStyle:[0,"ngStyle"]},null),vs(15,{"background-color":0,color:1}),(e()(),iu(16,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),ys(17,null,["",""]))],function(e,t){var n=t.component,l=n.themeSettings?e(t,2,0,n.themeSettings.dialogBgColor,n.themeSettings.dialogTextColor):"";e(t,1,0,l),e(t,7,0,"form-control",n.invalidemail?"border-red":""),e(t,10,0,"email",n.email);var i=n.themeSettings?e(t,15,0,n.themeSettings.dialogBtnColor,n.themeSettings.dialogBtnTextColor):"";e(t,14,0,i)},function(e,t){var n=t.component;e(t,4,0,n.transcriptFormConfirm.transcEmail),e(t,6,0,Ou(t,12).ngClassUntouched,Ou(t,12).ngClassTouched,Ou(t,12).ngClassPristine,Ou(t,12).ngClassDirty,Ou(t,12).ngClassValid,Ou(t,12).ngClassInvalid,Ou(t,12).ngClassPending),e(t,17,0,n.transcriptFormConfirm.transcEmailbtn)})}function zm(e){return Ss(0,[(e()(),iu(0,0,null,null,3,"div",[["class","clearfix p-24"]],null,null,null,null,null)),Gu(1,278528,null,0,rp,[er,Ll,zl],{ngStyle:[0,"ngStyle"]},null),vs(2,{"background-color":0,color:1}),(e()(),iu(3,0,null,null,0,"img",[["alt","Sending Transcript..."],["height","auto"],["src","/cw/assets/img/sending_mail.gif"],["width","100%"]],null,null,null,null,null))],function(e,t){var n=t.component,l=n.themeSettings?e(t,2,0,n.themeSettings.dialogBgColor,n.themeSettings.dialogTextColor):"";e(t,1,0,l)},null)}function qm(e){return Ss(0,[(e()(),iu(0,0,null,null,6,"div",[["class","clearfix p-24"]],null,null,null,null,null)),Gu(1,278528,null,0,rp,[er,Ll,zl],{ngStyle:[0,"ngStyle"]},null),vs(2,{"background-color":0,color:1}),(e()(),iu(3,0,null,null,3,"div",[["class","text-center"]],null,null,null,null,null)),(e()(),iu(4,0,null,null,0,"img",[["alt","Success Icon"],["class","m-b-20"],["height","auto"],["src","/cw/assets/img/icons/svg/ok-done-green.svg"],["width","80"]],null,null,null,null,null)),(e()(),iu(5,0,null,null,1,"h6",[],null,null,null,null,null)),(e()(),ys(6,null,["",""]))],function(e,t){var n=t.component,l=n.themeSettings?e(t,2,0,n.themeSettings.dialogBgColor,n.themeSettings.dialogTextColor):"";e(t,1,0,l)},function(e,t){e(t,6,0,t.component.transcriptFormConfirm.transcriptSuccess)})}function Gm(e){return Ss(0,[(e()(),iu(0,0,null,null,2,"div",[["class","dialog-close svgOnHover"]],null,[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.Close()&&l),l},null,null)),(e()(),iu(1,0,null,null,0,"img",[["class","svg"],["src","/cw/assets/img/icons/svg/cancel-circle-outline.svg"]],null,null,null,null,null)),(e()(),iu(2,0,null,null,0,"img",[["class","svg hover"],["src","/cw/assets/img/icons/svg/cancel-circle-filled.svg"]],null,null,null,null,null)),(e()(),lu(16777216,null,null,1,null,Hm)),Gu(4,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,Um)),Gu(6,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,zm)),Gu(8,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,qm)),Gu(10,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component;e(t,4,0,"confirmation"==n.state),e(t,6,0,"invalidemail"==n.state),e(t,8,0,"sending"==n.state),e(t,10,0,"sent"==n.state)},null)}function Wm(e){return Ss(0,[(e()(),iu(0,0,null,null,1,"app-transcript-confirmation",[],null,null,null,Gm,Lm)),Gu(1,245760,null,0,jm,[ng,Xf,eg,fd,yd],null,null)],function(e,t){e(t,1,0)},null)}var Jm=Su("app-transcript-confirmation",jm,Wm,{},{},[]),Qm=function(){function e(e,t,n){var l=this;this.dialogRef=e,this._appStateService=t,this._dataService=n,this.closeScreen=void 0,this.subscriptions=[],this.loading=!1,this._appStateService.Settings.subscribe(function(e){e&&(l.closeScreen=e.closeScreen)}),this.subscriptions.push(this._appStateService.Settings.subscribe(function(e){e&&(l.themeSettings=e.dialogSettings)})),this.subscriptions.push(this._appStateService.endChat.subscribe(function(e){l.dialogRef&&e&&l.dialogRef.close()}))}return e.prototype.ngOnInit=function(){},e.prototype.SvgChangeColor=function(e){var t=this.logo.nativeElement.contentDocument.getElementsByTagName("path").item(0);t&&t.setAttribute("fill",this.themeSettings.dialogLogoColor)},e.prototype.Endchat=function(e){var t=this;e&&(this.loading=!0,this._dataService.endChatByVisitor.next(!0),this._dataService.CloseChat().subscribe(function(e){e?(t.dialogRef.close({close:!0}),setTimeout(function(){t.loading=!1},1e3)):(t.loading=!1,t.dialogRef.close({close:!1}))}))},e.prototype.Close=function(){this.dialogRef.close({close:!1})},e.prototype.ngOnDestroy=function(){this.subscriptions.map(function(e){e.unsubscribe()})},e}(),Km=Er({encapsulation:2,styles:[[""]],data:{}});function Zm(e){return Ss(0,[(e()(),iu(0,0,null,null,12,"div",[["class","flex_btns"]],null,null,null,null,null)),(e()(),iu(1,0,null,null,5,"div",[],null,null,null,null,null)),(e()(),iu(2,0,null,null,4,"button",[["class","btn"],["type","button"]],null,[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.Endchat(!0)&&l),l},null,null)),Gu(3,278528,null,0,rp,[er,Ll,zl],{ngStyle:[0,"ngStyle"]},null),vs(4,{"background-color":0,color:1}),(e()(),iu(5,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),ys(6,null,["",""])),(e()(),iu(7,0,null,null,5,"div",[],null,null,null,null,null)),(e()(),iu(8,0,null,null,4,"button",[["class","btn"],["type","button"]],null,[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.Close()&&l),l},null,null)),Gu(9,278528,null,0,rp,[er,Ll,zl],{ngStyle:[0,"ngStyle"]},null),vs(10,{"background-color":0,color:1}),(e()(),iu(11,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),ys(12,null,["",""]))],function(e,t){var n=t.component,l=n.themeSettings?e(t,4,0,n.themeSettings.dialogBtnColor,n.themeSettings.dialogBtnTextColor):"";e(t,3,0,l);var i=n.themeSettings?e(t,10,0,n.themeSettings.dialogSecondaryBtnColor,n.themeSettings.dialogSecondaryBtnTextColor):"";e(t,9,0,i)},function(e,t){var n=t.component;e(t,6,0,n.closeScreen.btn1Text),e(t,12,0,n.closeScreen.btn2Text)})}function Xm(e){return Ss(0,[(e()(),iu(0,0,null,null,1,"h6",[["class","title-with-border border-gray"]],null,null,null,null,null)),(e()(),ys(-1,null,["Please Wait..."]))],null,null)}function Ym(e){return Ss(0,[as(402653184,1,{logo:0}),(e()(),iu(1,0,null,null,2,"div",[["class","dialog-close svgOnHover"]],null,[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.Close()&&l),l},null,null)),(e()(),iu(2,0,null,null,0,"img",[["class","svg"],["src","/cw/assets/img/icons/svg/cancel-circle-outline.svg"]],null,null,null,null,null)),(e()(),iu(3,0,null,null,0,"img",[["class","svg hover"],["src","/cw/assets/img/icons/svg/cancel-circle-filled.svg"]],null,null,null,null,null)),(e()(),iu(4,0,null,null,9,"div",[["class","text-center clearfix p-24"]],null,null,null,null,null)),Gu(5,278528,null,0,rp,[er,Ll,zl],{ngStyle:[0,"ngStyle"]},null),vs(6,{"background-color":0,color:1}),(e()(),iu(7,0,[[1,0],["logo",1]],null,0,"object",[["class","m-b-20"],["data","/cw/assets/img/icons/svg/chat-icon.svg"],["height","auto"],["id","logo"],["name","logo"],["type","image/svg+xml"],["width","80"]],null,[[null,"load"]],function(e,t,n){var l=!0;return"load"===t&&(l=!1!==e.component.SvgChangeColor(n)&&l),l},null,null)),(e()(),iu(8,0,null,null,1,"h6",[["class","title-with-border border-gray"]],null,null,null,null,null)),(e()(),ys(9,null,["",""])),(e()(),lu(16777216,null,null,1,null,Zm)),Gu(11,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,Xm)),Gu(13,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component,l=n.themeSettings?e(t,6,0,n.themeSettings.dialogBgColor,n.themeSettings.dialogTextColor):"";e(t,5,0,l),e(t,11,0,!n.loading),e(t,13,0,n.loading)},function(e,t){e(t,9,0,t.component.closeScreen.content)})}function ev(e){return Ss(0,[(e()(),iu(0,0,null,null,1,"app-close-chat-confirmation",[],null,null,null,Ym,Km)),Gu(1,245760,null,0,Qm,[fd,Xf,ng],null,null)],function(e,t){e(t,1,0)},null)}var tv=Su("app-close-chat-confirmation",Qm,ev,{},{},[]),nv=function(){function e(e,t,n,l,i){var o=this;this._dataService=e,this._restService=t,this.dialogue=n,this._appStateService=l,this.dialogRef=i,this.subscriptions=[],this.q1="yes",this.q2="good",this.wantTranscript=!1,this.emailRegex=/^[_a-z0-9]+(\.[_a-z0-9]+)*@[a-z0-9-]+(\.[a-z0-9-]+)*(\.[a-z]{2,4})$/,this.state="",this.invalidEmail=!1,this.submitting=!1,this.submitted=!1,this.loading=!1,this.session=void 0,this.themeSettings=void 0,this.feedbackForm=void 0,this.forceEndedChat=!1,this.errorFields=[],this.regex={email:/^[_a-z0-9]+(\.[_a-z0-9]+)*@[a-z0-9-]+(\.[a-z0-9-]+)*(\.[a-z]{2,4})$/,tel:/^[0-9+\-()\s]+$/,number:/^[0-9]+$/,httpRegex:/(http:\/\/)/,httpsRegex:/(https:\/\/)/,url:/^(https?):\/\/(-\.)?([^\s\/?\.#-]+\.?)+(\/[^\s]*)?$/i,numberRangeRegex:/^[0-9]+-[0-9]+$/,infiniteNumberRangeRegex:/^[0-9]+\+$/},this.feedback={},this.subscriptions.push(this._appStateService.Session.subscribe(function(e){e&&(o.session=e,e.email&&"unregistered"!=e.email.toLowerCase()&&(o.email=e.email))})),this.subscriptions.push(this._appStateService.Settings.subscribe(function(e){e&&(o.themeSettings=e.dialogSettings,o.feedbackForm=e.feedbackForm)})),this.subscriptions.push(this._dataService.forceEndedChat.subscribe(function(e){o.forceEndedChat=e}))}return e.prototype.ngOnInit=function(){},e.prototype.ngOnDestroy=function(){this.subscriptions.map(function(e){e.unsubscribe()})},e.prototype.ResetForm=function(){var e=this;return new _(function(t){var n=e.formNativeElement.nativeElement.querySelectorAll("input");Array.from(n).length&&Array.from(n).map(function(e){var t=document.getElementById("error-"+e.id),n=document.getElementById("errorValid-"+e.id);t&&(e.classList.remove("text-red"),t.classList.remove("show"),t.classList.add("hide")),n&&(e.classList.remove("text-red"),n.classList.remove("show"),n.classList.add("hide"))}),t.next(!0),t.complete()})},e.prototype.ValidateForm=function(){var e=this;try{if(this.ResetForm().subscribe(function(t){t&&(e.dataList={},e.errorFields=[],e.inputFields=[])}),this.inputFields=[],this.inputFields=this.formNativeElement.nativeElement.querySelectorAll('[id^="Q"]'),this.inputFields.length&&Array.from(this.inputFields).map(function(t,n){if("checkbox"==t.type&&t.checked)e.dataList[t.id]=t.name;else if("radio"==t.type)for(var l=document.getElementsByName(t.name),i=0;i<l.length;i++)l[i].checked&&(e.dataList[t.id]=l[i].value);else e.dataList[t.id]=t.options&&t.options.length?t.options[t.selectedIndex].value:!t.value||"text"!=t.type&&"textarea"!=t.type&&"email"!=t.type&&"password"!=t.type?"":t.value;if(t.value&&e.regex.hasOwnProperty(t.type)&&!new RegExp(e.regex[t.type]).test(e.dataList[t.id])){e.dataList[t.id]="";var o=document.getElementById("errorValid-"+t.id);o&&(t.classList.add("text-red"),o.classList.remove("hide"),o.classList.add("show"),-1===e.errorFields.indexOf(t.id)&&e.errorFields.push(t.id))}if(e.dataList[t.id])new Error("Construction Error: input field does not have ID");else{var r=document.getElementById("error-"+t.id);r&&(t.classList.add("text-red"),r.classList.remove("hide"),r.classList.add("show"),-1===e.errorFields.indexOf(t.id)&&e.errorFields.push(t.id))}}),this.errorFields.length)return;var t={};Object.keys(this.dataList).map(function(n,l){t[e.feedbackForm.customFields[l].name]=e.dataList[n],e.feedback[e.feedbackForm.customFields[l].label]=e.dataList[n]}),this.SubmitSurvey(t)}catch(n){}},e.prototype.SubmitSurvey=function(e){var t=this,n={};if(this.wantTranscript&&8!=this.session.state)if(this.invalidEmail=!1,this.email)if(this.invalidEmail=!0,new RegExp(this.emailRegex).test(this.email)){this.invalidEmail=!1,this.state="submitting",this.loading=!0,n={cid:this.session.cid,agent:this.session.agent};var l={};e&&Object.keys(e).length&&Object.keys(e).map(function(t){n[t]=e[t],l[t]=e[t]}),i=this._dataService.FormatSurvey(this.feedback,"Post Chat Survey"),this._dataService.SaveMessage(i),this._dataService.SubmitSurveyRest(n,i).subscribe(function(e){t.loading=!1,e&&(t.state="sending",t.loading=!0,t.SubmitTranscript(t.email,t.session.cid).subscribe(function(e){t.state="sent",t.loading=!1,t.CloseDialog()},function(e){t.loading=!1,t.CloseDialog()}))},function(e){t.state="",t.loading=!1})}else this.state="invalidemail",this.invalidEmail=!0,this.loading=!1;else this.state="invalidemail",this.invalidEmail=!0,this.loading=!1;else{this.state="submitting",this.loading=!0,n={cid:this.session.cid,agent:this.session.agent},e&&Object.keys(e).length&&Object.keys(e).map(function(t){n[t]=e[t]});var i=this._dataService.FormatSurvey(this.feedback,"Post Chat Survey");this._dataService.SaveMessage(i),this._dataService.SubmitSurveyRest(n,i).subscribe(function(e){t.state="",t.loading=!1,e&&t.CloseDialog()},function(e){t.CloseDialog()})}},e.prototype.ToggleQuestion=function(e,t){t==this.q2&&e.preventDefault(),this.q2=t},e.prototype.ToggleTranscript=function(){this.wantTranscript=!this.wantTranscript},e.prototype.WantTranscript=function(){if(!new RegExp(this.emailRegex).test(this.session.email))return this.state="invalidemail","invalidemail"==this.state;this.SubmitTranscript(this.session.email,this.session.cid)},e.prototype.SubmitEmail=function(){this.invalidEmail=!1,new RegExp(this.emailRegex).test(this.email)?(this.state="sending",this.SubmitTranscript(this.email,this.session.cid)):this.invalidEmail=!0},e.prototype.CloseDialog=function(){this.dialogRef.close({status:!0})},e.prototype.Close=function(){this.dialogRef.close({status:!1})},e.prototype.SubmitTranscript=function(e,t){var n=this;return new _(function(t){n._restService.SendXMLHttpRequest("/visitor/emailtranscript","POST",JSON.stringify({email:e||e,sid:n.session._id||n.session.id,cid:n.session.cid}),!1,!0,[{name:"Content-Type",value:"application/json"}]).subscribe(function(e){"ok"==JSON.parse(e).status&&(n.state="sent",t.next({status:"ok"}),t.complete())},function(e){t.error(e)})})},e}(),lv=Er({encapsulation:2,styles:[[""]],data:{}});function iv(e){return Ss(0,[(e()(),iu(0,0,null,null,3,"div",[["class","input-block"]],null,null,null,null,null)),(e()(),iu(1,0,null,null,1,"label",[],null,null,null,null,null)),(e()(),ys(2,null,[" ","",""])),(e()(),iu(3,0,null,null,0,"input",[["class","form-control input-sm"]],[[8,"name",0],[8,"id",0],[8,"placeholder",0],[8,"type",0],[8,"value",0]],null,null,null,null))],null,function(e,t){e(t,2,0,t.parent.context.$implicit.label,t.parent.context.$implicit.required?"*":""),e(t,3,0,eu(1,"",t.parent.context.$implicit.name?t.parent.context.$implicit.name:"",""),"Q"+(t.parent.context.index+1+2),eu(1,"",t.parent.context.$implicit.placeholder,""),eu(1,"",t.parent.context.$implicit.elementType,""),eu(1,"",t.parent.context.$implicit.value?t.parent.context.$implicit.value:"",""))})}function ov(e){return Ss(0,[(e()(),iu(0,0,null,null,3,"div",[["class","input-block"]],null,null,null,null,null)),(e()(),iu(1,0,null,null,1,"label",[],null,null,null,null,null)),(e()(),ys(2,null,[" ","",""])),(e()(),iu(3,0,null,null,0,"textarea",[["class","form-control input-sm"]],[[8,"name",0],[8,"placeholder",0],[8,"id",0],[8,"value",0]],null,null,null,null))],null,function(e,t){e(t,2,0,t.parent.context.$implicit.label,t.parent.context.$implicit.required?"*":""),e(t,3,0,eu(1,"",t.parent.context.$implicit.name?t.parent.context.$implicit.name:"",""),eu(1,"",t.parent.context.$implicit.placeholder,""),"Q"+(t.parent.context.index+1+2),eu(1,"",t.parent.context.$implicit.value?t.parent.context.$implicit.value:"",""))})}function rv(e){return Ss(0,[(e()(),iu(0,0,null,null,4,"div",[["class","pretty p-default p-round m-b-7"]],null,null,null,null,null)),(e()(),iu(1,0,null,null,0,"input",[],[[8,"checked",0],[8,"type",0],[8,"id",0],[8,"name",0],[8,"checked",0],[8,"value",0]],null,null,null,null)),(e()(),iu(2,0,null,null,2,"div",[["class","state p-success"]],null,null,null,null,null)),(e()(),iu(3,0,null,null,1,"label",[],null,null,null,null,null)),(e()(),ys(4,null,["",""]))],null,function(e,t){e(t,1,0,t.context.$implicit.value,eu(1,"",t.parent.parent.context.$implicit.elementType,""),"Q"+(t.parent.parent.context.index+1+2),t.parent.parent.context.$implicit.name,"true"==t.parent.parent.context.$implicit.value,eu(1,"",t.context.$implicit.name,"")),e(t,4,0,t.context.$implicit.name)})}function uv(e){return Ss(0,[(e()(),iu(0,0,null,null,4,"div",[["class","input-block m-0"]],null,null,null,null,null)),(e()(),iu(1,0,null,null,1,"label",[],null,null,null,null,null)),(e()(),ys(2,null,[" ","",""])),(e()(),lu(16777216,null,null,1,null,rv)),Gu(4,278528,null,0,tp,[Oo,Ai,Yo],{ngForOf:[0,"ngForOf"]},null)],function(e,t){e(t,4,0,t.parent.context.$implicit.options)},function(e,t){e(t,2,0,t.parent.context.$implicit.label,t.parent.context.$implicit.required?"*":"")})}function sv(e){return Ss(0,[(e()(),iu(0,0,null,null,8,"div",[["class","input-block m-0"]],null,null,null,null,null)),(e()(),iu(1,0,null,null,1,"label",[],null,null,null,null,null)),(e()(),ys(2,null,[" ","",""])),(e()(),iu(3,0,null,null,5,"div",[["class","pretty p-svg p-smooth"]],null,null,null,null,null)),(e()(),iu(4,0,null,null,0,"input",[],[[8,"type",0],[8,"name",0],[8,"id",0],[8,"checked",0]],null,null,null,null)),(e()(),iu(5,0,null,null,3,"div",[["class","state p-success"]],null,null,null,null,null)),(e()(),iu(6,0,null,null,0,"img",[["class","svg"],["src","/cw/assets/img/icons/svg/ok.svg"],["width","15"]],null,null,null,null,null)),(e()(),iu(7,0,null,null,1,"label",[],null,null,null,null,null)),(e()(),ys(8,null,["",""]))],null,function(e,t){e(t,2,0,t.parent.context.$implicit.label,t.parent.context.$implicit.required?"*":""),e(t,4,0,eu(1,"",t.parent.context.$implicit.elementType,""),eu(1,"",t.parent.context.$implicit.name,""),"Q"+(t.parent.context.index+1+2),!(!t.parent.context.$implicit||!t.parent.context.$implicit.value)&&t.parent.context.$implicit.value),e(t,8,0,t.parent.context.$implicit.name)})}function av(e){return Ss(0,[(e()(),iu(0,0,null,null,3,"option",[["disabled","true"]],[[8,"selected",0]],null,null,null,null)),Gu(1,147456,null,0,mf,[Ll,zl,[8,null]],{value:[0,"value"]},null),Gu(2,147456,null,0,yf,[Ll,zl,[8,null]],{value:[0,"value"]},null),(e()(),ys(3,null,[" "," "]))],function(e,t){e(t,1,0,eu(1,"",t.parent.parent.context.$implicit.value,"")),e(t,2,0,eu(1,"",t.parent.parent.context.$implicit.value,""))},function(e,t){e(t,0,0,t.parent.parent.context.$implicit.value),e(t,3,0,t.parent.parent.context.$implicit.value)})}function cv(e){return Ss(0,[(e()(),iu(0,0,null,null,3,"option",[],null,null,null,null,null)),Gu(1,147456,null,0,mf,[Ll,zl,[8,null]],{value:[0,"value"]},null),Gu(2,147456,null,0,yf,[Ll,zl,[8,null]],{value:[0,"value"]},null),(e()(),ys(3,null,[" "," "]))],function(e,t){e(t,1,0,eu(1,"",t.context.$implicit.value,"")),e(t,2,0,eu(1,"",t.context.$implicit.value,""))},function(e,t){e(t,3,0,t.context.$implicit.value)})}function pv(e){return Ss(0,[(e()(),iu(0,0,null,null,8,"div",[["class","input-block m-0"]],null,null,null,null,null)),(e()(),iu(1,0,null,null,1,"label",[],null,null,null,null,null)),(e()(),ys(2,null,[" ","",""])),(e()(),iu(3,0,null,null,5,"div",[["class","sel style1 sel-sm"]],null,null,null,null,null)),(e()(),iu(4,0,null,null,4,"select",[["class","form-control input-sm"]],[[8,"id",0]],null,null,null,null)),(e()(),lu(16777216,null,null,1,null,av)),Gu(6,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,cv)),Gu(8,278528,null,0,tp,[Oo,Ai,Yo],{ngForOf:[0,"ngForOf"]},null)],function(e,t){e(t,6,0,t.parent.context.$implicit.value),e(t,8,0,t.parent.context.$implicit.options)},function(e,t){e(t,2,0,t.parent.context.$implicit.label,t.parent.context.$implicit.required?"*":""),e(t,4,0,"Q"+(t.parent.context.index+1+2))})}function dv(e){return Ss(0,[(e()(),iu(0,0,null,null,1,"p",[["class","hide text-red"]],[[8,"id",0]],null,null,null,null)),(e()(),ys(-1,null,["Please select at least one option"]))],null,function(e,t){e(t,0,0,"error-Q"+(t.parent.parent.context.index+1+2))})}function hv(e){return Ss(0,[(e()(),iu(0,0,null,null,2,"div",[["class","input-block"]],null,null,null,null,null)),(e()(),lu(16777216,null,null,1,null,dv)),Gu(2,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null)],function(e,t){e(t,2,0,t.parent.context.$implicit.required)},null)}function fv(e){return Ss(0,[(e()(),iu(0,0,null,null,1,"p",[["class","hide text-red"]],[[8,"id",0]],null,null,null,null)),(e()(),ys(-1,null,["Please select the given option"]))],null,function(e,t){e(t,0,0,"error-Q"+(t.parent.parent.context.index+1+2))})}function gv(e){return Ss(0,[(e()(),iu(0,0,null,null,2,"div",[["class","input-block"]],null,null,null,null,null)),(e()(),lu(16777216,null,null,1,null,fv)),Gu(2,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null)],function(e,t){e(t,2,0,t.parent.context.$implicit.required)},null)}function mv(e){return Ss(0,[(e()(),iu(0,0,null,null,1,"p",[["class","hide text-red"]],[[8,"id",0]],null,null,null,null)),(e()(),ys(-1,null,["Please fill the given field"]))],null,function(e,t){e(t,0,0,"error-Q"+(t.parent.parent.context.index+1+2))})}function vv(e){return Ss(0,[(e()(),iu(0,0,null,null,2,"div",[["class","input-block"]],null,null,null,null,null)),(e()(),lu(16777216,null,null,1,null,mv)),Gu(2,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null)],function(e,t){e(t,2,0,t.parent.context.$implicit.required)},null)}function Dv(e){return Ss(0,[(e()(),iu(0,0,null,null,2,"div",[["class","input-block"]],null,null,null,null,null)),(e()(),iu(1,0,null,null,1,"p",[["class","hide text-red"]],[[8,"id",0]],null,null,null,null)),(e()(),ys(2,null,["Please enter valid ",""]))],null,function(e,t){e(t,1,0,"errorValid-Q"+(t.parent.context.index+1+2)),e(t,2,0,t.parent.context.$implicit.elementType)})}function yv(e){return Ss(0,[(e()(),iu(0,0,null,null,18,"li",[],null,null,null,null,null)),(e()(),lu(16777216,null,null,1,null,iv)),Gu(2,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,ov)),Gu(4,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,uv)),Gu(6,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,sv)),Gu(8,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,pv)),Gu(10,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,hv)),Gu(12,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,gv)),Gu(14,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,vv)),Gu(16,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,Dv)),Gu(18,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null)],function(e,t){e(t,2,0,"password"==t.context.$implicit.elementType||"email"==t.context.$implicit.elementType),e(t,4,0,"text"==t.context.$implicit.elementType),e(t,6,0,"radio"==t.context.$implicit.elementType),e(t,8,0,"checkbox"==t.context.$implicit.elementType),e(t,10,0,"dropdown"==t.context.$implicit.elementType),e(t,12,0,"radio"==t.context.$implicit.elementType||"dropdown"==t.context.$implicit.elementType),e(t,14,0,"checkbox"==t.context.$implicit.elementType),e(t,16,0,"text"==t.context.$implicit.elementType||"password"==t.context.$implicit.elementType||"email"==t.context.$implicit.elementType),e(t,18,0,"text"==t.context.$implicit.elementType||"password"==t.context.$implicit.elementType||"email"==t.context.$implicit.elementType)},null)}function bv(e){return Ss(0,[(e()(),iu(0,0,null,null,3,"div",[["class","input-group-addon tooltip top-right"]],null,null,null,null,null)),(e()(),iu(1,0,null,null,0,"img",[["class","svg floatToCenter w-20"],["src","/cw/assets/img/icons/svg/error-filled.svg"]],null,null,null,null,null)),(e()(),iu(2,0,null,null,1,"span",[["class","tooltip-inner"]],null,null,null,null,null)),(e()(),ys(-1,null,["Please enter a valid email"]))],null,null)}function Cv(e){return Ss(0,[(e()(),iu(0,0,null,null,22,"li",[],null,null,null,null,null)),(e()(),iu(1,0,null,null,6,"div",[["class","pretty p-svg p-smooth m-b-10"]],null,null,null,null,null)),(e()(),iu(2,0,null,null,0,"input",[["type","checkbox"]],[[8,"checked",0]],[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.ToggleTranscript()&&l),l},null,null)),(e()(),iu(3,0,null,null,4,"div",[["class","state p-success"]],null,null,null,null,null)),(e()(),iu(4,0,null,null,0,"img",[["class","svg"],["src","/cw/assets/img/icons/svg/ok.svg"],["width","15"]],null,null,null,null,null)),(e()(),iu(5,0,null,null,2,"label",[],null,null,null,null,null)),(e()(),iu(6,0,null,null,1,"small",[],null,null,null,null,null)),(e()(),ys(7,null,["",""])),(e()(),iu(8,0,null,null,14,"div",[["class","clearfix"]],null,null,null,null,null)),(e()(),iu(9,0,null,null,13,"div",[["class","input-block"]],null,null,null,null,null)),(e()(),iu(10,0,null,null,12,"div",[["class","input-group"]],null,null,null,null,null)),Gu(11,278528,null,0,Yc,[Yo,er,Ll,zl],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(e()(),iu(12,0,null,null,8,"input",[["autocomplete","off"],["class","form-control input-sm"],["id","email"],["name","email"],["placeholder","Email"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(e,t,n){var l=!0,i=e.component;return"input"===t&&(l=!1!==Ou(e,16)._handleInput(n.target.value)&&l),"blur"===t&&(l=!1!==Ou(e,16).onTouched()&&l),"compositionstart"===t&&(l=!1!==Ou(e,16)._compositionStart()&&l),"compositionend"===t&&(l=!1!==Ou(e,16)._compositionEnd(n.target.value)&&l),"ngModelChange"===t&&(l=!1!==(i.email=n)&&l),l},null,null)),Gu(13,278528,null,0,Yc,[Yo,er,Ll,zl],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),Gu(14,278528,null,0,rp,[er,Ll,zl],{ngStyle:[0,"ngStyle"]},null),vs(15,{color:0}),Gu(16,16384,null,0,nf,[zl,Ll,[2,tf]],null,null),Ju(1024,null,Yh,function(e){return[e]},[nf]),Gu(18,671744,null,0,zf,[[8,null],[8,null],[8,null],[6,Yh]],{name:[0,"name"],isDisabled:[1,"isDisabled"],model:[2,"model"]},{update:"ngModelChange"}),Ju(2048,null,sf,null,[zf]),Gu(20,16384,null,0,Af,[[4,sf]],null,null),(e()(),lu(16777216,null,null,1,null,bv)),Gu(22,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component;e(t,11,0,"input-group",n.invalidEmail?"has-danger":""),e(t,13,0,"form-control input-sm",n.invalidEmail?"border-red":"");var l=n.themeSettings?e(t,15,0,n.themeSettings.dialogTextColor):"";e(t,14,0,l),e(t,18,0,"email",!n.wantTranscript,n.email),e(t,22,0,n.invalidEmail)},function(e,t){var n=t.component;e(t,2,0,n.wantTranscript),e(t,7,0,n.feedbackForm.transcriptContent),e(t,12,0,Ou(t,20).ngClassUntouched,Ou(t,20).ngClassTouched,Ou(t,20).ngClassPristine,Ou(t,20).ngClassDirty,Ou(t,20).ngClassValid,Ou(t,20).ngClassInvalid,Ou(t,20).ngClassPending)})}function Sv(e){return Ss(0,[as(402653184,1,{formNativeElement:0}),(e()(),iu(1,0,null,null,2,"div",[["class","dialog-close svgOnHover"]],null,[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.Close()&&l),l},null,null)),(e()(),iu(2,0,null,null,0,"img",[["class","svg"],["src","/cw/assets/img/icons/svg/cancel-circle-outline.svg"]],null,null,null,null,null)),(e()(),iu(3,0,null,null,0,"img",[["class","svg hover"],["src","/cw/assets/img/icons/svg/cancel-circle-filled.svg"]],null,null,null,null,null)),(e()(),iu(4,0,null,null,2,"div",[["class","clearfix dialog-header"]],null,null,null,null,null)),(e()(),iu(5,0,null,null,1,"h5",[],null,null,null,null,null)),(e()(),ys(-1,null,["Feedback Form"])),(e()(),iu(7,0,null,null,12,"div",[["class","clearfix dialog-content"]],null,null,null,null,null)),Gu(8,278528,null,0,rp,[er,Ll,zl],{ngStyle:[0,"ngStyle"]},null),vs(9,{"background-color":0,color:1}),(e()(),iu(10,0,null,null,9,"ul",[],null,null,null,null,null)),(e()(),iu(11,0,[[1,0],["cannedForm",1]],null,6,"form",[["id","formInputs"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(e,t,n){var l=!0;return"submit"===t&&(l=!1!==Ou(e,13).onSubmit(n)&&l),"reset"===t&&(l=!1!==Ou(e,13).onReset()&&l),l},null,null)),Gu(12,16384,null,0,Gf,[],null,null),Gu(13,4210688,null,0,Lf,[[8,null],[8,null]],null,null),Ju(2048,null,qh,null,[Lf]),Gu(15,16384,null,0,Tf,[[4,qh]],null,null),(e()(),lu(16777216,null,null,1,null,yv)),Gu(17,278528,null,0,tp,[Oo,Ai,Yo],{ngForOf:[0,"ngForOf"]},null),(e()(),lu(16777216,null,null,1,null,Cv)),Gu(19,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),iu(20,0,null,null,6,"div",[["class","dialog-footer"]],null,null,null,null,null)),(e()(),iu(21,0,null,null,5,"button",[["class","btn btn-md btn-block"],["type","submit"]],null,[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.ValidateForm()&&l),l},null,null)),Gu(22,278528,null,0,Yc,[Yo,er,Ll,zl],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),Gu(23,278528,null,0,rp,[er,Ll,zl],{ngStyle:[0,"ngStyle"]},null),vs(24,{"background-color":0,color:1}),(e()(),iu(25,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),ys(26,null,["",""]))],function(e,t){var n=t.component,l=n.themeSettings?e(t,9,0,n.themeSettings.dialogBgColor,n.themeSettings.dialogTextColor):"";e(t,8,0,l),e(t,17,0,n.feedbackForm.customFields),e(t,19,0,n.session&&8!=n.session.state),e(t,22,0,"btn btn-md btn-block",n.loading?"btnSpinner":"");var i=n.themeSettings?e(t,24,0,n.themeSettings.dialogBtnColor,n.themeSettings.dialogBtnTextColor):"";e(t,23,0,i)},function(e,t){var n=t.component;e(t,11,0,Ou(t,15).ngClassUntouched,Ou(t,15).ngClassTouched,Ou(t,15).ngClassPristine,Ou(t,15).ngClassDirty,Ou(t,15).ngClassValid,Ou(t,15).ngClassInvalid,Ou(t,15).ngClassPending),e(t,26,0,"sending"==n.state?"Sending Transcript":"sent"==n.state?"Transcript Sent":"submitting"==n.state?"Submitting Survey":"Submit")})}function _v(e){return Ss(0,[(e()(),iu(0,0,null,null,1,"app-feedback-form",[],null,null,null,Sv,lv)),Gu(1,245760,null,0,nv,[ng,eg,yd,Xf,fd],null,null)],function(e,t){e(t,1,0)},null)}var wv=Su("app-feedback-form",nv,_v,{},{},[]),Fv=Er({encapsulation:2,styles:[[""]],data:{}});function xv(e){return Ss(0,[(e()(),iu(0,0,null,null,6,"div",[["class","flex_btns"]],null,null,null,null,null)),(e()(),iu(1,0,null,null,5,"div",[],null,null,null,null,null)),(e()(),iu(2,0,null,null,4,"button",[["class","btn"],["type","button"]],null,[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.StartAgain()&&l),l},null,null)),Gu(3,278528,null,0,rp,[er,Ll,zl],{ngStyle:[0,"ngStyle"]},null),vs(4,{"background-color":0,color:1}),(e()(),iu(5,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),ys(6,null,["",""]))],function(e,t){var n=t.component,l=n.themeSettings?e(t,4,0,n.themeSettings.dialogSecondaryBtnColor,n.themeSettings.btnTextcolor):"";e(t,3,0,l)},function(e,t){e(t,6,0,t.component.reinitiateDialogue.btnText)})}function Ev(e){return Ss(0,[(e()(),iu(0,0,null,null,7,"div",[["class","text-center clearfix p-24"]],null,null,null,null,null)),Gu(1,278528,null,0,rp,[er,Ll,zl],{ngStyle:[0,"ngStyle"]},null),vs(2,{"background-color":0,color:1}),(e()(),iu(3,0,[[1,0],["logo",1]],null,0,"object",[["class","m-b-20"],["data","/cw/assets/img/icons/svg/chat-icon.svg"],["height","auto"],["id","logo"],["name","logo"],["type","image/svg+xml"],["width","80"]],null,[[null,"load"]],function(e,t,n){var l=!0;return"load"===t&&(l=!1!==e.component.SvgChangeColor(n)&&l),l},null,null)),(e()(),iu(4,0,null,null,1,"h6",[["class","title-with-border border-gray"]],null,null,null,null,null)),(e()(),ys(5,null,["",""])),(e()(),lu(16777216,null,null,1,null,xv)),Gu(7,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component,l=n.themeSettings?e(t,2,0,n.themeSettings.dialogBgColor,n.themeSettings.dialogTextColor):"";e(t,1,0,l),e(t,7,0,!n.banned)},function(e,t){e(t,5,0,t.component.reinitiateDialogue.heading)})}function kv(e){return Ss(0,[(e()(),iu(0,0,null,null,5,"div",[["class","text-center clearfix p-24"]],null,null,null,null,null)),Gu(1,278528,null,0,rp,[er,Ll,zl],{ngStyle:[0,"ngStyle"]},null),vs(2,{"background-color":0,color:1}),(e()(),iu(3,0,[[1,0],["logo",1]],null,0,"object",[["class","m-b-20"],["data","/cw/assets/img/icons/svg/chat-icon.svg"],["height","auto"],["id","logo"],["name","logo"],["type","image/svg+xml"],["width","80"]],null,[[null,"load"]],function(e,t,n){var l=!0;return"load"===t&&(l=!1!==e.component.SvgChangeColor(n)&&l),l},null,null)),(e()(),iu(4,0,null,null,1,"h6",[["class","title-with-border border-gray"]],null,null,null,null,null)),(e()(),ys(5,null,["",""]))],function(e,t){var n=t.component,l=n.themeSettings?e(t,2,0,n.themeSettings.dialogBgColor,n.themeSettings.dialogTextColor):"";e(t,1,0,l)},function(e,t){e(t,5,0,t.component.reinitiateDialogue.Reloadcontent)})}function Av(e){return Ss(0,[as(671088640,1,{logo:0}),(e()(),lu(16777216,null,null,1,null,Ev)),Gu(2,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,kv)),Gu(4,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component;e(t,2,0,!n.restarting),e(t,4,0,n.restarting)},null)}function Tv(e){return Ss(0,[(e()(),iu(0,0,null,null,1,"app-reinitiate-chat",[],null,null,null,Av,Fv)),Gu(1,245760,null,0,Nm,[fd,Ma,Xf,ng],null,null)],function(e,t){e(t,1,0)},null)}var Iv=Su("app-reinitiate-chat",Nm,Tv,{},{},[]),Bv=function(){function e(){}return e.prototype.transform=function(e,t){var n="";if(t){for(var l=parseInt(t,10),i=e.toString().length,o=0;o<l-i;o++)n="0"+n;n+=e}return n},e}(),Ov=function(){return function(e,t){var n=this;this.data=e,this._appService=t,this.msg="",this.subscriptions=[],this.msg=e.msg,this.subscriptions.push(this._appService.Settings.subscribe(function(e){e&&(n.themeSettings=e.dialogSettings)}))}}(),Rv=function(){function e(e,t,n){var l=this;this._socket=e,this._appService=t,this.dialog=n,this.callRecieved=new Qf.BehaviorSubject(!1),this.remoteStream=new Qf.BehaviorSubject(void 0),this.localStream=new Qf.BehaviorSubject(void 0),this.remote_sender=new Qf.BehaviorSubject(""),this.listAudioEvents=[],this.selectedAgent=new Qf.BehaviorSubject(""),this.config=void 0,this.timeoutID=new Qf.BehaviorSubject(void 0),this.minutes=new Qf.BehaviorSubject(0),this.seconds=new Qf.BehaviorSubject(0),this.isRemoteSession=!1,this.count=new Qf.BehaviorSubject(5),this.showRetry=new Qf.BehaviorSubject(!1),this.retryInterval_ID=new Qf.BehaviorSubject(void 0),this.callAccepted=new Qf.BehaviorSubject(!1),this.callRejected=new Qf.BehaviorSubject(!1),this.callSelfEnded=new Qf.BehaviorSubject(!1),this.callStart=new Qf.BehaviorSubject(!0),this.callEnd=new Qf.BehaviorSubject(!1),this.alreadyOnCall=new Qf.BehaviorSubject(!1),this.agentBusy=new Qf.BehaviorSubject(!1),this.callConnect=new Qf.BehaviorSubject(!0),this.callerTune=new Qf.BehaviorSubject({src:"../assets/sounds/simple_cool_tone.mp3",state:!1}),this.callerTuneEnd=new Qf.BehaviorSubject({src:"../assets/sounds/beep_mp3.mp3"}),this.micEnabled=new Qf.BehaviorSubject(!0),this.audioEnabled=new Qf.BehaviorSubject(!0),this.remoteCandidates=[],this.callEventList=[],this._socket.GetSocketInstance().subscribe(function(e){e&&(l.socket=e,l.getICEServers(),l._appService.Session.subscribe(function(e){e&&(l.Session=e,l.Host=l.Session.csid,l.selectedAgent.next(l.Session.agent))}),l.socket.on("answerOffer",function(e){Ba(l.rtcPeerConnection),l.rtcPeerConnection&&"closed"!=l.rtcPeerConnection.connectionState?(Ba("Already On Call!"),l.socket.emit("alreadyOnCall",{to:e.sender})):(l.remote_sender.next(e.sender),l.CallerTune(!0),l.callAccepted.next(!1),l.callStart.next(!0),l.callRejected.next(!1),l.callSelfEnded.next(!1),l.callEnd.next(!1),l.seconds.next(0),l.minutes.next(0),navigator.mediaDevices.getUserMedia({audio:!0,video:!1}).then(function(t){t&&l.addLocalStream(t),l.createPeerConnection(),l.rtcPeerConnection.setRemoteDescription(new RTCSessionDescription(e.sdp)),l.rtcPeerConnection.createAnswer().then(function(e){return l.rtcPeerConnection.setLocalDescription(e)}).catch(function(e){return console.log(e)}),l.callRecieved.next(!0)}).catch(function(t){l.Self_End("User does not have mic enabled!"),alert(e.sender+" called you, please enable your mic to allow calls."),Ba("An error ocurred when accessing media devices"),Ba(t)}))}),l.socket.on("missedCall",function(e){l.dialog.open(Ov,{data:{title:"Missed Call!",alertContent:e.sender+" called you while you were busy..",url:"/agents",tag:1},autoFocus:!0,panelClass:["dialog-inner"]}).afterClosed().subscribe(function(e){Ba("Call Notifications Dialog Closed")}),alert("Missed Call from"+l.Session.agent),Ba("User is already on call please wait...")}),l.socket.on("closeAllDialogs",function(e){l.CallerTune(!1)}),l.socket.on("acceptCall",function(e){l.callAccepted.next(!0),l.callStart.next(!1),l.callRejected.next(!1),l.callSelfEnded.next(!1),l.callEnd.next(!1),l.CallerTune(!1),l.startCallTimer(),l.callAccepted.next(!0),l.rtcPeerConnection.setRemoteDescription(new RTCSessionDescription(e.sdp)).then(function(){l.remoteCandidates.map(function(e){l.rtcPeerConnection.addIceCandidate(e)}),l.isRemoteSession=!0})}),l.socket.on("rejectCall",function(e){l.callAccepted.next(!1),l.callStart.next(!1),l.callRejected.next(!0),l.callSelfEnded.next(!1),l.callEnd.next(!1),l.CallerTune(!1),l.EndCall(!0),l.startCallRetryTimer()}),l.socket.on("selfEnd",function(e){Ba("Remote Agent Ended Call!"),l.callAccepted.next(!1),l.callStart.next(!1),l.callRejected.next(!1),l.callSelfEnded.next(!0),l.callEnd.next(!1),clearInterval(l.timeoutID.getValue()),l.EndCall(),e&&e.error&&alert(e.error)}),l.socket.on("disconnectCall",function(e){l.EndCall(),l.dialog.open(Ov,{data:{msg:"Call disconnected!"},autoFocus:!0,panelClass:["dialog-inner"]}).afterClosed().subscribe(function(e){Ba("Call Notifications Dialog Closed")})}),l.socket.on("candidate",function(e){var t=new RTCIceCandidate(e.candidate);l.rtcPeerConnection&&l.rtcPeerConnection.remoteDescription?l.rtcPeerConnection.addIceCandidate(t):l.remoteCandidates.push(t)}))})}return e.prototype.getICEServers=function(){var e=this;this.socket.emit("getICEServers",{},function(t){t.servers&&(e.config=t.servers)})},e.prototype.CallRecieved=function(){return this.callRecieved.asObservable()},e.prototype.onIceCandidate=function(e){this.callEventList.push("Candidate Recieved!"),e.candidate&&this.socket.emit("candidate",{target:this.selectedAgent.getValue()?this.selectedAgent.getValue().id:this.remote_sender.getValue(),type:"candidate",label:e.candidate.sdpMLineIndex,id:e.candidate.sdpMid,candidate:e.candidate})},e.prototype.onAddStream=function(e){this.callEventList.push("Got Remote Stream!"),this.remoteStream.next(e.stream),this.remoteStream.getValue().getAudioTracks().length>0?this.addAudioEvent("Remote user is sending Audio"):this.addAudioEvent("Remote user is not sending Audio")},e.prototype.createPeerConnection=function(){var e=this;this.rtcPeerConnection=new RTCPeerConnection(this.config),this.rtcPeerConnection.onicecandidate=function(t){e.onIceCandidate(t)},this.rtcPeerConnection.onaddstream=function(t){e.onAddStream(t)},this.rtcPeerConnection.onconnectionstatechange=function(t){e.RTCConnectionStateHandler(t)},this.rtcPeerConnection.oniceconnectionstatechange=function(t){e.ICEConnectionStateHandler(t)},this.rtcPeerConnection.onsignalingstatechange=function(t){e.RTCSignalingStateHandler(t)},this.rtcPeerConnection.addStream(this.localStream.getValue())},e.prototype.RTCConnectionStateHandler=function(e){switch(this.rtcPeerConnection.connectionState){case"connected":this.callEventList.push("Call Connected!");break;case"disconnected":this.callEventList.push("Call Disconnected!");break;case"failed":this.callEventList.push("Call Failed!");break;case"closed":this.callEventList.push("Call Closed!")}},e.prototype.ICEConnectionStateHandler=function(e){switch(this.rtcPeerConnection.iceConnectionState){case"new":this.callEventList.push("ICE Candidate connectionState new!");break;case"checking":this.callEventList.push("ICE Candidate connectionState checking!");break;case"connected":this.callEventList.push("ICE Candidate connectionState connected!");break;case"completed":this.callEventList.push("ICE Candidate connectionState completed!");break;case"disconnected":this.callEventList.push("ICE Candidate connectionState dicconnected!");break;case"failed":this.callEventList.push("ICE Candidate connectionState failed!");break;case"closed":this.callEventList.push("ICE Candidate connectionState closed!")}},e.prototype.RTCSignalingStateHandler=function(e){switch(this.rtcPeerConnection.signalingState){case"stable":this.callEventList.push("WebRTC signaling state stable");break;case"have-local-offer":this.callEventList.push("WebRTC signaling state have-local-offer");break;case"have-remote-offer":this.callEventList.push("WebRTC signaling state have-remote-offer");break;case"have-local-pranswer":this.callEventList.push("WebRTC signaling state have-local-pranswer");break;case"have-remote-pranswer":this.callEventList.push("WebRTC signaling state have-remote-pranswer")}},e.prototype.addAudioEvent=function(e){this.listAudioEvents.push(e)},e.prototype.addLocalStream=function(e){this.localStream.next(e)},e.prototype.setLocalAndOffer=function(e){var t=this;this.rtcPeerConnection.setLocalDescription(e),this.callEventList.push("Local Description Set!"),this.socket.emit("createOffer",{sender:this.Host,name:this.Session.username,reciever:this.selectedAgent.getValue().id,type:"offer",sdp:e},function(e){Ba(e),e&&e.recieverStatus?e.callStatus?(t.EndCall(),t.dialog.open(Ov,{panelClass:["dialog-inner"],data:{msg:"User is already on call please wait.."},autoFocus:!0}).afterClosed().subscribe(function(e){Ba("Call Notifications Dialog Closed")})):(Ba("CALL CONNECTED!"),t.callConnect.next(!1),t.CallerTune(!0),t.callAccepted.next(!1),t.callStart.next(!0),t.callRejected.next(!1),t.callSelfEnded.next(!1),t.callEnd.next(!1),t.seconds.next(0),t.minutes.next(0)):(t.EndCall(),t.dialog.open(Ov,{data:{msg:"Could not connect call. Please try again..."},autoFocus:!0,panelClass:["dialog-inner"]}).afterClosed().subscribe(function(e){Ba("Call Notifications Dialog Closed")}))})},e.prototype.setLocalAndAnswer=function(e){this.rtcPeerConnection.setLocalDescription(e)},e.prototype.createOffer=function(){var e=this;this.callEventList=[],this.CallerTune(!0),this.callAccepted.next(!1),this.callStart.next(!0),this.callRejected.next(!1),this.callSelfEnded.next(!1),this.callEnd.next(!1),this.seconds.next(0),this.minutes.next(0),this.selectedAgent.next(this.Session.agent),navigator.mediaDevices.getUserMedia({audio:!0,video:!1}).then(function(t){t&&e.addLocalStream(t),e.createPeerConnection(),e.rtcPeerConnection.createOffer({offerToReceiveAudio:1}).then(function(t){return e.setLocalAndOffer(t)}).catch(function(e){return Ba(e)})}).catch(function(t){alert("An error ocurred when accessing media devices, please enable your mic."),e.Self_End(e.selectedAgent.getValue()),Ba("An error ocurred when accessing media devices"),Ba(t)})},e.prototype.AcceptCall=function(){var e=this;this.callAccepted.next(!0),this.callStart.next(!1),this.callRejected.next(!1),this.callSelfEnded.next(!1),this.callEnd.next(!1),this.startCallTimer(),this.socket.emit("acceptCall",{sender:this.Host,target:this.Session.agent.id,sdp:this.rtcPeerConnection.localDescription,type:"answer"}),this.remoteCandidates.map(function(t){e.rtcPeerConnection.addIceCandidate(t)})},e.prototype.RejectCall=function(){this.callAccepted.next(!1),this.callStart.next(!1),this.callRejected.next(!0),this.callSelfEnded.next(!1),this.callEnd.next(!1),this.EndCall(!0),this.socket.emit("rejectCall",{sender:this.Host,target:this.Session.agent.id,type:"reject"})},e.prototype.Self_End=function(e){this.callAccepted.next(!1),this.callStart.next(!1),this.callRejected.next(!1),this.callSelfEnded.next(!0),this.callEnd.next(!1),clearInterval(this.timeoutID.getValue()),this.socket.emit("selfEnd",{sender:this.Host,target:this.Session.agent.id,type:"reject",error:e||""}),this.EndCall()},e.prototype.EndCall=function(e){void 0===e&&(e=!1),this.callAccepted.next(!1),this.callStart.next(!1),this.callSelfEnded.next(!1),clearInterval(this.timeoutID.getValue()),clearInterval(this.retryInterval_ID.getValue()),e?(this.callRejected.next(!0),this.callEnd.next(!1)):(this.callRejected.next(!1),this.callEnd.next(!0)),this.alreadyOnCall.next(!1),this.rtcPeerConnection&&(this.rtcPeerConnection.ontrack=null,this.rtcPeerConnection.removeTrack=null,this.rtcPeerConnection.onicecandidate=null,this.rtcPeerConnection.oniceconnectionstatechange=null,this.rtcPeerConnection.onsignalingstatechange=null,this.rtcPeerConnection.onicegatheringstatechange=null,this.rtcPeerConnection.onnegotiationneeded=null,this.rtcPeerConnection.close()),this.RemoveStreams(),this.CallerTune(!1),this.remoteCandidates=[],this.isRemoteSession=!1},e.prototype.RemoveStreams=function(){this.localStream.getValue()&&this.localStream.getValue().getTracks().forEach(function(e){e.stop()})},e.prototype.updateCallTimer=function(){this.seconds.next(this.seconds.getValue()+1),60==this.seconds.getValue()&&(this.seconds.next(0),this.minutes.next(this.minutes.getValue()+1))},e.prototype.updateCallRetryTimer=function(){this.count.next(this.count.getValue()-1),0==this.count.getValue()&&(this.showRetry.next(!0),clearInterval(this.retryInterval_ID.getValue()))},e.prototype.startCallTimer=function(){var e=this;this.timeoutID.next(setInterval(function(){e.updateCallTimer()},1e3))},e.prototype.startCallRetryTimer=function(){var e=this;this.count.next(5),this.showRetry.next(!1),this.retryInterval_ID.next(setInterval(function(){e.updateCallRetryTimer()},1e3))},e.prototype.ToggleMic=function(){this.micEnabled.next(!this.micEnabled.getValue()),this.localStream.getValue().getAudioTracks()[0].enabled=this.micEnabled.getValue(),this.localStream.next(this.localStream.getValue())},e.prototype.ToggleAudio=function(){this.audioEnabled.next(!this.audioEnabled.getValue()),this.remoteStream.getValue().getAudioTracks()[0].enabled=this.audioEnabled.getValue(),this.remoteStream.next(this.remoteStream.getValue())},e.prototype.CallerTune=function(e){this.callerTune.getValue().state=e},e.prototype.showEvents=function(){Ba(this.callEventList)},e}(),Mv=function(){function e(e,t,n){var l=this;this._callingService=e,this._appService=t,this.dialogRef=n,this.subscriptions=[],this.callAccepted=!1,this.callRejected=!1,this.callSelfEnded=!1,this.callStart=!1,this.callEnd=!1,this.callTime=0,this.alreadyOnCall=!1,this.micEnabled=!0,this.audioEnabled=!0,this.seconds=0,this.minutes=0,this.count=3,this.showRetry=!0,this.subscriptions.push(this._appService.Settings.subscribe(function(e){e&&(l.themeSettings=e.dialogSettings)})),this._appService.Session.subscribe(function(e){e&&(l.Session=e)}),this._callingService.createOffer(),this._callingService.callAccepted.subscribe(function(e){l.callAccepted=e}),this._callingService.callRejected.subscribe(function(e){l.callRejected=e}),this._callingService.callSelfEnded.subscribe(function(e){l.callSelfEnded=e}),this._callingService.callStart.subscribe(function(e){l.callStart=e}),this._callingService.callEnd.subscribe(function(e){l.callEnd=e,e&&l.dialogRef.close()}),this._callingService.alreadyOnCall.subscribe(function(e){l.alreadyOnCall=e}),this._callingService.micEnabled.subscribe(function(e){l.micEnabled=e}),this._callingService.audioEnabled.subscribe(function(e){l.audioEnabled=e}),this._callingService.seconds.subscribe(function(e){l.seconds=e}),this._callingService.minutes.subscribe(function(e){l.minutes=e}),this._callingService.count.subscribe(function(e){l.count=e}),this._callingService.showRetry.subscribe(function(e){l.showRetry=e}),this._callingService.callerTune.subscribe(function(e){l.callerTune=e}),this._callingService.callerTuneEnd.subscribe(function(e){l.callerTuneEnd=e})}return e.prototype.ngOnInit=function(){var e=this;this.self_audio.nativeElement.muted=!0,this.subscriptions.push(this._callingService.localStream.subscribe(function(t){t&&(e.self_audio.nativeElement.srcObject=t)})),this.subscriptions.push(this._callingService.remoteStream.subscribe(function(t){t&&(e.remote_audio.nativeElement.srcObject=t)}))},e.prototype.ngOnDestroy=function(){this.subscriptions.map(function(e){e.unsubscribe()})},e.prototype.endCall=function(){this._callingService.Self_End(),this.dialogRef.close()},e.prototype.reCall=function(){this._callingService.createOffer()},e.prototype.ToggleMic=function(){this._callingService.ToggleMic()},e.prototype.ToggleAudio=function(){this._callingService.ToggleAudio()},e.prototype.showEvents=function(){this._callingService.showEvents()},e}(),Pv=Er({encapsulation:2,styles:[[""]],data:{}});function Nv(e){return Ss(0,[(e()(),iu(0,0,null,null,1,"audio",[["autoplay",""],["loop",""]],null,null,null,null,null)),(e()(),iu(1,0,null,null,0,"source",[],[[8,"src",4]],null,null,null,null))],null,function(e,t){e(t,1,0,t.component.callerTune.src)})}function jv(e){return Ss(0,[(e()(),iu(0,0,null,null,6,"div",[],null,null,null,null,null)),(e()(),iu(1,0,null,null,3,"div",[["class","fs-15 fw-7"]],null,null,null,null,null)),Gu(2,278528,null,0,rp,[er,Ll,zl],{ngStyle:[0,"ngStyle"]},null),vs(3,{color:0}),(e()(),ys(-1,null,["Ringing"])),(e()(),lu(16777216,null,null,1,null,Nv)),Gu(6,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component,l=n.themeSettings?e(t,3,0,n.themeSettings.dialogLogoColor):"";e(t,2,0,l),e(t,6,0,n.callerTune.state)},null)}function Lv(e){return Ss(0,[(e()(),iu(0,0,null,null,4,"div",[],null,null,null,null,null)),(e()(),iu(1,0,null,null,3,"div",[["class","fs-15 fw-7"]],null,null,null,null,null)),Gu(2,278528,null,0,rp,[er,Ll,zl],{ngStyle:[0,"ngStyle"]},null),vs(3,{color:0}),(e()(),ys(-1,null,["Call Accepted"]))],function(e,t){var n=t.component,l=n.themeSettings?e(t,3,0,n.themeSettings.dialogLogoColor):"";e(t,2,0,l)},null)}function Vv(e){return Ss(0,[(e()(),iu(0,0,null,null,4,"div",[],null,null,null,null,null)),(e()(),iu(1,0,null,null,3,"div",[["class","fs-15 fw-7"]],null,null,null,null,null)),Gu(2,278528,null,0,rp,[er,Ll,zl],{ngStyle:[0,"ngStyle"]},null),vs(3,{color:0}),(e()(),ys(-1,null,["Call Rejected"]))],function(e,t){var n=t.component,l=n.themeSettings?e(t,3,0,n.themeSettings.dialogLogoColor):"";e(t,2,0,l)},null)}function $v(e){return Ss(0,[(e()(),iu(0,0,null,null,4,"div",[],null,null,null,null,null)),(e()(),iu(1,0,null,null,3,"div",[["class","fs-15 fw-7"]],null,null,null,null,null)),Gu(2,278528,null,0,rp,[er,Ll,zl],{ngStyle:[0,"ngStyle"]},null),vs(3,{color:0}),(e()(),ys(-1,null,["Call Ended"]))],function(e,t){var n=t.component,l=n.themeSettings?e(t,3,0,n.themeSettings.dialogLogoColor):"";e(t,2,0,l)},null)}function Hv(e){return Ss(0,[(e()(),iu(0,0,null,null,4,"div",[],null,null,null,null,null)),(e()(),iu(1,0,null,null,3,"div",[["class","fs-15 fw-7"]],null,null,null,null,null)),Gu(2,278528,null,0,rp,[er,Ll,zl],{ngStyle:[0,"ngStyle"]},null),vs(3,{color:0}),(e()(),ys(-1,null,["Is Busy, callback later"]))],function(e,t){var n=t.component,l=n.themeSettings?e(t,3,0,n.themeSettings.dialogLogoColor):"";e(t,2,0,l)},null)}function Uv(e){return Ss(0,[(e()(),iu(0,0,null,null,6,"div",[],null,null,null,null,null)),Gu(1,278528,null,0,rp,[er,Ll,zl],{ngStyle:[0,"ngStyle"]},null),vs(2,{color:0}),(e()(),iu(3,0,null,null,3,"div",[],null,null,null,null,null)),(e()(),ys(4,null,["",":",""])),gs(5,2),gs(6,2)],function(e,t){var n=t.component,l=n.themeSettings?e(t,2,0,n.themeSettings.dialogLogoColor):"";e(t,1,0,l)},function(e,t){var n=t.component,l=wr(t,4,0,e(t,5,0,Ou(t.parent.parent,1),n.minutes,2)),i=wr(t,4,1,e(t,6,0,Ou(t.parent.parent,1),n.seconds,2));e(t,4,0,l,i)})}function zv(e){return Ss(0,[(e()(),iu(0,0,null,null,1,"div",[],null,null,null,null,null)),(e()(),ys(1,null,["Redial In (",") "]))],null,function(e,t){e(t,1,0,t.component.count)})}function qv(e){return Ss(0,[(e()(),iu(0,0,null,null,4,"div",[],null,null,null,null,null)),Gu(1,278528,null,0,rp,[er,Ll,zl],{ngStyle:[0,"ngStyle"]},null),vs(2,{color:0}),(e()(),lu(16777216,null,null,1,null,zv)),Gu(4,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component,l=n.themeSettings?e(t,2,0,n.themeSettings.dialogLogoColor):"";e(t,1,0,l),e(t,4,0,n.count)},null)}function Gv(e){return Ss(0,[(e()(),iu(0,0,null,null,2,"div",[],null,null,null,null,null)),(e()(),iu(1,0,null,null,1,"audio",[["autoplay",""]],null,null,null,null,null)),(e()(),iu(2,0,null,null,0,"source",[],[[8,"src",4]],null,null,null,null))],null,function(e,t){e(t,2,0,t.component.callerTuneEnd.src)})}function Wv(e){return Ss(0,[(e()(),iu(0,0,null,null,1,"div",[["class","animations"]],null,null,null,null,null)),(e()(),iu(1,0,null,null,0,"img",[["alt",""],["src","/cw/assets/img/loaders/ringing.gif"],["width","80"]],null,null,null,null,null))],null,null)}function Jv(e){return Ss(0,[(e()(),iu(0,0,null,null,4,"div",[],null,null,null,null,null)),(e()(),iu(1,0,null,null,1,"button",[["class","btn bg-black"],["title","Mute Mic"],["type","button"]],null,[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.ToggleMic()&&l),l},null,null)),(e()(),iu(2,0,null,null,0,"img",[["width","100%"]],[[8,"src",4]],null,null,null,null)),(e()(),iu(3,0,null,null,1,"button",[["class","btn bg-black"],["title","Mute Voice"],["type","button"]],null,[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.ToggleAudio()&&l),l},null,null)),(e()(),iu(4,0,null,null,0,"img",[["width","100%"]],[[8,"src",4]],null,null,null,null))],null,function(e,t){var n=t.component;e(t,2,0,n.micEnabled?"/cw/assets/img/icons/svg/mic-on.svg":"/assets/img/icons/svg/mic-off.svg"),e(t,4,0,n.audioEnabled?"/cw/assets/img/icons/svg/volume-on.svg":"/assets/img/icons/svg/volume-off.svg")})}function Qv(e){return Ss(0,[(e()(),iu(0,0,null,null,9,"div",[],null,null,null,null,null)),(e()(),iu(1,0,null,null,3,"button",[["class","btn"],["title","Redial"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.reCall()&&l),l},null,null)),Gu(2,278528,null,0,rp,[er,Ll,zl],{ngStyle:[0,"ngStyle"]},null),vs(3,{"background-color":0,color:1}),(e()(),iu(4,0,null,null,0,"img",[["src","/cw/assets/img/icons/svg/call-redial.svg"],["width","100%"]],null,null,null,null,null)),(e()(),iu(5,0,null,null,4,"button",[["class","btn"],["mat-dialog-close",""],["title","End Call"],["type","button"]],[[1,"aria-label",0]],[[null,"click"]],function(e,t,n){var l=!0,i=e.component;return"click"===t&&(l=!1!==Ou(e,8).dialogRef.close(Ou(e,8).dialogResult)&&l),"click"===t&&(l=!1!==i.endCall()&&l),l},null,null)),Gu(6,278528,null,0,rp,[er,Ll,zl],{ngStyle:[0,"ngStyle"]},null),vs(7,{"background-color":0,color:1}),Gu(8,606208,null,0,bd,[[2,fd],Ll,yd],{dialogResult:[0,"dialogResult"]},null),(e()(),iu(9,0,null,null,0,"img",[["src","/cw/assets/img/icons/svg/call-end.svg"],["width","100%"]],null,null,null,null,null))],function(e,t){var n=t.component,l=n.themeSettings?e(t,3,0,n.themeSettings.dialogBtnColor,n.themeSettings.dialogBtnTextColor):"";e(t,2,0,l);var i=n.themeSettings?e(t,7,0,n.themeSettings.dialogSecondaryBtnColor,n.themeSettings.dialogSecondaryBtnTextColor):"";e(t,6,0,i),e(t,8,0,"")},function(e,t){e(t,1,0,!t.component.showRetry),e(t,5,0,Ou(t,8).ariaLabel||null)})}function Kv(e){return Ss(0,[(e()(),iu(0,0,null,null,5,"div",[],null,null,null,null,null)),(e()(),iu(1,0,null,null,4,"button",[["class","btn"],["mat-dialog-close",""],["title","End Call"],["type","button"]],[[1,"aria-label",0]],[[null,"click"]],function(e,t,n){var l=!0,i=e.component;return"click"===t&&(l=!1!==Ou(e,4).dialogRef.close(Ou(e,4).dialogResult)&&l),"click"===t&&(l=!1!==i.endCall()&&l),l},null,null)),Gu(2,278528,null,0,rp,[er,Ll,zl],{ngStyle:[0,"ngStyle"]},null),vs(3,{"background-color":0,color:1}),Gu(4,606208,null,0,bd,[[2,fd],Ll,yd],{dialogResult:[0,"dialogResult"]},null),(e()(),iu(5,0,null,null,0,"img",[["src","/cw/assets/img/icons/svg/call-end.svg"],["width","100%"]],null,null,null,null,null))],function(e,t){var n=t.component,l=n.themeSettings?e(t,3,0,n.themeSettings.dialogSecondaryBtnColor,n.themeSettings.dialogSecondaryBtnTextColor):"";e(t,2,0,l),e(t,4,0,"")},function(e,t){e(t,1,0,Ou(t,4).ariaLabel||null)})}function Zv(e){return Ss(0,[(e()(),iu(0,0,null,null,43,"div",[["class","clearfix p-24"]],null,null,null,null,null)),Gu(1,278528,null,0,rp,[er,Ll,zl],{ngStyle:[0,"ngStyle"]},null),vs(2,{"background-color":0,color:1}),(e()(),iu(3,0,null,null,8,"div",[["class","avatar ava-lg"]],null,null,null,null,null)),Gu(4,278528,null,0,Yc,[Yo,er,Ll,zl],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),Gu(5,278528,null,0,rp,[er,Ll,zl],{ngStyle:[0,"ngStyle"]},null),vs(6,{color:0,"border-color":1}),(e()(),iu(7,0,null,null,4,"a",[["class","no-pointer"]],null,null,null,null,null)),(e()(),iu(8,0,null,null,3,"span",[],null,null,null,null,null)),(e()(),ys(9,null,["",""])),Wu(0,pp,[]),gs(11,1),(e()(),iu(12,0,null,null,4,"div",[["class","callee"]],null,null,null,null,null)),Gu(13,278528,null,0,rp,[er,Ll,zl],{ngStyle:[0,"ngStyle"]},null),vs(14,{color:0}),(e()(),iu(15,0,null,null,1,"div",[["class","fs-20 fw-8"]],null,null,null,null,null)),(e()(),ys(16,null,["",""])),(e()(),iu(17,0,null,null,10,"div",[["class","status"]],null,null,null,null,null)),(e()(),lu(16777216,null,null,1,null,jv)),Gu(19,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,Lv)),Gu(21,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,Vv)),Gu(23,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,$v)),Gu(25,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,Hv)),Gu(27,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),iu(28,0,null,null,4,"div",[["class","counter"]],null,null,null,null,null)),(e()(),lu(16777216,null,null,1,null,Uv)),Gu(30,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,qv)),Gu(32,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,Gv)),Gu(34,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,Wv)),Gu(36,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),iu(37,0,null,null,6,"div",[["class","buttons"]],null,null,null,null,null)),(e()(),lu(16777216,null,null,1,null,Jv)),Gu(39,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,Qv)),Gu(41,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,Kv)),Gu(43,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component,l=n.themeSettings?e(t,2,0,n.themeSettings.dialogBgColor,n.themeSettings.dialogTextColor):"";e(t,1,0,l),e(t,4,0,"avatar ava-lg",n.callAccepted?"":"ringing");var i=n.themeSettings?e(t,6,0,n.themeSettings.dialogLogoColor,n.themeSettings.dialogLogoColor):"";e(t,5,0,i);var o=n.themeSettings?e(t,14,0,n.themeSettings.dialogTextColor):"";e(t,13,0,o),e(t,19,0,n.callStart),e(t,21,0,n.callAccepted),e(t,23,0,n.callRejected),e(t,25,0,n.callSelfEnded||n.callEnd),e(t,27,0,n.alreadyOnCall),e(t,30,0,n.callAccepted||n.callSelfEnded||n.callEnd),e(t,32,0,n.callRejected),e(t,34,0,n.callSelfEnded||n.callEnd||n.callRejected||n.alreadyOnCall),e(t,36,0,n.callStart),e(t,39,0,n.callAccepted),e(t,41,0,n.callRejected),e(t,43,0,!n.callRejected&&!n.callEnd)},function(e,t){var n=t.component,l=n.Session.agent.name?wr(t,9,0,e(t,11,0,Ou(t.parent,0),wr(t,9,0,Ou(t,10).transform(n.Session.agent.name,0,1)))):"";e(t,9,0,l),e(t,16,0,n.Session.agent.name)})}function Xv(e){return Ss(0,[Wu(0,sp,[]),Wu(0,Bv,[]),as(402653184,1,{self_audio:0}),as(402653184,2,{remote_audio:0}),(e()(),lu(16777216,null,null,1,null,Zv)),Gu(5,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),iu(6,0,null,null,2,"div",[["class","clearfix"]],[[8,"hidden",0]],null,null,null,null)),(e()(),iu(7,0,[[1,0],["self_audio",1]],null,0,"audio",[["autoplay",""],["muted",""]],null,null,null,null,null)),(e()(),iu(8,0,[[2,0],["remote_audio",1]],null,0,"audio",[["autoplay",""]],null,null,null,null,null))],function(e,t){e(t,5,0,t.component.Session.agent)},function(e,t){e(t,6,0,!t.component.callAccepted)})}function Yv(e){return Ss(0,[(e()(),iu(0,0,null,null,1,"app-call-dialog",[],null,null,null,Xv,Pv)),Gu(1,245760,null,0,Mv,[Rv,Xf,fd],null,null)],function(e,t){e(t,1,0)},null)}var eD=Su("app-call-dialog",Mv,Yv,{},{},[]),tD=function(){function e(e,t,n){var l=this;this.dialogRef=e,this._appStateService=t,this._dataService=n,this.themeSettings=void 0,this.lostAgentDialogue=void 0,this._appStateService.Settings.subscribe(function(e){e&&(l.themeSettings=e.dialogSettings,l.lostAgentDialogue=e.lostAgentDialogue)}),this._appStateService.endChat.subscribe(function(e){l.dialogRef&&e&&l.dialogRef.close()}),this._dataService.gotAgent.subscribe(function(e){e&&l.dialogRef.close({status:"No"})})}return e.prototype.ngOnInit=function(){},e.prototype.SubmitTicket=function(e){this.dialogRef.close(e?{status:"Yes"}:{status:"No"})},e.prototype.SvgChangeColor=function(e){var t=this.logo.nativeElement.contentDocument.getElementsByTagName("path").item(0);t&&t.setAttribute("fill",this.themeSettings.dialogLogoColor)},e.prototype.Close=function(){this.dialogRef.close({status:"No"})},e}(),nD=Er({encapsulation:2,styles:[[""]],data:{}});function lD(e){return Ss(0,[as(402653184,1,{logo:0}),(e()(),iu(1,0,null,null,2,"div",[["class","dialog-close svgOnHover"]],null,[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.Close()&&l),l},null,null)),(e()(),iu(2,0,null,null,0,"img",[["class","svg"],["src","/cw/assets/img/icons/svg/cancel-circle-outline.svg"]],null,null,null,null,null)),(e()(),iu(3,0,null,null,0,"img",[["class","svg hover"],["src","/cw/assets/img/icons/svg/cancel-circle-filled.svg"]],null,null,null,null,null)),(e()(),iu(4,0,null,null,28,"div",[["class","text-center clearfix p-24"]],null,null,null,null,null)),Gu(5,278528,null,0,rp,[er,Ll,zl],{ngStyle:[0,"ngStyle"]},null),vs(6,{"background-color":0,color:1}),(e()(),iu(7,0,[[1,0],["logo",1]],null,0,"object",[["class","m-b-20"],["data","/cw/assets/img/icons/svg/chat-icon.svg"],["height","auto"],["id","logo"],["name","logo"],["type","image/svg+xml"],["width","80"]],null,[[null,"load"]],function(e,t,n){var l=!0;return"load"===t&&(l=!1!==e.component.SvgChangeColor(n)&&l),l},null,null)),(e()(),iu(8,0,null,null,1,"h5",[["class","title-with-border border-gray"]],null,null,null,null,null)),(e()(),ys(9,null,["",""])),(e()(),iu(10,0,null,null,1,"h6",[],null,null,null,null,null)),(e()(),ys(11,null,["",""])),(e()(),iu(12,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),ys(13,null,["",""])),(e()(),iu(14,0,null,null,2,"div",[["class","text-with-divider solid"]],null,null,null,null,null)),(e()(),iu(15,0,null,null,1,"span",[["class","bg-white"]],null,null,null,null,null)),(e()(),ys(-1,null,["OR"])),(e()(),iu(17,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),ys(18,null,["",""])),(e()(),iu(19,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),iu(20,0,null,null,12,"div",[["class","flex_btns"]],null,null,null,null,null)),(e()(),iu(21,0,null,null,5,"div",[],null,null,null,null,null)),(e()(),iu(22,0,null,null,4,"button",[["class","btn"],["type","button"]],null,[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.SubmitTicket(!0)&&l),l},null,null)),Gu(23,278528,null,0,rp,[er,Ll,zl],{ngStyle:[0,"ngStyle"]},null),vs(24,{"background-color":0,color:1}),(e()(),iu(25,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),ys(26,null,["",""])),(e()(),iu(27,0,null,null,5,"div",[],null,null,null,null,null)),(e()(),iu(28,0,null,null,4,"button",[["class","btn"],["type","button"]],null,[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.SubmitTicket(!1)&&l),l},null,null)),Gu(29,278528,null,0,rp,[er,Ll,zl],{ngStyle:[0,"ngStyle"]},null),vs(30,{"background-color":0,color:1}),(e()(),iu(31,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),ys(-1,null,["No"]))],function(e,t){var n=t.component,l=n.themeSettings?e(t,6,0,n.themeSettings.dialogBgColor,n.themeSettings.dialogTextColor):"";e(t,5,0,l);var i=n.themeSettings?e(t,24,0,n.themeSettings.dialogBtnColor,n.themeSettings.dialogBtnTextColor):"";e(t,23,0,i);var o=n.themeSettings?e(t,30,0,n.themeSettings.dialogSecondaryBtnColor,n.themeSettings.dialogSecondaryBtnTextColor):"";e(t,29,0,o)},function(e,t){var n=t.component;e(t,9,0,n.lostAgentDialogue.heading),e(t,11,0,n.lostAgentDialogue.content1),e(t,13,0,n.lostAgentDialogue.content2),e(t,18,0,n.lostAgentDialogue.content3),e(t,26,0,n.lostAgentDialogue.btnText)})}function iD(e){return Ss(0,[(e()(),iu(0,0,null,null,1,"app-lost-agent",[],null,null,null,lD,nD)),Gu(1,114688,null,0,tD,[fd,Xf,ng],null,null)],function(e,t){e(t,1,0)},null)}var oD=Su("app-lost-agent",tD,iD,{},{},[]),rD=function(){function e(e,t,n){var l=this;this._callingService=e,this._appStateService=t,this.dialogRef=n,this.subscriptions=[],this.callAccepted=!1,this.callRejected=!1,this.callSelfEnded=!1,this.callStart=!1,this.callEnd=!1,this.callTime=0,this.micEnabled=!0,this.audioEnabled=!0,this.seconds=0,this.minutes=0,this.subscriptions.push(this._appStateService.Session.subscribe(function(e){e&&(l.session=e)})),this.subscriptions.push(this._callingService.callAccepted.subscribe(function(e){l.callAccepted=e})),this.subscriptions.push(this._callingService.callRejected.subscribe(function(e){l.callRejected=e})),this.subscriptions.push(this._callingService.callSelfEnded.subscribe(function(e){l.callSelfEnded=e})),this.subscriptions.push(this._callingService.callStart.subscribe(function(e){l.callStart=e})),this.subscriptions.push(this._callingService.callEnd.subscribe(function(e){l.callEnd=e,e&&setTimeout(function(){l.dialogRef.close()},3e3)})),this.subscriptions.push(this._callingService.seconds.subscribe(function(e){l.seconds=e})),this.subscriptions.push(this._callingService.minutes.subscribe(function(e){l.minutes=e})),this.subscriptions.push(this._callingService.micEnabled.subscribe(function(e){l.micEnabled=e})),this.subscriptions.push(this._callingService.callerTuneEnd.subscribe(function(e){l.callerTuneEnd=e})),this.subscriptions.push(this._callingService.audioEnabled.subscribe(function(e){l.audioEnabled=e})),this.subscriptions.push(this._callingService.callerTune.subscribe(function(e){l.callerTune=e})),this.subscriptions.push(this._appStateService.Settings.subscribe(function(e){e&&(l.themeSettings=e.dialogSettings)}))}return e.prototype.ngOnInit=function(){var e=this;this.self_audio.nativeElement.muted=!0,this.subscriptions.push(this._callingService.localStream.subscribe(function(t){t&&e.self_audio.nativeElement&&(e.self_audio.nativeElement.srcObject=t)})),this.subscriptions.push(this._callingService.remoteStream.subscribe(function(t){t&&e.remote_audio.nativeElement&&(e.remote_audio.nativeElement.srcObject=t)}))},e.prototype.ngOnDestroy=function(){this.subscriptions.map(function(e){e.unsubscribe()})},e.prototype.acceptCall=function(){this._callingService.AcceptCall()},e.prototype.rejectCall=function(){this._callingService.RejectCall()},e.prototype.endCall=function(){this._callingService.Self_End()},e.prototype.ToggleMic=function(){this._callingService.ToggleMic()},e.prototype.ToggleAudio=function(){this._callingService.ToggleAudio()},e}(),uD=Er({encapsulation:2,styles:[[""]],data:{}});function sD(e){return Ss(0,[(e()(),iu(0,0,null,null,1,"audio",[["autoplay",""],["loop",""]],null,null,null,null,null)),(e()(),iu(1,0,null,null,0,"source",[],[[8,"src",4]],null,null,null,null))],null,function(e,t){e(t,1,0,t.component.callerTune.src)})}function aD(e){return Ss(0,[(e()(),iu(0,0,null,null,4,"div",[],null,null,null,null,null)),(e()(),iu(1,0,null,null,1,"div",[["class","text-orange fs-15 fw-7"]],null,null,null,null,null)),(e()(),ys(-1,null,["Ringing"])),(e()(),lu(16777216,null,null,1,null,sD)),Gu(4,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null)],function(e,t){e(t,4,0,t.component.callerTune.state)},null)}function cD(e){return Ss(0,[(e()(),iu(0,0,null,null,2,"div",[],null,null,null,null,null)),(e()(),iu(1,0,null,null,1,"div",[["class","text-orange fs-15 fw-7"]],null,null,null,null,null)),(e()(),ys(-1,null,["Call Accepted"]))],null,null)}function pD(e){return Ss(0,[(e()(),iu(0,0,null,null,2,"div",[],null,null,null,null,null)),(e()(),iu(1,0,null,null,1,"div",[["class","text-orange fs-15 fw-7"]],null,null,null,null,null)),(e()(),ys(-1,null,["Call Rejected"]))],null,null)}function dD(e){return Ss(0,[(e()(),iu(0,0,null,null,2,"div",[],null,null,null,null,null)),(e()(),iu(1,0,null,null,1,"div",[["class","text-orange fs-15 fw-7"]],null,null,null,null,null)),(e()(),ys(-1,null,["Call Ended"]))],null,null)}function hD(e){return Ss(0,[(e()(),iu(0,0,null,null,2,"div",[],null,null,null,null,null)),(e()(),iu(1,0,null,null,1,"div",[["class","text-orange fs-15 fw-7"]],null,null,null,null,null)),(e()(),ys(-1,null,["Is Busy, callback later"]))],null,null)}function fD(e){return Ss(0,[(e()(),iu(0,0,null,null,4,"div",[],null,null,null,null,null)),(e()(),iu(1,0,null,null,3,"div",[],null,null,null,null,null)),(e()(),ys(2,null,["",":",""])),gs(3,2),gs(4,2)],null,function(e,t){var n=t.component,l=wr(t,2,0,e(t,3,0,Ou(t.parent.parent,1),n.minutes,2)),i=wr(t,2,1,e(t,4,0,Ou(t.parent.parent,1),n.seconds,2));e(t,2,0,l,i)})}function gD(e){return Ss(0,[(e()(),iu(0,0,null,null,1,"div",[],null,null,null,null,null)),(e()(),ys(1,null,["Redial In (",") "]))],null,function(e,t){e(t,1,0,t.component.count)})}function mD(e){return Ss(0,[(e()(),iu(0,0,null,null,2,"div",[],null,null,null,null,null)),(e()(),lu(16777216,null,null,1,null,gD)),Gu(2,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null)],function(e,t){e(t,2,0,t.component.count)},null)}function vD(e){return Ss(0,[(e()(),iu(0,0,null,null,2,"div",[],null,null,null,null,null)),(e()(),iu(1,0,null,null,1,"audio",[["autoplay",""]],null,null,null,null,null)),(e()(),iu(2,0,null,null,0,"source",[],[[8,"src",4]],null,null,null,null))],null,function(e,t){e(t,2,0,t.component.callerTuneEnd.src)})}function DD(e){return Ss(0,[(e()(),iu(0,0,null,null,1,"div",[["class","animations"]],null,null,null,null,null)),(e()(),iu(1,0,null,null,0,"img",[["alt",""],["src","/cw/assets/img/loaders/ringing.gif"],["width","80"]],null,null,null,null,null))],null,null)}function yD(e){return Ss(0,[(e()(),iu(0,0,null,null,4,"div",[],null,null,null,null,null)),(e()(),iu(1,0,null,null,1,"button",[["class","btn bg-black"],["title","Mute Mic"],["type","button"]],null,[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.ToggleMic()&&l),l},null,null)),(e()(),iu(2,0,null,null,0,"img",[["width","100%"]],[[8,"src",4]],null,null,null,null)),(e()(),iu(3,0,null,null,1,"button",[["class","btn bg-black"],["title","Mute Voice"],["type","button"]],null,[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.ToggleAudio()&&l),l},null,null)),(e()(),iu(4,0,null,null,0,"img",[["width","100%"]],[[8,"src",4]],null,null,null,null))],null,function(e,t){var n=t.component;e(t,2,0,n.micEnabled?"/cw/assets/img/icons/svg/mic-on.svg":"/assets/img/icons/svg/mic-off.svg"),e(t,4,0,n.audioEnabled?"/cw/assets/img/icons/svg/volume-on.svg":"/assets/img/icons/svg/volume-off.svg")})}function bD(e){return Ss(0,[(e()(),iu(0,0,null,null,5,"div",[],null,null,null,null,null)),(e()(),iu(1,0,null,null,4,"button",[["class","btn bg-red"],["mat-dialog-close",""],["title","End Call"],["type","button"]],[[1,"aria-label",0]],[[null,"click"]],function(e,t,n){var l=!0,i=e.component;return"click"===t&&(l=!1!==Ou(e,4).dialogRef.close(Ou(e,4).dialogResult)&&l),"click"===t&&(l=!1!==i.endCall()&&l),l},null,null)),Gu(2,278528,null,0,rp,[er,Ll,zl],{ngStyle:[0,"ngStyle"]},null),vs(3,{"background-color":0,color:1}),Gu(4,606208,null,0,bd,[[2,fd],Ll,yd],{dialogResult:[0,"dialogResult"]},null),(e()(),iu(5,0,null,null,0,"img",[["src","/cw/assets/img/icons/svg/call-end.svg"],["width","100%"]],null,null,null,null,null))],function(e,t){var n=t.component,l=n.themeSettings?e(t,3,0,n.themeSettings.dialogSecondaryBtnColor,n.themeSettings.dialogSecondaryBtnTextColor):"";e(t,2,0,l),e(t,4,0,"")},function(e,t){e(t,1,0,Ou(t,4).ariaLabel||null)})}function CD(e){return Ss(0,[(e()(),iu(0,0,null,null,9,"div",[],null,null,null,null,null)),(e()(),iu(1,0,null,null,3,"button",[["class","btn bg-green"],["title","Recieve Call"],["type","button"]],null,[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.acceptCall()&&l),l},null,null)),Gu(2,278528,null,0,rp,[er,Ll,zl],{ngStyle:[0,"ngStyle"]},null),vs(3,{"background-color":0,color:1}),(e()(),iu(4,0,null,null,0,"img",[["src","/cw/assets/img/icons/svg/call.svg"],["width","100%"]],null,null,null,null,null)),(e()(),iu(5,0,null,null,4,"button",[["class","btn bg-red"],["mat-dialog-close",""],["title","Reject Call"],["type","button"]],[[1,"aria-label",0]],[[null,"click"]],function(e,t,n){var l=!0,i=e.component;return"click"===t&&(l=!1!==Ou(e,8).dialogRef.close(Ou(e,8).dialogResult)&&l),"click"===t&&(l=!1!==i.rejectCall()&&l),l},null,null)),Gu(6,278528,null,0,rp,[er,Ll,zl],{ngStyle:[0,"ngStyle"]},null),vs(7,{"background-color":0,color:1}),Gu(8,606208,null,0,bd,[[2,fd],Ll,yd],{dialogResult:[0,"dialogResult"]},null),(e()(),iu(9,0,null,null,0,"img",[["src","/cw/assets/img/icons/svg/call-end.svg"],["width","100%"]],null,null,null,null,null))],function(e,t){var n=t.component,l=n.themeSettings?e(t,3,0,n.themeSettings.dialogBtnColor,n.themeSettings.dialogBtnTextColor):"";e(t,2,0,l);var i=n.themeSettings?e(t,7,0,n.themeSettings.dialogSecondaryBtnColor,n.themeSettings.dialogSecondaryBtnTextColor):"";e(t,6,0,i),e(t,8,0,"")},function(e,t){e(t,5,0,Ou(t,8).ariaLabel||null)})}function SD(e){return Ss(0,[(e()(),iu(0,0,null,null,39,"div",[["class","clearfix p-24"]],null,null,null,null,null)),Gu(1,278528,null,0,rp,[er,Ll,zl],{ngStyle:[0,"ngStyle"]},null),vs(2,{"background-color":0,color:1}),(e()(),iu(3,0,null,null,6,"div",[["class","avatar ava-lg border-orange"]],null,null,null,null,null)),Gu(4,278528,null,0,Yc,[Yo,er,Ll,zl],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(e()(),iu(5,0,null,null,4,"a",[["class","no-pointer"]],null,null,null,null,null)),(e()(),iu(6,0,null,null,3,"span",[],null,null,null,null,null)),(e()(),ys(7,null,["",""])),Wu(0,pp,[]),gs(9,1),(e()(),iu(10,0,null,null,2,"div",[["class","callee"]],null,null,null,null,null)),(e()(),iu(11,0,null,null,1,"div",[["class","text-black fs-20 fw-8"]],null,null,null,null,null)),(e()(),ys(12,null,["",""])),(e()(),iu(13,0,null,null,10,"div",[["class","status"]],null,null,null,null,null)),(e()(),lu(16777216,null,null,1,null,aD)),Gu(15,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,cD)),Gu(17,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,pD)),Gu(19,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,dD)),Gu(21,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,hD)),Gu(23,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),iu(24,0,null,null,4,"div",[["class","counter"]],null,null,null,null,null)),(e()(),lu(16777216,null,null,1,null,fD)),Gu(26,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,mD)),Gu(28,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,vD)),Gu(30,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,DD)),Gu(32,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),iu(33,0,null,null,6,"div",[["class","buttons"]],null,null,null,null,null)),(e()(),lu(16777216,null,null,1,null,yD)),Gu(35,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,bD)),Gu(37,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,CD)),Gu(39,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component,l=n.themeSettings?e(t,2,0,n.themeSettings.dialogBgColor,n.themeSettings.dialogTextColor):"";e(t,1,0,l),e(t,4,0,"avatar ava-lg border-orange",n.callAccepted?"":"ringing"),e(t,15,0,n.callStart),e(t,17,0,n.callAccepted),e(t,19,0,n.callRejected),e(t,21,0,n.callSelfEnded||n.callEnd),e(t,23,0,n.alreadyOnCall),e(t,26,0,n.callAccepted||n.callSelfEnded||n.callEnd),e(t,28,0,n.callRejected),e(t,30,0,n.callSelfEnded||n.callEnd||n.callRejected||n.alreadyOnCall),e(t,32,0,n.callStart),e(t,35,0,n.callAccepted),e(t,37,0,n.callRejected),e(t,39,0,!n.callRejected&&!n.callEnd)},function(e,t){var n=t.component,l=n.session.agent.name?wr(t,7,0,e(t,9,0,Ou(t.parent,0),wr(t,7,0,Ou(t,8).transform(n.session.agent.name,0,1)))):"";e(t,7,0,l),e(t,12,0,n.session.agent.name)})}function _D(e){return Ss(0,[Wu(0,sp,[]),Wu(0,Bv,[]),as(402653184,1,{self_audio:0}),as(402653184,2,{remote_audio:0}),(e()(),lu(16777216,null,null,1,null,SD)),Gu(5,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),iu(6,0,null,null,2,"div",[["class","clearfix"]],[[8,"hidden",0]],null,null,null,null)),(e()(),iu(7,0,[[1,0],["self_audio",1]],null,0,"audio",[["autoplay",""],["muted",""]],null,null,null,null,null)),(e()(),iu(8,0,[[2,0],["remote_audio",1]],null,0,"audio",[["autoplay",""]],null,null,null,null,null))],function(e,t){e(t,5,0,t.component.session.agent)},function(e,t){e(t,6,0,!t.component.callAccepted)})}function wD(e){return Ss(0,[(e()(),iu(0,0,null,null,1,"app-call-reciever",[],null,null,null,_D,uD)),Gu(1,245760,null,0,rD,[Rv,Xf,fd],null,null)],function(e,t){e(t,1,0)},null)}var FD=Su("app-call-reciever",rD,wD,{},{},[]),xD=function(){function e(e,t,n){var l=this;this._callingService=e,this.dialogRef=t,this._appStateService=n,this.subscriptions=[],this._callingService.agentBusy.next(!1),this.subscriptions.push(this._appStateService.Settings.subscribe(function(e){e&&(l.themeSettings=e.dialogSettings)}))}return e.prototype.SvgChangeColor=function(e){var t=this.logo.nativeElement.contentDocument.getElementsByTagName("path").item(0);t&&t.setAttribute("fill",this.themeSettings.dialogLogoColor)},e.prototype.ngOnInit=function(){var e=this;setTimeout(function(){e.dialogRef.close()},3e3)},e.prototype.ngOnDestroy=function(){this.subscriptions.map(function(e){e.unsubscribe()})},e}(),ED=Er({encapsulation:0,styles:[[""]],data:{}});function kD(e){return Ss(0,[as(402653184,1,{logo:0}),(e()(),iu(1,0,null,null,9,"div",[["class","text-center clearfix p-24"]],null,null,null,null,null)),Gu(2,278528,null,0,rp,[er,Ll,zl],{ngStyle:[0,"ngStyle"]},null),vs(3,{"background-color":0,color:1}),(e()(),iu(4,0,[[1,0],["logo",1]],null,0,"object",[["class","m-b-20"],["data","/cw/assets/img/icons/svg/chat-icon.svg"],["height","auto"],["id","logo"],["name","logo"],["type","image/svg+xml"],["width","80"]],null,[[null,"load"]],function(e,t,n){var l=!0;return"load"===t&&(l=!1!==e.component.SvgChangeColor(n)&&l),l},null,null)),(e()(),iu(5,0,null,null,1,"h6",[["class","title-with-border border-gray"]],null,null,null,null,null)),(e()(),ys(-1,null,["We're Sorry"])),(e()(),iu(7,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),ys(-1,null,["The Agent Is Alraedy On Call "])),(e()(),iu(9,0,null,null,0,"div",[["class","text-with-divider solid"]],null,null,null,null,null)),(e()(),iu(10,0,null,null,0,"br",[],null,null,null,null,null))],function(e,t){var n=t.component,l=n.themeSettings?e(t,3,0,n.themeSettings.dialogBgColor,n.themeSettings.dialogTextColor):"";e(t,2,0,l)},null)}function AD(e){return Ss(0,[(e()(),iu(0,0,null,null,1,"app-call-status-dialog",[],null,null,null,kD,ED)),Gu(1,245760,null,0,xD,[Rv,fd,Xf],null,null)],function(e,t){e(t,1,0)},null)}var TD=Su("app-call-status-dialog",xD,AD,{},{},[]),ID=Er({encapsulation:2,styles:[[".alertIcon{position:absolute;left:0;padding:15px;top:0;margin:0;background-color:var(--black-alpha2)}"]],data:{}});function BD(e){return Ss(0,[(e()(),iu(0,0,null,null,2,"i",[["class","alertIcon"]],null,null,null,null,null)),Gu(1,278528,null,0,rp,[er,Ll,zl],{ngStyle:[0,"ngStyle"]},null),vs(2,{"background-color":0,color:1}),(e()(),iu(3,0,null,null,3,"p",[],null,null,null,null,null)),Gu(4,278528,null,0,rp,[er,Ll,zl],{ngStyle:[0,"ngStyle"]},null),vs(5,{"background-color":0,color:1}),(e()(),ys(6,null,["",""])),(e()(),iu(7,0,null,null,2,"div",[["class","clear p-24"]],null,null,null,null,null)),Gu(8,278528,null,0,rp,[er,Ll,zl],{ngStyle:[0,"ngStyle"]},null),vs(9,{"background-color":0,color:1})],function(e,t){var n=t.component,l=n.themeSettings?e(t,2,0,n.themeSettings.dialogBgColor,n.themeSettings.dialogTextColor):"";e(t,1,0,l);var i=n.themeSettings?e(t,5,0,n.themeSettings.dialogBgColor,n.themeSettings.dialogTextColor):"";e(t,4,0,i);var o=n.themeSettings?e(t,9,0,n.themeSettings.dialogBgColor,n.themeSettings.dialogTextColor):"";e(t,8,0,o)},function(e,t){e(t,6,0,t.component.msg)})}function OD(e){return Ss(0,[(e()(),iu(0,0,null,null,1,"app-call-notifications",[],null,null,null,BD,ID)),Gu(1,49152,null,0,Ov,[gd,Xf],null,null)],null,null)}var RD=Su("app-call-notifications",Ov,OD,{},{},[]),MD=function(){function e(e,t,n,l){var i=this;this._appStateService=e,this._dataService=t,this._socketService=n,this.dialogRef=l,this.subscriptions=[],this.session=void 0,this.workflow=void 0,this.checkboxfields=[],this.radiofields=[],this.radiolabel=[],this.checkboxlabel=[],this.alreadyOpened=!1,this.status=!1,this.greetingChatBotForm='<div class="text-center clearfix p-24" [ngStyle]="(themeSettings) ? { "background-color" : themeSettings.dialogBgColor , color : themeSettings.dialogTextColor } : {}"><object id="logo" name="logo" class="m-b-20" width="80" height="auto" type="image/svg+xml" data="/cw/assets/img/icons/svg/chat-icon.svg" width="80" ></object> <h6 class="title-with-border border-gray">Hello!</h6><button id="greetBtn" type="button"  class="btn btn-block">Get Started</button></div>',this.subscriptions.push(this._socketService.GetStatus().subscribe(function(e){e&&(i.status=e)})),this.subscriptions.push(this._appStateService.Session.subscribe(function(e){if(e&&(i.session=e,i.status&&(6==i.session.state||8==i.session.state)&&!i.alreadyOpened)){i.session.workflow||(i.session.workflow=JSON.parse(i._appStateService.GetStorage("workFlow")));for(var t=(new DOMParser).parseFromString(i.session.workflow,"text/html"),n=t.getElementsByTagName("input"),l=(t.getElementsByTagName("button"),0);l<n.length&&l!=n.length-1;l++)i.submitBtn=n[l+1],"radio"==n[l].type&&(i.radiofields.push(n[l]),i.radiolabel.push(n[l].nextSibling.firstChild)),"checkbox"==n[l].type&&(i.checkboxfields.push(n[l]),i.checkboxlabel.push(n[l].nextSibling.firstChild));i.alreadyOpened=!0}})),this.subscriptions.push(this._appStateService.Settings.subscribe(function(e){e&&(i.themeSettings=e.dialogSettings)}))}return e.prototype.ngOnInit=function(){},e.prototype.BindGreeting=function(){var e=this;return new _(function(t){e.newChatBotGreetMsg.nativeElement.innerHTML=e.greetingChatBotForm,t.next(!0),t.complete()})},e.prototype.SvgChangeColoForNativeElement=function(e){var t=this.logo.nativeElement.contentDocument.getElementsByTagName("path").item(0);t&&t.setAttribute("fill",this.themeSettings?this.themeSettings.dialogLogoColor:"#F15C24FF")},e.prototype.ngOnDestroy=function(){this.subscriptions.map(function(e){e.unsubscribe()})},e.prototype.Submit=function(){var e,t=this;e=this.radioSelected?this.radioSelected?this.radioSelected:"":this.checkboxSelected?this.checkboxSelected:"",this.workflowHtml.nativeElement="",this.botGreetMsg.nativeElement="",this._dataService.WorkFlowInput(e).subscribe(function(e){e&&(t.dialogRef.close(e),t._appStateService.RemoveStorage("workFlow"),t._appStateService.RemoveStorage("msg"),setTimeout(function(){t.alreadyOpened=!1},0))},function(n){t.dialogRef.close(e),t.alreadyOpened=!1})},e.prototype.StartChatWithBot=function(){this.dialogRef.close({status:"chatBot"})},e}(),PD=Er({encapsulation:2,styles:[["#workflow_form{max-height:120px}.workflow-scroll{margin-bottom:20px}.pretty.p-default input:checked~.state label:after{background-color:#ff681f!important;display:block}.radio-main input:last-child{margin-bottom:0!important}"]],data:{}});function ND(e){return Ss(0,[(e()(),iu(0,0,[[2,0],["botMessage",1]],null,1,"h6",[["class","title-with-border border-gray"]],null,null,null,null,null)),(e()(),ys(1,null,[" ",""]))],null,function(e,t){e(t,1,0,t.component.session.msg[0].body)})}function jD(e){return Ss(0,[(e()(),iu(0,0,null,null,1,"label",[["class","checkbox"]],null,null,null,null,null)),(e()(),ys(1,null,["",""]))],null,function(e,t){e(t,1,0,t.component.checkboxlabel[t.parent.context.index].innerHTML)})}function LD(e){return Ss(0,[(e()(),iu(0,0,null,null,9,"div",[["class","pretty p-default clearfix m-t-b-11 radio-main"]],null,null,null,null,null)),(e()(),iu(1,0,null,null,5,"input",[["name","workflow-checkbox"],["type","checkbox"]],[[8,"id",0],[8,"value",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(e,t,n){var l=!0,i=e.component;return"change"===t&&(l=!1!==Ou(e,2).onChange(n.target.checked)&&l),"blur"===t&&(l=!1!==Ou(e,2).onTouched()&&l),"ngModelChange"===t&&(l=!1!==(i.checkboxSelected=n)&&l),l},null,null)),Gu(2,16384,null,0,ef,[zl,Ll],null,null),Ju(1024,null,Yh,function(e){return[e]},[ef]),Gu(4,671744,null,0,zf,[[2,qh],[8,null],[8,null],[6,Yh]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),Ju(2048,null,sf,null,[zf]),Gu(6,16384,null,0,Af,[[4,sf]],null,null),(e()(),iu(7,0,null,null,2,"div",[["class","state"]],null,null,null,null,null)),(e()(),lu(16777216,null,null,1,null,jD)),Gu(9,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component;e(t,4,0,"workflow-checkbox",n.checkboxSelected),e(t,9,0,n.checkboxlabel&&n.checkboxlabel.length)},function(e,t){e(t,1,0,eu(1,"workflow-",t.context.$implicit.name,""),eu(1,"",t.context.$implicit.value,""),Ou(t,6).ngClassUntouched,Ou(t,6).ngClassTouched,Ou(t,6).ngClassPristine,Ou(t,6).ngClassDirty,Ou(t,6).ngClassValid,Ou(t,6).ngClassInvalid,Ou(t,6).ngClassPending)})}function VD(e){return Ss(0,[(e()(),iu(0,0,null,null,2,"div",[["class","full-width"]],null,null,null,null,null)),(e()(),lu(16777216,null,null,1,null,LD)),Gu(2,278528,null,0,tp,[Oo,Ai,Yo],{ngForOf:[0,"ngForOf"]},null)],function(e,t){e(t,2,0,t.component.checkboxfields)},null)}function $D(e){return Ss(0,[(e()(),iu(0,0,null,null,1,"label",[["class","radio"]],null,null,null,null,null)),(e()(),ys(1,null,["",""]))],null,function(e,t){e(t,1,0,t.component.radiolabel[t.parent.context.index].innerHTML)})}function HD(e){return Ss(0,[(e()(),iu(0,0,null,null,10,"div",[["class","pretty p-default p-round m-t-b-11 radio-main"]],null,null,null,null,null)),(e()(),iu(1,0,null,null,6,"input",[["name","workflow-radioBtn"],["type","radio"]],[[8,"id",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(e,t,n){var l=!0,i=e.component;return"input"===t&&(l=!1!==Ou(e,2)._handleInput(n.target.value)&&l),"blur"===t&&(l=!1!==Ou(e,2).onTouched()&&l),"compositionstart"===t&&(l=!1!==Ou(e,2)._compositionStart()&&l),"compositionend"===t&&(l=!1!==Ou(e,2)._compositionEnd(n.target.value)&&l),"change"===t&&(l=!1!==Ou(e,3).onChange()&&l),"blur"===t&&(l=!1!==Ou(e,3).onTouched()&&l),"ngModelChange"===t&&(l=!1!==(i.radioSelected=n)&&l),l},null,null)),Gu(2,16384,null,0,nf,[zl,Ll,[2,tf]],null,null),Gu(3,212992,null,0,cf,[zl,Ll,af,tl],{name:[0,"name"],value:[1,"value"]},null),Ju(1024,null,Yh,function(e,t){return[e,t]},[nf,cf]),Gu(5,671744,null,0,zf,[[2,qh],[8,null],[8,null],[6,Yh]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),Ju(2048,null,sf,null,[zf]),Gu(7,16384,null,0,Af,[[4,sf]],null,null),(e()(),iu(8,0,null,null,2,"div",[["class","state"]],null,null,null,null,null)),(e()(),lu(16777216,null,null,1,null,$D)),Gu(10,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component;e(t,3,0,"workflow-radioBtn",eu(1,"",t.context.$implicit.value,"")),e(t,5,0,"workflow-radioBtn",n.radioSelected),e(t,10,0,n.radiolabel&&n.radiolabel.length)},function(e,t){e(t,1,0,eu(1,"workflow-",t.context.$implicit.name,""),Ou(t,7).ngClassUntouched,Ou(t,7).ngClassTouched,Ou(t,7).ngClassPristine,Ou(t,7).ngClassDirty,Ou(t,7).ngClassValid,Ou(t,7).ngClassInvalid,Ou(t,7).ngClassPending)})}function UD(e){return Ss(0,[(e()(),iu(0,0,null,null,2,"div",[["class","full-width"]],null,null,null,null,null)),(e()(),lu(16777216,null,null,1,null,HD)),Gu(2,278528,null,0,tp,[Oo,Ai,Yo],{ngForOf:[0,"ngForOf"]},null)],function(e,t){e(t,2,0,t.component.radiofields)},null)}function zD(e){return Ss(0,[(e()(),iu(0,0,null,null,4,"button",[["class","btn btn-md btn-block m-t-10"],["id","workflow-submit"]],null,[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.Submit()&&l),l},null,null)),Gu(1,278528,null,0,rp,[er,Ll,zl],{ngStyle:[0,"ngStyle"]},null),vs(2,{"background-color":0,color:1}),(e()(),iu(3,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),ys(4,null,["",""]))],function(e,t){var n=t.component,l=n.themeSettings?e(t,2,0,n.themeSettings.dialogBtnColor,n.themeSettings.dialogBtnTextColor):"";e(t,1,0,l)},function(e,t){e(t,4,0,t.component.submitBtn.value)})}function qD(e){return Ss(0,[(e()(),iu(0,0,null,null,13,"div",[],null,null,null,null,null)),(e()(),iu(1,0,null,null,9,"div",[["class","workflow-scroll"]],null,null,null,null,null)),(e()(),iu(2,0,[[1,0],["workflow_Html",1]],null,8,"form",[["id","workflow_form"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(e,t,n){var l=!0;return"submit"===t&&(l=!1!==Ou(e,4).onSubmit(n)&&l),"reset"===t&&(l=!1!==Ou(e,4).onReset()&&l),l},null,null)),Gu(3,16384,null,0,Gf,[],null,null),Gu(4,4210688,null,0,Lf,[[8,null],[8,null]],null,null),Ju(2048,null,qh,null,[Lf]),Gu(6,16384,null,0,Tf,[[4,qh]],null,null),(e()(),lu(16777216,null,null,1,null,VD)),Gu(8,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,UD)),Gu(10,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),iu(11,0,null,null,2,"div",[["class","full-width"]],null,null,null,null,null)),(e()(),lu(16777216,null,null,1,null,zD)),Gu(13,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component;e(t,8,0,n.checkboxfields&&n.checkboxfields.length),e(t,10,0,n.radiofields&&n.radiofields.length),e(t,13,0,n.submitBtn)},function(e,t){e(t,2,0,Ou(t,6).ngClassUntouched,Ou(t,6).ngClassTouched,Ou(t,6).ngClassPristine,Ou(t,6).ngClassDirty,Ou(t,6).ngClassValid,Ou(t,6).ngClassInvalid,Ou(t,6).ngClassPending)})}function GD(e){return Ss(0,[(e()(),iu(0,0,null,null,4,"div",[],null,null,null,null,null)),(e()(),lu(16777216,null,null,1,null,ND)),Gu(2,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,qD)),Gu(4,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component;e(t,2,0,n.session.msg[0].body&&""!=n.session.msg[0].body&&"Agents"==n.session.msg[0].type),e(t,4,0,n.session.workflow&&""==!n.session.workflow)},null)}function WD(e){return Ss(0,[(e()(),iu(0,0,[[3,0],["chatBotGreet",1]],null,11,"div",[],null,null,null,null,null)),(e()(),iu(1,0,null,null,10,"div",[["class","text-center clearfix p-24"]],null,null,null,null,null)),Gu(2,278528,null,0,rp,[er,Ll,zl],{ngStyle:[0,"ngStyle"]},null),vs(3,{"background-color":0,color:1}),(e()(),iu(4,0,[[4,0],["logo",1]],null,0,"object",[["class","m-b-20"],["data","/cw/assets/img/icons/svg/chat-icon.svg"],["height","auto"],["id","logo"],["name","logo"],["type","image/svg+xml"],["width","80"]],null,[[null,"load"]],function(e,t,n){var l=!0;return"load"===t&&(l=!1!==e.component.SvgChangeColoForNativeElement(n)&&l),l},null,null)),(e()(),iu(5,0,null,null,1,"h6",[["class","title-with-border border-gray"]],null,null,null,null,null)),(e()(),ys(-1,null,["Hello"])),(e()(),iu(7,0,null,null,4,"button",[["class","btn"],["id","greetBtn"],["type","button"]],null,[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.StartChatWithBot()&&l),l},null,null)),Gu(8,278528,null,0,rp,[er,Ll,zl],{ngStyle:[0,"ngStyle"]},null),vs(9,{"background-color":0,color:1}),(e()(),iu(10,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),ys(-1,null,["Get Started"]))],function(e,t){var n=t.component,l=n.themeSettings?e(t,3,0,n.themeSettings.dialogBgColor,n.themeSettings.dialogTextColor):nu;e(t,2,0,l);var i=n.themeSettings?e(t,9,0,n.themeSettings.btnColor,n.themeSettings.btnTextcolor):"";e(t,8,0,i)},null)}function JD(e){return Ss(0,[(e()(),iu(0,0,null,null,6,"div",[["class","clearfix p-24"]],null,null,null,null,null)),Gu(1,278528,null,0,rp,[er,Ll,zl],{ngStyle:[0,"ngStyle"]},null),vs(2,{"background-color":0,color:1}),(e()(),lu(16777216,null,null,1,null,GD)),Gu(4,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,WD)),Gu(6,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component,l=n.themeSettings?e(t,2,0,n.themeSettings.dialogBgColor,n.themeSettings.dialogTextColor):"";e(t,1,0,l),e(t,4,0,n.session.msg&&n.session.msg.length&&6==n.session.state),e(t,6,0,8==n.session.state)},null)}function QD(e){return Ss(0,[as(671088640,1,{workflowHtml:0}),as(671088640,2,{botGreetMsg:0}),as(671088640,3,{newChatBotGreetMsg:0}),as(671088640,4,{logo:0}),(e()(),lu(16777216,null,null,1,null,JD)),Gu(5,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null)],function(e,t){e(t,5,0,t.component.session)},null)}function KD(e){return Ss(0,[(e()(),iu(0,0,null,null,1,"app-chat-bot-window",[],null,null,null,QD,PD)),Gu(1,245760,null,0,MD,[Xf,ng,tg,fd],null,null)],function(e,t){e(t,1,0)},null)}var ZD=Su("app-chat-bot-window",MD,KD,{},{},[]),XD=function(){function e(e,t,n,l,i){var o=this;this._postMessageService=e,this._appService=t,this._dataService=n,this.dialogRef=l,this.dialog=i,this.subscriptions=[],this.restarting=!1,this.themeSettings=void 0,this.chatInitiated=!1,this.subscriptions.push(this._postMessageService.helpWindow.subscribe(function(e){e&&(o.helpWindow=e)})),this.subscriptions.push(this._dataService.helpChatInitiated.subscribe(function(e){e&&(o.chatInitiated=e,1==o._dataService.Session.state?o.OpenChat(e):o.dialogRef.close({status:"ok"}))})),this.subscriptions.push(this._appService.Settings.subscribe(function(e){e&&(o.themeSettings=e.dialogSettings)}))}return e.prototype.ngOnInit=function(){},e.prototype.SvgChangeColor=function(e){var t=this.logo.nativeElement.contentDocument.getElementsByTagName("path").item(0);t&&t.setAttribute("fill",this.themeSettings?this.themeSettings.dialogLogoColor:"#F15C24FF")},e.prototype.ngOnDestroy=function(){this.subscriptions.map(function(e){e.unsubscribe()})},e.prototype.OpenChat=function(e){var t=this;this._dataService.UserInformationRest(e).subscribe(function(e){t.dialogRef.close({status:"ok"}),e||t.dialog.open(lg,{disableClose:!0,autoFocus:!0,panelClass:["dialog-inner"]}).afterClosed().subscribe(function(e){e&&"Yes"==e.status&&t.dialog.open(og,{panelClass:["dialog-inner"],disableClose:!0,autoFocus:!0}).afterClosed().subscribe(function(e){e&&"chat"==e.result&&t._dataService.viewMode.next("message-window")})},function(e){})})},e}(),YD=Er({encapsulation:0,styles:[[""]],data:{}});function ey(e){return Ss(0,[(e()(),iu(0,0,null,null,5,"div",[["class","text-center clearfix p-24"]],null,null,null,null,null)),Gu(1,278528,null,0,rp,[er,Ll,zl],{ngStyle:[0,"ngStyle"]},null),vs(2,{"background-color":0,color:1}),(e()(),iu(3,0,[[1,0],["logo",1]],null,0,"object",[["class","m-b-20"],["data","/cw/assets/img/icons/svg/chat-icon.svg"],["height","auto"],["id","logo"],["name","logo"],["type","image/svg+xml"],["width","80"]],null,[[null,"load"]],function(e,t,n){var l=!0;return"load"===t&&(l=!1!==e.component.SvgChangeColor(n)&&l),l},null,null)),(e()(),iu(4,0,null,null,1,"h6",[["class","title-with-border border-gray"]],null,null,null,null,null)),(e()(),ys(-1,null,["Initiating Chat, Please Wait..."]))],function(e,t){var n=t.component,l=n.themeSettings?e(t,2,0,n.themeSettings.dialogBgColor,n.themeSettings.dialogTextColor):"";e(t,1,0,l)},null)}function ty(e){return Ss(0,[as(671088640,1,{logo:0}),(e()(),lu(16777216,null,null,1,null,ey)),Gu(2,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null)],function(e,t){e(t,2,0,!t.component.chatInitiated)},null)}function ny(e){return Ss(0,[(e()(),iu(0,0,null,null,1,"app-chat-load",[],null,null,null,ty,YD)),Gu(1,245760,null,0,XD,[Ma,Xf,ng,fd,yd],null,null)],function(e,t){e(t,1,0)},null)}var ly=Su("app-chat-load",XD,ny,{},{},[]),iy=function(){function e(e,t,n,l,i,o){var r=this;this._socketService=e,this._appService=t,this.dialogRef=n,this.dialog=l,this._postMessageService=i,this._dataService=o,this.serverDisconnect=!0,this.restarting=!1,this.subscriptions=[],this.themeSettings=void 0,this.sessionResetStatus=!1,this.banned=!1,this.loading=!1,this.endChat=!1,this.subscriptions.push(this._appService.endChat.subscribe(function(e){r.endChat=e})),this.subscriptions.push(this._socketService.GetDisconnectionStatus().subscribe(function(e){r._socketService.loading.next(!1),e||r.socket.disconnected||r.endChat||(r.serverDisconnect=!1,r.restarting=!1,r._dataService.restartingApp.next(!1),setTimeout(function(){r.dialogRef.close(),r._dataService.GetDisconnectedTime()},500))})),this.subscriptions.push(this._socketService.GetSocketInstance().subscribe(function(e){e&&(r.socket=e)})),this.subscriptions.push(this._dataService.banned.subscribe(function(e){r.banned=e})),this.subscriptions.push(this._postMessageService.Load.subscribe(function(e){e&&e.session&&setTimeout(function(){r._socketService.loading.getValue()&&r._socketService.loading.next(!1),r.restarting=!1,r.sessionResetStatus=!1,r.serverDisconnect=!1,r._dataService.restartingApp.next(!1),r.dialogRef&&r.dialogRef.close()},500)})),this.subscriptions.push(this._appService.Settings.subscribe(function(e){e&&(r.settings=e,r.themeSettings=e.dialogSettings)})),this.subscriptions.push(this._appService.Session.subscribe(function(e){r.Session=e})),this.subscriptions.push(this._postMessageService.sessionResetStatus.subscribe(function(e){r.serverDisconnect&&(r.sessionResetStatus||(r.sessionResetStatus=!0,setTimeout(function(){r.sessionResetStatus=!1,r.restarting=!1},500)))}))}return e.prototype.ngOnInit=function(){},e.prototype.SvgChangeColor=function(e){var t=this.logo.nativeElement.contentDocument.getElementsByTagName("path").item(0);t&&t.setAttribute("fill",this.themeSettings?this.themeSettings.dialogLogoColor:"#F15C24FF")},e.prototype.StartAgain=function(e){var t=this;this.loading||(this.loading=!0,this.Session&&this._dataService.RestartChatOnDisconnect(),this.restarting=!0,setTimeout(function(){t.loading=!1},2e3))},e}(),oy=Er({encapsulation:2,styles:[[""]],data:{}});function ry(e){return Ss(0,[(e()(),iu(0,0,null,null,1,"h6",[["class","title-with-border border-gray"]],null,null,null,null,null)),(e()(),ys(-1,null,["Your Session is Disconnected..."]))],null,null)}function uy(e){return Ss(0,[(e()(),iu(0,0,null,null,1,"h6",[["class","title-with-border border-gray"]],null,null,null,null,null)),(e()(),ys(-1,null,["Cannot Connect. Please Try a Few Moments Later"]))],null,null)}function sy(e){return Ss(0,[(e()(),iu(0,0,null,null,1,"h6",[["class","title-with-border border-gray"]],null,null,null,null,null)),(e()(),ys(-1,null,[" Connecting"]))],null,null)}function ay(e){return Ss(0,[(e()(),iu(0,0,null,null,6,"div",[["class","flex_btns"]],null,null,null,null,null)),(e()(),iu(1,0,null,null,5,"button",[["class","btn"],["type","button"]],null,[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.StartAgain()&&l),l},null,null)),Gu(2,278528,null,0,Yc,[Yo,er,Ll,zl],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),Gu(3,278528,null,0,rp,[er,Ll,zl],{ngStyle:[0,"ngStyle"]},null),vs(4,{"background-color":0,color:1}),(e()(),iu(5,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),ys(6,null,["",""]))],function(e,t){var n=t.component;e(t,2,0,"btn",n.loading?"btnSpinner":"");var l=n.themeSettings?e(t,4,0,n.themeSettings.dialogSecondaryBtnColor,n.themeSettings.btnTextcolor):"";e(t,3,0,l)},function(e,t){e(t,6,0,t.component.settings.reinitiateDialogue.btnText)})}function cy(e){return Ss(0,[(e()(),iu(0,0,null,null,11,"div",[["class","text-center clearfix p-24"]],null,null,null,null,null)),Gu(1,278528,null,0,rp,[er,Ll,zl],{ngStyle:[0,"ngStyle"]},null),vs(2,{"background-color":0,color:1}),(e()(),iu(3,0,[[1,0],["logo",1]],null,0,"object",[["class","m-b-20"],["data","/cw/assets/img/icons/svg/chat-icon.svg"],["height","auto"],["id","logo"],["name","logo"],["type","image/svg+xml"],["width","80"]],null,[[null,"load"]],function(e,t,n){var l=!0;return"load"===t&&(l=!1!==e.component.SvgChangeColor(n)&&l),l},null,null)),(e()(),lu(16777216,null,null,1,null,ry)),Gu(5,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,uy)),Gu(7,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,sy)),Gu(9,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,ay)),Gu(11,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component,l=n.themeSettings?e(t,2,0,n.themeSettings.dialogBgColor,n.themeSettings.dialogTextColor):"";e(t,1,0,l),e(t,5,0,!n.restarting&&!n.sessionResetStatus),e(t,7,0,n.restarting&&n.sessionResetStatus),e(t,9,0,n.restarting&&!n.sessionResetStatus),e(t,11,0,!n.restarting&&!n.sessionResetStatus&&!n.banned)},null)}function py(e){return Ss(0,[(e()(),iu(0,0,null,null,1,"h6",[["class","title-with-border border-gray"]],null,null,null,null,null)),(e()(),ys(-1,null,[" Connected..."]))],null,null)}function dy(e){return Ss(0,[(e()(),iu(0,0,null,null,5,"div",[["class","text-center clearfix p-24"]],null,null,null,null,null)),Gu(1,278528,null,0,rp,[er,Ll,zl],{ngStyle:[0,"ngStyle"]},null),vs(2,{"background-color":0,color:1}),(e()(),iu(3,0,[[1,0],["logo",1]],null,0,"object",[["class","m-b-20"],["data","/cw/assets/img/icons/svg/chat-icon.svg"],["height","auto"],["id","logo"],["name","logo"],["type","image/svg+xml"],["width","80"]],null,[[null,"load"]],function(e,t,n){var l=!0;return"load"===t&&(l=!1!==e.component.SvgChangeColor(n)&&l),l},null,null)),(e()(),lu(16777216,null,null,1,null,py)),Gu(5,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component,l=n.themeSettings?e(t,2,0,n.themeSettings.dialogBgColor,n.themeSettings.dialogTextColor):"";e(t,1,0,l),e(t,5,0,!n.serverDisconnect&&n.Session)},null)}function hy(e){return Ss(0,[as(671088640,1,{logo:0}),(e()(),lu(16777216,null,null,1,null,cy)),Gu(2,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,dy)),Gu(4,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component;e(t,2,0,n.serverDisconnect),e(t,4,0,!n.serverDisconnect)},null)}function fy(e){return Ss(0,[(e()(),iu(0,0,null,null,1,"app-sv-disconnect",[],null,null,null,hy,oy)),Gu(1,114688,null,0,iy,[tg,Xf,fd,yd,Ma,ng],null,null)],function(e,t){e(t,1,0)},null)}var gy=Su("app-sv-disconnect",iy,fy,{},{},[]),my=function(){function e(e,t,n,l,i){var o=this;this._appService=e,this._restService=t,this._dataService=n,this.dialogRef=l,this.data=i,this.formData={},this.inputFields={},this.dataList={},this.errorFields=[],this.subscriptions=[],this.formSubmitted=!1,this.validForm=!1,this.requestError=!1,this.loading=!1,this.regex={email:/^[_a-z0-9]+(\.[_a-z0-9]+)*@[a-z0-9-]+(\.[a-z0-9-]+)*(\.[a-z]{2,4})$/,tel:/^[0-9+\-()\s]+$/,number:/^[0-9]+$/,httpRegex:/(http:\/\/)/,httpsRegex:/(https:\/\/)/,url:/^(https?):\/\/(-\.)?([^\s\/?\.#-]+\.?)+(\/[^\s]*)?$/i,numberRangeRegex:/^[0-9]+-[0-9]+$/,infiniteNumberRangeRegex:/^[0-9]+\+$/},this.form=this.data.form,this.subscriptions.push(this._appService.Session.subscribe(function(e){o.Session=e})),this.subscriptions.push(this._dataService.restartingApp.subscribe(function(e){e&&o.dialogRef.close()})),this.subscriptions.push(this._dataService.closeActionForm.subscribe(function(e){o.dialogRef.close()})),this.subscriptions.push(this._appService.Settings.subscribe(function(e){e&&(o.settings=e,o.themeSettings=e.dialogSettings)}))}return e.prototype.ngOnInit=function(){},e.prototype.ResetForm=function(e){var t=this;return new _(function(e){Array.from(t.inputFields).length&&Array.from(t.inputFields).map(function(e){var t=document.getElementById("error-"+e.id),n=document.getElementById("errorValid-"+e.id);t&&(e.classList.remove("text-red"),t.classList.remove("show"),t.classList.add("hide")),n&&(e.classList.remove("text-red"),n.classList.remove("show"),n.classList.add("hide"))}),e.next(!0),e.complete()})},e.prototype.Submit=function(){var e=this;try{if(this.ResetForm(this.formNativeElement.nativeElement).subscribe(function(t){t&&(e.dataList={},e.errorFields=[],e.inputFields=[])}),this.inputFields=[],new RegExp("input"),this.inputFields=this.formNativeElement.nativeElement.querySelectorAll('[id^="input-"]'),this.inputFields.length&&Array.from(this.inputFields).map(function(t){if(t.id){if("checkbox"==t.type&&t.checked)e.dataList[t.id]=t.value;else if("radio"==t.type)for(var n=document.getElementsByName(t.id),l=0;l<n.length;l++)n[l].checked&&(e.dataList[t.id]=n[l].value);else e.dataList[t.id]=t.options&&t.options.length?t.options[t.selectedIndex].value:!t.value||"text"!=t.type&&"email"!=t.type&&"password"!=t.type?"":t.value;if(t.value&&e.regex.hasOwnProperty(t.type)&&!new RegExp(e.regex[t.type]).test(e.dataList[t.id])){e.dataList[t.id]="";var i=document.getElementById("errorValid-"+t.id);i&&(t.classList.add("text-red"),i.classList.remove("hide"),i.classList.add("show"),-1===e.errorFields.indexOf(t.id)&&e.errorFields.push(t.id))}if(!e.dataList[t.id]){var o=document.getElementById("error-"+t.id);o&&(t.classList.add("text-red"),o.classList.remove("hide"),o.classList.add("show"),-1===e.errorFields.indexOf(t.id)&&e.errorFields.push(t.id))}}else new Error("Construction Error: input field does not have ID")}),this.dataList.form=this.form?this.form:"",this.dataList.nsp=this.Session.nsp?this.Session.nsp:"",this.dataList.csid=this.Session._id?this.Session._id:"",this.form&&this.form.formFields.map(function(t){t.submittedData=e.dataList[t.id]}),this.errorFields.length)return;this.validForm=!0,this.SendCannedForm().subscribe(function(t){t&&(e.loading=!1,setTimeout(function(){e.dialogRef.close({status:e.requestError?"failed":"ok",form:e.form,message:t.message})},2e3))},function(t){e.requestError=!0,setTimeout(function(){e.dialogRef.close({status:e.requestError?"failed":"ok",form:e.form})},2e3)})}catch(t){}},e.prototype.SendCannedForm=function(){var e=this;return this.formSubmitted=!0,this.loading=!0,new _(function(t){var n=new RegExp(e.regex.url).test(e.form.actionUrl);try{n?e._restService.SendXMLHttpRequest(e.form.actionUrl,"POST",JSON.stringify(e.dataList),!1,!0,[{name:"Content-Type",value:"application/json"}]).subscribe(function(e){var n=JSON.parse(e);n&&"success"==n.status?(t.next(n),t.complete()):t.error(e)},function(e){t.error(e)}):t.error({error:"error"})}catch(l){t.error({error:"error"})}})},e.prototype.TogglePasswordVisibility=function(e,t){var n=document.getElementById(t);n.type="password"===n.type?"text":"password"},e.prototype.Close=function(){this.dialogRef.close({status:"closed"})},e.prototype.SvgChangeColor=function(e){this.logo.nativeElement.contentDocument.getElementsByTagName("path").item(0).setAttribute("fill",this.themeSettings?this.themeSettings.dialogLogoColor:"#F15C24FF")},e}(),vy=Er({encapsulation:2,styles:[[""]],data:{}});function Dy(e){return Ss(0,[(e()(),iu(0,0,null,null,8,"div",[["class","input-group-addon"]],null,null,null,null,null)),(e()(),iu(1,0,null,null,7,"div",[["class","pretty p-svg p-toggle m-0"]],null,[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.TogglePasswordVisibility(n,e.parent.parent.context.$implicit.id)&&l),l},null,null)),(e()(),iu(2,0,null,null,0,"input",[["type","checkbox"]],null,null,null,null,null)),(e()(),iu(3,0,null,null,2,"div",[["class","state p-success-o p-on"]],null,null,null,null,null)),(e()(),iu(4,0,null,null,0,"img",[["class","svg"],["src","/cw/assets/img/icons/svg/show-black.svg"],["width","15"]],null,null,null,null,null)),(e()(),iu(5,0,null,null,0,"label",[["class","b-0"]],null,null,null,null,null)),(e()(),iu(6,0,null,null,2,"div",[["class","state p-black-o p-off"]],null,null,null,null,null)),(e()(),iu(7,0,null,null,0,"img",[["class","svg"],["src","/cw/assets/img/icons/svg/hide-black.svg"],["width","15"]],null,null,null,null,null)),(e()(),iu(8,0,null,null,0,"label",[["class","b-0"]],null,null,null,null,null))],null,null)}function yy(e){return Ss(0,[(e()(),iu(0,0,null,null,6,"div",[["class","input-block"]],null,null,null,null,null)),(e()(),iu(1,0,null,null,1,"label",[],null,null,null,null,null)),(e()(),ys(2,null,[" ","",""])),(e()(),iu(3,0,null,null,3,"div",[["class","input-group"]],null,null,null,null,null)),(e()(),iu(4,0,null,null,0,"input",[["class","form-control"]],[[8,"id",0],[8,"name",0],[8,"placeholder",0],[8,"type",0],[8,"value",0]],null,null,null,null)),(e()(),lu(16777216,null,null,1,null,Dy)),Gu(6,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null)],function(e,t){e(t,6,0,"password"==t.parent.context.$implicit.type)},function(e,t){e(t,2,0,t.parent.context.$implicit.label,t.parent.context.$implicit.validation?"*":""),e(t,4,0,eu(1,"",t.parent.context.$implicit.id,""),eu(1,"",t.parent.context.$implicit.id,""),eu(1,"",t.parent.context.$implicit.placeholder,""),eu(1,"",t.parent.context.$implicit.type,""),eu(1,"",t.parent.context.$implicit.submittedData,""))})}function by(e){return Ss(0,[(e()(),iu(0,0,null,null,4,"div",[["class","pretty p-default p-round"]],null,null,null,null,null)),(e()(),iu(1,0,null,null,0,"input",[],[[8,"id",0],[8,"checked",0],[8,"type",0],[8,"value",0],[8,"name",0]],null,null,null,null)),(e()(),iu(2,0,null,null,2,"div",[["class","state"]],null,null,null,null,null)),(e()(),iu(3,0,null,null,1,"label",[],null,null,null,null,null)),(e()(),ys(4,null,["",""]))],null,function(e,t){e(t,1,0,eu(1,"",t.parent.parent.context.$implicit.id,""),t.parent.parent.context.$implicit.submittedData,eu(1,"",t.parent.parent.context.$implicit.type,""),eu(1,"",t.context.$implicit.key,""),eu(1,"",t.parent.parent.context.$implicit.id,"")),e(t,4,0,t.context.$implicit.value)})}function Cy(e){return Ss(0,[(e()(),iu(0,0,null,null,4,"div",[["class","input-block"]],null,null,null,null,null)),(e()(),iu(1,0,null,null,1,"label",[],null,null,null,null,null)),(e()(),ys(2,null,[" ","",""])),(e()(),lu(16777216,null,null,1,null,by)),Gu(4,278528,null,0,tp,[Oo,Ai,Yo],{ngForOf:[0,"ngForOf"]},null)],function(e,t){e(t,4,0,t.parent.context.$implicit.options)},function(e,t){e(t,2,0,t.parent.context.$implicit.label,t.parent.context.$implicit.validation?"*":"")})}function Sy(e){return Ss(0,[(e()(),iu(0,0,null,null,7,"div",[["class","input-block"]],null,null,null,null,null)),(e()(),iu(1,0,null,null,1,"label",[],null,null,null,null,null)),(e()(),ys(2,null,[" ","",""])),(e()(),iu(3,0,null,null,4,"div",[["class","pretty p-default p-round"]],null,null,null,null,null)),(e()(),iu(4,0,null,null,0,"input",[["class","form-control"]],[[8,"id",0],[8,"checked",0],[8,"type",0],[8,"value",0]],null,null,null,null)),(e()(),iu(5,0,null,null,2,"div",[["class","state"]],null,null,null,null,null)),(e()(),iu(6,0,null,null,1,"label",[],null,null,null,null,null)),(e()(),ys(7,null,["",""]))],null,function(e,t){e(t,2,0,t.parent.context.$implicit.label,t.parent.context.$implicit.validation?"*":""),e(t,4,0,eu(1,"",t.parent.context.$implicit.id,""),t.parent.context.$implicit.submittedData,eu(1,"",t.parent.context.$implicit.type,""),eu(1,"",t.parent.context.$implicit.value[0],"")),e(t,7,0,t.parent.context.$implicit.value[0])})}function _y(e){return Ss(0,[(e()(),iu(0,0,null,null,3,"option",[["disabled","true"]],[[8,"selected",0]],null,null,null,null)),Gu(1,147456,null,0,mf,[Ll,zl,[8,null]],{value:[0,"value"]},null),Gu(2,147456,null,0,yf,[Ll,zl,[8,null]],{value:[0,"value"]},null),(e()(),ys(3,null,[" "," "]))],function(e,t){e(t,1,0,eu(1,"",t.parent.parent.context.$implicit.submittedData,"")),e(t,2,0,eu(1,"",t.parent.parent.context.$implicit.submittedData,""))},function(e,t){e(t,0,0,t.parent.parent.context.$implicit.submittedData),e(t,3,0,t.parent.parent.context.$implicit.submittedData)})}function wy(e){return Ss(0,[(e()(),iu(0,0,null,null,3,"option",[],null,null,null,null,null)),Gu(1,147456,null,0,mf,[Ll,zl,[8,null]],{value:[0,"value"]},null),Gu(2,147456,null,0,yf,[Ll,zl,[8,null]],{value:[0,"value"]},null),(e()(),ys(3,null,[" "," "]))],function(e,t){e(t,1,0,eu(1,"",t.context.$implicit.key,"")),e(t,2,0,eu(1,"",t.context.$implicit.key,""))},function(e,t){e(t,3,0,t.context.$implicit.value)})}function Fy(e){return Ss(0,[(e()(),iu(0,0,null,null,8,"div",[["class","input-block"]],null,null,null,null,null)),(e()(),iu(1,0,null,null,1,"label",[],null,null,null,null,null)),(e()(),ys(2,null,[" ","",""])),(e()(),iu(3,0,null,null,5,"div",[["class","sel style1"]],null,null,null,null,null)),(e()(),iu(4,0,null,null,4,"select",[["class","form-control"]],[[8,"name",0],[8,"id",0]],null,null,null,null)),(e()(),lu(16777216,null,null,1,null,_y)),Gu(6,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,wy)),Gu(8,278528,null,0,tp,[Oo,Ai,Yo],{ngForOf:[0,"ngForOf"]},null)],function(e,t){e(t,6,0,t.parent.context.$implicit.submittedData),e(t,8,0,t.parent.context.$implicit.options)},function(e,t){e(t,2,0,t.parent.context.$implicit.label,t.parent.context.$implicit.validation?"*":""),e(t,4,0,eu(1,"",t.parent.context.$implicit.id,""),eu(1,"",t.parent.context.$implicit.id,""))})}function xy(e){return Ss(0,[(e()(),iu(0,0,null,null,1,"p",[["class","hide text-red"]],[[8,"id",0]],null,null,null,null)),(e()(),ys(-1,null,[" please fill the given field"]))],null,function(e,t){e(t,0,0,eu(1,"error-",t.parent.context.$implicit.id,""))})}function Ey(e){return Ss(0,[(e()(),iu(0,0,null,null,12,"div",[],null,null,null,null,null)),(e()(),lu(16777216,null,null,1,null,yy)),Gu(2,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,Cy)),Gu(4,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,Sy)),Gu(6,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,Fy)),Gu(8,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,xy)),Gu(10,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),iu(11,0,null,null,1,"p",[["class","hide text-red"]],[[8,"id",0]],null,null,null,null)),(e()(),ys(12,null,[" please enter valid ",""]))],function(e,t){e(t,2,0,"text"==t.context.$implicit.type||"password"==t.context.$implicit.type||"email"==t.context.$implicit.type),e(t,4,0,"radio"==t.context.$implicit.type),e(t,6,0,"checkbox"==t.context.$implicit.type),e(t,8,0,"dropdown"==t.context.$implicit.type),e(t,10,0,t.context.$implicit.validation)},function(e,t){e(t,11,0,eu(1,"errorValid-",t.context.$implicit.id,"")),e(t,12,0,t.context.$implicit.type)})}function ky(e){return Ss(0,[(e()(),iu(0,0,null,null,1,"b",[],null,null,null,null,null)),(e()(),ys(1,null,["",""]))],null,function(e,t){e(t,1,0,t.component.form.formFooter)})}function Ay(e){return Ss(0,[(e()(),iu(0,0,null,null,18,"div",[["class","container"]],null,null,null,null,null)),(e()(),iu(1,0,null,null,1,"h4",[["class","clearfix"]],null,null,null,null,null)),(e()(),ys(2,null,["",""])),(e()(),iu(3,0,null,null,0,"hr",[["class","bg-gray clearfix"]],null,null,null,null,null)),(e()(),iu(4,0,[[1,0],["cannedForm",1]],null,6,"form",[["id","formInputs"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(e,t,n){var l=!0;return"submit"===t&&(l=!1!==Ou(e,6).onSubmit(n)&&l),"reset"===t&&(l=!1!==Ou(e,6).onReset()&&l),l},null,null)),Gu(5,16384,null,0,Gf,[],null,null),Gu(6,4210688,null,0,Lf,[[8,null],[8,null]],null,null),Ju(2048,null,qh,null,[Lf]),Gu(8,16384,null,0,Tf,[[4,qh]],null,null),(e()(),lu(16777216,null,null,1,null,Ey)),Gu(10,278528,null,0,tp,[Oo,Ai,Yo],{ngForOf:[0,"ngForOf"]},null),(e()(),iu(11,0,null,null,0,"hr",[["class","bg-gray"]],null,null,null,null,null)),(e()(),lu(16777216,null,null,1,null,ky)),Gu(13,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),iu(14,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),iu(15,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),iu(16,0,null,null,2,"button",[["class","btn btn-md bg-blue"],["id","submitForm"]],null,[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.Submit()&&l),l},null,null)),(e()(),iu(17,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),ys(-1,null,["Submit"]))],function(e,t){var n=t.component;e(t,10,0,n.form.formFields),e(t,13,0,n.form.formFooter)},function(e,t){var n=t.component;e(t,2,0,n.form.formHeader?n.form.formHeader:"Form"),e(t,4,0,Ou(t,8).ngClassUntouched,Ou(t,8).ngClassTouched,Ou(t,8).ngClassPristine,Ou(t,8).ngClassDirty,Ou(t,8).ngClassValid,Ou(t,8).ngClassInvalid,Ou(t,8).ngClassPending)})}function Ty(e){return Ss(0,[(e()(),iu(0,0,null,null,2,"button",[["class","btn btn-block bg-charcoal btnSpinner"]],null,null,null,null,null)),(e()(),iu(1,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),ys(-1,null,["Sending Form"]))],null,null)}function Iy(e){return Ss(0,[(e()(),iu(0,0,null,null,1,"h5",[],null,null,null,null,null)),(e()(),ys(-1,null,["Form Submitted Successfully"]))],null,null)}function By(e){return Ss(0,[(e()(),iu(0,0,null,null,1,"h5",[["class","text-red"]],null,null,null,null,null)),(e()(),ys(-1,null,["Form Submission Failed"]))],null,null)}function Oy(e){return Ss(0,[(e()(),iu(0,0,null,null,10,"div",[["class","text-center clearfix p-24"]],null,null,null,null,null)),Gu(1,278528,null,0,rp,[er,Ll,zl],{ngStyle:[0,"ngStyle"]},null),vs(2,{"background-color":0,color:1}),(e()(),iu(3,0,[[2,0],["logo",1]],null,0,"object",[["class","m-b-20"],["data","/cw/assets/img/icons/svg/chat-icon.svg"],["height","auto"],["id","logo"],["name","logo"],["type","image/svg+xml"],["width","80"]],null,[[null,"load"]],function(e,t,n){var l=!0;return"load"===t&&(l=!1!==e.component.SvgChangeColor(n)&&l),l},null,null)),(e()(),iu(4,0,null,null,0,"hr",[["class","bg-gray"]],null,null,null,null,null)),(e()(),lu(16777216,null,null,1,null,Ty)),Gu(6,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,Iy)),Gu(8,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,By)),Gu(10,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component,l=n.themeSettings?e(t,2,0,n.themeSettings.dialogBgColor,n.themeSettings.dialogTextColor):"";e(t,1,0,l),e(t,6,0,n.validForm&&!n.requestError&&n.loading),e(t,8,0,n.validForm&&!n.requestError&&!n.loading),e(t,10,0,n.requestError)},null)}function Ry(e){return Ss(0,[(e()(),iu(0,0,null,null,6,"div",[["class","clearfix p-24"]],null,null,null,null,null)),Gu(1,278528,null,0,rp,[er,Ll,zl],{ngStyle:[0,"ngStyle"]},null),vs(2,{"background-color":0,color:1}),(e()(),lu(16777216,null,null,1,null,Ay)),Gu(4,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,Oy)),Gu(6,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component,l=n.themeSettings?e(t,2,0,n.themeSettings.dialogBgColor,n.themeSettings.dialogTextColor):"";e(t,1,0,l),e(t,4,0,n.form&&!n.validForm&&!n.formSubmitted&&!n.requestError),e(t,6,0,n.formSubmitted)},null)}function My(e){return Ss(0,[as(671088640,1,{formNativeElement:0}),as(671088640,2,{logo:0}),(e()(),iu(2,0,null,null,2,"div",[["class","dialog-close svgOnHover"]],null,[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.Close()&&l),l},null,null)),(e()(),iu(3,0,null,null,0,"img",[["class","svg"],["src","/cw/assets/img/icons/svg/cancel-circle-outline.svg"]],null,null,null,null,null)),(e()(),iu(4,0,null,null,0,"img",[["class","svg hover"],["src","/cw/assets/img/icons/svg/cancel-circle-filled.svg"]],null,null,null,null,null)),(e()(),lu(16777216,null,null,1,null,Ry)),Gu(6,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null)],function(e,t){e(t,6,0,t.component.Session)},null)}function Py(e){return Ss(0,[(e()(),iu(0,0,null,null,1,"app-canned-form-dialog",[],null,null,null,My,vy)),Gu(1,114688,null,0,my,[Xf,eg,ng,fd,gd],null,null)],function(e,t){e(t,1,0)},null)}var Ny=Su("app-canned-form-dialog",my,Py,{},{},[]),jy=function(){function e(){}return e.prototype.ngOnInit=function(){},e}(),Ly=Er({encapsulation:2,styles:[[""]],data:{}});function Vy(e){return Ss(0,[(e()(),iu(0,0,null,null,0,"img",[["height","auto"],["src","/cw/assets/img/icons/svg/preloader01.svg"],["width","12"]],null,null,null,null,null))],null,null)}function $y(e){return Ss(0,[(e()(),iu(0,0,null,null,0,"img",[["height","auto"],["src","/cw/assets/img/icons/svg/stat-loader.svg"],["width","12"]],null,null,null,null,null))],null,null)}function Hy(e){return Ss(0,[(e()(),iu(0,0,null,null,0,"img",[["src","/cw/assets/img/loaders/spin.svg"]],[[8,"width",0],[8,"height",0]],null,null,null,null))],null,function(e,t){var n=t.component;e(t,0,0,eu(1,"",n.spinnerWidth?n.spinnerWidth:12,""),eu(1,"",n.spinnerHeight?n.spinnerHeight:"auto",""))})}function Uy(e){return Ss(0,[(e()(),iu(0,0,null,null,0,"img",[["src","/cw/assets/img/loaders/spin-gray.svg"]],[[8,"width",0],[8,"height",0]],null,null,null,null))],null,function(e,t){var n=t.component;e(t,0,0,eu(1,"",n.spinnerWidth?n.spinnerWidth:12,""),eu(1,"",n.spinnerHeight?n.spinnerHeight:"auto",""))})}function zy(e){return Ss(0,[(e()(),iu(0,0,null,null,4,"div",[["class","page-loader"]],null,null,null,null,null)),(e()(),iu(1,0,null,null,3,"div",[["class","preloader bubble-pops"]],null,null,null,null,null)),(e()(),iu(2,0,null,null,0,"div",[["class","bubble-pop"]],null,null,null,null,null)),(e()(),iu(3,0,null,null,1,"p",[["class","bubble-label"]],null,null,null,null,null)),(e()(),ys(-1,null,["Loading"]))],null,null)}function qy(e){return Ss(0,[(e()(),iu(0,0,null,null,3,"div",[["class","preloader bubble-pops"]],null,null,null,null,null)),(e()(),iu(1,0,null,null,0,"div",[["class","bubble-pop"]],null,null,null,null,null)),(e()(),iu(2,0,null,null,1,"p",[["class","bubble-label"]],null,null,null,null,null)),(e()(),ys(-1,null,["Loading"]))],null,null)}function Gy(e){return Ss(0,[(e()(),iu(0,0,null,null,3,"div",[["class","preloader smiley"]],null,null,null,null,null)),(e()(),iu(1,0,null,null,0,"div",[["class","leftEye"]],null,null,null,null,null)),(e()(),iu(2,0,null,null,0,"div",[["class","rightEye"]],null,null,null,null,null)),(e()(),iu(3,0,null,null,0,"div",[["class","mouth"]],null,null,null,null,null))],null,null)}function Wy(e){return Ss(0,[(e()(),iu(0,0,null,null,9,"div",[["class","preloader sk-cube-grid"]],null,null,null,null,null)),(e()(),iu(1,0,null,null,0,"div",[["class","sk-cube sk-cube1"]],null,null,null,null,null)),(e()(),iu(2,0,null,null,0,"div",[["class","sk-cube sk-cube2"]],null,null,null,null,null)),(e()(),iu(3,0,null,null,0,"div",[["class","sk-cube sk-cube3"]],null,null,null,null,null)),(e()(),iu(4,0,null,null,0,"div",[["class","sk-cube sk-cube4"]],null,null,null,null,null)),(e()(),iu(5,0,null,null,0,"div",[["class","sk-cube sk-cube5"]],null,null,null,null,null)),(e()(),iu(6,0,null,null,0,"div",[["class","sk-cube sk-cube6"]],null,null,null,null,null)),(e()(),iu(7,0,null,null,0,"div",[["class","sk-cube sk-cube7"]],null,null,null,null,null)),(e()(),iu(8,0,null,null,0,"div",[["class","sk-cube sk-cube8"]],null,null,null,null,null)),(e()(),iu(9,0,null,null,0,"div",[["class","sk-cube sk-cube9"]],null,null,null,null,null))],null,null)}function Jy(e){return Ss(0,[(e()(),iu(0,0,null,null,0,"img",[["height","auto"],["src","/cw/assets/img/icons/svg/preloader05.svg"],["width","40"]],null,null,null,null,null))],null,null)}function Qy(e){return Ss(0,[(e()(),lu(16777216,null,null,1,null,Vy)),Gu(1,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,$y)),Gu(3,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,Hy)),Gu(5,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,Uy)),Gu(7,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,zy)),Gu(9,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,qy)),Gu(11,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,Gy)),Gu(13,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,Wy)),Gu(15,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,Jy)),Gu(17,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component;e(t,1,0,"stat-loader"==n.type),e(t,3,0,"stat-loader-black"==n.type),e(t,5,0,"spin-loader"==n.type),e(t,7,0,"spin-loader-gray"==n.type),e(t,9,0,"page-bubble-pop"==n.type),e(t,11,0,"bubble-pop"==n.type),e(t,13,0,"smiley"==n.type),e(t,15,0,"cube-grid"==n.type),e(t,17,0,"dot-loader"==n.type)},null)}var Ky=function(){function e(e){this.sanitizer=e}return e.prototype.transform=function(e,t){switch(t){case"html":return this.sanitizer.bypassSecurityTrustHtml(e);case"style":return this.sanitizer.bypassSecurityTrustStyle(e);case"script":return this.sanitizer.bypassSecurityTrustScript(e);case"url":return this.sanitizer.bypassSecurityTrustUrl(e);case"resourceUrl":return this.sanitizer.bypassSecurityTrustResourceUrl(e);default:throw new Error("Invalid safe type specified: "+t)}},e}(),Zy=function(){function e(e,t,n,l){var i=this;this._appStateService=e,this._dataService=t,this.dialogRef=n,this.data=l,this.subscriptions=[],this.fileName="",this.invalidName=!1,this.maxCharLimit=!1,this.namePattern=/^[a-z0-9]+$/i,this.numberPattern=/^\d+$/,this.emojiRegex=/\uD83C\uDFF4\uDB40\uDC67\uDB40\uDC62(?:\uDB40\uDC65\uDB40\uDC6E\uDB40\uDC67|\uDB40\uDC73\uDB40\uDC63\uDB40\uDC74|\uDB40\uDC77\uDB40\uDC6C\uDB40\uDC73)\uDB40\uDC7F|\uD83D\uDC68(?:\uD83C\uDFFC\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68\uD83C\uDFFB|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFE])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFD])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFC])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83D\uDC68|(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D[\uDC66\uDC67])|[\u2695\u2696\u2708]\uFE0F|\uD83D[\uDC66\uDC67]|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|(?:\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708])\uFE0F|\uD83C\uDFFB\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C[\uDFFB-\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFB\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFC\u200D\uD83E\uDD1D\u200D\uD83D\uDC69)\uD83C\uDFFB|\uD83E\uDDD1(?:\uD83C\uDFFF\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1(?:\uD83C[\uDFFB-\uDFFF])|\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1)|(?:\uD83E\uDDD1\uD83C\uDFFE\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFF\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB-\uDFFE])|(?:\uD83E\uDDD1\uD83C\uDFFC\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFD\u200D\uD83E\uDD1D\u200D\uD83D\uDC69)(?:\uD83C[\uDFFB\uDFFC])|\uD83D\uDC69(?:\uD83C\uDFFE\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFD\uDFFF])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFD-\uDFFF])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFB\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFC-\uDFFF])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|(?:\uD83E\uDDD1\uD83C\uDFFD\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFE\u200D\uD83E\uDD1D\u200D\uD83D\uDC69)(?:\uD83C[\uDFFB-\uDFFD])|\uD83D\uDC69\u200D\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83D\uDC41\uFE0F\u200D\uD83D\uDDE8|\uD83D\uDC69(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|(?:(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)\uFE0F|\uD83D\uDC6F|\uD83E[\uDD3C\uDDDE\uDDDF])\u200D[\u2640\u2642]|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD6-\uDDDD])(?:(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|\u200D[\u2640\u2642])|\uD83C\uDFF4\u200D\u2620)\uFE0F|\uD83D\uDC69\u200D\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C\uDFF3\uFE0F\u200D\uD83C\uDF08|\uD83D\uDC15\u200D\uD83E\uDDBA|\uD83D\uDC69\u200D\uD83D\uDC66|\uD83D\uDC69\u200D\uD83D\uDC67|\uD83C\uDDFD\uD83C\uDDF0|\uD83C\uDDF4\uD83C\uDDF2|\uD83C\uDDF6\uD83C\uDDE6|[#\*0-9]\uFE0F\u20E3|\uD83C\uDDE7(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|\uD83C\uDDF9(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|\uD83C\uDDEA(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|\uD83E\uDDD1(?:\uD83C[\uDFFB-\uDFFF])|\uD83C\uDDF7(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])|\uD83C\uDDF2(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|\uD83C\uDDE6(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|\uD83C\uDDF0(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|\uD83C\uDDED(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|\uD83C\uDDE9(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|\uD83C\uDDFE(?:\uD83C[\uDDEA\uDDF9])|\uD83C\uDDEC(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|\uD83C\uDDF8(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|\uD83C\uDDEB(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|\uD83C\uDDF5(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|\uD83C\uDDFB(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|\uD83C\uDDF3(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|\uD83C\uDDE8(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|\uD83C\uDDF1(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|\uD83C\uDDFF(?:\uD83C[\uDDE6\uDDF2\uDDFC])|\uD83C\uDDFC(?:\uD83C[\uDDEB\uDDF8])|\uD83C\uDDFA(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|\uD83C\uDDEE(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|\uD83C\uDDEF(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u270A-\u270D]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC70\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDCAA\uDD74\uDD7A\uDD90\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD0F\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD36\uDDB5\uDDB6\uDDBB\uDDD2-\uDDD5])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u270A\u270B\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF93\uDFA0-\uDFCA\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF4\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC3E\uDC40\uDC42-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDD7A\uDD95\uDD96\uDDA4\uDDFB-\uDE4F\uDE80-\uDEC5\uDECC\uDED0-\uDED2\uDED5\uDEEB\uDEEC\uDEF4-\uDEFA\uDFE0-\uDFEB]|\uD83E[\uDD0D-\uDD3A\uDD3C-\uDD45\uDD47-\uDD71\uDD73-\uDD76\uDD7A-\uDDA2\uDDA5-\uDDAA\uDDAE-\uDDCA\uDDCD-\uDDFF\uDE70-\uDE73\uDE78-\uDE7A\uDE80-\uDE82\uDE90-\uDE95])|(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDED5\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEFA\uDFE0-\uDFEB]|\uD83E[\uDD0D-\uDD3A\uDD3C-\uDD45\uDD47-\uDD71\uDD73-\uDD76\uDD7A-\uDDA2\uDDA5-\uDDAA\uDDAE-\uDDCA\uDDCD-\uDDFF\uDE70-\uDE73\uDE78-\uDE7A\uDE80-\uDE82\uDE90-\uDE95])\uFE0F|(?:[\u261D\u26F9\u270A-\u270D]|\uD83C[\uDF85\uDFC2-\uDFC4\uDFC7\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDC8F\uDC91\uDCAA\uDD74\uDD75\uDD7A\uDD90\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD0F\uDD18-\uDD1F\uDD26\uDD30-\uDD39\uDD3C-\uDD3E\uDDB5\uDDB6\uDDB8\uDDB9\uDDBB\uDDCD-\uDDCF\uDDD1-\uDDDD])/g,setTimeout(function(){document.getElementById("chatContentArea").click(),document.getElementById("chatContentArea").focus()},0),l&&l.audioUrl&&(this.audioUrl=l.audioUrl),this.subscriptions.push(this._appStateService.Settings.subscribe(function(e){e&&(i.themeSettings=e.dialogSettings)}))}return e.prototype.ngOnInit=function(){},e.prototype.ngOnDestroy=function(){this.subscriptions.map(function(e){e.unsubscribe()})},e.prototype.closeDialog=function(e){if(e){if(new RegExp(this.emojiRegex).test(this.fileName.toLowerCase())||!new RegExp(this.namePattern).test(this.fileName.toLowerCase())||new RegExp(this.numberPattern).test(this.fileName.toLowerCase()))return void(this.invalidName=!0);if(this.fileName.toLowerCase().length>50)return void(this.maxCharLimit=!0);this.dialogRef.close({status:"ok",fileName:this.fileName})}else this.dialogRef.close({status:"cancel"})},e.prototype.Close=function(){this.dialogRef.close({status:"closed"})},e}(),Xy=Er({encapsulation:2,styles:[[""]],data:{}});function Yy(e){return Ss(0,[(e()(),iu(0,0,null,null,1,"p",[["class","text-red"],["id","emailAlert"]],null,null,null,null,null)),(e()(),ys(-1,null,["please enter a valid name"]))],null,null)}function eb(e){return Ss(0,[(e()(),iu(0,0,null,null,1,"p",[["class","text-red"],["id","emailAlert"]],null,null,null,null,null)),(e()(),ys(-1,null,["max 50 characters allowed in filename"]))],null,null)}function tb(e){return Ss(0,[(e()(),iu(0,0,null,null,36,"div",[["class","clearfix p-24"]],null,null,null,null,null)),Gu(1,278528,null,0,rp,[er,Ll,zl],{ngStyle:[0,"ngStyle"]},null),vs(2,{"background-color":0,color:1}),(e()(),iu(3,0,null,null,33,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(e,t,n){var l=!0;return"submit"===t&&(l=!1!==Ou(e,5).onSubmit(n)&&l),"reset"===t&&(l=!1!==Ou(e,5).onReset()&&l),l},null,null)),Gu(4,16384,null,0,Gf,[],null,null),Gu(5,4210688,null,0,Lf,[[8,null],[8,null]],null,null),Ju(2048,null,qh,null,[Lf]),Gu(7,16384,null,0,Tf,[[4,qh]],null,null),(e()(),iu(8,0,null,null,1,"h6",[["class","title-with-border border-gray"]],null,null,null,null,null)),(e()(),ys(-1,null,["Specify a Name for Audio Note"])),(e()(),iu(10,0,null,null,12,"div",[["class","input-block"]],null,null,null,null,null)),(e()(),iu(11,0,null,null,6,"input",[["autocomplete","off"],["class","form-control"],["id","fileName"],["name","fileName"],["placeholder","Enter Name"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(e,t,n){var l=!0,i=e.component;return"input"===t&&(l=!1!==Ou(e,13)._handleInput(n.target.value)&&l),"blur"===t&&(l=!1!==Ou(e,13).onTouched()&&l),"compositionstart"===t&&(l=!1!==Ou(e,13)._compositionStart()&&l),"compositionend"===t&&(l=!1!==Ou(e,13)._compositionEnd(n.target.value)&&l),"ngModelChange"===t&&(l=!1!==(i.fileName=n)&&l),l},null,null)),Gu(12,278528,null,0,Yc,[Yo,er,Ll,zl],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),Gu(13,16384,null,0,nf,[zl,Ll,[2,tf]],null,null),Ju(1024,null,Yh,function(e){return[e]},[nf]),Gu(15,671744,null,0,zf,[[2,qh],[8,null],[8,null],[6,Yh]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),Ju(2048,null,sf,null,[zf]),Gu(17,16384,null,0,Af,[[4,sf]],null,null),(e()(),iu(18,0,null,null,4,"div",[["class","form-control-feedback"]],null,null,null,null,null)),(e()(),lu(16777216,null,null,1,null,Yy)),Gu(20,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,eb)),Gu(22,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),iu(23,0,null,null,2,"div",[["class","input-block has-feedback"]],null,null,null,null,null)),(e()(),iu(24,0,null,null,1,"audio",[["controls",""],["controlsList","nodownload"],["style","width: 222px;"]],[[8,"src",4]],null,null,null,null)),gs(25,2),(e()(),iu(26,0,null,null,10,"div",[["class","btn-group"]],null,null,null,null,null)),(e()(),iu(27,0,null,null,4,"button",[["class","btn bg-charcoal w50"],["id","btnStartChat"],["type","button"]],null,[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.closeDialog(!0)&&l),l},null,null)),Gu(28,278528,null,0,rp,[er,Ll,zl],{ngStyle:[0,"ngStyle"]},null),vs(29,{"background-color":0,color:1}),(e()(),iu(30,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),ys(-1,null,["Ok"])),(e()(),iu(32,0,null,null,4,"button",[["class","btn bg-charcoal w50"],["id","btnStartChat"],["type","button"]],null,[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.closeDialog(!1)&&l),l},null,null)),Gu(33,278528,null,0,rp,[er,Ll,zl],{ngStyle:[0,"ngStyle"]},null),vs(34,{"background-color":0,color:1}),(e()(),iu(35,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),ys(-1,null,["Cancel"]))],function(e,t){var n=t.component,l=n.themeSettings?e(t,2,0,n.themeSettings.dialogBgColor,n.themeSettings.dialogTextColor):"";e(t,1,0,l),e(t,12,0,"form-control",n.invalidName||n.maxCharLimit?"border-red":""),e(t,15,0,"fileName",n.fileName),e(t,20,0,n.invalidName),e(t,22,0,n.maxCharLimit);var i=n.themeSettings?e(t,29,0,n.themeSettings.btnColor,n.themeSettings.btnTextcolor):"";e(t,28,0,i);var o=n.themeSettings?e(t,34,0,n.themeSettings.btnColor,n.themeSettings.btnTextcolor):"";e(t,33,0,o)},function(e,t){var n=t.component;e(t,3,0,Ou(t,7).ngClassUntouched,Ou(t,7).ngClassTouched,Ou(t,7).ngClassPristine,Ou(t,7).ngClassDirty,Ou(t,7).ngClassValid,Ou(t,7).ngClassInvalid,Ou(t,7).ngClassPending),e(t,11,0,Ou(t,17).ngClassUntouched,Ou(t,17).ngClassTouched,Ou(t,17).ngClassPristine,Ou(t,17).ngClassDirty,Ou(t,17).ngClassValid,Ou(t,17).ngClassInvalid,Ou(t,17).ngClassPending);var l=wr(t,24,0,e(t,25,0,Ou(t.parent,0),n.audioUrl,"url"));e(t,24,0,l)})}function nb(e){return Ss(0,[(e()(),iu(0,0,null,null,2,"div",[],null,null,null,null,null)),(e()(),iu(1,0,null,null,1,"app-preloader",[["type","spin-loader-gray"]],null,null,null,Qy,Ly)),Gu(2,114688,null,0,jy,[],{type:[0,"type"],spinnerWidth:[1,"spinnerWidth"],spinnerHeight:[2,"spinnerHeight"]},null)],function(e,t){e(t,2,0,"spin-loader-gray",30,30)},null)}function lb(e){return Ss(0,[Wu(0,Ky,[bh]),(e()(),iu(1,0,null,null,2,"div",[["class","dialog-close svgOnHover"]],null,[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.Close()&&l),l},null,null)),(e()(),iu(2,0,null,null,0,"img",[["class","svg"],["src","/cw/assets/img/icons/svg/cancel-circle-outline.svg"]],null,null,null,null,null)),(e()(),iu(3,0,null,null,0,"img",[["class","svg hover"],["src","/cw/assets/img/icons/svg/cancel-circle-filled.svg"]],null,null,null,null,null)),(e()(),lu(16777216,null,null,1,null,tb)),Gu(5,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,nb)),Gu(7,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component;e(t,5,0,n.audioUrl),e(t,7,0,!n.audioUrl)},null)}function ib(e){return Ss(0,[(e()(),iu(0,0,null,null,1,"app-audio-player-dialog",[],null,null,null,lb,Xy)),Gu(1,245760,null,0,Zy,[Xf,ng,fd,gd],null,null)],function(e,t){e(t,1,0)},null)}var ob=Su("app-audio-player-dialog",Zy,ib,{},{},[]),rb=function(){function e(e,t,n,l,i){var o=this;this._dataService=e,this._appStateService=t,this._restService=n,this.dialogRef=l,this.dialogue=i,this.subscriptions=[],this.emailRegex=/^[_a-z0-9]+(\.[_a-z0-9]+)*@[a-z0-9-]+(\.[a-z0-9-]+)*(\.[a-z]{2,4})$/,this.email="",this.invalidEmail=!1,this.session=void 0,this.banned=!1,this.loading=!1,this.themeSettings=void 0,this.transcriptFormConfirm=void 0,this.lostAgentDialogue=void 0,this.subscriptions.push(this._appStateService.Session.subscribe(function(e){e&&(e&&2!=e.state&&3!=e.state||(o.session=e,e.email&&"unregistered"!=e.email.toLowerCase()&&(o.email=e.email)))})),this.subscriptions.push(this._appStateService.Settings.subscribe(function(e){e&&(o.themeSettings=e.dialogSettings,o.transcriptFormConfirm=e.transcriptFormConfirm,o.lostAgentDialogue=e.lostAgentDialogue)})),this.subscriptions.push(this._dataService.banned.subscribe(function(e){o.banned=e}))}return e.prototype.Close=function(){this.dialogRef.close({status:"closed"})},e.prototype.SendTranscript=function(){var e=this;this.invalidEmail=!1,this.email||(this.invalidEmail=!0),this.email&&"unregistered"!=this.email.toLowerCase()&&this.email&&(new RegExp(this.emailRegex).test(this.email.toLowerCase())||(this.invalidEmail=!0)),this.invalidEmail||(this.loading=!0,this.subscriptions.push(this.SubmitTranscript(this.email).subscribe(function(t){e.loading=!1,"ok"==JSON.parse(t).status&&e.dialogRef.close({status:"ok"})},function(t){e.loading=!1})))},e.prototype.SubmitTranscript=function(e){return this._restService.SendXMLHttpRequest("/visitor/emailtranscript","POST",JSON.stringify({email:e||e,sid:this.session._id||this.session.id||this.session.csid,cid:this.session.cid}),!1,!0,[{name:"Content-Type",value:"application/json"}])},e.prototype.ngOnInit=function(){},e.prototype.ngOnDestroy=function(){this.subscriptions.map(function(e){e.unsubscribe()})},e}(),ub=Er({encapsulation:2,styles:[[""]],data:{}});function sb(e){return Ss(0,[(e()(),iu(0,0,null,null,1,"h6",[["class","title-with-border border-gray"]],null,null,null,null,null)),(e()(),ys(-1,null,["Please Enter Your Email"]))],null,null)}function ab(e){return Ss(0,[(e()(),iu(0,0,null,null,3,"div",[["class","input-group-addon tooltip top-right"]],null,null,null,null,null)),(e()(),iu(1,0,null,null,0,"img",[["class","svg floatToCenter w-20"],["src","/cw/assets/img/icons/svg/error-filled.svg"]],null,null,null,null,null)),(e()(),iu(2,0,null,null,1,"span",[["class","tooltip-inner"]],null,null,null,null,null)),(e()(),ys(-1,null,["Please enter a valid email"]))],null,null)}function cb(e){return Ss(0,[(e()(),iu(0,0,null,null,16,"div",[["class","flex_btns"]],null,null,null,null,null)),(e()(),iu(1,0,null,null,15,"div",[["class","input-block"]],null,null,null,null,null)),(e()(),iu(2,0,null,null,10,"div",[["class","input-group m-b-10"]],null,null,null,null,null)),Gu(3,278528,null,0,Yc,[Yo,er,Ll,zl],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(e()(),iu(4,0,null,null,6,"input",[["autocomplete","off"],["class","form-control"],["id","email"],["name","email"],["placeholder","Enter Email Address"],["type","email"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(e,t,n){var l=!0,i=e.component;return"input"===t&&(l=!1!==Ou(e,6)._handleInput(n.target.value)&&l),"blur"===t&&(l=!1!==Ou(e,6).onTouched()&&l),"compositionstart"===t&&(l=!1!==Ou(e,6)._compositionStart()&&l),"compositionend"===t&&(l=!1!==Ou(e,6)._compositionEnd(n.target.value)&&l),"ngModelChange"===t&&(l=!1!==(i.email=n)&&l),l},null,null)),Gu(5,278528,null,0,Yc,[Yo,er,Ll,zl],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),Gu(6,16384,null,0,nf,[zl,Ll,[2,tf]],null,null),Ju(1024,null,Yh,function(e){return[e]},[nf]),Gu(8,671744,null,0,zf,[[8,null],[8,null],[8,null],[6,Yh]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),Ju(2048,null,sf,null,[zf]),Gu(10,16384,null,0,Af,[[4,sf]],null,null),(e()(),lu(16777216,null,null,1,null,ab)),Gu(12,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),iu(13,0,null,null,3,"button",[["class","btn bg-olive"]],null,[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.SendTranscript()&&l),l},null,null)),Gu(14,278528,null,0,Yc,[Yo,er,Ll,zl],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(e()(),iu(15,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),ys(-1,null,["Submit"]))],function(e,t){var n=t.component;e(t,3,0,"input-group m-b-10",n.invalidEmail?"has-danger":""),e(t,5,0,"form-control",n.invalidemail?"border-red":""),e(t,8,0,"email",n.email),e(t,12,0,n.invalidEmail),e(t,14,0,"btn bg-olive",n.loading?"btnSpinner":"")},function(e,t){e(t,4,0,Ou(t,10).ngClassUntouched,Ou(t,10).ngClassTouched,Ou(t,10).ngClassPristine,Ou(t,10).ngClassDirty,Ou(t,10).ngClassValid,Ou(t,10).ngClassInvalid,Ou(t,10).ngClassPending)})}function pb(e){return Ss(0,[(e()(),iu(0,0,null,null,2,"div",[["class","dialog-close svgOnHover"]],null,[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.Close()&&l),l},null,null)),(e()(),iu(1,0,null,null,0,"img",[["class","svg"],["src","/cw/assets/img/icons/svg/cancel-circle-outline.svg"]],null,null,null,null,null)),(e()(),iu(2,0,null,null,0,"img",[["class","svg hover"],["src","/cw/assets/img/icons/svg/cancel-circle-filled.svg"]],null,null,null,null,null)),(e()(),iu(3,0,null,null,7,"div",[["class","text-center clearfix p-24"]],null,null,null,null,null)),Gu(4,278528,null,0,rp,[er,Ll,zl],{ngStyle:[0,"ngStyle"]},null),vs(5,{"background-color":0,color:1}),(e()(),iu(6,0,null,null,0,"img",[["alt","Chat Ended"],["class","m-b-20"],["height","auto"],["src","/cw/assets/img/icons/svg/chat-icon-orange.svg"],["width","80"]],null,null,null,null,null)),(e()(),lu(16777216,null,null,1,null,sb)),Gu(8,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,cb)),Gu(10,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component,l=n.themeSettings?e(t,5,0,n.themeSettings.dialogBgColor,n.themeSettings.dialogTextColor):"";e(t,4,0,l),e(t,8,0,!n.banned),e(t,10,0,!n.banned)},null)}function db(e){return Ss(0,[(e()(),iu(0,0,null,null,1,"app-transcript-component-new",[],null,null,null,pb,ub)),Gu(1,245760,null,0,rb,[ng,Xf,eg,fd,yd],null,null)],function(e,t){e(t,1,0)},null)}var hb=Su("app-transcript-component-new",rb,db,{},{},[]),fb=function(){function e(e,t,n,l){var i=this;this._appStateService=e,this._dataService=t,this.dialogRef=n,this.data=l,this.subscriptions=[],this.Loading=!1,this.loading=!1,this.emailRegex=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,this.namePattern=/^[a-z0-9]+$/i,this.numberPattern2=/^([+]{1})?\d+$/,this.emojiRegex=/\uD83C\uDFF4\uDB40\uDC67\uDB40\uDC62(?:\uDB40\uDC65\uDB40\uDC6E\uDB40\uDC67|\uDB40\uDC73\uDB40\uDC63\uDB40\uDC74|\uDB40\uDC77\uDB40\uDC6C\uDB40\uDC73)\uDB40\uDC7F|\uD83D\uDC68(?:\uD83C\uDFFC\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68\uD83C\uDFFB|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFE])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFD])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFC])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83D\uDC68|(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D[\uDC66\uDC67])|[\u2695\u2696\u2708]\uFE0F|\uD83D[\uDC66\uDC67]|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|(?:\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708])\uFE0F|\uD83C\uDFFB\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C[\uDFFB-\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFB\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFC\u200D\uD83E\uDD1D\u200D\uD83D\uDC69)\uD83C\uDFFB|\uD83E\uDDD1(?:\uD83C\uDFFF\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1(?:\uD83C[\uDFFB-\uDFFF])|\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1)|(?:\uD83E\uDDD1\uD83C\uDFFE\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFF\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB-\uDFFE])|(?:\uD83E\uDDD1\uD83C\uDFFC\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFD\u200D\uD83E\uDD1D\u200D\uD83D\uDC69)(?:\uD83C[\uDFFB\uDFFC])|\uD83D\uDC69(?:\uD83C\uDFFE\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFD\uDFFF])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFD-\uDFFF])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFB\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFC-\uDFFF])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|(?:\uD83E\uDDD1\uD83C\uDFFD\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFE\u200D\uD83E\uDD1D\u200D\uD83D\uDC69)(?:\uD83C[\uDFFB-\uDFFD])|\uD83D\uDC69\u200D\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83D\uDC41\uFE0F\u200D\uD83D\uDDE8|\uD83D\uDC69(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|(?:(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)\uFE0F|\uD83D\uDC6F|\uD83E[\uDD3C\uDDDE\uDDDF])\u200D[\u2640\u2642]|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD6-\uDDDD])(?:(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|\u200D[\u2640\u2642])|\uD83C\uDFF4\u200D\u2620)\uFE0F|\uD83D\uDC69\u200D\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C\uDFF3\uFE0F\u200D\uD83C\uDF08|\uD83D\uDC15\u200D\uD83E\uDDBA|\uD83D\uDC69\u200D\uD83D\uDC66|\uD83D\uDC69\u200D\uD83D\uDC67|\uD83C\uDDFD\uD83C\uDDF0|\uD83C\uDDF4\uD83C\uDDF2|\uD83C\uDDF6\uD83C\uDDE6|[#\*0-9]\uFE0F\u20E3|\uD83C\uDDE7(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|\uD83C\uDDF9(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|\uD83C\uDDEA(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|\uD83E\uDDD1(?:\uD83C[\uDFFB-\uDFFF])|\uD83C\uDDF7(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])|\uD83C\uDDF2(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|\uD83C\uDDE6(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|\uD83C\uDDF0(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|\uD83C\uDDED(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|\uD83C\uDDE9(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|\uD83C\uDDFE(?:\uD83C[\uDDEA\uDDF9])|\uD83C\uDDEC(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|\uD83C\uDDF8(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|\uD83C\uDDEB(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|\uD83C\uDDF5(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|\uD83C\uDDFB(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|\uD83C\uDDF3(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|\uD83C\uDDE8(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|\uD83C\uDDF1(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|\uD83C\uDDFF(?:\uD83C[\uDDE6\uDDF2\uDDFC])|\uD83C\uDDFC(?:\uD83C[\uDDEB\uDDF8])|\uD83C\uDDFA(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|\uD83C\uDDEE(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|\uD83C\uDDEF(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u270A-\u270D]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC70\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDCAA\uDD74\uDD7A\uDD90\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD0F\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD36\uDDB5\uDDB6\uDDBB\uDDD2-\uDDD5])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u270A\u270B\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF93\uDFA0-\uDFCA\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF4\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC3E\uDC40\uDC42-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDD7A\uDD95\uDD96\uDDA4\uDDFB-\uDE4F\uDE80-\uDEC5\uDECC\uDED0-\uDED2\uDED5\uDEEB\uDEEC\uDEF4-\uDEFA\uDFE0-\uDFEB]|\uD83E[\uDD0D-\uDD3A\uDD3C-\uDD45\uDD47-\uDD71\uDD73-\uDD76\uDD7A-\uDDA2\uDDA5-\uDDAA\uDDAE-\uDDCA\uDDCD-\uDDFF\uDE70-\uDE73\uDE78-\uDE7A\uDE80-\uDE82\uDE90-\uDE95])|(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDED5\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEFA\uDFE0-\uDFEB]|\uD83E[\uDD0D-\uDD3A\uDD3C-\uDD45\uDD47-\uDD71\uDD73-\uDD76\uDD7A-\uDDA2\uDDA5-\uDDAA\uDDAE-\uDDCA\uDDCD-\uDDFF\uDE70-\uDE73\uDE78-\uDE7A\uDE80-\uDE82\uDE90-\uDE95])\uFE0F|(?:[\u261D\u26F9\u270A-\u270D]|\uD83C[\uDF85\uDFC2-\uDFC4\uDFC7\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDC8F\uDC91\uDCAA\uDD74\uDD75\uDD7A\uDD90\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD0F\uDD18-\uDD1F\uDD26\uDD30-\uDD39\uDD3C-\uDD3E\uDDB5\uDDB6\uDDB8\uDDB9\uDDBB\uDDCD-\uDDCF\uDDD1-\uDDDD])/g,this.viewingChatHistory=!1,this.permissions=void 0,this.showCloseButton=!0,this.CheckErrors=new A,this.errorFields=[],this.regex={email:/^[_a-z0-9]+(\.[_a-z0-9]+)*@[a-z0-9-]+(\.[a-z0-9-]+)*(\.[a-z]{2,4})$/,tel:/^[0-9+\-()\s]+$/,phone:/^([+]{1})?\d+$/,number:/^[0-9]+$/,httpRegex:/(http:\/\/)/,httpsRegex:/(https:\/\/)/,url:/^(https?):\/\/(-\.)?([^\s\/?\.#-]+\.?)+(\/[^\s]*)?$/i,numberRangeRegex:/^[0-9]+-[0-9]+$/,infiniteNumberRangeRegex:/^[0-9]+\+$/},this.feedback={},this.customFieldsMap={},this.customFeedback={},this.showCloseButton=this.data.showCloseButton,this.subscriptions.push(this._appStateService.Permissions.subscribe(function(e){i.permissions=e})),this.subscriptions.push(this._appStateService.customFields.subscribe(function(e){e&&(i.customForm=e.filter(function(e){return"visitor"==e.visibilitySide}),e.map(function(e){"visitor"==e.visibilitySide&&(i.customFieldsMap[e.name]=e)}))})),this.subscriptions.push(this._appStateService.Settings.subscribe(function(e){e&&(i.themeSettings=e.dialogSettings)})),this.subscriptions.push(this._appStateService.Session.subscribe(function(e){e&&(i.Session=e)})),this.subscriptions.push(this._appStateService.ShowLoader.subscribe(function(e){i.Loading=e})),this.subscriptions.push(this._dataService.ViewingChatHistory.subscribe(function(e){i.viewingChatHistory=e})),this.subscriptions.push(this._dataService.customFeedback.subscribe(function(e){e&&(i.customFeedback=e)})),this.subscriptions.push(this._appStateService.AllowEdit.subscribe(function(e){i.allowEdit=e})),this.subscriptions.push(this.CheckErrors.pipe(Object(ig.debounceTime)(500)).subscribe(function(e){if(e&&e.key)if(i.customFieldsMap[e.key].errorRequired=!(e.value||!i.customFieldsMap[e.key].required),i.customFieldsMap[e.key].customRegex&&i.customFieldsMap[e.key].customRegex.length&&e.value){var t=!1;i.customFieldsMap[e.key].customRegex.map(function(n){t=!(new RegExp(n.name,"gi").test(e.value)==n.value)}),i.customFieldsMap[e.key].errorInvalid=!(!t||i.customFieldsMap[e.key].errorRequired)}else i.customFieldsMap[e.key].errorRequired&&(i.customFieldsMap[e.key].errorInvalid=!1)})),this.subscriptions.push(this._appStateService.endChat.subscribe(function(e){i.dialogRef&&e&&i.dialogRef.close()})),this.subscriptions.push(this._dataService.gotAgent.subscribe(function(e){e&&i.dialogRef.close({status:"No"})}))}return e.prototype.Close=function(){this.dialogRef.close({status:"closed"})},e.prototype.ngOnInit=function(){},e.prototype.ngOnDestroy=function(){this.subscriptions.map(function(e){e.unsubscribe()}),this._appStateService.RegisterFormDialogOpened.next(!1)},e.prototype.GetFieldsArray=function(){return Object.values(this.customFieldsMap)},e.prototype.ValidateForm=function(){var e=this;try{if(this.ResetForm().subscribe(function(t){t&&(e.dataList={},e.errorFields=[],e.inputFields=[])}),this.inputFields=[],this.inputFields=this.formNativeElement.nativeElement.querySelectorAll('[id^="field"]'),this.inputFields.length&&Array.from(this.inputFields).map(function(t,n){if("checkbox"==t.type)e.dataList[t.name]=t.checked;else if("radio"==t.type)for(var l=document.getElementsByName(t.name),i=0;i<l.length;i++)l[i].checked&&(e.dataList[t.name]=l[i].value);else e.dataList[t.name]=t.options&&t.options.length?t.options[t.selectedIndex].value:!t.value||"text"!=t.type&&"textarea"!=t.type&&"email"!=t.type&&"password"!=t.type?"":t.value;if(t.value&&e.regex.hasOwnProperty(t.type)&&(new RegExp(e.regex[t.type]).test(e.dataList[t.name])||(e.dataList[t.name]="",e.customFieldsMap[t.name].errorInvalid=!0,-1===e.errorFields.indexOf(t.name)&&e.errorFields.push(t.name))),e.customFieldsMap[t.name].customRegex&&e.customFieldsMap[t.name].customRegex.length&&e.dataList[t.name]){var o=!1;e.customFieldsMap[t.name].customRegex.map(function(n){o=!(new RegExp(n.name,"gi").test(e.dataList[t.name])==n.value)}),e.customFieldsMap[t.name].errorInvalid=!!o}!e.dataList[t.name]&&e.customFieldsMap[t.name].required?(e.customFieldsMap[t.name].errorRequired=!0,-1===e.errorFields.indexOf(t.name)&&e.errorFields.push(t.name)):new Error("Construction Error: input field does not have ID")}),this.errorFields.length)return;var t={};Object.keys(this.dataList).map(function(n,l){t[e.customForm[l].name]=e.dataList[n],e.feedback[e.customForm[l].label]=e.dataList[n]}),this.Submit(t)}catch(n){}},e.prototype.ResetForm=function(){var e=this;return new _(function(t){e.GetFieldsArray().map(function(e){return e.errorInvalid&&(e.errorInvalid=!1),e.errorRequired&&(e.errorRequired=!1),e}),t.next(!0),t.complete()})},e.prototype.Submit=function(e){var t=this;if(!this.loading){this.viewingChatHistory&&this._dataService.ViewingChatHistory.next(!1),this.loading=!0;var n={values:Object.keys(e).reduce(function(t,n){var l;return t.push(((l={})[""+n]=e[n],l)),t},[]),name:this.Session.username,submittedBy:"visitor"};this._dataService.SubmitCustomFormRest(e,n).subscribe(function(e){t.loading=!1,t.dialogRef.close(e?"success":{status:"error"})},function(e){t.loading=!1})}},e.prototype.TypingEvent=function(e,t){this.CheckErrors.next({key:t,value:e.target.value})},e}(),gb=Er({encapsulation:2,styles:[[""]],data:{}});function mb(e){return Ss(0,[(e()(),iu(0,0,null,null,2,"div",[["class","dialog-close svgOnHover"]],null,[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.Close()&&l),l},null,null)),(e()(),iu(1,0,null,null,0,"img",[["class","svg"],["src","/cw/assets/img/icons/svg/cancel-circle-outline.svg"]],null,null,null,null,null)),(e()(),iu(2,0,null,null,0,"img",[["class","svg hover"],["src","/cw/assets/img/icons/svg/cancel-circle-filled.svg"]],null,null,null,null,null))],null,null)}function vb(e){return Ss(0,[(e()(),iu(0,0,null,null,0,"input",[["class","form-control input-sm"]],[[8,"name",0],[8,"id",0],[8,"placeholder",0],[8,"type",0],[8,"value",0]],[[null,"input"]],function(e,t,n){var l=!0;return"input"===t&&(l=!1!==e.component.TypingEvent(n,e.parent.parent.context.$implicit.name)&&l),l},null,null))],null,function(e,t){var n=t.component;e(t,0,0,eu(1,"",t.parent.parent.context.$implicit.name?t.parent.parent.context.$implicit.name:"",""),"field"+(t.parent.parent.context.index+1+2),eu(1,"",t.parent.parent.context.$implicit.placeholder,""),eu(1,"",t.parent.parent.context.$implicit.elementType,""),eu(1,"",n.customFeedback[t.parent.parent.context.$implicit.name]?n.customFeedback[t.parent.parent.context.$implicit.name]:"",""))})}function Db(e){return Ss(0,[(e()(),iu(0,0,null,null,0,"textarea",[["class","form-control input-sm"]],[[8,"name",0],[8,"placeholder",0],[8,"id",0],[8,"value",0]],[[null,"input"]],function(e,t,n){var l=!0;return"input"===t&&(l=!1!==e.component.TypingEvent(n,e.parent.parent.context.$implicit.name)&&l),l},null,null))],null,function(e,t){var n=t.component;e(t,0,0,eu(1,"",t.parent.parent.context.$implicit.name?t.parent.parent.context.$implicit.name:"",""),eu(1,"",t.parent.parent.context.$implicit.placeholder,""),"field"+(t.parent.parent.context.index+1+2),eu(1,"",n.customFeedback[t.parent.parent.context.$implicit.name]?n.customFeedback[t.parent.parent.context.$implicit.name]:"",""))})}function yb(e){return Ss(0,[(e()(),iu(0,0,null,null,8,"div",[["class","input-block"]],null,null,null,null,null)),(e()(),iu(1,0,null,null,1,"label",[],null,null,null,null,null)),(e()(),ys(2,null,[" ","",""])),(e()(),iu(3,0,null,null,5,"div",[["class","input-group"]],null,null,null,null,null)),Gu(4,278528,null,0,Yc,[Yo,er,Ll,zl],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(e()(),lu(16777216,null,null,1,null,vb)),Gu(6,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,Db)),Gu(8,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null)],function(e,t){e(t,4,0,"input-group",t.parent.context.$implicit.errorRequired||t.parent.context.$implicit.errorInvalid?"has-danger":""),e(t,6,0,"text"==t.parent.context.$implicit.elementType&&!t.parent.context.$implicit.multiline||"text"!=t.parent.context.$implicit.elementType),e(t,8,0,"text"==t.parent.context.$implicit.elementType&&t.parent.context.$implicit.multiline)},function(e,t){e(t,2,0,t.parent.context.$implicit.label,t.parent.context.$implicit.required?"*":"")})}function bb(e){return Ss(0,[(e()(),iu(0,0,null,null,4,"div",[["class","pretty p-default p-round m-b-7"]],null,null,null,null,null)),(e()(),iu(1,0,null,null,0,"input",[],[[8,"checked",0],[8,"type",0],[8,"id",0],[8,"name",0],[8,"checked",0],[8,"value",0]],null,null,null,null)),(e()(),iu(2,0,null,null,2,"div",[["class","state p-success"]],null,null,null,null,null)),(e()(),iu(3,0,null,null,1,"label",[],null,null,null,null,null)),(e()(),ys(4,null,["",""]))],null,function(e,t){var n=t.component;e(t,1,0,n.customFeedback[t.parent.parent.context.$implicit.name],eu(1,"",t.parent.parent.context.$implicit.elementType,""),"field"+(t.parent.parent.context.index+1+2),t.parent.parent.context.$implicit.name,"true"==t.parent.parent.context.$implicit.value,n.customFeedback[t.parent.parent.context.$implicit.name]),e(t,4,0,t.context.$implicit.name)})}function Cb(e){return Ss(0,[(e()(),iu(0,0,null,null,6,"div",[["class","input-block m-0"]],null,null,null,null,null)),(e()(),iu(1,0,null,null,1,"label",[],null,null,null,null,null)),(e()(),ys(2,null,[" ","",""])),(e()(),iu(3,0,null,null,3,"div",[["class","input-group"]],null,null,null,null,null)),Gu(4,278528,null,0,Yc,[Yo,er,Ll,zl],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(e()(),lu(16777216,null,null,1,null,bb)),Gu(6,278528,null,0,tp,[Oo,Ai,Yo],{ngForOf:[0,"ngForOf"]},null)],function(e,t){e(t,4,0,"input-group",t.parent.context.$implicit.errorRequired||t.parent.context.$implicit.errorInvalid?"has-danger":""),e(t,6,0,t.parent.context.$implicit.options)},function(e,t){e(t,2,0,t.parent.context.$implicit.label,t.parent.context.$implicit.required?"*":"")})}function Sb(e){return Ss(0,[(e()(),iu(0,0,null,null,10,"div",[["class","input-block m-0"]],null,null,null,null,null)),(e()(),iu(1,0,null,null,1,"label",[],null,null,null,null,null)),(e()(),ys(2,null,[" ","",""])),(e()(),iu(3,0,null,null,7,"div",[["class","input-group"]],null,null,null,null,null)),Gu(4,278528,null,0,Yc,[Yo,er,Ll,zl],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(e()(),iu(5,0,null,null,5,"div",[["class","pretty p-svg p-smooth"]],null,null,null,null,null)),(e()(),iu(6,0,null,null,0,"input",[],[[8,"type",0],[8,"name",0],[8,"id",0],[8,"checked",0]],null,null,null,null)),(e()(),iu(7,0,null,null,3,"div",[["class","state p-success"]],null,null,null,null,null)),(e()(),iu(8,0,null,null,0,"img",[["class","svg"],["src","/cw/assets/img/icons/svg/ok.svg"],["width","15"]],null,null,null,null,null)),(e()(),iu(9,0,null,null,1,"label",[],null,null,null,null,null)),(e()(),ys(10,null,["",""]))],function(e,t){e(t,4,0,"input-group",t.parent.context.$implicit.errorRequired||t.parent.context.$implicit.errorInvalid?"has-danger":"")},function(e,t){var n=t.component;e(t,2,0,t.parent.context.$implicit.label,t.parent.context.$implicit.required?"*":""),e(t,6,0,eu(1,"",t.parent.context.$implicit.elementType,""),eu(1,"",t.parent.context.$implicit.name,""),"field"+(t.parent.context.index+1+2),!!n.customFeedback[t.parent.context.$implicit.name]&&n.customFeedback[t.parent.context.$implicit.name]),e(t,10,0,t.parent.context.$implicit.name)})}function _b(e){return Ss(0,[(e()(),iu(0,0,null,null,3,"option",[["disabled","true"]],[[8,"selected",0]],null,null,null,null)),Gu(1,147456,null,0,mf,[Ll,zl,[8,null]],{value:[0,"value"]},null),Gu(2,147456,null,0,yf,[Ll,zl,[8,null]],{value:[0,"value"]},null),(e()(),ys(3,null,[" "," "]))],function(e,t){var n=t.component;e(t,1,0,n.customFeedback[t.parent.parent.context.$implicit.name]),e(t,2,0,n.customFeedback[t.parent.parent.context.$implicit.name])},function(e,t){var n=t.component;e(t,0,0,n.customFeedback[t.parent.parent.context.$implicit.name]),e(t,3,0,n.customFeedback[t.parent.parent.context.$implicit.name])})}function wb(e){return Ss(0,[(e()(),iu(0,0,null,null,3,"option",[],null,null,null,null,null)),Gu(1,147456,null,0,mf,[Ll,zl,[8,null]],{value:[0,"value"]},null),Gu(2,147456,null,0,yf,[Ll,zl,[8,null]],{value:[0,"value"]},null),(e()(),ys(3,null,[" "," "]))],function(e,t){e(t,1,0,eu(1,"",t.context.$implicit.value,"")),e(t,2,0,eu(1,"",t.context.$implicit.value,""))},function(e,t){e(t,3,0,t.context.$implicit.value)})}function Fb(e){return Ss(0,[(e()(),iu(0,0,null,null,10,"div",[["class","input-block m-0"]],null,null,null,null,null)),(e()(),iu(1,0,null,null,1,"label",[],null,null,null,null,null)),(e()(),ys(2,null,[" ","",""])),(e()(),iu(3,0,null,null,7,"div",[["class","input-group"]],null,null,null,null,null)),Gu(4,278528,null,0,Yc,[Yo,er,Ll,zl],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(e()(),iu(5,0,null,null,5,"div",[["class","sel style1 sel-sm"]],null,null,null,null,null)),(e()(),iu(6,0,null,null,4,"select",[["class","form-control input-sm"]],[[8,"id",0],[8,"name",0]],null,null,null,null)),(e()(),lu(16777216,null,null,1,null,_b)),Gu(8,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,wb)),Gu(10,278528,null,0,tp,[Oo,Ai,Yo],{ngForOf:[0,"ngForOf"]},null)],function(e,t){var n=t.component;e(t,4,0,"input-group",t.parent.context.$implicit.errorRequired||t.parent.context.$implicit.errorInvalid?"has-danger":""),e(t,8,0,n.customFeedback[t.parent.context.$implicit.name]),e(t,10,0,t.parent.context.$implicit.options)},function(e,t){e(t,2,0,t.parent.context.$implicit.label,t.parent.context.$implicit.required?"*":""),e(t,6,0,"field"+(t.parent.context.index+1+2),eu(1,"",t.parent.context.$implicit.name,""))})}function xb(e){return Ss(0,[(e()(),iu(0,0,null,null,1,"span",[["class","tooltip-inner"]],null,null,null,null,null)),(e()(),ys(-1,null,["Please select at least one option"]))],null,null)}function Eb(e){return Ss(0,[(e()(),iu(0,0,null,null,1,"span",[["class","tooltip-inner"]],null,null,null,null,null)),(e()(),ys(-1,null,["Please select the given option"]))],null,null)}function kb(e){return Ss(0,[(e()(),iu(0,0,null,null,1,"span",[["class","tooltip-inner"]],null,null,null,null,null)),(e()(),ys(1,null,["Please fill the "," "]))],null,function(e,t){var n=t.parent.parent.context.$implicit.name.toLowerCase();e(t,1,0,n)})}function Ab(e){return Ss(0,[(e()(),iu(0,0,null,null,7,"div",[["class","input-group-addon tooltip top-right"]],null,null,null,null,null)),(e()(),iu(1,0,null,null,0,"img",[["class","svg floatToCenter w-20"],["src","/cw/assets/img/icons/svg/error-filled.svg"]],null,null,null,null,null)),(e()(),lu(16777216,null,null,1,null,xb)),Gu(3,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,Eb)),Gu(5,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,kb)),Gu(7,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null)],function(e,t){e(t,3,0,"radio"==t.parent.context.$implicit.elementType||"dropdown"==t.parent.context.$implicit.elementType),e(t,5,0,"checkbox"==t.parent.context.$implicit.elementType),e(t,7,0,"text"==t.parent.context.$implicit.elementType||"password"==t.parent.context.$implicit.elementType||"email"==t.parent.context.$implicit.elementType)},null)}function Tb(e){return Ss(0,[(e()(),iu(0,0,null,null,1,"span",[["class","tooltip-inner"]],null,null,null,null,null)),(e()(),ys(1,null,["Please enter valid ",""]))],null,function(e,t){var n=t.parent.parent.context.$implicit.name.toLowerCase();e(t,1,0,n)})}function Ib(e){return Ss(0,[(e()(),iu(0,0,null,null,3,"div",[["class","input-group-addon tooltip top-right"]],null,null,null,null,null)),(e()(),iu(1,0,null,null,0,"img",[["class","svg floatToCenter w-20"],["src","/cw/assets/img/icons/svg/error-filled.svg"]],null,null,null,null,null)),(e()(),lu(16777216,null,null,1,null,Tb)),Gu(3,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null)],function(e,t){e(t,3,0,"text"==t.parent.context.$implicit.elementType||"password"==t.parent.context.$implicit.elementType||"email"==t.parent.context.$implicit.elementType)},null)}function Bb(e){return Ss(0,[(e()(),iu(0,0,null,null,12,"li",[],null,null,null,null,null)),(e()(),lu(16777216,null,null,1,null,yb)),Gu(2,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,Cb)),Gu(4,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,Sb)),Gu(6,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,Fb)),Gu(8,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,Ab)),Gu(10,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,Ib)),Gu(12,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null)],function(e,t){e(t,2,0,"password"==t.context.$implicit.elementType||"email"==t.context.$implicit.elementType||"textbox"==t.context.$implicit.elementType),e(t,4,0,"radio"==t.context.$implicit.elementType),e(t,6,0,"checkbox"==t.context.$implicit.elementType),e(t,8,0,"dropdown"==t.context.$implicit.elementType),e(t,10,0,t.context.$implicit.errorRequired),e(t,12,0,t.context.$implicit.errorInvalid)},null)}function Ob(e){return Ss(0,[(e()(),iu(0,0,[[1,0],["customForm",1]],null,6,"form",[["id","formInputs"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(e,t,n){var l=!0;return"submit"===t&&(l=!1!==Ou(e,2).onSubmit(n)&&l),"reset"===t&&(l=!1!==Ou(e,2).onReset()&&l),l},null,null)),Gu(1,16384,null,0,Gf,[],null,null),Gu(2,4210688,null,0,Lf,[[8,null],[8,null]],null,null),Ju(2048,null,qh,null,[Lf]),Gu(4,16384,null,0,Tf,[[4,qh]],null,null),(e()(),lu(16777216,null,null,1,null,Bb)),Gu(6,278528,null,0,tp,[Oo,Ai,Yo],{ngForOf:[0,"ngForOf"]},null)],function(e,t){e(t,6,0,t.component.GetFieldsArray())},function(e,t){e(t,0,0,Ou(t,4).ngClassUntouched,Ou(t,4).ngClassTouched,Ou(t,4).ngClassPristine,Ou(t,4).ngClassDirty,Ou(t,4).ngClassValid,Ou(t,4).ngClassInvalid,Ou(t,4).ngClassPending)})}function Rb(e){return Ss(0,[as(671088640,1,{formNativeElement:0}),(e()(),lu(16777216,null,null,1,null,mb)),Gu(2,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),iu(3,0,null,null,2,"div",[["class","clearfix dialog-header p-24"]],null,null,null,null,null)),(e()(),iu(4,0,null,null,1,"h5",[],null,null,null,null,null)),(e()(),ys(-1,null,["Share Your Experience"])),(e()(),iu(6,0,null,null,4,"div",[["class","clearfix dialog-content p-24"],["id","homePopup"]],null,null,null,null,null)),Gu(7,278528,null,0,rp,[er,Ll,zl],{ngStyle:[0,"ngStyle"]},null),vs(8,{"background-color":0,color:1}),(e()(),lu(16777216,null,null,1,null,Ob)),Gu(10,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),iu(11,0,null,null,6,"div",[["class","dialog-footer"]],null,null,null,null,null)),(e()(),iu(12,0,null,null,5,"button",[["class","btn btn-md bg-charcoal btn-block"],["id","btnStartChat"],["type","button"]],null,[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.ValidateForm()&&l),l},null,null)),Gu(13,278528,null,0,Yc,[Yo,er,Ll,zl],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),Gu(14,278528,null,0,rp,[er,Ll,zl],{ngStyle:[0,"ngStyle"]},null),vs(15,{"background-color":0,color:1}),(e()(),iu(16,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),ys(-1,null,["Submit"]))],function(e,t){var n=t.component;e(t,2,0,n.showCloseButton);var l=n.themeSettings?e(t,8,0,n.themeSettings.dialogBgColor,n.themeSettings.dialogTextColor):"";e(t,7,0,l),e(t,10,0,n.customFieldsMap),e(t,13,0,"btn btn-md bg-charcoal btn-block",n.loading?"btnSpinner":"");var i=n.themeSettings?e(t,15,0,n.themeSettings.btnColor,n.themeSettings.btnTextcolor):"";e(t,14,0,i)},null)}function Mb(e){return Ss(0,[(e()(),iu(0,0,null,null,1,"app-custom-form-dialog",[],null,null,null,Rb,gb)),Gu(1,245760,null,0,fb,[Xf,ng,fd,gd],null,null)],function(e,t){e(t,1,0)},null)}var Pb=Su("app-custom-form-dialog",fb,Mb,{},{},[]),Nb=function(){function e(e,t){var n=this;this._appStateService=e,this._dataService=t,this.subscription=[],this.count=0,this.subscription.push(this._appStateService.Maximized.subscribe(function(e){e&&(n.isMaximized=e)})),this.subscription.push(this._appStateService.Settings.subscribe(function(e){e&&(n.themeSettings=e.themeSettings)})),this.subscription.push(this._appStateService.NotificationCount.subscribe(function(e){n.count=e}))}return e.prototype.ngOnInit=function(){},e.prototype.ngOnDestroy=function(){this.subscription.map(function(e){e.unsubscribe()})},e.prototype.SvgLoad=function(e,t){e.getElementsByTagName("path").item(0).setAttribute("fill",this.themeSettings[t])},e}(),jb=Er({encapsulation:2,styles:[[""]],data:{}});function Lb(e){return Ss(0,[(e()(),iu(0,0,null,null,5,"button",[["class","cd-btn svgOnHover tooltip bottom notif"],["id","cd-notification"]],null,null,null,null,null)),(e()(),iu(1,0,[["notif",1]],null,0,"object",[["data","/cw/assets/img/icons/svg/notification-active.svg"],["type","image/svg+xml"],["width","100%"]],null,[[null,"load"]],function(e,t,n){var l=!0;return"load"===t&&(l=!1!==e.component.SvgLoad(Ou(e,1).contentDocument,"headerTextColor")&&l),l},null,null)),(e()(),iu(2,0,null,null,1,"span",[["class","notif-count animated pulse"]],null,null,null,null,null)),(e()(),ys(3,null,["",""])),(e()(),iu(4,0,null,null,1,"span",[["class","tooltip-inner"]],null,null,null,null,null)),(e()(),ys(-1,null,["Incoming Chats"]))],null,function(e,t){e(t,3,0,t.component.count)})}var Vb=function(){function e(e,t,n,l){var i=this;this._appService=e,this._dataService=t,this._callingService=n,this.dialog=l,this.allowedCall=!1,this.imageError=!1,this.subscription=[],this.themeSettings=void 0,this.unregistered=!1,this.customFields=[],this.subscription.push(this._appService.customFields.subscribe(function(e){e&&e.length&&(i.customFields=e.filter(function(e){return"visitor"==e.visibilitySide}))})),this.subscription.push(this._appService.Session.subscribe(function(e){e&&(i.Session=JSON.parse(JSON.stringify(e)),i.unregistered=!!(!e.email||e.email&&"unregistered"==e.email.toLowerCase()||e.username&&-1!=e.username.indexOf("Guest")))})),this.subscription.push(this._appService.Permissions.subscribe(function(e){i.permissions=e})),this.subscription.push(this._appService.AllowedCall.subscribe(function(e){i.allowedCall=e})),this.subscription.push(this._appService.Settings.subscribe(function(e){e&&(i.themeSettings=e.themeSettings)})),this.subscription.push(this._callingService.agentBusy.subscribe(function(e){e&&i.dialog.open(xD,{panelClass:["dialog-inner"]}).afterClosed().subscribe(function(e){})}))}return e.prototype.ngOnInit=function(){},e.prototype.RegisterUser=function(){this._dataService.UpdateCredentials.next(!0),this.dialog.open(bg,{panelClass:["dialog-inner","scrollable-dialog"],disableClose:!1,autoFocus:!0,data:{showCloseButton:!0,checkInvite:!0}}).afterClosed().subscribe(function(e){})},e.prototype.OpenCustomForm=function(){this.dialog.open(fb,{panelClass:["dialog-inner","scrollable-dialog"],disableClose:!1,autoFocus:!0,data:{showCloseButton:!0,checkInvite:!0}}).afterClosed().subscribe(function(e){})},e.prototype.TryCall=function(){var e=this;event.preventDefault(),this.dialog.open(Mv,{panelClass:["calling-dialog","dialog-inner"],autoFocus:!0}).afterClosed().subscribe(function(t){e._callingService.EndCall()})},e.prototype.ngOnDestroy=function(){this.subscription.map(function(e){e.unsubscribe()})},e.prototype.ImageBroken=function(){this.imageError=!0},e}(),$b=Er({encapsulation:2,styles:[[""]],data:{}});function Hb(e){return Ss(0,[(e()(),iu(0,0,null,null,0,"img",[["alt",""]],[[8,"src",4]],[[null,"error"]],function(e,t,n){var l=!0;return"error"===t&&(l=!1!==e.component.ImageBroken()&&l),l},null,null))],null,function(e,t){e(t,0,0,t.component.Session.agent.image)})}function Ub(e){return Ss(0,[(e()(),iu(0,0,null,null,3,"div",[["class","initials"]],null,null,null,null,null)),(e()(),ys(1,null,[" "," "])),Wu(0,pp,[]),gs(3,1)],null,function(e,t){var n=t.component,l=wr(t,1,0,e(t,3,0,Ou(t.parent.parent,0),wr(t,1,0,Ou(t,2).transform(n.Session.agent.name,0,1))));e(t,1,0,l)})}function zb(e){return Ss(0,[(e()(),iu(0,0,null,null,0,"img",[["alt",""],["src","/cw/assets/img/avatar/agent-lost.png"]],null,null,null,null,null))],null,null)}function qb(e){return Ss(0,[(e()(),iu(0,0,null,null,3,"span",[["class","fw-5"]],null,null,null,null,null)),Gu(1,278528,null,0,rp,[er,Ll,zl],{ngStyle:[0,"ngStyle"]},null),vs(2,{color:0}),(e()(),ys(3,null,["",""]))],function(e,t){var n=t.component,l=n.themeSettings?e(t,2,0,n.themeSettings.headerTextColor):"";e(t,1,0,l)},function(e,t){e(t,3,0,t.component.Session.agent.name)})}function Gb(e){return Ss(0,[(e()(),iu(0,0,null,null,1,"span",[["class","initials"],["style","font-style: italic;"]],null,null,null,null,null)),(e()(),ys(1,null,[" ",""]))],null,function(e,t){e(t,1,0,5==t.component.Session.state?"":"(no agent)")})}function Wb(e){return Ss(0,[(e()(),iu(0,0,null,null,11,"div",[],null,null,null,null,null)),(e()(),iu(1,0,null,null,10,"p",[],null,null,null,null,null)),(e()(),lu(16777216,null,null,1,null,qb)),Gu(3,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,Gb)),Gu(5,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),iu(6,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),iu(7,0,null,null,4,"small",[],null,null,null,null,null)),Gu(8,278528,null,0,rp,[er,Ll,zl],{ngStyle:[0,"ngStyle"]},null),vs(9,{color:0}),(e()(),iu(10,0,null,null,1,"em",[["title","(please note this ID to keep track of your conversation)"]],null,null,null,null,null)),(e()(),ys(11,null,["",""]))],function(e,t){var n=t.component;e(t,3,0,n.Session.agent.name),e(t,5,0,n.Session.agent&&!n.Session.agent.image&&!n.Session.agent.nickname&&!n.Session.agent.name);var l=n.themeSettings?e(t,9,0,n.themeSettings.headerTextColor):"";e(t,8,0,l)},function(e,t){var n=t.component;e(t,11,0,n.Session.clientID?n.Session.clientID:"")})}function Jb(e){return Ss(0,[(e()(),iu(0,0,null,null,12,"div",[["class","agentDetail"]],null,null,null,null,null)),(e()(),iu(1,0,null,null,9,"div",[["class","avatar ava-sm notif"]],null,null,null,null,null)),(e()(),lu(16777216,null,null,1,null,Hb)),Gu(3,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,Ub)),Gu(5,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,zb)),Gu(7,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),iu(8,0,null,null,2,"span",[["class","notif-count no-count bg-green"]],null,null,null,null,null)),Gu(9,278528,null,0,rp,[er,Ll,zl],{ngStyle:[0,"ngStyle"]},null),vs(10,{"border-color":0}),(e()(),lu(16777216,null,null,1,null,Wb)),Gu(12,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component;e(t,3,0,n.Session.agent&&n.Session.agent.image&&!n.imageError),e(t,5,0,n.Session.agent&&n.Session.agent.name&&!n.Session.agent.image||n.imageError),e(t,7,0,n.Session.agent&&!n.Session.agent.image&&!n.Session.agent.nickname&&!n.Session.agent.name);var l=n.themeSettings?e(t,10,0,n.themeSettings.headerSecondryColor):"";e(t,9,0,l),e(t,12,0,n.Session.agent||2==n.Session.state)},null)}function Qb(e){return Ss(0,[(e()(),iu(0,0,null,null,4,"button",[["class","cd-btn svgOnHover tooltip bottom-right"]],null,[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.OpenCustomForm()&&l),l},null,null)),(e()(),iu(1,0,null,null,0,"img",[["class","svg"],["src","/cw/assets/img/icons/svg/info-circle-outline-white.svg"]],null,null,null,null,null)),(e()(),iu(2,0,null,null,0,"img",[["class","svg hover"],["src","/cw/assets/img/icons/svg/info-circle-outline-white.svg"]],null,null,null,null,null)),(e()(),iu(3,0,null,null,1,"span",[["class","tooltip-inner"]],null,null,null,null,null)),(e()(),ys(-1,null,["Give Feedback"]))],null,null)}function Kb(e){return Ss(0,[(e()(),iu(0,0,null,null,2,"div",[["class","headerTools"]],null,null,null,null,null)),(e()(),lu(16777216,null,null,1,null,Qb)),Gu(2,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component;e(t,2,0,n.customFields&&n.customFields.length)},null)}function Zb(e){return Ss(0,[(e()(),iu(0,0,null,null,4,"button",[["class","cd-btn svgOnHover tooltip bottom"]],null,[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.TryCall()&&l),l},null,null)),(e()(),iu(1,0,null,null,0,"img",[["class","svg"],["src","/cw/assets/img/icons/svg/call.svg"]],null,null,null,null,null)),(e()(),iu(2,0,null,null,0,"img",[["class","svg hover"],["src","/cw/assets/img/icons/svg/call.svg"]],null,null,null,null,null)),(e()(),iu(3,0,null,null,1,"span",[["class","tooltip-inner"]],null,null,null,null,null)),(e()(),ys(-1,null,["Call Agent"]))],null,null)}function Xb(e){return Ss(0,[(e()(),iu(0,0,null,null,4,"button",[["class","cd-btn svgOnHover tooltip bottom-right"]],null,[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.RegisterUser()&&l),l},null,null)),(e()(),iu(1,0,null,null,0,"img",[["class","svg"],["src","/cw/assets/img/icons/svg/plus.svg"]],null,null,null,null,null)),(e()(),iu(2,0,null,null,0,"img",[["class","svg hover"],["src","/cw/assets/img/icons/svg/plus.svg"]],null,null,null,null,null)),(e()(),iu(3,0,null,null,1,"span",[["class","tooltip-inner"]],null,null,null,null,null)),(e()(),ys(-1,null,["Register Yourself"]))],null,null)}function Yb(e){return Ss(0,[(e()(),iu(0,0,null,null,4,"button",[["class","cd-btn svgOnHover tooltip bottom-right"]],null,[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.OpenCustomForm()&&l),l},null,null)),(e()(),iu(1,0,null,null,0,"img",[["class","svg"],["src","/cw/assets/img/icons/svg/info-circle-outline-white.svg"]],null,null,null,null,null)),(e()(),iu(2,0,null,null,0,"img",[["class","svg hover"],["src","/cw/assets/img/icons/svg/info-circle-outline-white.svg"]],null,null,null,null,null)),(e()(),iu(3,0,null,null,1,"span",[["class","tooltip-inner"]],null,null,null,null,null)),(e()(),ys(-1,null,["Give Feedback"]))],null,null)}function eC(e){return Ss(0,[(e()(),iu(0,0,null,null,6,"div",[["class","headerTools"]],null,null,null,null,null)),(e()(),lu(16777216,null,null,1,null,Zb)),Gu(2,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,Xb)),Gu(4,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,Yb)),Gu(6,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component;e(t,2,0,n.allowedCall&&3==n.Session.state),e(t,4,0,n.unregistered),e(t,6,0,n.customFields&&n.customFields.length)},null)}function tC(e){return Ss(0,[Wu(0,sp,[]),(e()(),lu(16777216,null,null,1,null,Jb)),Gu(2,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,Kb)),Gu(4,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,eC)),Gu(6,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component;e(t,2,0,n.Session&&(2==n.Session.state||3==n.Session.state||4==n.Session.state||5==n.Session.state||7==n.Session.state||8==n.Session.state)),e(t,4,0,n.Session&&2==n.Session.state),e(t,6,0,n.Session&&(3==n.Session.state||4==n.Session.state||5==n.Session.state||7==n.Session.state||8==n.Session.state))},null)}var nC=function(){function e(e,t){var n=this;this._appService=e,this._dataService=t,this.viewingChatHistory=!1,this.subscription=[],this.Conversation=[],this.themeSettings=void 0,this.subscription.push(this._appService.Session.subscribe(function(e){e&&(n.Session=e)})),this.subscription.push(this._appService.Settings.subscribe(function(e){e&&(n.themeSettings=e.themeSettings)})),this.subscription.push(this._dataService.ViewingChatHistory.subscribe(function(e){n.viewingChatHistory=e})),this.subscription.push(this._dataService.SelectedConversation.subscribe(function(e){n.Conversation=e.conversationDetails})),this.subscription.push(this._dataService.viewMode.subscribe(function(e){n.viewMode=e})),this.subscription.push(this._dataService.Conversations.subscribe(function(e){e.length>0&&(n.AllConversations=e)})),this.subscription.push(this._dataService.noMoreRecentChatsToShow.subscribe(function(e){n.ifNoMoreRecentChats=e}))}return e.prototype.GoToHome=function(){this._dataService.ViewingChatHistory.next(!1),this._dataService.viewMode.next("home")},e.prototype.GoToChat=function(){this._dataService.ViewingChatHistory.next(!1),this._dataService.viewMode.next("message-window")},e.prototype.GoBack=function(){this._dataService.SelectedConversation.next({}),this._dataService.viewMode.next("conversation-window")},e.prototype.ngOnInit=function(){},e.prototype.ngOnDestroy=function(){this.subscription.map(function(e){e.unsubscribe()})},e.prototype.Previous=function(){this._dataService.ShowSelectedChat(this.AllConversations.indexOf(this.Conversation)-1)},e.prototype.Next=function(){this.AllConversations.indexOf(this.Conversation)==this.AllConversations.length-1?this._dataService.GetMoreRecentChatsRest(this.AllConversations[this.AllConversations.length-1]._id).subscribe(function(e){},function(e){}):this._dataService.ShowSelectedChat(this.AllConversations.indexOf(this.Conversation)+1)},e}(),lC=Er({encapsulation:2,styles:[[""]],data:{}});function iC(e){return Ss(0,[(e()(),iu(0,0,null,null,3,"span",[],null,null,null,null,null)),Gu(1,278528,null,0,rp,[er,Ll,zl],{ngStyle:[0,"ngStyle"]},null),vs(2,{color:0}),(e()(),ys(-1,null,["RECENT CHATS"]))],function(e,t){var n=t.component,l=n.themeSettings?e(t,2,0,n.themeSettings.headerTextColor):"";e(t,1,0,l)},null)}function oC(e){return Ss(0,[(e()(),iu(0,0,null,null,3,"span",[],null,null,null,null,null)),Gu(1,278528,null,0,rp,[er,Ll,zl],{ngStyle:[0,"ngStyle"]},null),vs(2,{color:0}),(e()(),ys(3,null,["",""]))],function(e,t){var n=t.component,l=n.themeSettings?e(t,2,0,n.themeSettings.headerTextColor):"";e(t,1,0,l)},function(e,t){e(t,3,0,t.component.Conversation.agentName)})}function rC(e){return Ss(0,[(e()(),iu(0,0,null,null,3,"span",[["class","ellipsis"],["style","font-style: italic;"]],null,null,null,null,null)),Gu(1,278528,null,0,rp,[er,Ll,zl],{ngStyle:[0,"ngStyle"]},null),vs(2,{color:0}),(e()(),ys(-1,null,["(no agent)"]))],function(e,t){var n=t.component,l=n.themeSettings?e(t,2,0,n.themeSettings.headerTextColor):"";e(t,1,0,l)},null)}function uC(e){return Ss(0,[(e()(),iu(0,0,null,null,4,"small",[],null,null,null,null,null)),Gu(1,278528,null,0,rp,[er,Ll,zl],{ngStyle:[0,"ngStyle"]},null),vs(2,{color:0}),(e()(),iu(3,0,null,null,1,"em",[["title","(please note this ID to keep track of your conversation)"]],null,null,null,null,null)),(e()(),ys(4,null,["",""]))],function(e,t){var n=t.component,l=n.themeSettings?e(t,2,0,n.themeSettings.headerTextColor):"";e(t,1,0,l)},function(e,t){var n=t.component;e(t,4,0,n.Conversation.clientID?n.Conversation.clientID:n.Conversation.sessionid?n.Conversation.sessionid:"\xa0")})}function sC(e){return Ss(0,[(e()(),iu(0,0,null,null,11,"div",[["class","agentDetail"]],null,null,null,null,null)),(e()(),iu(1,0,null,null,10,"div",[],null,null,null,null,null)),(e()(),iu(2,0,null,null,9,"p",[],null,null,null,null,null)),(e()(),lu(16777216,null,null,1,null,iC)),Gu(4,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,oC)),Gu(6,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,rC)),Gu(8,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),iu(9,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),lu(16777216,null,null,1,null,uC)),Gu(11,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component;e(t,4,0,!n.Conversation),e(t,6,0,n.Conversation&&n.Conversation.agentName),e(t,8,0,n.Conversation&&!n.Conversation.agentName),e(t,11,0,n.Conversation)},null)}function aC(e){return Ss(0,[(e()(),iu(0,0,null,null,5,"div",[["class","headerTools"]],null,null,null,null,null)),(e()(),iu(1,0,null,null,4,"button",[["class","cd-btn svgOnHover tooltip bottom-right"]],null,[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.GoToChat()&&l),l},null,null)),(e()(),iu(2,0,null,null,0,"img",[["class","svg"],["src","/cw/assets/img/icons/svg/chat-icon.svg"]],null,null,null,null,null)),(e()(),iu(3,0,null,null,0,"img",[["class","svg hover"],["src","/cw/assets/img/icons/svg/chat-icon.svg"]],null,null,null,null,null)),(e()(),iu(4,0,null,null,1,"span",[["class","tooltip-inner"]],null,null,null,null,null)),(e()(),ys(-1,null,["Go Back To Chat"]))],null,null)}function cC(e){return Ss(0,[(e()(),iu(0,0,null,null,4,"button",[["class","cd-btn svgOnHover tooltip bottom"]],[[8,"disabled",0]],[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.Previous()&&l),l},null,null)),(e()(),iu(1,0,null,null,0,"img",[["class","svg"],["src","/cw/assets/img/icons/svg/arrow-prev.svg"]],null,null,null,null,null)),(e()(),iu(2,0,null,null,0,"img",[["class","svg hover"],["src","/cw/assets/img/icons/svg/arrow-prev.svg"]],null,null,null,null,null)),(e()(),iu(3,0,null,null,1,"span",[["class","tooltip-inner"]],null,null,null,null,null)),(e()(),ys(-1,null,["Previous"]))],null,function(e,t){var n=t.component;e(t,0,0,0==n.AllConversations.indexOf(n.Conversation))})}function pC(e){return Ss(0,[(e()(),iu(0,0,null,null,4,"button",[["class","cd-btn svgOnHover tooltip bottom"]],null,[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.GoBack()&&l),l},null,null)),(e()(),iu(1,0,null,null,0,"img",[["class","svg"],["src","/cw/assets/img/icons/svg/menu.svg"]],null,null,null,null,null)),(e()(),iu(2,0,null,null,0,"img",[["class","svg hover"],["src","/cw/assets/img/icons/svg/menu.svg"]],null,null,null,null,null)),(e()(),iu(3,0,null,null,1,"span",[["class","tooltip-inner"]],null,null,null,null,null)),(e()(),ys(-1,null,["All Chats"]))],null,null)}function dC(e){return Ss(0,[(e()(),iu(0,0,null,null,4,"button",[["class","cd-btn svgOnHover tooltip bottom-right"]],[[8,"disabled",0]],[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.Next()&&l),l},null,null)),(e()(),iu(1,0,null,null,0,"img",[["class","svg"],["src","/cw/assets/img/icons/svg/arrow-next.svg"]],null,null,null,null,null)),(e()(),iu(2,0,null,null,0,"img",[["class","svg hover"],["src","/cw/assets/img/icons/svg/arrow-next.svg"]],null,null,null,null,null)),(e()(),iu(3,0,null,null,1,"span",[["class","tooltip-inner"]],null,null,null,null,null)),(e()(),ys(-1,null,["Next"]))],null,function(e,t){var n=t.component;e(t,0,0,n.AllConversations.indexOf(n.Conversation)==n.AllConversations.length-1&&n.ifNoMoreRecentChats)})}function hC(e){return Ss(0,[(e()(),iu(0,0,null,null,6,"div",[["class","headerTools"]],null,null,null,null,null)),(e()(),lu(16777216,null,null,1,null,cC)),Gu(2,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,pC)),Gu(4,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,dC)),Gu(6,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component;e(t,2,0,"message-window"==n.viewMode),e(t,4,0,"message-window"==n.viewMode),e(t,6,0,"message-window"==n.viewMode)},null)}function fC(e){return Ss(0,[(e()(),lu(16777216,null,null,1,null,sC)),Gu(1,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,aC)),Gu(3,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,hC)),Gu(5,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component;e(t,1,0,(3!=n.Session.state||7!=n.Session.state||8!=n.Session.state)&&n.viewingChatHistory),e(t,3,0,(2==n.Session.state||3==n.Session.state||4==n.Session.state||5==n.Session.state)&&n.viewingChatHistory),e(t,5,0,n.viewingChatHistory)},null)}var gC=function(){function e(e){var t=this;this._dataService=e,this.subscriptions=[],this.AgentList=void 0,this.extraAgents=0,this.subscriptions.push(this._dataService.AgentList.subscribe(function(e){e&&(e.length-5>0&&(t.extraAgents=e.length-5),t.AgentList=e)}))}return e.prototype.ngOnInit=function(){},e.prototype.ngOnDestroy=function(){this.subscriptions.map(function(e){e.unsubscribe()})},e.prototype.ImageBroken=function(e){this.AgentList[e].error=!0},e}(),mC=Er({encapsulation:2,styles:[[""]],data:{}});function vC(e){return Ss(0,[(e()(),iu(0,0,null,null,0,"img",[["alt",""]],[[8,"src",4]],[[null,"error"]],function(e,t,n){var l=!0;return"error"===t&&(l=!1!==e.component.ImageBroken(e.parent.parent.context.index)&&l),l},null,null))],null,function(e,t){e(t,0,0,t.parent.parent.context.$implicit.image)})}function DC(e){return Ss(0,[(e()(),iu(0,0,null,null,3,"span",[],null,null,null,null,null)),(e()(),ys(1,null,["",""])),Wu(0,pp,[]),gs(3,1)],null,function(e,t){var n=wr(t,1,0,e(t,3,0,Ou(t.parent.parent.parent.parent,0),wr(t,1,0,Ou(t,2).transform(t.parent.parent.context.$implicit.nickname,0,1))));e(t,1,0,n)})}function yC(e){return Ss(0,[(e()(),iu(0,0,null,null,4,"li",[],null,null,null,null,null)),(e()(),lu(16777216,null,null,1,null,vC)),Gu(2,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,DC)),Gu(4,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component;e(t,2,0,t.parent.context.$implicit.image&&t.parent.context.index<5&&!n.AgentList[t.parent.context.index].error),e(t,4,0,(!t.parent.context.$implicit.image||n.AgentList[t.parent.context.index].error)&&t.parent.context.index<5)},null)}function bC(e){return Ss(0,[(e()(),lu(16777216,null,null,1,null,yC)),Gu(1,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(0,null,null,0))],function(e,t){e(t,1,0,t.context.index<5)},null)}function CC(e){return Ss(0,[(e()(),iu(0,0,null,null,1,"li",[],null,null,null,null,null)),(e()(),ys(1,null,["+",""]))],null,function(e,t){e(t,1,0,t.component.extraAgents)})}function SC(e){return Ss(0,[(e()(),iu(0,0,null,null,4,"ul",[["class","clearfix"]],null,null,null,null,null)),(e()(),lu(16777216,null,null,1,null,bC)),Gu(2,278528,null,0,tp,[Oo,Ai,Yo],{ngForOf:[0,"ngForOf"]},null),(e()(),lu(16777216,null,null,1,null,CC)),Gu(4,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component;e(t,2,0,n.AgentList),e(t,4,0,n.extraAgents)},null)}function _C(e){return Ss(0,[Wu(0,sp,[]),(e()(),lu(16777216,null,null,1,null,SC)),Gu(2,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null)],function(e,t){e(t,2,0,t.component.AgentList)},null)}var wC=function(){function e(e,t,n){var l=this;this.dialog=e,this._appStateService=t,this._dataService=n,this.themeSettings=void 0,this.actionsForm=void 0,this.subscriptions=[],this.permissions=void 0,this.Conversations=[],this.chatBotMsg="",this.agentsList=[],this.subscriptions.push(this._appStateService.Settings.subscribe(function(e){e&&(l.themeSettings=e.themeSettings,l.actionsForm=e.actionsForm)})),this.subscriptions.push(this._appStateService.Session.subscribe(function(e){e&&(l.session=e)})),this.subscriptions.push(this._appStateService.Permissions.subscribe(function(e){l.permissions=e})),this.subscriptions.push(this._dataService.Conversations.subscribe(function(e){e.length>0&&(l.Conversations=e)})),this.subscriptions.push(this._dataService.AgentList.subscribe(function(e){l.agentsList=e})),this.subscriptions.push(this._appStateService.endChat.subscribe(function(e){l.endChat=e})),this.subscriptions.push(this._dataService.RecentWindowLoading.subscribe(function(e){l.recentChatLoading=e}))}return e.prototype.ngOnInit=function(){},e.prototype.ngOnDestroy=function(){this.subscriptions.map(function(e){e.unsubscribe()})},e.prototype.OpenUserForm=function(){var e=this;this.agentsList&&!this.agentsList.length?this.dialog.open(lg,{autoFocus:!0,panelClass:["dialog-inner"]}).afterClosed().subscribe(function(t){t&&"Yes"==t.status&&e.dialog.open(og,{panelClass:["dialog-inner"],autoFocus:!0}).afterClosed().subscribe(function(t){t&&"chat"==t.result&&e._dataService.viewMode.next("message-window")})},function(e){}):this.dialog.open(bg,{panelClass:["dialog-inner","scrollable-dialog"],disableClose:!this.permissions||!this.permissions.chatAsGuest,autoFocus:!0,data:{showCloseButton:!0}}).afterClosed().subscribe(function(t){t&&"failure"==t.status?(e._dataService.TempData.next(t.user),e.dialog.open(lg,{autoFocus:!0,panelClass:["dialog-inner"]}).afterClosed().subscribe(function(t){t&&"Yes"==t.status&&e.dialog.open(og,{panelClass:["dialog-inner"],autoFocus:!0}).afterClosed().subscribe(function(t){t&&"chat"==t.result&&e._dataService.viewMode.next("message-window")})},function(e){})):!t||"closed"!=t.status||5!=e.session.state&&4!=e.session.state||!e.permissions||e.permissions.chatAsGuest||e._dataService.viewMode.next("home")})},e.prototype.OpenTicketForm=function(){var e=this;this.dialog.open(og,{panelClass:["dialog-inner"],autoFocus:!0}).afterClosed().subscribe(function(t){t&&"chat"==t.result&&e._dataService.viewMode.next("message-window")})},e.prototype.GoToChat=function(){this._dataService.UpdateMessageSentStatusRest(),this._dataService.viewMode.next("message-window")},e.prototype.ChatBotMessage=function(e){this._dataService.ChatBotMessage(e).subscribe(function(e){})},e}(),FC=Er({encapsulation:2,styles:[[""]],data:{}});function xC(e){return Ss(0,[(e()(),iu(0,0,null,null,4,"button",[["class","btn btn-block"],["type","button"]],null,[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.GoToChat()&&l),l},null,null)),Gu(1,278528,null,0,rp,[er,Ll,zl],{ngStyle:[0,"ngStyle"]},null),vs(2,{"background-color":0,color:1}),(e()(),iu(3,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),ys(4,null,["",""]))],function(e,t){var n=t.component,l=n.themeSettings?e(t,2,0,n.themeSettings.btnColor,n.themeSettings.btnTextcolor):"";e(t,1,0,l)},function(e,t){e(t,4,0,t.component.actionsForm.btnGoToChat)})}function EC(e){return Ss(0,[(e()(),iu(0,0,null,null,4,"button",[["class","btn btn-block"],["style","font-size:13px"],["type","button"]],null,[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.OpenUserForm()&&l),l},null,null)),Gu(1,278528,null,0,rp,[er,Ll,zl],{ngStyle:[0,"ngStyle"]},null),vs(2,{"background-color":0,color:1}),(e()(),iu(3,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),ys(4,null,["",""]))],function(e,t){var n=t.component,l=n.themeSettings?e(t,2,0,n.themeSettings.btnColor,n.themeSettings.btnTextcolor):"";e(t,1,0,l)},function(e,t){e(t,4,0,t.component.actionsForm.btnChat)})}function kC(e){return Ss(0,[(e()(),iu(0,0,null,null,4,"button",[["class","btn btn-block"],["style","font-size:13px"],["type","button"]],null,[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.OpenTicketForm()&&l),l},null,null)),Gu(1,278528,null,0,rp,[er,Ll,zl],{ngStyle:[0,"ngStyle"]},null),vs(2,{"background-color":0,color:1}),(e()(),iu(3,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),ys(4,null,["",""]))],function(e,t){var n=t.component,l=n.themeSettings?e(t,2,0,n.themeSettings.btnColor,n.themeSettings.btnTextcolor):"";e(t,1,0,l)},function(e,t){e(t,4,0,t.component.actionsForm.btnTicket)})}function AC(e){return Ss(0,[(e()(),iu(0,0,null,null,4,"div",[["class","clearfix m-b-15"]],null,null,null,null,null)),(e()(),lu(16777216,null,null,1,null,xC)),Gu(2,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,EC)),Gu(4,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,kC)),Gu(6,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component;e(t,2,0,n.session&&(3==n.session.state||2==n.session.state||4==n.session.state||5==n.session.state||7==n.session.state||8==n.session.state)),e(t,4,0,n.session&&3!=n.session.state&&2!=n.session.state&&4!=n.session.state&&5!=n.session.state&&7!=n.session.state&&8!=n.session.state),e(t,6,0,n.permissions&&(n.permissions.allowedAgentAvailable||!n.permissions.allowedAgentAvailable&&n.agentsList&&!n.agentsList.length))},null)}var TC=function(){function e(e,t,n){var l=this;this._dataService=e,this._appStateService=t,this.dialogue=n,this.subscriptions=[],this.newsList=void 0,this.promotions=void 0,this.BotDialogue=!1,this.session=void 0,this.newsFetched=!1,this.subscriptions.push(this._appStateService.Permissions.subscribe(function(e){l.permissions=e})),this.subscriptions.push(this._appStateService.botConversationStarted.subscribe(function(e){l.botConversationStarted=e})),this.subscriptions.push(this._dataService.News.subscribe(function(e){l.newsList=e})),this.subscriptions.push(this._dataService.Promotions.subscribe(function(e){l.promotions=e})),this.subscriptions.push(this._dataService.newsFetched.subscribe(function(e){l.newsFetched=e})),this.subscriptions.push(this._appStateService.Session.subscribe(function(e){e&&(l.session=JSON.parse(JSON.stringify(e)),setTimeout(function(){!l.session||6!=l.session.state||l.BotDialogue||l.botConversationStarted||(l.BotDialogue=!0,l.dialogue.open(MD,{disableClose:!0,autoFocus:!0}).afterClosed().subscribe(function(e){l.BotDialogue=!1,e&&"ok"==e.status?(l._dataService.LoadMessagesOffline(),l._dataService.viewMode.next("message-window")):e&&"chatBot"==e.status&&l._dataService.viewMode.next("message-window")}))},0))})),this.subscriptions.push(this._dataService.noAgentAvailable.subscribe(function(e){l.session&&e&&setTimeout(function(){l.dialogue.open(lg,{autoFocus:!0,disableClose:!0}).afterClosed().subscribe(function(e){e&&"Yes"==e.status&&l.dialogue.open(og,{autoFocus:!0}).afterClosed().subscribe(function(e){e&&"chat"==e.result&&l._dataService.viewMode.next("message-window")})},function(e){})},500)}))}return e.prototype.ngOnInit=function(){},e.prototype.ngOnDestroy=function(){this.subscriptions.map(function(e){return e.unsubscribe()})},e}(),IC=Er({encapsulation:2,styles:[[""]],data:{}});function BC(e){return Ss(0,[(e()(),iu(0,0,null,null,1,"app-actions",[["class","actionBtns clearfix"],["id","actionBtns"]],null,null,null,AC,FC)),Gu(1,245760,null,0,wC,[yd,Xf,ng],null,null)],function(e,t){e(t,1,0)},null)}function OC(e){return Ss(0,[(e()(),iu(0,0,null,null,0,"img",[["alt",""],["src","/cw/assets/img/illustrations/home-screen.svg"],["width","90%"]],null,null,null,null,null)),(e()(),lu(16777216,null,null,1,null,BC)),Gu(2,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null)],function(e,t){e(t,2,0,6!=t.component.session.state)},null)}var RC=function(){function e(e,t){var n=this;this._dataService=e,this._appStateService=t,this.subscriptions=[],this.newsList=[],this.news=[],this.counter=0,this.forward=!1,this.currentNews=!1,this.spinnerWidth=75,this.spinnerHeight=45,this.loading=!0,this.scrollHeight=0,this.FilteredList=[],this.from="",this.to="",this.filterApplied=!1,this.filters={},this.noMoreNews=!1,this.subscriptions.push(this._dataService.newsFetched.subscribe(function(e){n.loading=!e})),this.subscriptions.push(this._appStateService.Settings.subscribe(function(e){e&&(n.themeSettings=e.themeSettings)})),this.subscriptions.push(this._dataService.noMoreNewsToFetch.subscribe(function(e){n.noMoreNews=e})),this.subscriptions.push(this._appStateService.Session.subscribe(function(e){n.Session=e})),this.subscriptions.push(this._dataService.News.subscribe(function(e){e&&e.length&&(n.newsList=e),n.currentNews=!0}))}return e.prototype.ngOnInit=function(){},e.prototype.ngOnDestroy=function(){this.subscriptions.map(function(e){e.unsubscribe()})},e.prototype.ngAfterViewInit=function(){this.scrollContainer&&this.scrollContainer.nativeElement&&(this.scrollHeight=this.scrollContainer.nativeElement.scrollHeight)},e.prototype.NewsFormDate=function(e,t){var n=this;this.filters[e]=t.target.value?new Date(t.target.valueAsDate).toISOString():"",this.filters.from||this.filters.to?this._dataService.GetDatedNewsRest(this.filters,this.Session.nsp).subscribe(function(e){n.FilteredList=e,n.filterApplied=!0}):(this.filterApplied=!1,this.FilteredList=[])},e.prototype.ScrollChanged=function(e){var t=this;this.filterApplied||this.noMoreNews||this.loading||(Math.round(e.target.scrollTop+e.target.clientHeight)>=this.scrollContainer.nativeElement.scrollHeight-10&&(this.loading=!0,this._dataService.GetMoreNewsRest(this.newsList[this.newsList.length-1]._id,this.Session.nsp).subscribe(function(e){t.loading=!1})),this.scrollHeight=this.scrollContainer.nativeElement.scrollHeight)},e.prototype.clearDate=function(e){e.stopImmediatePropagation(),e.stopPropagation(),this.filters.to=void 0,this.filters.from=void 0,this.from=void 0,this.to=void 0,this.filterApplied=!1},e.prototype.ToggleNewsPrevious=function(){this.forward=!1,this.counter>0?this.counter-=1:this.counter=this.newsList.length-1},e.prototype.ToggleNewsNext=function(){this.forward=!0,this.counter<this.newsList.length-1?this.counter+=1:this.counter=0},e.prototype.NewsChange=function(){var e=this;this.currentNews=!1,setTimeout(function(){e.currentNews=!0},0)},e.prototype.ShowNews=function(e,t){this.newsList[t].showMore=!e.hasOwnProperty("showMore")||!this.newsList[t].showMore},e.prototype.Ellipsis=function(e,t){if(void 0===t&&(t=""),e.showMore||e.hasOwnProperty("showMore")||!t)return"";if(!e.showMore&&!e.hasOwnProperty("showMore")&&parseInt(document.defaultView.getComputedStyle(t,null).getPropertyValue("line-height"))>0){var n=parseInt(document.defaultView.getComputedStyle(t,null).getPropertyValue("line-height"));return""+parseInt(t.parentElement.offsetHeight/n+"")}},e}(),MC=Er({encapsulation:2,styles:[[".news-description{max-height:45px;overflow:hidden}.news-description p{margin:0;display:-webkit-box;-webkit-box-orient:vertical;text-overflow:ellipsis}.description{height:auto}.date-filter-close{position:fixed;right:15px;z-index:999;padding:3px 5px;background-color:var(--white);font-size:11px;border-radius:4px;cursor:pointer;border:1px solid var(--border);top:46px}"]],data:{}});function PC(e){return Ss(0,[(e()(),iu(0,0,null,null,1,"a",[["class","nameInitials p-0"],["target","_blank"]],[[8,"href",4]],null,null,null,null)),(e()(),iu(1,0,null,null,0,"img",[["alt",""]],[[8,"src",4]],null,null,null,null))],null,function(e,t){e(t,0,0,eu(1,"",t.parent.parent.context.$implicit.link,"")),e(t,1,0,t.parent.parent.context.$implicit.image)})}function NC(e){return Ss(0,[(e()(),iu(0,0,null,null,0,"img",[["alt","Image not found"]],[[8,"src",4]],null,null,null,null))],null,function(e,t){e(t,0,0,t.parent.parent.context.$implicit.image)})}function jC(e){return Ss(0,[(e()(),iu(0,0,null,null,4,"div",[["class","avatar ava-xl no-rad"]],null,null,null,null,null)),(e()(),lu(16777216,null,null,1,null,PC)),Gu(2,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,NC)),Gu(4,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null)],function(e,t){e(t,2,0,t.parent.context.$implicit.link),e(t,4,0,!t.parent.context.$implicit.link)},null)}function LC(e){return Ss(0,[(e()(),iu(0,0,null,null,1,"h5",[["class","ellipsis"]],null,null,null,null,null)),(e()(),ys(1,null,["",""]))],null,function(e,t){e(t,1,0,t.parent.context.$implicit.title)})}function VC(e){return Ss(0,[(e()(),iu(0,0,null,null,2,"h5",[],null,null,null,null,null)),(e()(),iu(1,0,null,null,1,"a",[["target","_blank"]],[[8,"href",4]],null,null,null,null)),(e()(),ys(2,null,["",""]))],null,function(e,t){e(t,1,0,eu(1,"",t.parent.context.$implicit.link,"")),e(t,2,0,t.parent.context.$implicit.title)})}function $C(e){return Ss(0,[(e()(),iu(0,0,[["i",1]],null,3,"p",[["class","desc"]],null,null,null,null,null)),Gu(1,278528,null,0,rp,[er,Ll,zl],{ngStyle:[0,"ngStyle"]},null),vs(2,{"-webkit-line-clamp":0}),(e()(),ys(3,null,[" ",""]))],function(e,t){var n=e(t,2,0,3);e(t,1,0,n)},function(e,t){var n=t.parent.context.$implicit.desc+(t.parent.context.$implicit.showMore&&t.parent.context.$implicit.hasOwnProperty("showMore")?"":"...");e(t,3,0,n)})}function HC(e){return Ss(0,[(e()(),iu(0,0,null,null,22,"li",[["class","item"]],null,null,null,null,null)),(e()(),iu(1,0,null,null,21,"div",[],null,null,null,null,null)),(e()(),iu(2,0,null,null,2,"div",[],null,null,null,null,null)),(e()(),lu(16777216,null,null,1,null,jC)),Gu(4,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),iu(5,0,null,null,17,"div",[["class","info"]],null,null,null,null,null)),(e()(),iu(6,0,null,null,8,"div",[],null,null,null,null,null)),(e()(),iu(7,0,null,null,3,"small",[],null,null,null,null,null)),(e()(),iu(8,0,null,null,2,"b",[["class","text-blue"]],null,null,null,null,null)),(e()(),ys(9,null,["",""])),gs(10,2),(e()(),lu(16777216,null,null,1,null,LC)),Gu(12,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,VC)),Gu(14,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),iu(15,0,null,null,3,"div",[],null,null,null,null,null)),Gu(16,278528,null,0,Yc,[Yo,er,Ll,zl],{ngClass:[0,"ngClass"]},null),(e()(),lu(16777216,null,null,1,null,$C)),Gu(18,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),iu(19,0,null,null,3,"div",[["class","info-footer"]],null,null,null,null,null)),(e()(),iu(20,0,null,null,2,"button",[["class","btn btn-transparent"]],null,[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.ShowNews(e.context.$implicit,e.context.index)&&l),l},null,null)),(e()(),iu(21,0,null,null,1,"span",[["class","text-black"]],null,null,null,null,null)),(e()(),ys(22,null,["",""]))],function(e,t){e(t,4,0,t.context.$implicit.image),e(t,12,0,t.context.$implicit.title&&!t.context.$implicit.link),e(t,14,0,t.context.$implicit.title&&t.context.$implicit.link);var n=t.context.$implicit.showMore&&t.context.$implicit.hasOwnProperty("showMore")?"description":"news-description";e(t,16,0,n),e(t,18,0,t.context.$implicit.desc)},function(e,t){var n=wr(t,9,0,e(t,10,0,Ou(t.parent.parent,0),t.context.$implicit.createdOn,"mediumDate"));e(t,9,0,n),e(t,22,0,t.context.$implicit.showMore?"[-]":"[+]")})}function UC(e){return Ss(0,[(e()(),iu(0,0,null,null,2,"li",[["class","item"],["style","\n    border: none;\n    height: 50px;\n    box-shadow: none;"]],null,null,null,null,null)),(e()(),iu(1,0,null,null,1,"app-preloader",[["class","mainSpinner"],["type","spin-loader-gray"]],null,null,null,Qy,Ly)),Gu(2,114688,null,0,jy,[],{type:[0,"type"],spinnerWidth:[1,"spinnerWidth"],spinnerHeight:[2,"spinnerHeight"]},null)],function(e,t){var n=t.component;e(t,2,0,"spin-loader-gray",n.spinnerWidth,n.spinnerHeight)},null)}function zC(e){return Ss(0,[(e()(),iu(0,0,[[1,0],["scrollContainer",1]],null,4,"ul",[["class","list-items clearfix newsList"]],null,[[null,"scroll"]],function(e,t,n){var l=!0;return"scroll"===t&&(l=!1!==e.component.ScrollChanged(n)&&l),l},null,null)),(e()(),lu(16777216,null,null,1,null,HC)),Gu(2,278528,null,0,tp,[Oo,Ai,Yo],{ngForOf:[0,"ngForOf"]},null),(e()(),lu(16777216,null,null,1,null,UC)),Gu(4,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component;e(t,2,0,n.filterApplied?n.FilteredList:n.newsList),e(t,4,0,n.loading)},null)}function qC(e){return Ss(0,[(e()(),iu(0,0,null,null,1,"p",[["class","list-items clearfix newsList notAvailable"]],null,null,null,null,null)),(e()(),ys(-1,null,["No News Available"]))],null,null)}function GC(e){return Ss(0,[Wu(0,ap,[or]),as(671088640,1,{scrollContainer:0}),(e()(),iu(2,0,null,null,23,"div",[["class","page-header"]],null,null,null,null,null)),(e()(),iu(3,0,null,null,5,"h5",[],null,null,null,null,null)),Gu(4,278528,null,0,rp,[er,Ll,zl],{ngStyle:[0,"ngStyle"]},null),vs(5,{color:0}),(e()(),ys(6,null,["News "," "])),gs(7,2),gs(8,2),(e()(),iu(9,0,null,null,16,"div",[["class","header-tools"]],null,null,null,null,null)),(e()(),iu(10,0,null,null,2,"div",[["class","date-filter-close svgOnHover"]],null,[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.clearDate(n)&&l),l},null,null)),(e()(),iu(11,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),ys(-1,null,["Clear Filter"])),(e()(),iu(13,0,null,null,12,"div",[["class","input-group"]],null,null,null,null,null)),(e()(),iu(14,0,null,null,5,"input",[["class","form-control p-0 p-l-10 w-80"],["placeholder","From"],["type","date"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(e,t,n){var l=!0,i=e.component;return"input"===t&&(l=!1!==Ou(e,15)._handleInput(n.target.value)&&l),"blur"===t&&(l=!1!==Ou(e,15).onTouched()&&l),"compositionstart"===t&&(l=!1!==Ou(e,15)._compositionStart()&&l),"compositionend"===t&&(l=!1!==Ou(e,15)._compositionEnd(n.target.value)&&l),"ngModelChange"===t&&(l=!1!==(i.from=n)&&l),"change"===t&&(l=!1!==i.NewsFormDate("from",n)&&l),l},null,null)),Gu(15,16384,null,0,nf,[zl,Ll,[2,tf]],null,null),Ju(1024,null,Yh,function(e){return[e]},[nf]),Gu(17,671744,null,0,zf,[[8,null],[8,null],[8,null],[6,Yh]],{model:[0,"model"]},{update:"ngModelChange"}),Ju(2048,null,sf,null,[zf]),Gu(19,16384,null,0,Af,[[4,sf]],null,null),(e()(),iu(20,0,null,null,5,"input",[["class","form-control p-0 p-l-10 w-80"],["placeholder","To"],["type","date"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(e,t,n){var l=!0,i=e.component;return"input"===t&&(l=!1!==Ou(e,21)._handleInput(n.target.value)&&l),"blur"===t&&(l=!1!==Ou(e,21).onTouched()&&l),"compositionstart"===t&&(l=!1!==Ou(e,21)._compositionStart()&&l),"compositionend"===t&&(l=!1!==Ou(e,21)._compositionEnd(n.target.value)&&l),"ngModelChange"===t&&(l=!1!==(i.to=n)&&l),"change"===t&&(l=!1!==i.NewsFormDate("to",n)&&l),l},null,null)),Gu(21,16384,null,0,nf,[zl,Ll,[2,tf]],null,null),Ju(1024,null,Yh,function(e){return[e]},[nf]),Gu(23,671744,null,0,zf,[[8,null],[8,null],[8,null],[6,Yh]],{model:[0,"model"]},{update:"ngModelChange"}),Ju(2048,null,sf,null,[zf]),Gu(25,16384,null,0,Af,[[4,sf]],null,null),(e()(),lu(16777216,null,null,1,null,zC)),Gu(27,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,qC)),Gu(29,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component,l=n.themeSettings?e(t,5,0,n.themeSettings.contentColor):"";e(t,4,0,l),e(t,17,0,n.from),e(t,23,0,n.to),e(t,27,0,!n.filterApplied&&n.newsList&&n.newsList.length||n.filterApplied&&n.FilteredList.length),e(t,29,0,(n.filterApplied&&!n.FilteredList.length||n.newsList&&!n.newsList.length)&&!n.loading)},function(e,t){var n=t.component,l=n.filterApplied?wr(t,6,0,e(t,7,0,Ou(t,0),n.filters.from,"mediumDate")):n.newsList&&n.newsList.length?"| "+wr(t,6,0,e(t,8,0,Ou(t,0),n.newsList[0].createdOn,"mediumDate")):"";e(t,6,0,l),e(t,14,0,Ou(t,19).ngClassUntouched,Ou(t,19).ngClassTouched,Ou(t,19).ngClassPristine,Ou(t,19).ngClassDirty,Ou(t,19).ngClassValid,Ou(t,19).ngClassInvalid,Ou(t,19).ngClassPending),e(t,20,0,Ou(t,25).ngClassUntouched,Ou(t,25).ngClassTouched,Ou(t,25).ngClassPristine,Ou(t,25).ngClassDirty,Ou(t,25).ngClassValid,Ou(t,25).ngClassInvalid,Ou(t,25).ngClassPending)})}var WC=function(){function e(){}return e.prototype.transform=function(e,t){if(void 0===t[0])return e;var n=t[0][0],l=t.replace("-","");return e.sort(function(e,t){var i=Number(new Date(e[l])),o=Number(new Date(t[l]));return"-"===n?o-i:i-o}),e},e}(),JC=function(){function e(){}return e.prototype.transform=function(e){var t=["January","February","March","April","May","June","July","August","September","October","November","December"],n=Date.parse(e),l=Date.parse((new Date).toLocaleString());return(l-n)/1e3/60/60/24/365>1?new Date(e).getDate()+" "+t[new Date(e).getMonth()]+"' "+new Date(e).getFullYear().toString().slice(2,4):(l-n)/1e3/60/60/24>1?new Date(e).getDate()+" "+t[new Date(e).getMonth()]:(l-n)/1e3/60/60>1?Math.floor((l-n)/1e3/60/60)+" hours ago":(l-n)/1e3/60>1?Math.floor((l-n)/1e3/60)+" minutes ago":(l-n)/1e3/60<1?new Date(e).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}):void 0},e}(),QC=function(){function e(e,t,n){var l=this;this.dialog=e,this._dataService=t,this._appStateService=n,this.displayReview=!1,this.scrollHeight=0,this.subscriptions=[],this.promotionsList=[],this.promotionsFetching=!0,this.reviewsFetching=!1,this.loading=!0,this.spinnerWidth=75,this.spinnerHeight=45,this.selectedPill="product",this.pills={product:!0,banner:!1,post:!1},this.plainText={},this.reviewlist=!1,this.showReview={},this.listLoaded=!1,this.subscriptions.push(this._dataService.promotionsFetched.subscribe(function(e){l.loading=e})),this.subscriptions.push(this._appStateService.Session.subscribe(function(e){l.Session=e})),this.subscriptions.push(this._dataService.Promotions.subscribe(function(e){l.loading?l.promotionsFetching=!1:setTimeout(function(){l.promotionsFetching=!1},500),e&&e.length&&(l.promotionsList=e),l.listLoaded||(l.promotionsList.map(function(e){return"post"==e.type&&(l.plainText[e._id]="",l.showReview[e._id]={},l.showReview[e._id].showReview=!1),e}),l.listLoaded=!0)})),this.subscriptions.push(this._appStateService.Settings.subscribe(function(e){e&&(l.themeSettings=e.themeSettings)}))}return e.prototype.ShowOrHideReviews=function(e){this.showReview[e._id].showReview=!this.showReview[e._id].showReview},e.prototype.LikePost=function(e){var t=this;this._dataService.IsUserNotRegistered()?(this._dataService.UpdateCredentials.next(!0),this.dialog.open(bg,{panelClass:["dialog-inner"],autoFocus:!0,data:{showCloseButton:!0,checkInvite:!1,showRegisterContent:!1}}).afterClosed().subscribe(function(n){"success"!=n||t._dataService.IsUserNotRegistered()||t._dataService.LikeOnPost(e._id,{nsp:t.Session.nsp,visitorEmail:t.Session.email},t.CheckLike(e)).subscribe(function(e){e&&e.promotion&&(t.promotionsList[e.index]=e.promotion)})})):this._dataService.LikeOnPost(e._id,{nsp:this.Session.nsp,visitorEmail:this.Session.email},this.CheckLike(e)).subscribe(function(e){e&&e.promotion&&(t.promotionsList[e.index]=e.promotion)})},e.prototype.Review=function(e,t){var n=this;t.preventDefault(),this._dataService.IsUserNotRegistered()?(this._dataService.UpdateCredentials.next(!0),this.dialog.open(bg,{panelClass:["dialog-inner"],autoFocus:!0,data:{showCloseButton:!0,checkInvite:!1,showRegisterContent:!1}}).afterClosed().subscribe(function(t){"success"!=t||n._dataService.IsUserNotRegistered()||n._dataService.ReviewOnPost(e,{csid:n.Session.csid,nsp:n.Session.nsp,visitorName:n.Session.username,visitorEmail:n.Session.email,review:n.plainText[e]}).subscribe(function(t){t&&t.promotion&&(n.promotionsList[t.index]=t.promotion,n.plainText[e]="")})})):this._dataService.ReviewOnPost(e,{csid:this.Session.csid,nsp:this.Session.nsp,visitorName:this.Session.username,visitorEmail:this.Session.email,review:this.plainText[e]}).subscribe(function(t){t&&t.promotion&&(n.promotionsList[t.index]=t.promotion,n.plainText[e]="")})},e.prototype.DeleteReview=function(e,t){var n=this;this._dataService.DeleteReviewOnPost(e,t).subscribe(function(e){e&&e.promotion&&(n.promotionsList[e.index]=e.promotion)})},e.prototype.ngAfterViewInit=function(){},e.prototype.ScrollChanged=function(e,t,n){var l=this;this.reviewsFetching||e.noMoreReviews||Math.round(t.target.scrollTop+t.target.clientHeight)>=n.scrollHeight-10&&(this.reviewsFetching=!0,this._dataService.GetReviewsRest(e._id,e.reviews[e.reviews.length-1].createdOn).subscribe(function(t){t.noMoreReviews&&(e.noMoreReviews=!0),l.reviewsFetching=!1}))},e.prototype.Count=function(e){var t=this;this._dataService.ViewsOnProduct(e,{nsp:this.Session.nsp}).subscribe(function(e){e&&e.promotion&&(t.promotionsList[e.index]=e.promotion)})},e.prototype.setPillActive=function(e){var t=this;this.selectedPill=e,Object.keys(this.pills).map(function(n){t.pills[n]=n==e})},e.prototype.CheckLike=function(e){var t=this;if(e.likes&&e.likes.length)return!(e.likes.findIndex(function(e){if(t.Session)return e.visitorEmail==t.Session.email})<0)},e.prototype.ngOnInit=function(){},e.prototype.Filter=function(e){return this.promotionsList.filter(function(t){return e==t.type})},e.prototype.ngOnDestroy=function(){this.subscriptions.map(function(e){e.unsubscribe()})},e}(),KC=Er({encapsulation:2,styles:[[""]],data:{}});function ZC(e){return Ss(0,[(e()(),iu(0,0,null,null,2,"div",[["class","post-image"]],null,null,null,null,null)),(e()(),iu(1,0,null,null,1,"a",[["class","notif-count right bg-black-alpha2"],["target","_blank"]],[[8,"href",4]],[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.Count(e.parent.parent.context.$implicit._id)&&l),l},null,null)),(e()(),iu(2,0,null,null,0,"img",[["alt",""]],[[8,"src",4]],null,null,null,null))],null,function(e,t){e(t,1,0,eu(1,"",t.parent.parent.context.$implicit.link,"")),e(t,2,0,t.parent.parent.context.$implicit.image)})}function XC(e){return Ss(0,[(e()(),iu(0,0,null,null,1,"b",[["class","ellipsis"]],null,null,null,null,null)),(e()(),ys(1,null,["",""]))],null,function(e,t){e(t,1,0,t.parent.parent.context.$implicit.title)})}function YC(e){return Ss(0,[(e()(),iu(0,0,null,null,1,"p",[["class","ellipsis"]],null,null,null,null,null)),(e()(),ys(1,null,["",""]))],null,function(e,t){e(t,1,0,t.parent.parent.context.$implicit.desc)})}function eS(e){return Ss(0,[(e()(),iu(0,0,null,null,2,"div",[["class","notif-count left bg-red"]],null,null,null,null,null)),(e()(),iu(1,0,null,null,1,"span",[["class","text-white"]],null,null,null,null,null)),(e()(),ys(2,null,[""," ",""]))],null,function(e,t){e(t,2,0,t.parent.parent.context.$implicit.price,t.parent.parent.context.$implicit.currency)})}function tS(e){return Ss(0,[(e()(),iu(0,0,null,null,13,"div",[],null,null,null,null,null)),(e()(),lu(16777216,null,null,1,null,ZC)),Gu(2,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),iu(3,0,null,null,5,"div",[["class","info"]],null,null,null,null,null)),(e()(),iu(4,0,null,null,4,"div",[],null,null,null,null,null)),(e()(),lu(16777216,null,null,1,null,XC)),Gu(6,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,YC)),Gu(8,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,eS)),Gu(10,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),iu(11,0,null,null,2,"a",[["class","notif-count right bg-black-alpha2"],["target","_blank"]],[[8,"href",4]],[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.Count(e.parent.context.$implicit._id)&&l),l},null,null)),(e()(),iu(12,0,null,null,1,"span",[["class","text-white"]],null,null,null,null,null)),(e()(),ys(13,null,["Views: ",""]))],function(e,t){e(t,2,0,t.parent.context.$implicit.image),e(t,6,0,t.parent.context.$implicit.title),e(t,8,0,t.parent.context.$implicit.desc),e(t,10,0,t.parent.context.$implicit.price&&t.parent.context.$implicit.currency)},function(e,t){e(t,11,0,eu(1,"",t.parent.context.$implicit.link,"")),e(t,13,0,t.parent.context.$implicit.views?t.parent.context.$implicit.views.length:"0")})}function nS(e){return Ss(0,[(e()(),iu(0,0,null,null,2,"li",[["class","item notif"]],null,null,null,null,null)),(e()(),lu(16777216,null,null,1,null,tS)),Gu(2,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null)],function(e,t){e(t,2,0,t.context.$implicit.type&&"product"==t.context.$implicit.type)},null)}function lS(e){return Ss(0,[(e()(),iu(0,0,null,null,4,"div",[["class","tab-pane"]],null,null,null,null,null)),Gu(1,278528,null,0,Yc,[Yo,er,Ll,zl],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(e()(),iu(2,0,null,null,2,"ul",[["class","list-items clearfix productsList"]],null,null,null,null,null)),(e()(),lu(16777216,null,null,1,null,nS)),Gu(4,278528,null,0,tp,[Oo,Ai,Yo],{ngForOf:[0,"ngForOf"]},null)],function(e,t){var n=t.component;e(t,1,0,"tab-pane",n.pills.product?"active":""),e(t,4,0,n.Filter("product"))},null)}function iS(e){return Ss(0,[(e()(),iu(0,0,null,null,1,"a",[["target","_blank"]],[[8,"href",4]],null,null,null,null)),(e()(),iu(1,0,null,null,0,"img",[["alt",""]],[[8,"src",4]],null,null,null,null))],null,function(e,t){e(t,0,0,eu(1,"",t.parent.parent.parent.context.$implicit.link?t.parent.parent.parent.context.$implicit.link:"Click the Link","")),e(t,1,0,t.parent.parent.parent.context.$implicit.image)})}function oS(e){return Ss(0,[(e()(),iu(0,0,null,null,0,"img",[["alt",""]],[[8,"src",4]],null,null,null,null))],null,function(e,t){e(t,0,0,t.parent.parent.parent.context.$implicit.image)})}function rS(e){return Ss(0,[(e()(),iu(0,0,null,null,4,"div",[["class","post-image"]],null,null,null,null,null)),(e()(),lu(16777216,null,null,1,null,iS)),Gu(2,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,oS)),Gu(4,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null)],function(e,t){e(t,2,0,t.parent.parent.context.$implicit.link),e(t,4,0,!t.parent.parent.context.$implicit.link)},null)}function uS(e){return Ss(0,[(e()(),iu(0,0,null,null,2,"div",[],null,null,null,null,null)),(e()(),lu(16777216,null,null,1,null,rS)),Gu(2,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null)],function(e,t){e(t,2,0,t.parent.context.$implicit.image)},null)}function sS(e){return Ss(0,[(e()(),iu(0,0,null,null,2,"li",[["class","item"]],null,null,null,null,null)),(e()(),lu(16777216,null,null,1,null,uS)),Gu(2,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null)],function(e,t){e(t,2,0,t.context.$implicit.type&&"banner"==t.context.$implicit.type)},null)}function aS(e){return Ss(0,[(e()(),iu(0,0,null,null,4,"div",[["class","tab-pane"]],null,null,null,null,null)),Gu(1,278528,null,0,Yc,[Yo,er,Ll,zl],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(e()(),iu(2,0,null,null,2,"ul",[["class","list-items clearfix bannersList"]],null,null,null,null,null)),(e()(),lu(16777216,null,null,1,null,sS)),Gu(4,278528,null,0,tp,[Oo,Ai,Yo],{ngForOf:[0,"ngForOf"]},null)],function(e,t){var n=t.component;e(t,1,0,"tab-pane",n.pills.banner?"active":""),e(t,4,0,n.Filter("banner"))},null)}function cS(e){return Ss(0,[(e()(),iu(0,0,null,null,2,"a",[["target","_blank"]],[[8,"href",4]],null,null,null,null)),(e()(),iu(1,0,null,null,1,"span",[["class","ellipsis"]],null,null,null,null,null)),(e()(),ys(2,null,["",""]))],null,function(e,t){e(t,0,0,eu(1,"",t.parent.parent.context.$implicit.link,"")),e(t,2,0,t.parent.parent.context.$implicit.title)})}function pS(e){return Ss(0,[(e()(),iu(0,0,null,null,1,"b",[["class","ellipsis"]],null,null,null,null,null)),(e()(),ys(1,null,["",""]))],null,function(e,t){e(t,1,0,t.parent.parent.context.$implicit.title)})}function dS(e){return Ss(0,[(e()(),iu(0,0,null,null,1,"p",[["class","ellipsis"]],null,null,null,null,null)),(e()(),ys(1,null,["",""]))],null,function(e,t){e(t,1,0,t.parent.parent.context.$implicit.desc)})}function hS(e){return Ss(0,[(e()(),iu(0,0,null,null,0,"img",[["alt",""]],[[8,"src",4]],null,null,null,null))],null,function(e,t){e(t,0,0,t.parent.parent.context.$implicit.image)})}function fS(e){return Ss(0,[(e()(),iu(0,0,null,null,1,"a",[["target","_blank"]],[[8,"href",4]],null,null,null,null)),(e()(),iu(1,0,null,null,0,"img",[["alt",""]],[[8,"src",4]],null,null,null,null))],null,function(e,t){e(t,0,0,eu(1,"",t.parent.parent.context.$implicit.link,"")),e(t,1,0,t.parent.parent.context.$implicit.image)})}function gS(e){return Ss(0,[(e()(),iu(0,0,null,null,16,"li",[["class","item notif clearfix"]],null,null,null,null,null)),(e()(),iu(1,0,null,null,15,"div",[],null,null,null,null,null)),(e()(),iu(2,0,null,null,9,"div",[["class","info"]],null,null,null,null,null)),(e()(),iu(3,0,null,null,8,"div",[],null,null,null,null,null)),(e()(),iu(4,0,null,null,1,"b",[],null,null,null,null,null)),(e()(),ys(5,null,["",""])),(e()(),iu(6,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),ys(7,null,["",""])),(e()(),iu(8,0,null,null,3,"small",[],null,null,null,null,null)),(e()(),iu(9,0,null,null,2,"b",[["class","text-blue"]],null,null,null,null,null)),(e()(),ys(10,null,["",""])),gs(11,1),(e()(),iu(12,0,null,null,4,"div",[["class","actions"]],null,null,null,null,null)),(e()(),iu(13,0,null,null,3,"button",[["class","btn btn-transparent svgOnHover "]],null,[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.DeleteReview(e.context.$implicit,e.parent.parent.parent.parent.context.$implicit._id)&&l),l},null,null)),Gu(14,278528,null,0,Yc,[Yo,er,Ll,zl],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(e()(),iu(15,0,null,null,0,"img",[["class","svg"],["src","/cw/assets/img/icons/svg/delete-outline.svg"],["width","20"]],null,null,null,null,null)),(e()(),iu(16,0,null,null,0,"img",[["class","svg hover"],["src","/cw/assets/img/icons/svg/delete-filled.svg"],["width","20"]],null,null,null,null,null))],function(e,t){e(t,14,0,"btn btn-transparent svgOnHover ",t.component.Session.email!=t.context.$implicit.visitorEmail?"disabled":"")},function(e,t){e(t,5,0,t.context.$implicit.visitorName),e(t,7,0,t.context.$implicit.review);var n=wr(t,10,0,e(t,11,0,Ou(t.parent.parent.parent.parent.parent.parent.parent,1),t.context.$implicit.createdOn));e(t,10,0,n)})}function mS(e){return Ss(0,[(e()(),iu(0,0,[["i",1]],null,3,"ul",[["class","list-items comments"]],null,[[null,"scroll"]],function(e,t,n){var l=!0;return"scroll"===t&&(l=!1!==e.component.ScrollChanged(e.parent.parent.parent.context.$implicit,n,Ou(e,0))&&l),l},null,null)),(e()(),lu(16777216,null,null,2,null,gS)),Gu(2,278528,null,0,tp,[Oo,Ai,Yo],{ngForOf:[0,"ngForOf"]},null),gs(3,2)],function(e,t){var n=wr(t,2,0,e(t,3,0,Ou(t.parent.parent.parent.parent.parent.parent,0),t.parent.parent.parent.context.$implicit.reviews,"-createdOn"));e(t,2,0,n)},null)}function vS(e){return Ss(0,[(e()(),iu(0,0,null,null,12,"div",[["class","info"]],null,null,null,null,null)),(e()(),iu(1,0,null,null,9,"div",[["class","w100"]],null,null,null,null,null)),(e()(),iu(2,0,null,null,8,"div",[["class","input-block m-0"]],null,null,null,null,null)),(e()(),iu(3,0,null,null,7,"textarea",[["class","form-control"],["placeholder","reviews...."]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"keydown.enter"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(e,t,n){var l=!0,i=e.component;return"input"===t&&(l=!1!==Ou(e,6)._handleInput(n.target.value)&&l),"blur"===t&&(l=!1!==Ou(e,6).onTouched()&&l),"compositionstart"===t&&(l=!1!==Ou(e,6)._compositionStart()&&l),"compositionend"===t&&(l=!1!==Ou(e,6)._compositionEnd(n.target.value)&&l),"ngModelChange"===t&&(l=!1!==(i.plainText[e.parent.parent.context.$implicit._id]=n)&&l),"keydown.enter"===t&&(l=!1!==i.Review(e.parent.parent.context.$implicit._id,n)&&l),l},null,null)),Gu(4,278528,null,0,rp,[er,Ll,zl],{ngStyle:[0,"ngStyle"]},null),vs(5,{"border-color":0}),Gu(6,16384,null,0,nf,[zl,Ll,[2,tf]],null,null),Ju(1024,null,Yh,function(e){return[e]},[nf]),Gu(8,671744,null,0,zf,[[8,null],[8,null],[8,null],[6,Yh]],{model:[0,"model"]},{update:"ngModelChange"}),Ju(2048,null,sf,null,[zf]),Gu(10,16384,null,0,Af,[[4,sf]],null,null),(e()(),lu(16777216,null,null,1,null,mS)),Gu(12,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component,l=n.themeSettings?e(t,5,0,n.themeSettings.borderColor):"";e(t,4,0,l),e(t,8,0,n.plainText[t.parent.parent.context.$implicit._id]),e(t,12,0,t.parent.parent.context.$implicit&&t.parent.parent.context.$implicit.reviews)},function(e,t){e(t,3,0,Ou(t,10).ngClassUntouched,Ou(t,10).ngClassTouched,Ou(t,10).ngClassPristine,Ou(t,10).ngClassDirty,Ou(t,10).ngClassValid,Ou(t,10).ngClassInvalid,Ou(t,10).ngClassPending)})}function DS(e){return Ss(0,[(e()(),iu(0,0,null,null,27,"div",[],null,null,null,null,null)),(e()(),iu(1,0,null,null,7,"div",[["class","info"]],null,null,null,null,null)),(e()(),iu(2,0,null,null,6,"div",[],null,null,null,null,null)),(e()(),lu(16777216,null,null,1,null,cS)),Gu(4,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,pS)),Gu(6,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,dS)),Gu(8,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),iu(9,0,null,null,4,"div",[["class","post-image"]],null,null,null,null,null)),(e()(),lu(16777216,null,null,1,null,hS)),Gu(11,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,fS)),Gu(13,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),iu(14,0,null,null,11,"div",[["class","media-toolbox"]],null,null,null,null,null)),(e()(),iu(15,0,null,null,5,"button",[["class","btn btn-transparent svgOnHover text-black"]],null,[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.LikePost(e.parent.context.$implicit)&&l),l},null,null)),Gu(16,278528,null,0,Yc,[Yo,er,Ll,zl],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(e()(),iu(17,0,null,null,0,"img",[["class","svg"],["src","/cw/assets/img/icons/svg/like-outline.svg"],["width","20"]],null,null,null,null,null)),(e()(),iu(18,0,null,null,0,"img",[["class","svg hover"],["src","/cw/assets/img/icons/svg/like-filled.svg"],["width","20"]],null,null,null,null,null)),(e()(),iu(19,0,null,null,1,"span",[["class","m-l-7"]],null,null,null,null,null)),(e()(),ys(20,null,["",""])),(e()(),iu(21,0,null,null,4,"button",[["class","btn btn-transparent svgOnHover text-black "]],null,[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.ShowOrHideReviews(e.parent.context.$implicit)&&l),l},null,null)),(e()(),iu(22,0,null,null,0,"img",[["class","svg"],["src","/cw/assets/img/icons/svg/comment-outline.svg"],["width","20"]],null,null,null,null,null)),(e()(),iu(23,0,null,null,0,"img",[["class","svg hover"],["src","/cw/assets/img/icons/svg/comment-filled.svg"],["width","20"]],null,null,null,null,null)),(e()(),iu(24,0,null,null,1,"span",[["class","m-l-7"]],null,null,null,null,null)),(e()(),ys(25,null,[" ",""])),(e()(),lu(16777216,null,null,1,null,vS)),Gu(27,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component;e(t,4,0,t.parent.context.$implicit.title&&t.parent.context.$implicit.link),e(t,6,0,t.parent.context.$implicit.title&&!t.parent.context.$implicit.link),e(t,8,0,t.parent.context.$implicit.desc),e(t,11,0,!t.parent.context.$implicit.link&&t.parent.context.$implicit.image),e(t,13,0,t.parent.context.$implicit.link&&t.parent.context.$implicit.image),e(t,16,0,"btn btn-transparent svgOnHover text-black",n.CheckLike(t.parent.context.$implicit)?"active":""),e(t,27,0,n.showReview[t.parent.context.$implicit._id].showReview)},function(e,t){e(t,20,0,t.parent.context.$implicit.likes?t.parent.context.$implicit.likes.length:"0"),e(t,25,0,t.parent.context.$implicit.count?t.parent.context.$implicit.count:"0")})}function yS(e){return Ss(0,[(e()(),iu(0,0,null,null,2,"li",[["class","item"]],null,null,null,null,null)),(e()(),lu(16777216,null,null,1,null,DS)),Gu(2,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null)],function(e,t){e(t,2,0,t.context.$implicit&&t.context.$implicit.type&&"post"==t.context.$implicit.type)},null)}function bS(e){return Ss(0,[(e()(),iu(0,0,null,null,4,"div",[["class","tab-pane"]],null,null,null,null,null)),Gu(1,278528,null,0,Yc,[Yo,er,Ll,zl],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(e()(),iu(2,0,null,null,2,"ul",[["class","list-items clearfix postsList"]],null,null,null,null,null)),(e()(),lu(16777216,null,null,1,null,yS)),Gu(4,278528,null,0,tp,[Oo,Ai,Yo],{ngForOf:[0,"ngForOf"]},null)],function(e,t){var n=t.component;e(t,1,0,"tab-pane",n.pills.post?"active":""),e(t,4,0,n.Filter("post"))},null)}function CS(e){return Ss(0,[(e()(),iu(0,0,null,null,3,"div",[["class","notAvailable tab-pane"]],null,null,null,null,null)),Gu(1,278528,null,0,Yc,[Yo,er,Ll,zl],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(e()(),iu(2,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),ys(-1,null,["No Promotions Available"]))],function(e,t){var n=t.component;e(t,1,0,"notAvailable tab-pane",n.pills[n.selectedPill]?"active":"")},null)}function SS(e){return Ss(0,[(e()(),iu(0,0,null,null,28,"div",[["class","tabination tabination-sm clearfix"]],null,null,null,null,null)),(e()(),iu(1,0,null,null,18,"ul",[["class","nav-tabs"]],null,null,null,null,null)),(e()(),iu(2,0,null,null,5,"li",[],null,[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.setPillActive("product")&&l),l},null,null)),Gu(3,278528,null,0,Yc,[Yo,er,Ll,zl],{ngClass:[0,"ngClass"]},null),(e()(),iu(4,0,null,null,3,"a",[],null,null,null,null,null)),(e()(),iu(5,0,null,null,0,"i",[["class","icon icon-home"]],null,null,null,null,null)),(e()(),iu(6,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),ys(-1,null,["Products"])),(e()(),iu(8,0,null,null,5,"li",[],null,[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.setPillActive("banner")&&l),l},null,null)),Gu(9,278528,null,0,Yc,[Yo,er,Ll,zl],{ngClass:[0,"ngClass"]},null),(e()(),iu(10,0,null,null,3,"a",[],null,null,null,null,null)),(e()(),iu(11,0,null,null,0,"i",[["class","icon icon-home"]],null,null,null,null,null)),(e()(),iu(12,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),ys(-1,null,["Banners"])),(e()(),iu(14,0,null,null,5,"li",[],null,[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.setPillActive("post")&&l),l},null,null)),Gu(15,278528,null,0,Yc,[Yo,er,Ll,zl],{ngClass:[0,"ngClass"]},null),(e()(),iu(16,0,null,null,3,"a",[],null,null,null,null,null)),(e()(),iu(17,0,null,null,0,"i",[["class","icon icon-home"]],null,null,null,null,null)),(e()(),iu(18,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),ys(-1,null,["Posts"])),(e()(),iu(20,0,null,null,8,"div",[["class","tab-content p-0"]],null,null,null,null,null)),(e()(),lu(16777216,null,null,1,null,lS)),Gu(22,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,aS)),Gu(24,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,bS)),Gu(26,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,CS)),Gu(28,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component;e(t,3,0,n.pills.product?"active":""),e(t,9,0,n.pills.banner?"active":""),e(t,15,0,n.pills.post?"active":""),e(t,22,0,n.pills.product&&n.Filter("product").length),e(t,24,0,n.pills.banner&&n.Filter("banner").length),e(t,26,0,n.pills.post&&n.Filter("post").length),e(t,28,0,!n.Filter(n.selectedPill).length)},null)}function _S(e){return Ss(0,[(e()(),iu(0,0,null,null,2,"div",[["class","clearfix"]],null,null,null,null,null)),(e()(),iu(1,0,null,null,1,"app-preloader",[["class","mainSpinner"],["type","spin-loader-gray"]],null,null,null,Qy,Ly)),Gu(2,114688,null,0,jy,[],{type:[0,"type"],spinnerWidth:[1,"spinnerWidth"],spinnerHeight:[2,"spinnerHeight"]},null)],function(e,t){var n=t.component;e(t,2,0,"spin-loader-gray",n.spinnerWidth,n.spinnerHeight)},null)}function wS(e){return Ss(0,[Wu(0,WC,[]),Wu(0,JC,[]),(e()(),lu(16777216,null,null,1,null,SS)),Gu(3,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,_S)),Gu(5,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component;e(t,3,0,!n.promotionsFetching&&n.Session),e(t,5,0,n.promotionsFetching)},null)}var FS=function(){function e(e,t){var n=this;this._dataService=e,this._appStateService=t,this.Conversations=[],this.subscriptions=[],this.scrollHeight=0,this.autoScroll=!1,this.LoadingMessage=!1,this.ifNoMoreRecentChats=!1,this.ErrorRecentChats=!1,this.permissions={},this.subscriptions.push(this._appStateService.Permissions.subscribe(function(e){n.permissions=e})),this.subscriptions.push(this._appStateService.Session.subscribe(function(e){e&&(n.Session=e)})),this.subscriptions.push(this._dataService.Conversations.subscribe(function(e){e.length>0&&(n.Conversations=e),n._appStateService.SaveStorage("conversations",n.Conversations)})),this.subscriptions.push(this._dataService.noMoreRecentChatsToShow.subscribe(function(e){n.ifNoMoreRecentChats=e}))}return e.prototype.ngOnInit=function(){},e.prototype.CheckAttachmentType=function(e){return"string"==typeof e},e.prototype.SelectConversation=function(e){this._dataService.ShowSelectedChat(e)},e.prototype.ngOnDestroy=function(){this.subscriptions.map(function(e){e.unsubscribe()})},e.prototype.ngOnDetroy=function(){this.subscriptions.map(function(e){e.unsubscribe()})},e.prototype.ngAfterViewInit=function(){this.scrollContainer&&this.scrollContainer.nativeElement&&(this.scrollHeight=this.scrollContainer.nativeElement.scrollHeight)},e.prototype.ScrollChanged=function(e){Math.round(e.target.scrollTop+e.target.clientHeight)>=this.scrollContainer.nativeElement.scrollHeight-10&&this.LoadMore()},e.prototype.LoadMore=function(){var e=this;this.ifNoMoreRecentChats||this.LoadingMessage||(this.LoadingMessage=!0,this._dataService.GetMoreRecentChatsRest(this.Conversations[this.Conversations.length-1]._id).subscribe(function(t){e.ErrorRecentChats=!1,e.LoadingMessage=!1},function(t){e.ErrorRecentChats=!0,e.LoadingMessage=!1,setTimeout(function(){e.ErrorRecentChats=!1},3e3)}))},e}(),xS=Er({encapsulation:2,styles:[[""]],data:{}});function ES(e){return Ss(0,[(e()(),iu(0,0,null,null,3,"div",[["class","nameInitials"]],null,null,null,null,null)),(e()(),ys(1,null,["",""])),Wu(0,pp,[]),gs(3,1)],null,function(e,t){var n=wr(t,1,0,e(t,3,0,Ou(t.parent.parent.parent,0),wr(t,1,0,Ou(t,2).transform(t.parent.context.$implicit.visitorName,0,1))));e(t,1,0,n)})}function kS(e){return Ss(0,[(e()(),iu(0,0,null,null,3,"b",[["class","ellipsis"]],null,null,null,null,null)),Gu(1,278528,null,0,rp,[er,Ll,zl],{ngStyle:[0,"ngStyle"]},null),vs(2,{color:0}),(e()(),ys(3,null,["",""]))],function(e,t){var n=t.component,l=n.themeSettings?e(t,2,0,n.themeSettings.contentColor):"";e(t,1,0,l)},function(e,t){e(t,3,0,t.parent.context.$implicit.agentName?t.parent.context.$implicit.agentName:t.parent.context.$implicit.agentEmail)})}function AS(e){return Ss(0,[(e()(),iu(0,0,null,null,3,"span",[["class","ellipsis"],["style","font-style: italic;"]],null,null,null,null,null)),Gu(1,278528,null,0,rp,[er,Ll,zl],{ngStyle:[0,"ngStyle"]},null),vs(2,{color:0}),(e()(),ys(-1,null,["(no agent)"]))],function(e,t){var n=t.component,l=n.themeSettings?e(t,2,0,n.themeSettings.contentColor):"";e(t,1,0,l)},null)}function TS(e){return Ss(0,[(e()(),iu(0,0,null,null,1,"span",[["class","last-message ellipsis w65"]],null,null,null,null,null)),(e()(),ys(1,null,["",""]))],null,function(e,t){e(t,1,0,t.parent.context.$implicit.lastMessage.chatFormData)})}function IS(e){return Ss(0,[(e()(),iu(0,0,null,null,1,"span",[["class","last-message ellipsis w65"]],[[8,"innerHTML",1]],null,null,null,null)),gs(1,2)],null,function(e,t){var n=wr(t,0,0,e(t,1,0,Ou(t.parent.parent.parent,1),t.parent.context.$implicit.lastMessage.body,"html"));e(t,0,0,n)})}function BS(e){return Ss(0,[(e()(),iu(0,0,null,null,1,"span",[["class","last-message ellipsis w65"]],null,null,null,null,null)),(e()(),ys(1,null,["##",""]))],null,function(e,t){e(t,1,0,t.parent.context.$implicit.lastMessage.form[0].formName)})}function OS(e){return Ss(0,[(e()(),iu(0,0,null,null,2,"span",[],null,null,null,null,null)),(e()(),ys(1,null,["",""])),gs(2,1)],null,function(e,t){var n="image"==wr(t,1,0,e(t,2,0,Ou(t.parent.parent.parent,2),t.parent.context.$implicit.lastMessage.body))?" Image":" Document";e(t,1,0,n)})}function RS(e){return Ss(0,[(e()(),iu(0,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),ys(1,null,["Attachments (",")"]))],null,function(e,t){e(t,1,0,t.parent.context.$implicit.lastMessage.body.length)})}function MS(e){return Ss(0,[(e()(),iu(0,0,null,null,2,"span",[],null,null,null,null,null)),(e()(),ys(1,null,["",""])),gs(2,1)],null,function(e,t){var n="image"==wr(t,1,0,e(t,2,0,Ou(t.parent.parent.parent,2),t.parent.context.$implicit.lastMessage.body[0].filename))?" Image":" Document";e(t,1,0,n)})}function PS(e){return Ss(0,[(e()(),iu(0,0,null,null,2,"span",[["class","notif-count right bg-transparent text-blue"]],null,null,null,null,null)),(e()(),ys(1,null,["",""])),gs(2,1)],null,function(e,t){var n=wr(t,1,0,e(t,2,0,Ou(t.parent.parent.parent,3),t.parent.context.$implicit.createdOn));e(t,1,0,n)})}function NS(e){return Ss(0,[(e()(),iu(0,0,null,null,24,"li",[["class","item notif clearfix"]],null,[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.SelectConversation(e.context.index)&&l),l},null,null)),(e()(),iu(1,0,null,null,23,"div",[],null,null,null,null,null)),(e()(),iu(2,0,null,null,3,"div",[],null,null,null,null,null)),(e()(),iu(3,0,null,null,2,"div",[["class","avatar ava-md"]],null,null,null,null,null)),(e()(),lu(16777216,null,null,1,null,ES)),Gu(5,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),iu(6,0,null,null,16,"div",[["class","info"]],null,null,null,null,null)),(e()(),lu(16777216,null,null,1,null,kS)),Gu(8,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,AS)),Gu(10,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,TS)),Gu(12,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,IS)),Gu(14,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,BS)),Gu(16,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,OS)),Gu(18,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,RS)),Gu(20,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,MS)),Gu(22,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,PS)),Gu(24,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component;e(t,5,0,t.context.$implicit.visitorName),e(t,8,0,t.context.$implicit.agentEmail),e(t,10,0,!t.context.$implicit.agentEmail),e(t,12,0,!t.context.$implicit.lastMessage.attachment&&t.context.$implicit.lastMessage.chatFormData),e(t,14,0,!t.context.$implicit.lastMessage.attachment&&!t.context.$implicit.lastMessage.chatFormData),e(t,16,0,t.context.$implicit.lastMessage.form&&t.context.$implicit.lastMessage.form.length&&!t.context.$implicit.lastMessage.chatFormData),e(t,18,0,t.context.$implicit.lastMessage.attachment&&n.CheckAttachmentType(t.context.$implicit.lastMessage.body)&&!t.context.$implicit.lastMessage.chatFormData),e(t,20,0,t.context.$implicit.lastMessage.attachment&&!n.CheckAttachmentType(t.context.$implicit.lastMessage.body)&&t.context.$implicit.lastMessage.body.length&&t.context.$implicit.lastMessage.body.length>1&&!t.context.$implicit.lastMessage.chatFormData),e(t,22,0,t.context.$implicit.lastMessage.attachment&&!n.CheckAttachmentType(t.context.$implicit.lastMessage.body)&&t.context.$implicit.lastMessage.body.length&&t.context.$implicit.lastMessage.body.length<2),e(t,24,0,""!=t.context.$implicit.body)},null)}function jS(e){return Ss(0,[(e()(),iu(0,0,[[1,0],["scrollContainer",1]],null,2,"ul",[["class","list-items"],["style","height: calc(100vh - 218px);overflow: hidden;overflow-y: auto;"]],null,[[null,"scroll"]],function(e,t,n){var l=!0;return"scroll"===t&&(l=!1!==e.component.ScrollChanged(n)&&l),l},null,null)),(e()(),lu(16777216,null,null,1,null,NS)),Gu(2,278528,null,0,tp,[Oo,Ai,Yo],{ngForOf:[0,"ngForOf"]},null)],function(e,t){e(t,2,0,t.component.Conversations)},null)}function LS(e){return Ss(0,[(e()(),iu(0,0,null,null,3,"ul",[["class","list-items"]],null,null,null,null,null)),(e()(),iu(1,0,null,null,2,"li",[["class","item"]],null,null,null,null,null)),(e()(),iu(2,0,null,null,1,"app-preloader",[["class","mainSpinner"],["type","spin-loader-gray"]],null,null,null,Qy,Ly)),Gu(3,114688,null,0,jy,[],{type:[0,"type"],spinnerWidth:[1,"spinnerWidth"],spinnerHeight:[2,"spinnerHeight"]},null)],function(e,t){var n=t.component;e(t,3,0,"spin-loader-gray",n.spinnerWidth,n.spinnerHeight)},null)}function VS(e){return Ss(0,[Wu(0,sp,[]),Wu(0,Ky,[bh]),Wu(0,sm,[]),Wu(0,JC,[]),as(671088640,1,{scrollContainer:0}),(e()(),lu(16777216,null,null,1,null,jS)),Gu(6,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,LS)),Gu(8,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component;e(t,6,0,n.Session&&n.Conversations.length>0),e(t,8,0,n.LoadingMessage)},null)}var $S=function(){function e(){}return e.prototype.transform=function(e,t,n,l){if(void 0===l&&(l=!0),!e)return[];if(!t||!t.trim())return l?JSON.parse(JSON.stringify(e)):e;t=t.toLowerCase();var i=[];return e.filter(function(e){n.length?n.forEach(function(n){if(-1!=n.indexOf("visitor.")&&e.visitor[n.split(".")[1]]&&e.visitor[n.split(".")[1]].toString().toLowerCase().includes(t))i.includes(e)||i.push(e);else if(e[n]&&e[n].toString().toLowerCase().includes(t))i.includes(e)||i.push(e);else if(Array.isArray(e[n]))i.includes(e)||JSON.stringify(e[n]).toString().toLowerCase().replace(",","##").includes(t)&&i.push(e);else if(n.split(",").length){var l=n.split(",");e[l[0]]&&e[l[0]][l[1]]&&e[l[0]][l[1]].toString().toLowerCase().includes(t)&&(i.includes(e)||i.push(e))}}):e.toLowerCase().includes(t)&&i.push(e)}),l?JSON.parse(JSON.stringify(i)):i},e}(),HS=function(){function e(e,t){var n=this;this._appStateService=e,this._dataService=t,this.tempTypingData="",this.themeSettings=void 0,this.subscriptions=[],this.faqs=[],this.Filteredfaqs=void 0,this.search="",this.loading=!1,this.infoForm=void 0,this.scrollHeight=0,this.noMoreFaqs=!1,this.showqa=!1,this.spinnerWidth=75,this.spinnerHeight=45,this.faqSearch=new Ia.Subject,this.subscriptions.push(this._appStateService.Settings.subscribe(function(e){e&&(n.themeSettings=e.themeSettings,n.infoForm=e.infoForm),n.subscriptions.push(n._dataService.faqFetched.subscribe(function(e){n.loading=e})),n.subscriptions.push(n._appStateService.Session.subscribe(function(e){n.Session=e})),n.subscriptions.push(n._dataService.FAQS.subscribe(function(e){n.faqs=e,n.displayList=e})),n.subscriptions.push(n._dataService.noMoreFaqsToFetch.subscribe(function(e){n.noMoreFaqs=e}))})),this.subscriptions.push(this.faqSearch.pipe(Object(ig.debounceTime)(500)).subscribe(function(e){if(!n.search)return n.displayList=n.faqs,void(n.tempTypingData="");n.search&&n.tempTypingData!=n.search&&(n.loading=!0,n.tempTypingData=n.search,n._dataService.GetFAQSRest(n.search,n.Session.nsp).subscribe(function(e){n.loading=!1,"ok"==e.status&&(e.FAQS=e.FAQS.filter(function(e){return null==n.displayList.find(function(t){return e._id==t._id})}),n.displayList=n.displayList.concat(e.FAQS))}))}))}return e.prototype.ngOnInit=function(){},e.prototype.ngOnDestroy=function(){this.subscriptions.map(function(e){e.unsubscribe()})},e.prototype.Typing=function(e){this.faqSearch.next()},e.prototype.ngAfterViewInit=function(){this.scrollContainer&&this.scrollContainer.nativeElement&&(this.scrollHeight=this.scrollContainer.nativeElement.scrollHeight)},e.prototype.ScrollChanged=function(e){var t=this;this.filterApplied||this.noMoreFaqs||this.loading||(Math.round(e.target.scrollTop+e.target.clientHeight)>=this.scrollContainer.nativeElement.scrollHeight-10&&(this.loading=!0,this._dataService.GetMoreFAQSRest(this.faqs[this.faqs.length-1]._id,this.Session.nsp).subscribe(function(e){t.loading=!1})),this.scrollHeight=this.scrollContainer.nativeElement.scrollHeight)},e.prototype.showAnswer=function(e){this.filterApplied?this.Filteredfaqs.map(function(t){return t.showqa=!(t._id!=e||t.showqa&&t.showqa),t}):this.faqs.map(function(t){return t.showqa=!(t._id!=e||t.showqa&&t.showqa),t})},e}(),US=Er({encapsulation:2,styles:[[""]],data:{}});function zS(e){return Ss(0,[(e()(),iu(0,0,null,null,13,"div",[["class","input-block m-b-0"]],null,null,null,null,null)),(e()(),iu(1,0,null,null,3,"label",[],null,null,null,null,null)),Gu(2,278528,null,0,rp,[er,Ll,zl],{ngStyle:[0,"ngStyle"]},null),vs(3,{color:0}),(e()(),ys(4,null,["",""])),(e()(),iu(5,0,null,null,8,"div",[["class","input-group"]],null,null,null,null,null)),(e()(),iu(6,0,null,null,7,"input",[["class","form-control"],["placeholder","Search..."],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(e,t,n){var l=!0,i=e.component;return"input"===t&&(l=!1!==Ou(e,9)._handleInput(n.target.value)&&l),"blur"===t&&(l=!1!==Ou(e,9).onTouched()&&l),"compositionstart"===t&&(l=!1!==Ou(e,9)._compositionStart()&&l),"compositionend"===t&&(l=!1!==Ou(e,9)._compositionEnd(n.target.value)&&l),"ngModelChange"===t&&(l=!1!==(i.search=n)&&l),"input"===t&&(l=!1!==i.Typing(n)&&l),l},null,null)),Gu(7,278528,null,0,rp,[er,Ll,zl],{ngStyle:[0,"ngStyle"]},null),vs(8,{"border-color":0}),Gu(9,16384,null,0,nf,[zl,Ll,[2,tf]],null,null),Ju(1024,null,Yh,function(e){return[e]},[nf]),Gu(11,671744,null,0,zf,[[8,null],[8,null],[8,null],[6,Yh]],{model:[0,"model"]},{update:"ngModelChange"}),Ju(2048,null,sf,null,[zf]),Gu(13,16384,null,0,Af,[[4,sf]],null,null)],function(e,t){var n=t.component,l=n.themeSettings?e(t,3,0,n.themeSettings.contentColor):"";e(t,2,0,l);var i=n.themeSettings?e(t,8,0,n.themeSettings.borderColor):"";e(t,7,0,i),e(t,11,0,n.search)},function(e,t){e(t,4,0,t.component.infoForm.heading),e(t,6,0,Ou(t,13).ngClassUntouched,Ou(t,13).ngClassTouched,Ou(t,13).ngClassPristine,Ou(t,13).ngClassDirty,Ou(t,13).ngClassValid,Ou(t,13).ngClassInvalid,Ou(t,13).ngClassPending)})}function qS(e){return Ss(0,[(e()(),iu(0,0,null,null,12,"li",[["class","item"]],null,null,null,null,null)),(e()(),iu(1,0,null,null,11,"div",[],null,[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.showAnswer(e.context.$implicit._id)&&l),l},null,null)),Gu(2,278528,null,0,Yc,[Yo,er,Ll,zl],{ngClass:[0,"ngClass"]},null),(e()(),iu(3,0,null,null,4,"div",[],null,null,null,null,null)),(e()(),iu(4,0,null,null,3,"div",[["class","avatar ava-xs"]],null,null,null,null,null)),(e()(),iu(5,0,null,null,2,"div",[["class","nameInitials svgOnHover"]],null,null,null,null,null)),(e()(),iu(6,0,null,null,0,"img",[["class","svg"],["src","/cw/assets/img/icons/svg/arrow-down-gray-dark.svg"]],null,null,null,null,null)),(e()(),iu(7,0,null,null,0,"img",[["class","svg hover"],["src","/cw/assets/img/icons/svg/arrow-down-blue.svg"]],null,null,null,null,null)),(e()(),iu(8,0,null,null,4,"div",[["class","info"]],null,null,null,null,null)),(e()(),iu(9,0,null,null,1,"b",[["class","question"]],null,null,null,null,null)),(e()(),ys(10,null,["",""])),(e()(),iu(11,0,null,null,1,"div",[["class","answer"]],[[8,"innerHTML",1]],null,null,null,null)),gs(12,2)],function(e,t){e(t,2,0,t.context.$implicit.showqa?"active":"")},function(e,t){e(t,10,0,t.context.$implicit.question);var n=wr(t,11,0,e(t,12,0,Ou(t.parent.parent,1),t.context.$implicit.answer,"html"));e(t,11,0,n)})}function GS(e){return Ss(0,[(e()(),iu(0,0,null,null,2,"li",[["class","item"],["style","\n    border: none;\n    height: 50px;\n    box-shadow: none;"]],null,null,null,null,null)),(e()(),iu(1,0,null,null,1,"app-preloader",[["class","mainSpinner"],["type","spin-loader-gray"]],null,null,null,Qy,Ly)),Gu(2,114688,null,0,jy,[],{type:[0,"type"],spinnerWidth:[1,"spinnerWidth"],spinnerHeight:[2,"spinnerHeight"]},null)],function(e,t){var n=t.component;e(t,2,0,"spin-loader-gray",n.spinnerWidth,n.spinnerHeight)},null)}function WS(e){return Ss(0,[(e()(),iu(0,0,[[1,0],["scrollContainer",1]],null,6,"ul",[["class","list-items faqList"]],null,[[null,"scroll"]],function(e,t,n){var l=!0;return"scroll"===t&&(l=!1!==e.component.ScrollChanged(n)&&l),l},null,null)),(e()(),lu(16777216,null,null,3,null,qS)),Gu(2,278528,null,0,tp,[Oo,Ai,Yo],{ngForOf:[0,"ngForOf"]},null),ms(3,1),gs(4,4),(e()(),lu(16777216,null,null,1,null,GS)),Gu(6,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component,l=wr(t,2,0,e(t,4,0,Ou(t.parent,0),n.displayList,n.search,e(t,3,0,"question"),!1));e(t,2,0,l),e(t,6,0,n.loading)},null)}function JS(e){return Ss(0,[Wu(0,$S,[]),Wu(0,Ky,[bh]),as(671088640,1,{scrollContainer:0}),(e()(),iu(3,0,null,null,4,"div",[["class","page-header"]],null,null,null,null,null)),(e()(),iu(4,0,null,null,3,"h5",[],null,null,null,null,null)),Gu(5,278528,null,0,rp,[er,Ll,zl],{ngStyle:[0,"ngStyle"]},null),vs(6,{color:0}),(e()(),ys(-1,null,["FAQs"])),(e()(),iu(8,0,null,null,2,"div",[["class","card p-14"]],null,null,null,null,null)),(e()(),lu(16777216,null,null,1,null,zS)),Gu(10,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,WS)),Gu(12,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component,l=n.themeSettings?e(t,6,0,n.themeSettings.contentColor):"";e(t,5,0,l),e(t,10,0,n.faqs&&n.faqs.length),e(t,12,0,n.faqs&&n.faqs.length)},null)}var QS=function(){function e(e,t,n){var l=this;this._dataService=e,this._appservice=t,this.dialogue=n,this.Messages=[],this.botUnconfigMessages=[],this.scrollHeight=0,this.autoScroll=!1,this.subscription=[],this.imageError=!1,this.typing=!1,this.sending=!1,this.forceEndedChat=!1,this.chatEnded=!1,this.feedbackSubmitted=!1,this.subscription.push(this._appservice.Settings.subscribe(function(e){e&&(l.themeSettings=e.themeSettings,l.displaySettings=e.messageWindow,l.dialogueSettings=e.dialogSettings)})),this.subscription.push(this._dataService.Messages.subscribe(function(e){e&&e.length>0&&(l.Messages=e)})),this.subscription.push(this._appservice.endChat.subscribe(function(e){l.chatEnded=e})),this.subscription.push(this._dataService.feedbackSubmitted.subscribe(function(e){l.feedbackSubmitted=e})),this.subscription.push(this._appservice.AutoScroll.subscribe(function(e){l.autoScroll=e})),this.subscription.push(this._appservice.Session.subscribe(function(e){e&&(l.Session=e)})),this.subscription.push(this._dataService.botMessages.subscribe(function(e){e.length>0&&(l.botUnconfigMessages=e)})),this.subscription.push(this._dataService.botError.subscribe(function(e){})),this.subscription.push(this._dataService.typing.subscribe(function(e){l.typing=e})),this.subscription.push(this._dataService.sending.subscribe(function(e){l.sending=e})),this.subscription.push(this._dataService.forceEndedChat.subscribe(function(e){l.forceEndedChat=e})),this.subscription.push(this._dataService.ScrollToBottom.subscribe(function(e){e&&l.scrollToBottom()}))}return e.prototype.CheckAttachmentType=function(e){return"string"==typeof e},e.prototype.ngOnDestroy=function(){this.subscription.map(function(e){e.unsubscribe()})},e.prototype.scrollToBottom=function(){this.scrollbarRef&&this.scrollbarRef.nativeElement&&(this.scrollHeight=this.scrollbarRef.nativeElement.scrollHeight,this.scrollbarRef.nativeElement.scrollTop=this.scrollbarRef.nativeElement.scrollHeight)},e.prototype.ngAfterViewInit=function(){this.scrollToBottom()},e.prototype.ScrollChanged=function(e){Math.round(e.target.scrollTop+e.target.clientHeight)>=this.scrollbarRef.nativeElement.scrollHeight-10?this.autoScroll||(this._dataService.UpdateMessageSentStatusRest(),this._appservice.AutoScroll.next(!0),this._appservice.SetMessageCount(0)):this.autoScroll&&this._appservice.AutoScroll.next(!1),this.scrollHeight=this.scrollbarRef.nativeElement.scrollHeight},e.prototype.ngAfterViewChecked=function(){this.scrollbarRef&&this.scrollbarRef.nativeElement.scrollHeight!=this.scrollHeight&&(this.scrollHeight=this.scrollbarRef.nativeElement.scrollHeight,this.autoScroll&&(this.scrollbarRef.nativeElement.scrollTop=this.scrollbarRef.nativeElement.scrollHeight+20))},e.prototype.ngOnInit=function(){},e.prototype.ImageBroken=function(){this.imageError=!0},e.prototype.ApplyHeaderColorWithGradient=function(e){return JSON.parse(JSON.parse(JSON.stringify('{\n      "background": "linear-gradient(20deg,'+this.themeSettings.headerSecondryColor+" 30%, "+this.themeSettings.headerColor+' 100%)"\n    }')))},e.prototype.ResendMessage=function(e){this._dataService.SendMessage(e,!0)},e.prototype.StartOver=function(e){var t=this;this._dataService.ClearSessionData().subscribe(function(e){e&&t._dataService.SessionStartOver(!0).subscribe(function(e){})})},e}(),KS=Er({encapsulation:2,styles:[[""]],data:{}});function ZS(e){return Ss(0,[(e()(),iu(0,0,null,null,7,"div",[["class","day-separator clearfix"]],null,null,null,null,null)),(e()(),iu(1,0,null,null,6,"span",[["class","badge"]],null,null,null,null,null)),(e()(),iu(2,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),ys(3,null,["",""])),(e()(),iu(4,0,null,null,3,"span",[["class","date"]],null,null,null,null,null)),(e()(),ys(5,null,[""," ",""])),gs(6,2),gs(7,2)],null,function(e,t){e(t,3,0,t.parent.context.$implicit.body);var n=wr(t,5,0,e(t,6,0,Ou(t.parent.parent.parent.parent,0),t.parent.context.$implicit.date,"mediumDate")),l=wr(t,5,1,e(t,7,0,Ou(t.parent.parent.parent.parent,0),t.parent.context.$implicit.date,"shortTime"));e(t,5,0,n,l)})}function XS(e){return Ss(0,[(e()(),iu(0,0,null,null,0,"img",[["height","auto"],["src","/cw/assets/img/icons/svg/attach-black.svg"],["width","20"]],null,null,null,null,null))],null,null)}function YS(e){return Ss(0,[(e()(),iu(0,0,null,null,0,"img",[["height","auto"],["width","100%"]],[[8,"src",4]],null,null,null,null))],null,function(e,t){e(t,0,0,eu(1,"",t.parent.parent.context.$implicit.body,""))})}function e_(e){return Ss(0,[(e()(),iu(0,0,null,null,0,"audio",[["controls",""]],[[8,"src",4]],[[null,"progress"]],function(e,t,n){var l=!0;return"progress"===t&&(l=!1!==e.component.Audio(n)&&l),l},null,null))],null,function(e,t){e(t,0,0,eu(1,"",t.parent.parent.context.$implicit.body,""))})}function t_(e){return Ss(0,[(e()(),iu(0,0,null,null,1,"video",[["controls",""],["width","250"]],null,null,null,null,null)),(e()(),iu(1,0,null,null,0,"source",[["type","video/mp4"]],[[8,"src",4]],null,null,null,null))],null,function(e,t){e(t,1,0,eu(1,"",t.parent.parent.context.$implicit.body,""))})}function n_(e){return Ss(0,[(e()(),iu(0,0,null,null,35,"div",[["class","chat-text attachment"]],null,null,null,null,null)),Gu(1,278528,null,0,rp,[er,Ll,zl],{ngStyle:[0,"ngStyle"]},null),vs(2,{"background-color":0,color:1}),vs(3,{"background-color":0,color:1}),(e()(),iu(4,0,null,null,27,"a",[],[[8,"href",4],[8,"target",0]],null,null,null,null)),Gu(5,278528,null,0,Yc,[Yo,er,Ll,zl],{ngClass:[0,"ngClass"]},null),gs(6,1),gs(7,1),gs(8,1),gs(9,1),gs(10,1),gs(11,1),gs(12,1),(e()(),iu(13,0,null,null,13,"div",[["class","thumbnail"]],null,null,null,null,null)),(e()(),lu(16777216,null,null,3,null,XS)),Gu(15,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),gs(16,1),gs(17,1),(e()(),lu(16777216,null,null,2,null,YS)),Gu(19,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),gs(20,1),(e()(),lu(16777216,null,null,2,null,e_)),Gu(22,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),gs(23,1),(e()(),lu(16777216,null,null,2,null,t_)),Gu(25,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),gs(26,1),(e()(),iu(27,0,null,null,4,"div",[["class","file-name tooltip top"]],null,null,null,null,null)),(e()(),iu(28,0,null,null,1,"span",[["class","ellipsis"]],null,null,null,null,null)),(e()(),ys(29,null,["",""])),(e()(),iu(30,0,null,null,1,"span",[["class","tooltip-inner"]],null,null,null,null,null)),(e()(),ys(31,null,["",""])),(e()(),iu(32,0,null,null,3,"span",[["class","arrow"]],null,null,null,null,null)),Gu(33,278528,null,0,rp,[er,Ll,zl],{ngStyle:[0,"ngStyle"]},null),vs(34,{"border-top-color":0}),vs(35,{"border-top-color":0})],function(e,t){var n=t.component,l=n.themeSettings?n.ApplyHeaderColorWithGradient(n.themeSettings.headerColor):n.displaySettings?"Visitors"==t.parent.context.$implicit.type?e(t,2,0,n.displaySettings.sentBGColor,n.displaySettings.sentForeColor):e(t,3,0,n.displaySettings.recieveBGColor,n.displaySettings.recieveForeColor):"";e(t,1,0,l);var i="data"==wr(t,5,0,e(t,6,0,Ou(t.parent.parent.parent.parent,1),t.parent.context.$implicit.body))?"file":"image"==wr(t,5,0,e(t,7,0,Ou(t.parent.parent.parent.parent,1),t.parent.context.$implicit.body))?"image":"audio"==wr(t,5,0,e(t,8,0,Ou(t.parent.parent.parent.parent,1),t.parent.context.$implicit.body))?"audio":"document"==wr(t,5,0,e(t,9,0,Ou(t.parent.parent.parent.parent,1),t.parent.context.$implicit.body))?"document":"video"==wr(t,5,0,e(t,10,0,Ou(t.parent.parent.parent.parent,1),t.parent.context.$implicit.body))?"video":"";e(t,5,0,i);var o="document"==wr(t,15,0,e(t,16,0,Ou(t.parent.parent.parent.parent,1),t.parent.context.$implicit.body))||"data"==wr(t,15,0,e(t,17,0,Ou(t.parent.parent.parent.parent,1),t.parent.context.$implicit.body));e(t,15,0,o);var r=t.parent.context.$implicit.attachment&&"image"==wr(t,19,0,e(t,20,0,Ou(t.parent.parent.parent.parent,1),t.parent.context.$implicit.body));e(t,19,0,r);var u=t.parent.context.$implicit.attachment&&"audio"==wr(t,22,0,e(t,23,0,Ou(t.parent.parent.parent.parent,1),t.parent.context.$implicit.body));e(t,22,0,u);var s=t.parent.context.$implicit.attachment&&"video"==wr(t,25,0,e(t,26,0,Ou(t.parent.parent.parent.parent,1),t.parent.context.$implicit.body));e(t,25,0,s);var a=n.displaySettings?"Visitors"==t.parent.context.$implicit.type?e(t,34,0,n.displaySettings.sentBGColor):e(t,35,0,n.displaySettings.recieveBGColor):"";e(t,33,0,a)},function(e,t){var n=eu(1,"",t.parent.context.$implicit.body,""),l="document"!=wr(t,4,1,e(t,11,0,Ou(t.parent.parent.parent.parent,1),t.parent.context.$implicit.body))||"data"!=wr(t,4,1,e(t,12,0,Ou(t.parent.parent.parent.parent,1),t.parent.context.$implicit.body))?"self":"_blank";e(t,4,0,n,l),e(t,29,0,t.parent.context.$implicit.filename),e(t,31,0,t.parent.context.$implicit.filename)})}function l_(e){return Ss(0,[(e()(),iu(0,0,null,null,0,"img",[["class","svg"],["height","100"],["width","auto"]],[[8,"src",4]],null,null,null,null))],null,function(e,t){e(t,0,0,eu(1,"",t.parent.context.$implicit.path,""))})}function i_(e){return Ss(0,[(e()(),iu(0,0,null,null,0,"img",[["height","auto"],["src","/cw/assets/img/icons/svg/attach-black.svg"],["width","20"]],null,null,null,null,null))],null,null)}function o_(e){return Ss(0,[(e()(),iu(0,0,null,null,0,"audio",[["controls",""]],[[8,"src",4]],null,null,null,null))],null,function(e,t){e(t,0,0,eu(1,"",t.parent.context.$implicit.path,""))})}function r_(e){return Ss(0,[(e()(),iu(0,0,null,null,1,"video",[["controls",""],["width","250"]],null,null,null,null,null)),(e()(),iu(1,0,null,null,0,"source",[["type","video/mp4"]],[[8,"src",4]],null,null,null,null))],null,function(e,t){e(t,1,0,eu(1,"",t.parent.context.$implicit.path,""))})}function u_(e){return Ss(0,[(e()(),iu(0,0,null,null,25,"a",[],[[8,"href",4],[8,"target",0]],null,null,null,null)),Gu(1,278528,null,0,Yc,[Yo,er,Ll,zl],{ngClass:[0,"ngClass"]},null),gs(2,1),gs(3,1),gs(4,1),gs(5,1),gs(6,1),(e()(),iu(7,0,null,null,13,"div",[["class","thumbnail"]],null,null,null,null,null)),(e()(),lu(16777216,null,null,2,null,l_)),Gu(9,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),gs(10,1),(e()(),lu(16777216,null,null,3,null,i_)),Gu(12,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),gs(13,1),gs(14,1),(e()(),lu(16777216,null,null,2,null,o_)),Gu(16,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),gs(17,1),(e()(),lu(16777216,null,null,2,null,r_)),Gu(19,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),gs(20,1),(e()(),iu(21,0,null,null,4,"div",[["class","file-name tooltip top"]],null,null,null,null,null)),(e()(),iu(22,0,null,null,1,"span",[["class","ellipsis"]],null,null,null,null,null)),(e()(),ys(23,null,["",""])),(e()(),iu(24,0,null,null,1,"span",[["class","tooltip-inner"]],null,null,null,null,null)),(e()(),ys(25,null,["",""]))],function(e,t){var n="data"==wr(t,1,0,e(t,2,0,Ou(t.parent.parent.parent.parent.parent,1),t.context.$implicit.filename))?"file":"image"==wr(t,1,0,e(t,3,0,Ou(t.parent.parent.parent.parent.parent,1),t.context.$implicit.filename))?"image":"audio"==wr(t,1,0,e(t,4,0,Ou(t.parent.parent.parent.parent.parent,1),t.context.$implicit.filename))?"audio":"document"==wr(t,1,0,e(t,5,0,Ou(t.parent.parent.parent.parent.parent,1),t.context.$implicit.filename))?"document":"";e(t,1,0,n);var l="image"==wr(t,9,0,e(t,10,0,Ou(t.parent.parent.parent.parent.parent,1),t.context.$implicit.filename));e(t,9,0,l);var i="data"==wr(t,12,0,e(t,13,0,Ou(t.parent.parent.parent.parent.parent,1),t.context.$implicit.filename))||"document"==wr(t,12,0,e(t,14,0,Ou(t.parent.parent.parent.parent.parent,1),t.context.$implicit.filename));e(t,12,0,i);var o="audio"==wr(t,16,0,e(t,17,0,Ou(t.parent.parent.parent.parent.parent,1),t.context.$implicit.filename));e(t,16,0,o);var r="video"==wr(t,19,0,e(t,20,0,Ou(t.parent.parent.parent.parent.parent,1),t.context.$implicit.filename));e(t,19,0,r)},function(e,t){var n=eu(1,"",t.context.$implicit.path,""),l="document"==wr(t,0,1,e(t,6,0,Ou(t.parent.parent.parent.parent.parent,1),t.context.$implicit.filename))?"_parent":"_blank";e(t,0,0,n,l),e(t,23,0,t.context.$implicit.filename),e(t,25,0,t.context.$implicit.filename)})}function s_(e){return Ss(0,[(e()(),iu(0,0,null,null,9,"div",[["class","chat-text attachment"]],null,null,null,null,null)),Gu(1,278528,null,0,rp,[er,Ll,zl],{ngStyle:[0,"ngStyle"]},null),vs(2,{"background-color":0,color:1}),vs(3,{"background-color":0,color:1}),(e()(),lu(16777216,null,null,1,null,u_)),Gu(5,278528,null,0,tp,[Oo,Ai,Yo],{ngForOf:[0,"ngForOf"]},null),(e()(),iu(6,0,null,null,3,"span",[["class","arrow"]],null,null,null,null,null)),Gu(7,278528,null,0,rp,[er,Ll,zl],{ngStyle:[0,"ngStyle"]},null),vs(8,{"border-top-color":0}),vs(9,{"border-top-color":0})],function(e,t){var n=t.component,l=n.displaySettings?"Visitors"==t.parent.context.$implicit.type?e(t,2,0,n.displaySettings.sentBGColor,n.displaySettings.sentForeColor):e(t,3,0,n.displaySettings.recieveBGColor,n.displaySettings.recieveForeColor):"";e(t,1,0,l),e(t,5,0,t.parent.context.$implicit.body);var i=n.displaySettings?"Visitors"==t.parent.context.$implicit.type?e(t,8,0,n.displaySettings.sentBGColor):e(t,9,0,n.displaySettings.recieveBGColor):"";e(t,7,0,i)},null)}function a_(e){return Ss(0,[(e()(),iu(0,0,null,null,12,"div",[["class","chat-text"]],null,null,null,null,null)),Gu(1,278528,null,0,rp,[er,Ll,zl],{ngStyle:[0,"ngStyle"]},null),vs(2,{"background-color":0,color:1}),vs(3,{"background-color":0,color:1}),(e()(),iu(4,0,null,null,4,"p",[],null,null,null,null,null)),Gu(5,278528,null,0,Yc,[Yo,er,Ll,zl],{ngClass:[0,"ngClass"]},null),gs(6,1),(e()(),iu(7,0,null,null,1,"span",[],[[8,"innerHTML",1]],null,null,null,null)),gs(8,2),(e()(),iu(9,0,null,null,3,"span",[["class","arrow"]],null,null,null,null,null)),Gu(10,278528,null,0,rp,[er,Ll,zl],{ngStyle:[0,"ngStyle"]},null),vs(11,{"border-top-color":0}),vs(12,{"border-top-color":0})],function(e,t){var n=t.component,l=n.displaySettings?"Visitors"==t.parent.context.$implicit.type?e(t,2,0,n.displaySettings.sentBGColor,n.displaySettings.sentForeColor):e(t,3,0,n.displaySettings.recieveBGColor,n.displaySettings.recieveForeColor):"";e(t,1,0,l);var i=wr(t,5,0,e(t,6,0,Ou(t.parent.parent.parent.parent,2),t.parent.context.$implicit.body))?"onlyEmoji":"";e(t,5,0,i);var o=n.displaySettings?"Visitors"==t.parent.context.$implicit.type?e(t,11,0,n.displaySettings.sentBGColor):e(t,12,0,n.displaySettings.recieveBGColor):"";e(t,10,0,o)},function(e,t){var n=wr(t,7,0,e(t,8,0,Ou(t.parent.parent.parent.parent,3),t.parent.context.$implicit.body,"html"));e(t,7,0,n)})}function c_(e){return Ss(0,[(e()(),iu(0,0,null,null,8,"div",[["class","input-group-addon"]],null,null,null,null,null)),(e()(),iu(1,0,null,null,7,"div",[["class","pretty p-svg p-toggle m-0"]],null,null,null,null,null)),(e()(),iu(2,0,null,null,0,"input",[["disabled",""],["type","checkbox"]],null,null,null,null,null)),(e()(),iu(3,0,null,null,2,"div",[["class","state p-success-o p-on"]],null,null,null,null,null)),(e()(),iu(4,0,null,null,0,"img",[["class","svg"],["src","/cw/assets/img/icons/svg/show-black.svg"],["width","15"]],null,null,null,null,null)),(e()(),iu(5,0,null,null,0,"label",[["class","b-0"]],null,null,null,null,null)),(e()(),iu(6,0,null,null,2,"div",[["class","state p-black-o p-off"]],null,null,null,null,null)),(e()(),iu(7,0,null,null,0,"img",[["class","svg"],["src","/cw/assets/img/icons/svg/hide-black.svg"],["width","15"]],null,null,null,null,null)),(e()(),iu(8,0,null,null,0,"label",[["class","b-0"]],null,null,null,null,null))],null,null)}function p_(e){return Ss(0,[(e()(),iu(0,0,null,null,6,"div",[["class","input-block"]],null,null,null,null,null)),(e()(),iu(1,0,null,null,1,"label",[],null,null,null,null,null)),(e()(),ys(2,null,[" ","",""])),(e()(),iu(3,0,null,null,3,"div",[["class","input-group"]],null,null,null,null,null)),(e()(),iu(4,0,null,null,0,"input",[["class","form-control"],["disabled",""]],[[8,"id",0],[8,"name",0],[8,"placeholder",0],[8,"type",0],[8,"value",0]],null,null,null,null)),(e()(),lu(16777216,null,null,1,null,c_)),Gu(6,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null)],function(e,t){e(t,6,0,"password"==t.parent.context.$implicit.type)},function(e,t){e(t,2,0,t.parent.context.$implicit.label,t.parent.context.$implicit.validation?"*":""),e(t,4,0,eu(1,"",t.parent.context.$implicit.id,""),eu(1,"",t.parent.context.$implicit.id,""),eu(1,"",t.parent.context.$implicit.placeholder,""),eu(1,"",t.parent.context.$implicit.type,""),eu(1,"",t.parent.context.$implicit.submittedData,""))})}function d_(e){return Ss(0,[(e()(),iu(0,0,null,null,4,"div",[["class","pretty p-default p-round m-b-7"]],null,null,null,null,null)),(e()(),iu(1,0,null,null,0,"input",[["disabled",""]],[[8,"id",0],[8,"checked",0],[8,"type",0],[8,"value",0],[8,"name",0]],null,null,null,null)),(e()(),iu(2,0,null,null,2,"div",[["class","state"]],null,null,null,null,null)),(e()(),iu(3,0,null,null,1,"label",[],null,null,null,null,null)),(e()(),ys(4,null,["",""]))],null,function(e,t){e(t,1,0,eu(1,"",t.parent.parent.context.$implicit.id,""),t.parent.parent.context.$implicit.submittedData,eu(1,"",t.parent.parent.context.$implicit.type,""),eu(1,"",t.context.$implicit.key,""),eu(1,"",t.parent.parent.context.$implicit.id,"")),e(t,4,0,t.context.$implicit.value)})}function h_(e){return Ss(0,[(e()(),iu(0,0,null,null,4,"div",[["class","input-block"]],null,null,null,null,null)),(e()(),iu(1,0,null,null,1,"label",[],null,null,null,null,null)),(e()(),ys(2,null,["","",""])),(e()(),lu(16777216,null,null,1,null,d_)),Gu(4,278528,null,0,tp,[Oo,Ai,Yo],{ngForOf:[0,"ngForOf"]},null)],function(e,t){e(t,4,0,t.parent.context.$implicit.options)},function(e,t){e(t,2,0,t.parent.context.$implicit.label,t.parent.context.$implicit.validation?"*":"")})}function f_(e){return Ss(0,[(e()(),iu(0,0,null,null,7,"div",[["class","input-block"]],null,null,null,null,null)),(e()(),iu(1,0,null,null,1,"label",[],null,null,null,null,null)),(e()(),ys(2,null,[" ","",""])),(e()(),iu(3,0,null,null,4,"div",[["class","pretty p-default p-round"]],null,null,null,null,null)),(e()(),iu(4,0,null,null,0,"input",[["class","form-control"],["disabled",""]],[[8,"id",0],[8,"checked",0],[8,"type",0],[8,"value",0]],null,null,null,null)),(e()(),iu(5,0,null,null,2,"div",[["class","state"]],null,null,null,null,null)),(e()(),iu(6,0,null,null,1,"label",[],null,null,null,null,null)),(e()(),ys(7,null,["",""]))],null,function(e,t){e(t,2,0,t.parent.context.$implicit.label,t.parent.context.$implicit.validation?"*":""),e(t,4,0,eu(1,"",t.parent.context.$implicit.id,""),t.parent.context.$implicit.submittedData,eu(1,"",t.parent.context.$implicit.type,""),eu(1,"",t.parent.context.$implicit.value[0],"")),e(t,7,0,t.parent.context.$implicit.value[0])})}function g_(e){return Ss(0,[(e()(),iu(0,0,null,null,3,"option",[["disabled","true"]],[[8,"selected",0]],null,null,null,null)),Gu(1,147456,null,0,mf,[Ll,zl,[8,null]],{value:[0,"value"]},null),Gu(2,147456,null,0,yf,[Ll,zl,[8,null]],{value:[0,"value"]},null),(e()(),ys(3,null,[" "," "]))],function(e,t){e(t,1,0,eu(1,"",t.parent.parent.context.$implicit.submittedData,"")),e(t,2,0,eu(1,"",t.parent.parent.context.$implicit.submittedData,""))},function(e,t){e(t,0,0,t.parent.parent.context.$implicit.submittedData),e(t,3,0,t.parent.parent.context.$implicit.submittedData)})}function m_(e){return Ss(0,[(e()(),iu(0,0,null,null,3,"option",[["disabled","true"]],null,null,null,null,null)),Gu(1,147456,null,0,mf,[Ll,zl,[8,null]],{value:[0,"value"]},null),Gu(2,147456,null,0,yf,[Ll,zl,[8,null]],{value:[0,"value"]},null),(e()(),ys(3,null,[" "," "]))],function(e,t){e(t,1,0,eu(1,"",t.context.$implicit.key,"")),e(t,2,0,eu(1,"",t.context.$implicit.key,""))},function(e,t){e(t,3,0,t.context.$implicit.value)})}function v_(e){return Ss(0,[(e()(),iu(0,0,null,null,8,"div",[["class","input-block"]],null,null,null,null,null)),(e()(),iu(1,0,null,null,1,"label",[],null,null,null,null,null)),(e()(),ys(2,null,[" ","",""])),(e()(),iu(3,0,null,null,5,"div",[["class","sel style1"]],null,null,null,null,null)),(e()(),iu(4,0,null,null,4,"select",[["class","form-control"]],[[8,"name",0],[8,"id",0]],null,null,null,null)),(e()(),lu(16777216,null,null,1,null,g_)),Gu(6,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,m_)),Gu(8,278528,null,0,tp,[Oo,Ai,Yo],{ngForOf:[0,"ngForOf"]},null)],function(e,t){e(t,6,0,t.parent.context.$implicit.submittedData),e(t,8,0,t.parent.context.$implicit.options)},function(e,t){e(t,2,0,t.parent.context.$implicit.label,t.parent.context.$implicit.validation?"*":""),e(t,4,0,eu(1,"",t.parent.context.$implicit.id,""),eu(1,"",t.parent.context.$implicit.id,""))})}function D_(e){return Ss(0,[(e()(),lu(16777216,null,null,1,null,p_)),Gu(1,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,h_)),Gu(3,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,f_)),Gu(5,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,v_)),Gu(7,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(0,null,null,0))],function(e,t){e(t,1,0,"text"==t.context.$implicit.type||"password"==t.context.$implicit.type||"email"==t.context.$implicit.type),e(t,3,0,"radio"==t.context.$implicit.type),e(t,5,0,"checkbox"==t.context.$implicit.type),e(t,7,0,"dropdown"==t.context.$implicit.type)},null)}function y_(e){return Ss(0,[(e()(),iu(0,0,null,null,1,"b",[],null,null,null,null,null)),(e()(),ys(1,null,["",""]))],null,function(e,t){e(t,1,0,t.parent.parent.context.$implicit.form[0].formFooter)})}function b_(e){return Ss(0,[(e()(),iu(0,0,null,null,15,"div",[["class","clearfix canned-access-form"]],null,null,null,null,null)),(e()(),iu(1,0,null,null,1,"h4",[["class","clearfix"]],null,null,null,null,null)),(e()(),ys(2,null,["",""])),(e()(),iu(3,0,null,null,0,"hr",[["class","bg-gray clearfix"]],null,null,null,null,null)),(e()(),iu(4,0,null,null,6,"form",[["id","formInputs"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(e,t,n){var l=!0;return"submit"===t&&(l=!1!==Ou(e,6).onSubmit(n)&&l),"reset"===t&&(l=!1!==Ou(e,6).onReset()&&l),l},null,null)),Gu(5,16384,null,0,Gf,[],null,null),Gu(6,4210688,null,0,Lf,[[8,null],[8,null]],null,null),Ju(2048,null,qh,null,[Lf]),Gu(8,16384,null,0,Tf,[[4,qh]],null,null),(e()(),lu(16777216,null,null,1,null,D_)),Gu(10,278528,null,0,tp,[Oo,Ai,Yo],{ngForOf:[0,"ngForOf"]},null),(e()(),iu(11,0,null,null,0,"hr",[["class","bg-gray"]],null,null,null,null,null)),(e()(),lu(16777216,null,null,1,null,y_)),Gu(13,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),iu(14,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),iu(15,0,null,null,0,"br",[],null,null,null,null,null))],function(e,t){e(t,10,0,t.parent.context.$implicit.form[0].formFields),e(t,13,0,t.parent.context.$implicit.form[0].formFooter)},function(e,t){e(t,2,0,t.parent.context.$implicit.form[0].formHeader?t.parent.context.$implicit.form[0].formHeader:"Form"),e(t,4,0,Ou(t,8).ngClassUntouched,Ou(t,8).ngClassTouched,Ou(t,8).ngClassPristine,Ou(t,8).ngClassDirty,Ou(t,8).ngClassValid,Ou(t,8).ngClassInvalid,Ou(t,8).ngClassPending)})}function C_(e){return Ss(0,[(e()(),iu(0,0,null,null,3,"span",[["class","msg-status text-red crsr-pointer"]],null,[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.ResendMessage(e.parent.parent.context.$implicit)&&l),l},null,null)),(e()(),iu(1,0,null,null,0,"img",[["height","auto"],["src","/cw/assets/img/icons/svg/redo-black.svg"],["width","15"]],null,null,null,null,null)),(e()(),iu(2,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),ys(-1,null,["Resend"]))],null,null)}function S_(e){return Ss(0,[(e()(),iu(0,0,null,null,2,"span",[["class","msg-status text-blue"]],null,null,null,null,null)),(e()(),iu(1,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),ys(-1,null,["Seen"]))],null,null)}function __(e){return Ss(0,[(e()(),iu(0,0,null,null,2,"span",[["class","msg-status"]],null,null,null,null,null)),(e()(),iu(1,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),ys(-1,null,["Delivered"]))],null,null)}function w_(e){return Ss(0,[(e()(),iu(0,0,null,null,13,"div",[["class","chat-info"]],null,null,null,null,null)),Gu(1,278528,null,0,rp,[er,Ll,zl],{ngStyle:[0,"ngStyle"]},null),vs(2,{color:0}),vs(3,{color:0}),(e()(),iu(4,0,null,null,3,"span",[],null,null,null,null,null)),(e()(),ys(5,null,[""," ",""])),gs(6,2),gs(7,2),(e()(),lu(16777216,null,null,1,null,C_)),Gu(9,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,S_)),Gu(11,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,__)),Gu(13,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component,l=n.displaySettings?"Visitors"==t.parent.context.$implicit.type?e(t,2,0,n.displaySettings.sentForeColor):e(t,3,0,n.displaySettings.recieveForeColor):"";e(t,1,0,l),e(t,9,0,t.parent.context.$implicit.retry&&!(t.parent.context.$implicit.delivered||t.parent.context.$implicit.sent)),e(t,11,0,t.parent.context.$implicit.sent&&"Visitors"==t.parent.context.$implicit.type),e(t,13,0,!t.parent.context.$implicit.sent&&t.parent.context.$implicit.delivered&&"Visitors"==t.parent.context.$implicit.type)},function(e,t){var n=wr(t,5,0,e(t,6,0,Ou(t.parent.parent.parent.parent,0),t.parent.context.$implicit.date,"mediumDate")),l=wr(t,5,1,e(t,7,0,Ou(t.parent.parent.parent.parent,0),t.parent.context.$implicit.date,"shortTime"));e(t,5,0,n,l)})}function F_(e){return Ss(0,[(e()(),iu(0,0,null,null,3,"div",[["class","chat-info"]],null,null,null,null,null)),(e()(),iu(1,0,null,null,2,"span",[["class","msg-status"]],null,null,null,null,null)),(e()(),iu(2,0,null,null,1,"app-preloader",[["type","spin-loader-gray"]],null,null,null,Qy,Ly)),Gu(3,114688,null,0,jy,[],{type:[0,"type"],spinnerWidth:[1,"spinnerWidth"],spinnerHeight:[2,"spinnerHeight"]},null)],function(e,t){e(t,3,0,"spin-loader-gray",10,10)},null)}function x_(e){return Ss(0,[(e()(),iu(0,0,null,null,15,"div",[],null,null,null,null,null)),Gu(1,278528,null,0,Yc,[Yo,er,Ll,zl],{ngClass:[0,"ngClass"]},null),(e()(),lu(16777216,null,null,1,null,ZS)),Gu(3,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,n_)),Gu(5,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,s_)),Gu(7,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,a_)),Gu(9,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,b_)),Gu(11,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,w_)),Gu(13,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,F_)),Gu(15,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component;e(t,1,0,"Visitors"==t.context.$implicit.type?"chat-msg msg_sent":"Events"==t.context.$implicit.type?"chat-msg":"chat-msg msg_recieved"),e(t,3,0,"Events"==t.context.$implicit.type),e(t,5,0,""!=t.context.$implicit.body&&t.context.$implicit.attachment&&n.CheckAttachmentType(t.context.$implicit.body)&&"Events"!=t.context.$implicit.type),e(t,7,0,""!=t.context.$implicit.body&&t.context.$implicit.attachment&&!n.CheckAttachmentType(t.context.$implicit.body)&&t.context.$implicit.body.length&&"Events"!=t.context.$implicit.type),e(t,9,0,""!=t.context.$implicit.body&&!t.context.$implicit.attachment&&"Events"!=t.context.$implicit.type),e(t,11,0,t.context.$implicit.form&&t.context.$implicit.form.length&&"Events"!=t.context.$implicit.type),e(t,13,0,!t.context.$implicit.sending&&(""!=t.context.$implicit.body||t.context.$implicit.form&&t.context.$implicit.form.length)&&"Events"!=t.context.$implicit.type);var l=t.context.$implicit.sending&&(t.context.$implicit.hasOwnProperty("delivered")||t.context.$implicit.hasOwnProperty("retry")||t.context.$implicit.hasOwnProperty("sent"))&&"Visitors"==t.context.$implicit.type;e(t,15,0,l)},null)}function E_(e){return Ss(0,[(e()(),iu(0,0,null,null,2,"div",[["class","messages clearfix"]],null,null,null,null,null)),(e()(),lu(16777216,null,null,1,null,x_)),Gu(2,278528,null,0,tp,[Oo,Ai,Yo],{ngForOf:[0,"ngForOf"]},null)],function(e,t){e(t,2,0,t.component.Messages)},null)}function k_(e){return Ss(0,[(e()(),iu(0,0,null,null,9,"div",[["class","chat-msg msg_recieved"]],null,null,null,null,null)),(e()(),iu(1,0,null,null,8,"div",[["class","chat-text"]],null,null,null,null,null)),Gu(2,278528,null,0,rp,[er,Ll,zl],{ngStyle:[0,"ngStyle"]},null),vs(3,{"background-color":0}),(e()(),iu(4,0,null,null,2,"p",[],null,null,null,null,null)),(e()(),iu(5,0,null,null,1,"app-preloader",[["type","dot-loader"]],null,null,null,Qy,Ly)),Gu(6,114688,null,0,jy,[],{type:[0,"type"]},null),(e()(),iu(7,0,null,null,2,"span",[["class","arrow"]],null,null,null,null,null)),Gu(8,278528,null,0,rp,[er,Ll,zl],{ngStyle:[0,"ngStyle"]},null),vs(9,{"border-top-color":0})],function(e,t){var n=t.component,l=n.displaySettings?e(t,3,0,n.displaySettings.recieveBGColor):"";e(t,2,0,l),e(t,6,0,"dot-loader");var i=n.displaySettings?e(t,9,0,n.displaySettings.recieveBGColor):"";e(t,8,0,i)},null)}function A_(e){return Ss(0,[(e()(),iu(0,0,null,null,7,"div",[["class","messages clearfix"]],null,null,null,null,null)),(e()(),iu(1,0,null,null,6,"div",[["class","chat-msg"]],null,null,null,null,null)),(e()(),iu(2,0,null,null,5,"div",[["class","day-separator clearfix"]],null,null,null,null,null)),(e()(),iu(3,0,null,null,4,"button",[["class","btn m-0"],["type","button"]],null,[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.StartOver(n)&&l),l},null,null)),Gu(4,278528,null,0,rp,[er,Ll,zl],{ngStyle:[0,"ngStyle"]},null),vs(5,{"background-color":0,color:1}),(e()(),iu(6,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),ys(-1,null,["Start Over"]))],function(e,t){var n=t.component,l=n.dialogueSettings?e(t,5,0,n.dialogueSettings.dialogSecondaryBtnColor,n.dialogueSettings.btnTextcolor):"";e(t,4,0,l)},null)}function T_(e){return Ss(0,[(e()(),iu(0,0,[[1,0],["scrollbarRef",1]],null,7,"div",[["class","msgList"],["id","msgList"]],null,[[null,"scroll"]],function(e,t,n){var l=!0;return"scroll"===t&&(l=!1!==e.component.ScrollChanged(n)&&l),l},null,null)),(e()(),lu(16777216,null,null,1,null,E_)),Gu(2,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),iu(3,0,null,null,2,"div",[["class","messages clearfix"]],null,null,null,null,null)),(e()(),lu(16777216,null,null,1,null,k_)),Gu(5,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,A_)),Gu(7,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component;e(t,2,0,n.Messages&&n.Messages.length),e(t,5,0,n.typing),e(t,7,0,n.forceEndedChat&&n.Session&&!n.feedbackSubmitted&&(2==n.Session.state||3==n.Session.state||4==n.Session.state||8==n.Session.state))},null)}function I_(e){return Ss(0,[Wu(0,ap,[or]),Wu(0,sm,[]),Wu(0,am,[]),Wu(0,Ky,[bh]),as(671088640,1,{scrollbarRef:0}),(e()(),lu(16777216,null,null,1,null,T_)),Gu(6,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null)],function(e,t){e(t,6,0,t.component.Session.agent)},null)}var B_=function(){function e(e,t){this.el=e,this.renderer=t}return e.prototype.ngOnInit=function(){},e.prototype.ngAfterViewInit=function(){var e=this;(this._autofocus||void 0===this._autofocus)&&setTimeout(function(){e.el.nativeElement.focus()},1e3)},Object.defineProperty(e.prototype,"autofocus",{set:function(e){this._autofocus=0!=e},enumerable:!0,configurable:!0}),e}(),O_=function(){function e(e){this.element=e}return e.prototype.ngOnInit=function(){this.adjustCustom()},e.prototype.adjustCustom=function(){var e=this.element.nativeElement;e.style.height=this.minHeight+"px",e.style.height=e.scrollHeight+"px",e.scrollHeight<=this.maximumHeight?(e.style.overflowY="hidden",delete e.style.maxHeight):(e.style.overflowY="scroll",e.style.maxHeight=this.maximumHeight+"px")},e}(),R_=n("VYWT"),M_=n("wVMs"),P_=function(){function e(e,t,n){var l=this;this._appService=e,this._socketService=t,this._restService=n,this.uploadingUrl="",this.mediaAddress="",this.cdnAddress="",this.fileLinks=[],this.DateFormats=new Qf.BehaviorSubject({fullPickerInput:{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric"},datePickerInput:{year:"numeric",month:"numeric",day:"numeric"},timePickerInput:{hour:"numeric",minute:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}),this._appService.CDNAddress.subscribe(function(e){l.cdnAddress=e}),this._appService.MediaServiceAddress.subscribe(function(e){l.mediaAddress=e}),this._appService.Session.subscribe(function(e){l.Session=e}),this._socketService.GetSocketInstance().subscribe(function(e){l.Socket=e})}return e.prototype.getSeekableBlob1=function(e){return new Yf.Observable(function(t){try{var n=new R_.Reader,l=new R_.Decoder,i=R_.tools,o=new FileReader;o.addEventListener("load",function(e){l.decode(e.target.result).forEach(function(e){n.read(e)}),n.stop();var o=i.makeMetadataSeekable(n.metadatas,n.duration,n.cues),r=e.target.result.slice(n.metadataSize),u=new Blob([o,r],{type:"audio/webm"});u&&(t.next(u),t.complete())}),o.readAsArrayBuffer(e)}catch(r){}})},e.prototype.CreateAuioURL=function(e){return new Yf.Observable(function(t){e&&(t.next(URL.createObjectURL(e)),t.complete())})},e.prototype.GetFileasURL=function(e){var t=this;try{var n=new FileReader;return this.fileLinks=[],Array.from(e).map(function(e,l){"file"===e.kind&&(t.fileLinks.push(e.getAsFile()),n.addEventListener("load",function(e){}),t.fileLinks.push(n.readAsDataURL(e)))}),Object(M_.forkJoin)(this.fileLinks)}catch(l){}},e.prototype.GenerateLinkForUploadFiles=function(e){var t=this;try{return this.fileLinks=[],Array.from(e).map(function(e){t.fileLinks.push(t.SignRequest(e))}),Object(M_.forkJoin)(this.fileLinks)}catch(n){}},e.prototype.SignRequest=function(e){var t=this;return new Yf.Observable(function(n){if(e.name){var l=e.name.substr(e.name.lastIndexOf(".")+1),i=e.name.replace(new RegExp(l,"gi"),l.toLowerCase()),o=e.slice(0,e.size,e.type);e=new File([o],i,{type:e.type,lastModified:e.lastModified});var r=new XMLHttpRequest;r.open("POST",t.mediaAddress+"/upload/uploadCredintials/",!0),r.setRequestHeader("Content-type","application/json"),r.send(JSON.stringify({size:e.size.toString(),type:e.type,name:encodeURIComponent(e.name),nsp:t.Session.nsp})),r.onreadystatechange=function(l){try{if(200==r.status&&4==r.readyState){var i=JSON.parse(r.response);i.file=e,t.uploadAttachment(i).subscribe(function(l){var i=(Aa.local?"":t.cdnAddress+"/")+t.ValidateS3MediaUploadResponse(l);n.next({filename:e.name,path:i}),n.complete()},function(e){n.error({error:'"Error in Uploading"'})})}else r.status>=200&&r.status<400||4!=r.readyState||t.ShowAttachmentError(JSON.parse(r.response)).subscribe(function(t){n.next({name:e.name,error:t}),n.complete()})}catch(o){n.error({error:"Error in uploading"})}}}else n.error({error:"invalid input"})})},e.prototype.uploadAttachment=function(e){var t=this;return new Yf.Observable(function(n){var l=new FormData;l.append("key",e.key),l.append("acl",e.acl),l.append("success_action_status",e.success_action_status),l.append("Content-Type",e.file.type),l.append("policy",e.policy),l.append("cache-control","public, max-age=31536000"),l.append("content-disposition",(t.isImage(e.file.name)?"inline; ":"attachment; ")+'filename="'+e.uName+'"'),l.append("x-amz-algorithm",e["x-amz-algorithm"]),l.append("X-Amz-Credential",e["x-amz-credential"]),l.append("x-amz-date",e["x-amz-date"]),l.append("x-amz-signature",e["x-amz-signature"]),l.append("file",e.file),delete e.uName,t._restService.SendXMLHttpRequest(e.upload_url,"POST",l,!1,!1).subscribe(function(e){e&&t.parseXML(e).subscribe(function(e){n.next(e),n.complete()},function(e){n.error({error:"Error in uploading"})})},function(e){n.error({error:"Error in uploading"})})})},e.prototype.parseXML=function(e){return new Yf.Observable(function(t){try{var n=(new DOMParser).parseFromString(e,"text/xml");t.next(n),t.complete()}catch(l){t.error("Error in Parsing XML")}})},e.prototype.ValidateS3MediaUploadResponse=function(e){var t=Aa.production||Aa.dev?e.getElementsByTagName("Key")[0].innerHTML:Aa.local?e.getElementsByTagName("Location")[0].innerHTML:e.getElementsByTagName("Key")[0].innerHTML;if(t)return t;throw new Error((new XMLSerializer).serializeToString(e.documentElement))},e.prototype.isImage=function(e){switch(e.split(".").pop().toLowerCase()){case"png":case"jpg":case"jpeg":return!0;default:return!1}},e.prototype.getSeekableBlob=function(e,t){var n=new R_.Reader,l=new R_.Decoder,i=R_.tools,o=new FileReader;o.onload=function(e){l.decode(e.target.result).forEach(function(e){n.read(e)}),n.stop();var o=i.makeMetadataSeekable(n.metadatas,n.duration,n.cues),r=e.target.result.slice(n.metadataSize),u=new Blob([o,r],{type:"audio/webm"});t(u)},o.readAsArrayBuffer(e)},e.prototype.GetDateFormats=function(){return this.DateFormats.asObservable()},e.prototype.ShowAttachmentError=function(e){return new Yf.Observable(function(t){try{var n;e.errors&&Object.keys(e.errors).length?Object.keys(e.errors).some(function(t){if(e.errors[t])return n=t,e.errors[t]}):n=e.error;var l=void 0;switch(n){case"typeError":l="Invalid file type.";break;case"sizeError":l="file size should be Less than 5MB";break;case"nameError":l="Invalid file name.";break;case"requestError":l="Invalid request";break;default:l=n}t.next(l),t.complete()}catch(e){t.error({error:e})}})},e}(),N_=n("qe5e"),j_=n("mkMP"),L_=function(){function e(e,t,n,l){var i=this;this._dataService=e,this._appservice=t,this._uploadingService=n,this.dialogue=l,this.plainText="",this.plainTextWithEmoji="",this.hasEmoji=!1,this.fileValid=!1,this.file=void 0,this.fileErrors=[],this.audioError=!1,this.seconds=0,this.mins=0,this.recordingStarted=!1,this.isAudioSent=!1,this.uploading=!1,this.shiftdown=!1,this.error=!1,this.filesDropped=[],this.EmojiWrapper=!1,this.uploadingErrorText="",this.fileSharingPermission=!1,this.disbleForm=!1,this.subscription=[],this.cannedFormOpened=!1,this.ShowAttachmentAreaDnd=!1,this.chatEnded=!1,this.id="emoji-&#x",this.hash="&#x",this.EmojiSections=[!0,!1,!1,!1,!1,!1,!1,!1,!1],this.CheckTypingState=new A,this.SneakPeak=new A,this.tempTypingState=!1,this.tempTypingData="",this.noAgentWarning=!1,this.subscription.push(this._appservice.Session.subscribe(function(e){i.Session=e,i.Session&&2!=i.Session.state&&i.noAgentWarning&&(i.noAgentWarning=!1)})),this.subscription.push(this._dataService.cannedFormOpened.subscribe(function(e){i.cannedFormOpened=e})),this.subscription.push(this._dataService.closeEmoji.subscribe(function(e){e&&(i.EmojiWrapper&&(i.EmojiWrapper=!1),!i.fileValid&&i.error&&i.uploadingErrorText&&(i.uploadingErrorText="",i.fileValid=!0,i.audioError=!1,i.error=!1),i.userMediaError&&(i.userMediaError=void 0))})),this.subscription.push(this._dataService.actionFormReceived.subscribe(function(e){e&&!i.cannedFormOpened&&(i._dataService.cannedFormOpened.next(!0),i.dialogue.open(my,{disableClose:!0,autoFocus:!0,data:{form:e}}).afterClosed().subscribe(function(e){i._dataService.cannedFormOpened.next(!1),e&&"ok"==e.status&&(e.message&&i._dataService.AppendEventsMessages(e.message),i.Session&&8==i.Session.state?i._dataService.AppendChatBotMessage(i._dataService.GetChatBotReplyMessage("",[e.form])):i._dataService.SendPlainMessageGeneralized("",[e.form]))}))})),this.subscription.push(this._dataService.attachmentGallery.subscribe(function(e){e&&e.files&&e.filesUrls&&(i.filesDropped=e.filesUrls,i.AddFileToView(e.files),i._dataService.attachmentGallery.next(void 0))})),this.subscription.push(this.CheckTypingState.subscribe(function(e){3==i.Session.state&&(i.plainText.trim()?i.plainText.trim().length>1&&!i.tempTypingState?i._dataService.SendTypingEventRest(!0).subscribe(function(e){i.tempTypingState=!0}):i.plainText.trim().length<2&&!i.tempTypingState&&i._dataService.SendTypingEventRest(!0).subscribe(function(e){i.tempTypingState=!0}):i._dataService.SendTypingEventRest(!1).subscribe(function(e){i.tempTypingState=!1}))})),this.subscription.push(this.SneakPeak.pipe(Object(ig.debounceTime)(1e3)).subscribe(function(e){var t=i.plainText.trim();3==i.Session.state&&i.tempTypingData!=i.plainText&&i._dataService.SneakPeakRest(t).subscribe(function(e){i.tempTypingData=t})})),this.Emojis=j_,this.subscription.push(this._appservice.FSharePermissions.subscribe(function(e){i.fileSharingPermission=e})),this.subscription.push(this._appservice.FSharePermissions.subscribe(function(e){i.fileSharingPermission=e})),this.subscription.push(this._dataService.forceEndedChat.subscribe(function(e){i.forceChatEnded=e})),this.subscription.push(this._appservice.ShowEndchatDialog.subscribe(function(e){i.chatEnded=e,8==i.Session.state||i.chatEnded||i.forceChatEnded||i._dataService.SendTypingEventRest(!1).subscribe(function(e){i.tempTypingState=!1})})),this.subscription.push(this._appservice.Settings.subscribe(function(e){e&&(i.themeSettings=e.dialogSettings)}))}return e.prototype.UpdateArray=function(e,t){var n=e.findIndex(function(e){return e.id===t.id});-1===n?e.push(t):e[n]=t},e.prototype.ngOnInit=function(){this.Session&&!this.Session.inactive&&(this.CheckTypingState.next(),this.SneakPeak.next())},e.prototype.EmojiHeader=function(e){for(var t=this.EmojiContent.nativeElement.children,n=this.EmojiHead.nativeElement.children,l=e,i=0;i<n.length;i++)n[i].className="";var o=document.getElementById("emoji-icon-"+l);for(o.className="",o.className="active",i=0;i<t.length;i++)t[i].className="",t[i].className="hide";var r=document.getElementById(l||"Smileys");r.className="",r.className="show"},e.prototype.EmojiContentAppend=function(e){-1!==e.target.id.indexOf("emoji-&#x")&&(this.plainText+=e.target.innerText)},e.prototype.ngAfterViewInit=function(){},e.prototype.AddFileToView=function(e){if(!this.uploading){if(this.fileValid=!0,this.file){var t=this.file.concat(e);this.RemoveDuplicateFiles(t)}else this.file=[],this.file=this.file.concat(e);this.file.map(function(e){e.loading=!1})}},e.prototype.RemoveDuplicateFiles=function(e){this.file=e.filter(function(t,n){return e.findIndex(function(e){return e.name==t.name})==n})},e.prototype.SendAttachment=function(){var e=this;if(this.file&&this.file.length){if(this.file&&this.file.length&&!this.uploading){this.file=this.file.filter(function(e){return!e.hasOwnProperty("error")});var t=this.file;this.audioFile&&this.audioFile.length&&(t=this.file.filter(function(t){return null==e.audioFile.find(function(e){return t.name==e.name})})),t=this.audioFile&&this.audioFile.length?t.concat(this.audioFile.filter(function(e){return!(e.hasOwnProperty("error")||e.loading)})):t,this.audioFile&&this.audioFile.length&&(this.audioFile=this.audioFile.filter(function(e){return e.loading})),t&&t.length&&(this.uploading=!0,this._uploadingService.GenerateLinkForUploadFiles(t).subscribe(function(t){var n=t.filter(function(e){return!e.hasOwnProperty("error")});e.file=t.filter(function(e){return e.hasOwnProperty("error")}),n&&n.length&&e._dataService.SendAttatchment({from:e.Session.username?e.Session.username:"",to:e.Session.agent,body:n,type:"Visitors",cid:e.Session.cid?e.Session.cid:"",attachment:!0}),e.uploading=!1,e.file&&!e.file.length&&(e.file=void 0),(e.file&&!e.file.length||e.fileInput.nativeElement)&&(e.fileInput.nativeElement.value=""),e._dataService.attachmentGallery.next(void 0)},function(t){Ba("in generate link error"),Ba(t),e._uploadingService.ShowAttachmentError(t).subscribe(function(n){Ba("fileerror"),t&&(e.error=!0,e.fileValid=!1,e.uploading=!1,e.uploadingErrorText=n,e._dataService.attachmentGallery.next(void 0))},function(t){Ba("error"),e.error=!0,e.fileValid=!1,e.uploading=!1,e.uploadingErrorText=t.error,e._dataService.attachmentGallery.next(void 0),Ba("error in attatchment")})}))}this._dataService.attachmentGallery.next(void 0)}},e.prototype.Send=function(){var e=this;this.uploading||this.SendAttachment(),(this.plainText||this.plainText.replace(/^\s+|\s+$/g,""))&&this._dataService.SendTypingEventRest(!1).subscribe(function(t){e.tempTypingState=!1}),this._dataService.SendPlainMessageGeneralized(this.plainText),this.plainText="",this.plainTextWithEmoji="",2==this.Session.state&&(this.noAgentWarning=!0),this._dataService.attachmentGallery.next(void 0)},e.prototype.FileSelected=function(e){var t=this;if(e.target.files&&e.target.files.length){var n=Array.from(e.target.files).filter(function(e){return e.type});this.AddFileToView(n)}else this.fileValid=!1,this.ClearFile(),setTimeout(function(){return[t.fileValid=!0]},3e3)},e.prototype.ClearFile=function(e,t){e&&(e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation()),this.file&&this.file.length&&(this.file=this.file.filter(function(e){return e.name!=t})),this.audioFile&&this.audioFile.length&&(this.audioFile=this.audioFile.filter(function(e){return e.name!=t})),(this.file&&!this.file.length||!t)&&(this.file=void 0,this.fileInput.nativeElement.value=""),(this.audioFile&&!this.audioFile.length||!t)&&(this.audioFile=void 0)},e.prototype.startRecording=function(){var e=this;if(!this.recordingStarted)try{this.userMediaError="",navigator.mediaDevices.getUserMedia({audio:!0,video:!1}).then(function(t){e.isAudioSent=!1,e.recordingStarted=!0,Ba("recording"),setTimeout(function(){var n=document.getElementById("progressBarParent").clientWidth,l=document.getElementById("progressBar"),i=n/60,o=0;e.mediaStream=t,e.recordRTC=N_(t,{type:"audio"}),e.recordRTC.startRecording(),e.recordingInterval=setInterval(function(){e.seconds++,l.style.width=(o+=i)+"px",60==e.seconds&&(e.mins+=1,e.stopRecording(),clearInterval(e.recordingInterval))},1e3)},0)}).catch(function(t){e.userMediaError="NotAllowedError"==t.name?"Please allow your browser to access you microphone.":t,Ba("catch block get usermedia"),Ba(t),e.recordingStarted=!1})}catch(t){this.userMediaError=t,Ba("error in getting navigator"),Ba(t)}},e.prototype.cancelRecording=function(){var e=this;this.seconds=0,this.mins=0,this.recordingStarted=!1,this.recordRTC.stopRecording(function(){e.mediaStream.getTracks()[0].stop(),e.isAudioSent=!1,clearInterval(e.recordingInterval)})},e.prototype.stopRecording=function(){var e=this;this.recordingStarted=!1,this.isAudioSent||(this.seconds=0,this.mins=0,this.recordRTC.stopRecording(function(){e._uploadingService.getSeekableBlob(e.recordRTC.getBlob(),function(t){var n=new File([t],"stream"+(new Date).getTime()+".mp3",{type:"audio/webm"});n&&!e.uploading&&(e.uploading=!0,e._uploadingService.GenerateLinkForUploadFiles([n]).subscribe(function(t){e.uploading=!1;var l=t.filter(function(e){return!e.hasOwnProperty("error")});l&&l.length?e._dataService.SendAttatchment({from:e.Session.username?e.Session.username:"",to:e.Session.agent,body:l,type:"Visitors",cid:e.Session.cid?e.Session.cid:"",attachment:!0,filename:n.name}):n&&t&&t.length&&t[0].error&&(e.audioError=!0,e.error=!0,e.fileValid=!1,e.uploading=!1,e.uploadingErrorText=t[0].error)},function(t){e._uploadingService.ShowAttachmentError(t).subscribe(function(n){t&&(e.audioError=!0,e.error=!0,e.fileValid=!1,e.uploading=!1,e.uploadingErrorText=n,e._dataService.attachmentGallery.next(void 0),e.ClearFile())},function(t){e.audioError=!0,e.error=!0,e.fileValid=!1,e.uploading=!1,e.uploadingErrorText=t.error,e._dataService.attachmentGallery.next(void 0),e.ClearFile()})})),e.mediaStream.getTracks()[0].stop(),e.isAudioSent=!0,clearInterval(e.recordingInterval)})}))},e.prototype.stopRecordingasFIle=function(){var e=this;this.seconds=0,this.mins=0,this.fileValid=!0,(!this.file||this.file&&!this.file.length)&&(this.file=[]);var t="stream"+(new Date).getTime()+".mp3",n=new File([],t,{type:"audio/webm"});this.recordingStarted=!1,Object.defineProperty(n,"loading",{value:!0,enumerable:!0}),this.file=this.file.concat([n]);try{this.recordRTC.stopRecording(function(){e._uploadingService.getSeekableBlob(e.recordRTC.getBlob(),function(n){var l=new File([n],t,{type:"audio/webm"});if(l){(!e.audioFile||e.audioFile&&!e.audioFile.length)&&(e.audioFile=[]),e.audioFile=e.audioFile.concat([l]);var i=e.file.findIndex(function(e){return e.name==l.name});delete e.file[i].loading,e._uploadingService.CreateAuioURL(n).subscribe(function(n){n&&e.dialogue.open(Zy,{data:{audioUrl:n},disableClose:!0,autoFocus:!0,panelClass:["dialog-inner"]}).afterClosed().subscribe(function(n){if("ok"==n.status){if(n.fileName){var o=n.fileName+"."+e.file[i].name.split(".")[1];Object.defineProperty(e.file[i],"name",{value:o,enumerable:!0}),e.audioFile.map(function(e){return e.name==t&&Object.defineProperty(e,"name",{value:o,enumerable:!0}),e})}Object.defineProperty(e.file[i],"lastModified",{value:l.lastModified,enumerable:!0}),Object.defineProperty(e.file[i],"size",{value:l.size,enumerable:!0})}else e.ClearFile(void 0,l.name)})})}else e.file=e.file.map(function(e){return e.name==l.name&&(e.error="Error in voice in note",e.loading=!1),e});e.mediaStream.getTracks()[0].stop(),clearInterval(e.recordingInterval)})})}catch(l){this.mediaStream.getTracks()[0].stop(),clearInterval(this.recordingInterval),this.recordingStarted=!1}},e.prototype.TypingEvent=function(e){this.Session&&!this.Session.inactive&&(this.CheckTypingState.next(),this.SneakPeak.next())},e.prototype.keydown=function(e){var t=this;if(this.disbleForm)return!1;if("Enter"==e.key&&e.shiftKey);else if("Enter"==e.key&&!e.shiftKey){if(4==this.Session.state||5==this.Session.state){this.disbleForm=!0;var n=this.plainText;this._dataService.ChangeState(3).subscribe(function(e){"ok"==e.status?(t.plainText=n,t.disbleForm=!1,t.Send()):t.disbleForm=!1},function(e){t.disbleForm=!1})}else this.Send();return!1}},e.prototype.keyDownFunction=function(e){var t=this;if(1==e.which){var n=new KeyboardEvent("keydown",{shiftKey:!1,bubbles:!0,cancelable:!1,code:"Enter",composed:!0,key:"Enter",view:window});this.messageTextArea.nativeElement.dispatchEvent(n),this.keydown(n),setTimeout(function(){t.messageTextArea.nativeElement.dispatchEvent(n),t.messageTextArea.nativeElement.focus()},0)}},e.prototype.EmojiTab=function(e){e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),this.EmojiWrapper=!this.EmojiWrapper},e.prototype.stopRecording1=function(){var e=this;this.seconds=0,this.mins=0,this.fileValid=!0,(!this.file||this.file&&!this.file.length)&&(this.file=[]);var t="stream"+(new Date).getTime()+".mp3",n=new File([],t,{type:"audio/webm"});this.recordingStarted=!1,Object.defineProperty(n,"loading",{value:!0,enumerable:!0}),this.file=this.file.concat([n]);try{this.recordRTC.stopRecording(function(){setTimeout(function(){document.getElementById("chatContentArea").click(),document.getElementById("chatContentArea").focus()},1e3),e._uploadingService.getSeekableBlob(e.recordRTC.getBlob(),function(n){var l=new File([n],t,{type:"audio/webm"});if(l){(!e.audioFile||e.audioFile&&!e.audioFile.length)&&(e.audioFile=[]),e.audioFile=e.audioFile.concat([l]);var i=e.file.findIndex(function(e){return e.name==l.name});delete e.file[i].loading,Object.defineProperty(e.file[i],"lastModified",{value:l.lastModified,enumerable:!0}),Object.defineProperty(e.file[i],"size",{value:l.size,enumerable:!0})}else e.file=e.file.map(function(e){return e.name==l.name&&(e.error="Error in voice in note",e.loading=!1),e});e.mediaStream.getTracks()[0].stop(),clearInterval(e.recordingInterval)})})}catch(l){this.mediaStream.getTracks()[0].stop(),clearInterval(this.recordingInterval),this.recordingStarted=!1}},e}(),V_=Er({encapsulation:2,styles:[['@charset "UTF-8";#emoji-div-wrapper{height:200px;width:calc(100% - 40px);position:fixed;padding:0;left:20px;border:1px solid #ccc;border-top-left-radius:5px;border-top-right-radius:5px;border-bottom:none;opacity:0;display:block}#emoji-div-wrapper.showEmoji{-webkit-transition:opacity .3s linear,visibility .5s;transition:opacity .3s linear,visibility .5s;visibility:visible;opacity:1;bottom:100px;z-index:9999}#emoji-div-wrapper.hideEmoji{-webkit-transition:opacity .3s linear,visibility .5s;transition:opacity .3s linear,visibility .5s;opacity:0;bottom:-100px;z-index:9999;visibility:hidden}#emoji-div-wrapper #emoji-div{height:200px;width:100%;overflow:hidden;overflow-y:scroll;background:#fff;border-bottom:none;padding:15px}#emoji-div-wrapper #emoji-div p{text-align:left}#emoji-div-wrapper #emoji-div p a{font-size:22px;width:34px;height:34px;margin:0;text-align:center;display:inline-block;-webkit-transform:scale(1);transform:scale(1);-webkit-transition:-webkit-transform .2s;transition:-webkit-transform .2s ease;transition:transform .2s ease;transition:transform .2s ease,-webkit-transform .2s ease}#emoji-div-wrapper #emoji-div p a:hover{-webkit-transform:scale(1.3);transform:scale(1.3)}#emoji-div-wrapper #emoji-menu{width:100%;border-top:1px solid #ccc;border-bottom:1px solid #ccc;position:absolute;background:#fff;text-align:center;top:100%}#emoji-div-wrapper #emoji-menu li{display:inline-block;padding:8.8px}#emoji-div-wrapper #emoji-menu li.active,#emoji-div-wrapper #emoji-menu li:hover{background:#ccc}#emoji-div-wrapper #emoji-menu i{font-style:unset}#emojiBox{position:inherit;right:20px;float:right}[data-title]:hover::before{content:attr(data-title);position:absolute;display:inline-block;padding:3px 5px;border-radius:2px;background:#000;color:#fff;font-size:10px;font-family:sans-serif;line-height:1.5;white-space:inherit;top:40px;width:auto}.icon-emoji:before{content:"\ud83d\ude0a";font-size:17px}.icon-emoji-smiley:before{content:"\ud83d\ude0a"}.icon-emoji-animal:before{content:"\ud83d\udc15"}.icon-emoji-activity:before{content:"\ud83c\udfc4"}.icon-emoji-people:before{content:"\ud83d\udc68"}.icon-emoji-object:before{content:"\ud83d\udd59"}.icon-emoji-place:before{content:"\ud83d\ude86"}.icon-emoji-food:before{content:"\ud83c\udf54"}.icon-emoji-cloth:before{content:"\ud83d\udc54"}.icon-emoji-sport:before{content:"\u26bd"}.icon-emoji-size{font-size:3vw}.fileAlert{vertical-align:bottom;margin-left:5px}']],data:{}});function $_(e){return Ss(0,[(e()(),iu(0,0,null,null,22,"ul",[["class","attachment-area recording"]],null,null,null,null,null)),(e()(),iu(1,0,null,null,21,"li",[],null,null,null,null,null)),(e()(),iu(2,0,null,null,1,"div",[["class","icon animated pulse"]],null,null,null,null,null)),(e()(),iu(3,0,null,null,0,"img",[["alt",""],["src","/cw/assets/img/icons/svg/mic-on-gray.svg"],["width","100%"]],null,null,null,null,null)),(e()(),iu(4,0,null,null,7,"div",[["class","progress-bar"]],null,null,null,null,null)),(e()(),iu(5,0,null,null,1,"div",[["id","progressBarParent"]],null,null,null,null,null)),(e()(),iu(6,0,null,null,0,"span",[["id","progressBar"]],null,null,null,null,null)),(e()(),iu(7,0,null,null,4,"div",[["class","counter"]],null,null,null,null,null)),(e()(),iu(8,0,null,null,3,"span",[],null,null,null,null,null)),(e()(),ys(9,null,["",":"," | 01:00"])),gs(10,2),gs(11,2),(e()(),iu(12,0,null,null,10,"div",[["class","actions"]],null,null,null,null,null)),(e()(),iu(13,0,null,null,4,"button",[["class","btn bg-gray-light svgOnHover tooltip top"]],null,[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.cancelRecording()&&l),l},null,null)),(e()(),iu(14,0,null,null,0,"img",[["class","svg"],["src","/cw/assets/img/icons/svg/cancel-circle-outline.svg"]],null,null,null,null,null)),(e()(),iu(15,0,null,null,0,"img",[["class","svg hover"],["src","/cw/assets/img/icons/svg/cancel-circle-filled.svg"]],null,null,null,null,null)),(e()(),iu(16,0,null,null,1,"span",[["class","tooltip-inner"]],null,null,null,null,null)),(e()(),ys(-1,null,["Cancel Recording"])),(e()(),iu(18,0,null,null,4,"button",[["class","btn bg-gray-light svgOnHover tooltip top-right"],["title","Send"]],null,[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.stopRecording()&&l),l},null,null)),(e()(),iu(19,0,null,null,0,"img",[["class","svg"],["src","/cw/assets/img/icons/svg/send-outline.svg"]],null,null,null,null,null)),(e()(),iu(20,0,null,null,0,"img",[["class","svg hover"],["src","/cw/assets/img/icons/svg/send-filled.svg"]],null,null,null,null,null)),(e()(),iu(21,0,null,null,1,"span",[["class","tooltip-inner"]],null,null,null,null,null)),(e()(),ys(-1,null,["Send"]))],null,function(e,t){var n=t.component,l=wr(t,9,0,e(t,10,0,Ou(t.parent.parent,0),n.mins,1)),i=wr(t,9,1,e(t,11,0,Ou(t.parent.parent,0),n.seconds,2));e(t,9,0,l,i)})}function H_(e){return Ss(0,[(e()(),iu(0,0,null,null,7,"ul",[["class","attachment-area errors"]],null,null,null,null,null)),(e()(),iu(1,0,null,null,6,"li",[["class","bg-danger"]],null,null,null,null,null)),(e()(),iu(2,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),ys(3,null,["",""])),(e()(),iu(4,0,null,null,3,"a",[["class","btn btn-xs btn-transparent pull-right tooltip top-right"],["href","https://utlv.screenstepslive.com/s/faculty/m/54123/l/984966-enabling-microphone-and-camera-use-in-web-browsers#enabling-microphone-and-camera-in-mozilla-firefox"],["target","_blank"]],null,null,null,null,null)),(e()(),iu(5,0,null,null,0,"img",[["alt","Delete"],["src","/cw/assets/img/icons/svg/info-circle-outline-white.svg"],["width","20"]],null,null,null,null,null)),(e()(),iu(6,0,null,null,1,"span",[["class","tooltip-inner"]],null,null,null,null,null)),(e()(),ys(-1,null,["Click Here"]))],null,function(e,t){e(t,3,0,t.component.userMediaError)})}function U_(e){return Ss(0,[(e()(),iu(0,0,null,null,8,"ul",[["class","attachment-area warning"]],null,null,null,null,null)),(e()(),iu(1,0,null,null,7,"li",[],null,null,null,null,null)),(e()(),iu(2,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),ys(-1,null,["Please Wait We'll Get Back To You Soon.."])),(e()(),iu(4,0,null,null,4,"button",[["class","btn btn-xs btn-transparent pull-right svgOnHover tooltip top-right"]],null,[[null,"click"]],function(e,t,n){var l=!0,i=e.component;return"click"===t&&(l=0!=(i.noAgentWarning=!i.noAgentWarning)&&l),l},null,null)),(e()(),iu(5,0,null,null,0,"img",[["class","svg"],["src","/cw/assets/img/icons/svg/cancel-circle-outline.svg"],["width","20"]],null,null,null,null,null)),(e()(),iu(6,0,null,null,0,"img",[["class","svg hover"],["src","/cw/assets/img/icons/svg/cancel-circle-filled.svg"],["width","20"]],null,null,null,null,null)),(e()(),iu(7,0,null,null,1,"span",[["class","tooltip-inner"]],null,null,null,null,null)),(e()(),ys(-1,null,["Close"]))],null,null)}function z_(e){return Ss(0,[(e()(),iu(0,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),ys(1,null,[""," ",""]))],null,function(e,t){var n=t.parent.context.$implicit.name,l=t.parent.context.$implicit.hasOwnProperty("size")&&t.parent.context.$implicit.size<1?"(Empty File)":"";e(t,1,0,n,l)})}function q_(e){return Ss(0,[(e()(),iu(0,0,null,null,3,"span",[],null,null,null,null,null)),(e()(),iu(1,0,null,null,2,"div",[],null,null,null,null,null)),(e()(),iu(2,0,null,null,1,"app-preloader",[["type","spin-loader-gray"]],null,null,null,Qy,Ly)),Gu(3,114688,null,0,jy,[],{type:[0,"type"],spinnerWidth:[1,"spinnerWidth"],spinnerHeight:[2,"spinnerHeight"]},null)],function(e,t){e(t,3,0,"spin-loader-gray",25,25)},null)}function G_(e){return Ss(0,[(e()(),iu(0,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),ys(1,null,["",""]))],null,function(e,t){e(t,1,0,t.parent.context.$implicit.name)})}function W_(e){return Ss(0,[(e()(),iu(0,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),ys(1,null,["",""]))],null,function(e,t){e(t,1,0,t.parent.context.$implicit.error?t.parent.context.$implicit.error:"")})}function J_(e){return Ss(0,[(e()(),iu(0,0,null,null,1,"app-preloader",[["type","stat-loader-black"]],null,null,null,Qy,Ly)),Gu(1,114688,null,0,jy,[],{type:[0,"type"]},null)],function(e,t){e(t,1,0,"stat-loader-black")},null)}function Q_(e){return Ss(0,[(e()(),iu(0,0,null,null,2,"button",[["class","btn btn-xs btn-transparent pull-right svgOnHover"]],null,[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.ClearFile(n,e.parent.context.$implicit.name)&&l),l},null,null)),(e()(),iu(1,0,null,null,0,"img",[["class","svg"],["src","/cw/assets/img/icons/svg/delete-outline.svg"],["width","20"]],null,null,null,null,null)),(e()(),iu(2,0,null,null,0,"img",[["class","svg hover"],["src","/cw/assets/img/icons/svg/delete-filled.svg"],["width","20"]],null,null,null,null,null))],null,null)}function K_(e){return Ss(0,[(e()(),iu(0,0,null,null,15,"li",[],null,null,null,null,null)),Gu(1,278528,null,0,Yc,[Yo,er,Ll,zl],{ngClass:[0,"ngClass"]},null),(e()(),lu(16777216,null,null,1,null,z_)),Gu(3,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,q_)),Gu(5,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),iu(6,0,null,null,5,"span",[],null,null,null,null,null)),(e()(),lu(16777216,null,null,1,null,G_)),Gu(8,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),iu(9,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),lu(16777216,null,null,1,null,W_)),Gu(11,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,J_)),Gu(13,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,Q_)),Gu(15,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component;e(t,1,0,t.context.$implicit.error?"bg-danger":""),e(t,3,0,!t.context.$implicit.error);var l=t.context.$implicit.hasOwnProperty("loading")&&t.context.$implicit.loading;e(t,5,0,l);var i=t.context.$implicit.name&&t.context.$implicit.error&&!n.uploading&&(!t.context.$implicit.hasOwnProperty("loading")||t.context.$implicit.hasOwnProperty("loading")&&!t.context.$implicit.loading);e(t,8,0,i);var o=t.context.$implicit.name&&t.context.$implicit.error&&!n.uploading&&(!t.context.$implicit.hasOwnProperty("loading")||t.context.$implicit.hasOwnProperty("loading")&&!t.context.$implicit.loading);e(t,11,0,o);var r=n.uploading&&(!t.context.$implicit.hasOwnProperty("loading")||t.context.$implicit.hasOwnProperty("loading")&&!t.context.$implicit.loading);e(t,13,0,r);var u=(!n.uploading||t.context.$implicit.error)&&(!t.context.$implicit.hasOwnProperty("loading")||t.context.$implicit.hasOwnProperty("loading")&&!t.context.$implicit.loading);e(t,15,0,u)},null)}function Z_(e){return Ss(0,[(e()(),iu(0,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),ys(1,null,["",""]))],null,function(e,t){e(t,1,0,t.component.uploadingErrorText)})}function X_(e){return Ss(0,[(e()(),iu(0,0,null,null,2,"div",[["class","bg-danger p-7 w100 m-b-7"]],null,null,null,null,null)),(e()(),lu(16777216,null,null,1,null,Z_)),Gu(2,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null)],function(e,t){e(t,2,0,t.component.error)},null)}function Y_(e){return Ss(0,[(e()(),iu(0,0,null,null,20,"div",[["class","attachment-area document"]],null,null,null,null,null)),(e()(),iu(1,0,null,null,2,"ul",[],null,null,null,null,null)),(e()(),lu(16777216,null,null,1,null,K_)),Gu(3,278528,null,0,tp,[Oo,Ai,Yo],{ngForOf:[0,"ngForOf"]},null),(e()(),iu(4,0,null,null,16,"div",[["class","attachment-footer"]],null,null,null,null,null)),(e()(),iu(5,0,null,null,2,"div",[],null,null,null,null,null)),(e()(),lu(16777216,null,null,1,null,X_)),Gu(7,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),iu(8,0,null,null,12,"div",[],null,null,null,null,null)),(e()(),iu(9,0,null,null,5,"button",[["class","btn btn-xxs"]],null,[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.SendAttachment()&&l),l},null,null)),Gu(10,278528,null,0,Yc,[Yo,er,Ll,zl],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),Gu(11,278528,null,0,rp,[er,Ll,zl],{ngStyle:[0,"ngStyle"]},null),vs(12,{"background-color":0,color:1}),(e()(),iu(13,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),ys(14,null,["Send ",""])),(e()(),iu(15,0,null,null,5,"button",[["class","btn btn-xxs bg-red"]],null,[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.ClearFile(n)&&l),l},null,null)),Gu(16,278528,null,0,Yc,[Yo,er,Ll,zl],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),Gu(17,278528,null,0,rp,[er,Ll,zl],{ngStyle:[0,"ngStyle"]},null),vs(18,{"background-color":0,color:1}),(e()(),iu(19,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),ys(-1,null,["Remove All"]))],function(e,t){var n=t.component;e(t,3,0,n.file),e(t,7,0,!n.fileValid),e(t,10,0,"btn btn-xxs",!n.file||n.uploading?"disabled":"");var l=n.themeSettings?e(t,12,0,n.themeSettings.dialogBtnColor,n.themeSettings.dialogBtnTextColor):"";e(t,11,0,l),e(t,16,0,"btn btn-xxs bg-red",!n.file||n.uploading?"disabled":"");var i=n.themeSettings?e(t,18,0,n.themeSettings.dialogSecondaryBtnColor,n.themeSettings.dialogSecondaryBtnTextColor):"";e(t,17,0,i)},function(e,t){var n=t.component;e(t,14,0,n.file&&n.file.length>1?"Attachments":"Attachment")})}function ew(e){return Ss(0,[(e()(),iu(0,0,[[2,0],["chatMessage",1]],null,10,"textarea",[["appAutoGrow",""],["autofocus",""],["id","chatMessage"],["maxlength","20000"],["name","chatMessage"],["placeholder","Type and hit 'Enter' to send"]],[[1,"maxlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"keydown"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"keyup"],[null,"cut"],[null,"paste"],[null,"change"]],function(e,t,n){var l=!0,i=e.component;return"input"===t&&(l=!1!==Ou(e,2)._handleInput(n.target.value)&&l),"blur"===t&&(l=!1!==Ou(e,2).onTouched()&&l),"compositionstart"===t&&(l=!1!==Ou(e,2)._compositionStart()&&l),"compositionend"===t&&(l=!1!==Ou(e,2)._compositionEnd(n.target.value)&&l),"input"===t&&(l=!1!==Ou(e,10).ngOnInit(n.target)&&l),"keydown"===t&&(l=!1!==Ou(e,10).ngOnInit(n.target)&&l),"keyup"===t&&(l=!1!==Ou(e,10).ngOnInit(n.target)&&l),"cut"===t&&(l=!1!==Ou(e,10).ngOnInit(n.target)&&l),"paste"===t&&(l=!1!==Ou(e,10).ngOnInit(n.target)&&l),"change"===t&&(l=!1!==Ou(e,10).ngOnInit(n.target)&&l),"ngModelChange"===t&&(l=!1!==(i.plainText=n)&&l),"keydown"===t&&(l=!1!==i.keydown(n)&&l),"input"===t&&(l=!1!==i.TypingEvent(n)&&l),l},null,null)),Gu(1,278528,null,0,Yc,[Yo,er,Ll,zl],{ngClass:[0,"ngClass"]},null),Gu(2,16384,null,0,nf,[zl,Ll,[2,tf]],null,null),Gu(3,540672,null,0,qf,[],{maxlength:[0,"maxlength"]},null),Ju(1024,null,Wh,function(e){return[e]},[qf]),Ju(1024,null,Yh,function(e){return[e]},[nf]),Gu(6,671744,null,0,zf,[[8,null],[6,Wh],[8,null],[6,Yh]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),Ju(2048,null,sf,null,[zf]),Gu(8,16384,null,0,Af,[[4,sf]],null,null),Gu(9,4276224,null,0,B_,[Ll,$l],{autofocus:[0,"autofocus"]},null),Gu(10,81920,null,0,O_,[Ll],{maximumHeight:[0,"maximumHeight"],minHeight:[1,"minHeight"]},null)],function(e,t){var n=t.component;e(t,1,0,n.chatEnded||n.disbleForm?"disabled":""),e(t,3,0,"20000"),e(t,6,0,"chatMessage",n.plainText),e(t,9,0,""),e(t,10,0,200,43)},function(e,t){e(t,0,0,Ou(t,3).maxlength?Ou(t,3).maxlength:null,Ou(t,8).ngClassUntouched,Ou(t,8).ngClassTouched,Ou(t,8).ngClassPristine,Ou(t,8).ngClassDirty,Ou(t,8).ngClassValid,Ou(t,8).ngClassInvalid,Ou(t,8).ngClassPending)})}function tw(e){return Ss(0,[(e()(),iu(0,0,[[2,0],["chatMessage",1]],null,10,"textarea",[["appAutoGrow",""],["autofocus",""],["id","chatMessage"],["maxlength","20000"],["name","chatMessage"],["placeholder","Type and hit 'Enter' to send"]],[[1,"maxlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"keydown"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"keyup"],[null,"cut"],[null,"paste"],[null,"change"]],function(e,t,n){var l=!0,i=e.component;return"input"===t&&(l=!1!==Ou(e,2)._handleInput(n.target.value)&&l),"blur"===t&&(l=!1!==Ou(e,2).onTouched()&&l),"compositionstart"===t&&(l=!1!==Ou(e,2)._compositionStart()&&l),"compositionend"===t&&(l=!1!==Ou(e,2)._compositionEnd(n.target.value)&&l),"input"===t&&(l=!1!==Ou(e,10).ngOnInit(n.target)&&l),"keydown"===t&&(l=!1!==Ou(e,10).ngOnInit(n.target)&&l),"keyup"===t&&(l=!1!==Ou(e,10).ngOnInit(n.target)&&l),"cut"===t&&(l=!1!==Ou(e,10).ngOnInit(n.target)&&l),"paste"===t&&(l=!1!==Ou(e,10).ngOnInit(n.target)&&l),"change"===t&&(l=!1!==Ou(e,10).ngOnInit(n.target)&&l),"ngModelChange"===t&&(l=!1!==(i.plainText=n)&&l),"keydown"===t&&(l=!1!==i.keydown(n)&&l),"input"===t&&(l=!1!==i.TypingEvent(n)&&l),l},null,null)),Gu(1,278528,null,0,Yc,[Yo,er,Ll,zl],{ngClass:[0,"ngClass"]},null),Gu(2,16384,null,0,nf,[zl,Ll,[2,tf]],null,null),Gu(3,540672,null,0,qf,[],{maxlength:[0,"maxlength"]},null),Ju(1024,null,Wh,function(e){return[e]},[qf]),Ju(1024,null,Yh,function(e){return[e]},[nf]),Gu(6,671744,null,0,zf,[[8,null],[6,Wh],[8,null],[6,Yh]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),Ju(2048,null,sf,null,[zf]),Gu(8,16384,null,0,Af,[[4,sf]],null,null),Gu(9,4276224,null,0,B_,[Ll,$l],{autofocus:[0,"autofocus"]},null),Gu(10,81920,null,0,O_,[Ll],{maximumHeight:[0,"maximumHeight"],minHeight:[1,"minHeight"]},null)],function(e,t){var n=t.component;e(t,1,0,n.chatEnded||n.disbleForm?"disabled":""),e(t,3,0,"20000"),e(t,6,0,"chatMessage",n.plainText),e(t,9,0,""),e(t,10,0,200,43)},function(e,t){e(t,0,0,Ou(t,3).maxlength?Ou(t,3).maxlength:null,Ou(t,8).ngClassUntouched,Ou(t,8).ngClassTouched,Ou(t,8).ngClassPristine,Ou(t,8).ngClassDirty,Ou(t,8).ngClassValid,Ou(t,8).ngClassInvalid,Ou(t,8).ngClassPending)})}function nw(e){return Ss(0,[(e()(),iu(0,0,null,null,0,"a",[],[[8,"id",0],[8,"innerHTML",1]],null,null,null,null))],null,function(e,t){e(t,0,0,eu(1,"emoji-",t.context.$implicit,""),t.context.$implicit)})}function lw(e){return Ss(0,[(e()(),iu(0,0,null,null,0,"a",[],[[8,"id",0],[8,"innerHTML",1]],null,null,null,null))],null,function(e,t){e(t,0,0,eu(1,"emoji-",t.context.$implicit,""),t.context.$implicit)})}function iw(e){return Ss(0,[(e()(),iu(0,0,null,null,0,"a",[],[[8,"id",0],[8,"innerHTML",1]],null,null,null,null))],null,function(e,t){e(t,0,0,eu(1,"emoji-",t.context.$implicit,""),t.context.$implicit)})}function ow(e){return Ss(0,[(e()(),iu(0,0,null,null,0,"a",[],[[8,"id",0],[8,"innerHTML",1]],null,null,null,null))],null,function(e,t){e(t,0,0,eu(1,"emoji-",t.context.$implicit,""),t.context.$implicit)})}function rw(e){return Ss(0,[(e()(),iu(0,0,null,null,0,"a",[],[[8,"id",0],[8,"innerHTML",1]],null,null,null,null))],null,function(e,t){e(t,0,0,eu(1,"emoji-",t.context.$implicit,""),t.context.$implicit)})}function uw(e){return Ss(0,[(e()(),iu(0,0,null,null,0,"a",[],[[8,"id",0],[8,"innerHTML",1]],null,null,null,null))],null,function(e,t){e(t,0,0,eu(1,"emoji-",t.context.$implicit,""),t.context.$implicit)})}function sw(e){return Ss(0,[(e()(),iu(0,0,null,null,0,"a",[],[[8,"id",0],[8,"innerHTML",1]],null,null,null,null))],null,function(e,t){e(t,0,0,eu(1,"emoji-",t.context.$implicit,""),t.context.$implicit)})}function aw(e){return Ss(0,[(e()(),iu(0,0,null,null,0,"a",[],[[8,"id",0],[8,"innerHTML",1]],null,null,null,null))],null,function(e,t){e(t,0,0,eu(1,"emoji-",t.context.$implicit,""),t.context.$implicit)})}function cw(e){return Ss(0,[(e()(),iu(0,0,null,null,0,"a",[],[[8,"id",0],[8,"innerHTML",1]],null,null,null,null))],null,function(e,t){e(t,0,0,eu(1,"emoji-",t.context.$implicit,""),t.context.$implicit)})}function pw(e){return Ss(0,[(e()(),iu(0,0,null,null,57,"div",[["id","emoji-div-wrapper"]],null,null,null,null,null)),Gu(1,278528,null,0,Yc,[Yo,er,Ll,zl],{ngClass:[0,"ngClass"]},null),(e()(),iu(2,0,[[3,0],["emoji_header",1]],null,27,"ul",[["id","emoji-menu"]],null,null,null,null,null)),(e()(),iu(3,0,null,null,2,"li",[["class","active"],["id","emoji-icon-Smileys"]],null,[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.EmojiHeader("Smileys")&&l),l},null,null)),(e()(),iu(4,0,null,null,1,"a",[["class","icon-emoji-size"],["data-title","Smileys"],["id","emoji-icon-li-Smileys"]],null,null,null,null,null)),(e()(),iu(5,0,null,null,0,"i",[["class","icon-emoji-smiley"]],null,null,null,null,null)),(e()(),iu(6,0,null,null,2,"li",[["id","emoji-icon-Animals"]],null,[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.EmojiHeader("Animals")&&l),l},null,null)),(e()(),iu(7,0,null,null,1,"a",[["class","icon-emoji-size"],["data-title","Animals & Nature"],["id","emoji-icon-li-Animals"]],null,null,null,null,null)),(e()(),iu(8,0,null,null,0,"i",[["class","icon-emoji-animal"]],null,null,null,null,null)),(e()(),iu(9,0,null,null,2,"li",[["id","emoji-icon-Activities"]],null,[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.EmojiHeader("Activities")&&l),l},null,null)),(e()(),iu(10,0,null,null,1,"a",[["class","icon-emoji-size"],["data-title","Activities"],["id","emoji-icon-li-Activities"]],null,null,null,null,null)),(e()(),iu(11,0,null,null,0,"i",[["class","icon-emoji-activity"]],null,null,null,null,null)),(e()(),iu(12,0,null,null,2,"li",[["id","emoji-icon-People"]],null,[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.EmojiHeader("People")&&l),l},null,null)),(e()(),iu(13,0,null,null,1,"a",[["class","icon-emoji-size"],["data-title","People"],["id","emoji-icon-li-People"]],null,null,null,null,null)),(e()(),iu(14,0,null,null,0,"i",[["class","icon-emoji-people"]],null,null,null,null,null)),(e()(),iu(15,0,null,null,2,"li",[["id","emoji-icon-Objects"]],null,[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.EmojiHeader("Objects")&&l),l},null,null)),(e()(),iu(16,0,null,null,1,"a",[["class","icon-emoji-size"],["data-title","Objects & Symbols"],["id","emoji-icon-li-Objects"]],null,null,null,null,null)),(e()(),iu(17,0,null,null,0,"i",[["class","icon-emoji-object"]],null,null,null,null,null)),(e()(),iu(18,0,null,null,2,"li",[["id","emoji-icon-Places"]],null,[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.EmojiHeader("Places")&&l),l},null,null)),(e()(),iu(19,0,null,null,1,"a",[["class","icon-emoji-size"],["data-title","Travel & Places"],["id","emoji-icon-li-Places"]],null,null,null,null,null)),(e()(),iu(20,0,null,null,0,"i",[["class","icon-emoji-place"]],null,null,null,null,null)),(e()(),iu(21,0,null,null,2,"li",[["id","emoji-icon-Food"]],null,[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.EmojiHeader("Food")&&l),l},null,null)),(e()(),iu(22,0,null,null,1,"a",[["class","icon-emoji-size"],["data-title","Food & Drink"],["id","emoji-icon-li-Food"]],null,null,null,null,null)),(e()(),iu(23,0,null,null,0,"i",[["class","icon-emoji-food"]],null,null,null,null,null)),(e()(),iu(24,0,null,null,2,"li",[["id","emoji-icon-Clothing"]],null,[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.EmojiHeader("Clothing")&&l),l},null,null)),(e()(),iu(25,0,null,null,1,"a",[["class","icon-emoji-size"],["data-title","Clothing & Accessories"],["id","emoji-icon-li-Clothing"]],null,null,null,null,null)),(e()(),iu(26,0,null,null,0,"i",[["class","icon-emoji-cloth"]],null,null,null,null,null)),(e()(),iu(27,0,null,null,2,"li",[["id","emoji-icon-Sports"]],null,[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.EmojiHeader("Sports")&&l),l},null,null)),(e()(),iu(28,0,null,null,1,"a",[["class","icon-emoji-size"],["data-title","Sports & Games"],["id","emoji-icon-li-Sports"]],null,null,null,null,null)),(e()(),iu(29,0,null,null,0,"i",[["class","icon-emoji-sport"]],null,null,null,null,null)),(e()(),iu(30,0,[[4,0],["emoji_content",1]],null,27,"div",[["id","emoji-div"]],null,[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.EmojiContentAppend(n)&&l),l},null,null)),(e()(),iu(31,0,null,null,2,"p",[["class","hide"],["id","Activities"]],null,null,null,null,null)),(e()(),lu(16777216,null,null,1,null,nw)),Gu(33,278528,null,0,tp,[Oo,Ai,Yo],{ngForOf:[0,"ngForOf"]},null),(e()(),iu(34,0,null,null,2,"p",[["class","show"],["id","Smileys"]],null,null,null,null,null)),(e()(),lu(16777216,null,null,1,null,lw)),Gu(36,278528,null,0,tp,[Oo,Ai,Yo],{ngForOf:[0,"ngForOf"]},null),(e()(),iu(37,0,null,null,2,"p",[["class","hide"],["id","Animals"]],null,null,null,null,null)),(e()(),lu(16777216,null,null,1,null,iw)),Gu(39,278528,null,0,tp,[Oo,Ai,Yo],{ngForOf:[0,"ngForOf"]},null),(e()(),iu(40,0,null,null,2,"p",[["class","hide"],["id","People"]],null,null,null,null,null)),(e()(),lu(16777216,null,null,1,null,ow)),Gu(42,278528,null,0,tp,[Oo,Ai,Yo],{ngForOf:[0,"ngForOf"]},null),(e()(),iu(43,0,null,null,2,"p",[["class","hide"],["id","Objects"]],null,null,null,null,null)),(e()(),lu(16777216,null,null,1,null,rw)),Gu(45,278528,null,0,tp,[Oo,Ai,Yo],{ngForOf:[0,"ngForOf"]},null),(e()(),iu(46,0,null,null,2,"p",[["class","hide"],["id","Places"]],null,null,null,null,null)),(e()(),lu(16777216,null,null,1,null,uw)),Gu(48,278528,null,0,tp,[Oo,Ai,Yo],{ngForOf:[0,"ngForOf"]},null),(e()(),iu(49,0,null,null,2,"p",[["class","hide"],["id","Food"]],null,null,null,null,null)),(e()(),lu(16777216,null,null,1,null,sw)),Gu(51,278528,null,0,tp,[Oo,Ai,Yo],{ngForOf:[0,"ngForOf"]},null),(e()(),iu(52,0,null,null,2,"p",[["class","hide"],["id","Clothing"]],null,null,null,null,null)),(e()(),lu(16777216,null,null,1,null,aw)),Gu(54,278528,null,0,tp,[Oo,Ai,Yo],{ngForOf:[0,"ngForOf"]},null),(e()(),iu(55,0,null,null,2,"p",[["class","hide"],["id","Sports"]],null,null,null,null,null)),(e()(),lu(16777216,null,null,1,null,cw)),Gu(57,278528,null,0,tp,[Oo,Ai,Yo],{ngForOf:[0,"ngForOf"]},null)],function(e,t){var n=t.component;e(t,1,0,n.EmojiWrapper?"showEmoji":"hideEmoji"),e(t,33,0,n.Emojis.Activities),e(t,36,0,n.Emojis.Smileys),e(t,39,0,n.Emojis.Animals),e(t,42,0,n.Emojis.People),e(t,45,0,n.Emojis.Objects),e(t,48,0,n.Emojis.Places),e(t,51,0,n.Emojis.Food),e(t,54,0,n.Emojis.Clothing),e(t,57,0,n.Emojis.Sports)},null)}function dw(e){return Ss(0,[(e()(),iu(0,0,null,null,39,"div",[["class","msgArea"],["id","msgArea"]],null,null,null,null,null)),(e()(),lu(16777216,null,null,1,null,$_)),Gu(2,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,H_)),Gu(4,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,U_)),Gu(6,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,Y_)),Gu(8,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,ew)),Gu(10,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,tw)),Gu(12,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,pw)),Gu(14,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),iu(15,0,null,null,24,"div",[["class","chatAdons"]],null,null,null,null,null)),(e()(),iu(16,0,null,null,5,"button",[["class","svgOnHover tooltip top"]],null,[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.keyDownFunction(n)&&l),l},null,null)),Gu(17,278528,null,0,Yc,[Yo,er,Ll,zl],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(e()(),iu(18,0,null,null,0,"img",[["class","svg"],["src","/cw/assets/img/icons/svg/send-outline.svg"],["width","25"]],null,null,null,null,null)),(e()(),iu(19,0,null,null,0,"img",[["class","svg hover"],["src","/cw/assets/img/icons/svg/send-filled.svg"],["width","25"]],null,null,null,null,null)),(e()(),iu(20,0,null,null,1,"span",[["class","tooltip-inner"]],null,null,null,null,null)),(e()(),ys(-1,null,["Send"])),(e()(),iu(22,0,null,null,5,"button",[["class","svgOnHover tooltip top"]],null,[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.EmojiTab(n)&&l),l},null,null)),Gu(23,278528,null,0,Yc,[Yo,er,Ll,zl],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(e()(),iu(24,0,null,null,0,"img",[["class","svg"],["id","emoji-btn"],["src","/cw/assets/img/icons/svg/smiley-outline.svg"],["width","25"]],null,null,null,null,null)),(e()(),iu(25,0,null,null,0,"img",[["class","svg hover"],["id","emoji-btn"],["src","/cw/assets/img/icons/svg/smiley-filled.svg"],["width","25"]],null,null,null,null,null)),(e()(),iu(26,0,null,null,1,"span",[["class","tooltip-inner"]],null,null,null,null,null)),(e()(),ys(-1,null,["Emojis"])),(e()(),iu(28,0,null,null,5,"button",[["class","svgOnHover tooltip top"]],null,[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.startRecording()&&l),l},null,null)),Gu(29,278528,null,0,Yc,[Yo,er,Ll,zl],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(e()(),iu(30,0,null,null,0,"img",[["class","svg"],["src","/cw/assets/img/icons/svg/mic-on-outline.svg"],["width","25"]],null,null,null,null,null)),(e()(),iu(31,0,null,null,0,"img",[["class","svg hover"],["src","/cw/assets/img/icons/svg/mic-on-filled.svg"],["width","25"]],null,null,null,null,null)),(e()(),iu(32,0,null,null,1,"span",[["class","tooltip-inner"]],null,null,null,null,null)),(e()(),ys(-1,null,["Voice Note"])),(e()(),iu(34,0,null,null,5,"label",[["class","svgOnHover tooltip top-right"],["id","attachmentBox"]],null,null,null,null,null)),(e()(),iu(35,0,null,null,0,"img",[["class","svg"],["src","/cw/assets/img/icons/svg/attach-outline.svg"],["width","25"]],null,null,null,null,null)),(e()(),iu(36,0,null,null,0,"img",[["class","svg hover"],["src","/cw/assets/img/icons/svg/attach-filled.svg"],["width","25"]],null,null,null,null,null)),(e()(),iu(37,0,[[1,0],["fileInput",1]],null,0,"input",[["class","hide"],["id","attachment"],["multiple","multiple"],["type","file"]],[[8,"disabled",0]],[[null,"change"]],function(e,t,n){var l=!0;return"change"===t&&(l=!1!==e.component.FileSelected(n)&&l),l},null,null)),(e()(),iu(38,0,null,null,1,"span",[["class","tooltip-inner"]],null,null,null,null,null)),(e()(),ys(-1,null,["Attach File"]))],function(e,t){var n=t.component;e(t,2,0,n.recordingStarted),e(t,4,0,n.userMediaError),e(t,6,0,n.noAgentWarning),e(t,8,0,n.file||n.audioError),e(t,10,0,n.Session&&4!=n.Session.state),e(t,12,0,n.Session&&4==n.Session.state),e(t,14,0,n.EmojiWrapper),e(t,17,0,"svgOnHover tooltip top",n.plainText||n.file?"":"disabled"),e(t,23,0,"svgOnHover tooltip top",n.EmojiWrapper?"active":""),e(t,29,0,"svgOnHover tooltip top",n.recordingStarted?"disabled":"")},function(e,t){e(t,37,0,!t.component.fileSharingPermission)})}function hw(e){return Ss(0,[Wu(0,Bv,[]),as(671088640,1,{fileInput:0}),as(671088640,2,{messageTextArea:0}),as(671088640,3,{EmojiHead:0}),as(671088640,4,{EmojiContent:0}),(e()(),lu(16777216,null,null,1,null,dw)),Gu(6,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null)],function(e,t){e(t,6,0,!t.component.chatEnded)},null)}var fw=function(){function e(e,t){var n=this;this._dataService=e,this._appservice=t,this.Messages=[],this.scrollHeight=0,this.autoScroll=!1,this.subscription=[],this.imageError=!1,this.subscription.push(this._appservice.Settings.subscribe(function(e){e&&(n.themeSettings=e.themeSettings,n.displaySettings=e.messageWindow)})),this.subscription.push(this._appservice.Session.subscribe(function(e){e&&(n.Session=e)})),this.subscription.push(this._dataService.SelectedConversation.subscribe(function(e){e&&e.msgList&&e.msgList.length>0&&(n.Messages=e.msgList,n.Conversation=e.conversationDetails)}))}return e.prototype.ngAfterViewInit=function(){},e.prototype.ngAfterViewChecked=function(){},e.prototype.CheckAttachmentType=function(e){return"string"==typeof e},e.prototype.ngOnInit=function(){},e.prototype.ImageBroken=function(){this.imageError=!0},e.prototype.ngOnDestroy=function(){this.subscription.map(function(e){e.unsubscribe()})},e}(),gw=Er({encapsulation:2,styles:[[""]],data:{}});function mw(e){return Ss(0,[(e()(),iu(0,0,null,null,7,"div",[["class","day-separator clearfix"]],null,null,null,null,null)),(e()(),iu(1,0,null,null,6,"span",[["class","badge"]],null,null,null,null,null)),(e()(),iu(2,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),ys(3,null,["",""])),(e()(),iu(4,0,null,null,3,"span",[["class","date"]],null,null,null,null,null)),(e()(),ys(5,null,[""," ",""])),gs(6,2),gs(7,2)],null,function(e,t){e(t,3,0,t.parent.context.$implicit.body);var n=wr(t,5,0,e(t,6,0,Ou(t.parent.parent.parent,0),t.parent.context.$implicit.date,"mediumDate")),l=wr(t,5,1,e(t,7,0,Ou(t.parent.parent.parent,0),t.parent.context.$implicit.date,"shortTime"));e(t,5,0,n,l)})}function vw(e){return Ss(0,[(e()(),iu(0,0,null,null,0,"img",[["height","auto"],["src","/cw/assets/img/icons/svg/attach-black.svg"],["width","20"]],null,null,null,null,null))],null,null)}function Dw(e){return Ss(0,[(e()(),iu(0,0,null,null,0,"img",[["height","auto"],["width","100%"]],[[8,"src",4]],null,null,null,null))],null,function(e,t){e(t,0,0,eu(1,"",t.parent.parent.context.$implicit.body,""))})}function yw(e){return Ss(0,[(e()(),iu(0,0,null,null,0,"audio",[["controls",""]],[[8,"src",4]],null,null,null,null))],null,function(e,t){e(t,0,0,eu(1,"",t.parent.parent.context.$implicit.body,""))})}function bw(e){return Ss(0,[(e()(),iu(0,0,null,null,1,"video",[["controls",""],["width","250"]],null,null,null,null,null)),(e()(),iu(1,0,null,null,0,"source",[["type","video/mp4"]],[[8,"src",4]],null,null,null,null))],null,function(e,t){e(t,1,0,eu(1,"",t.parent.parent.context.$implicit.body,""))})}function Cw(e){return Ss(0,[(e()(),iu(0,0,null,null,35,"div",[["class","chat-text attachment"]],null,null,null,null,null)),Gu(1,278528,null,0,rp,[er,Ll,zl],{ngStyle:[0,"ngStyle"]},null),vs(2,{"background-color":0,color:1}),vs(3,{"background-color":0,color:1}),(e()(),iu(4,0,null,null,27,"a",[],[[8,"href",4],[8,"target",0]],null,null,null,null)),Gu(5,278528,null,0,Yc,[Yo,er,Ll,zl],{ngClass:[0,"ngClass"]},null),gs(6,1),gs(7,1),gs(8,1),gs(9,1),gs(10,1),gs(11,1),gs(12,1),(e()(),iu(13,0,null,null,13,"div",[["class","thumbnail"]],null,null,null,null,null)),(e()(),lu(16777216,null,null,3,null,vw)),Gu(15,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),gs(16,1),gs(17,1),(e()(),lu(16777216,null,null,2,null,Dw)),Gu(19,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),gs(20,1),(e()(),lu(16777216,null,null,2,null,yw)),Gu(22,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),gs(23,1),(e()(),lu(16777216,null,null,2,null,bw)),Gu(25,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),gs(26,1),(e()(),iu(27,0,null,null,4,"div",[["class","file-name tooltip top"]],null,null,null,null,null)),(e()(),iu(28,0,null,null,1,"span",[["class","ellipsis"]],null,null,null,null,null)),(e()(),ys(29,null,["",""])),(e()(),iu(30,0,null,null,1,"span",[["class","tooltip-inner"]],null,null,null,null,null)),(e()(),ys(31,null,["",""])),(e()(),iu(32,0,null,null,3,"span",[["class","arrow"]],null,null,null,null,null)),Gu(33,278528,null,0,rp,[er,Ll,zl],{ngStyle:[0,"ngStyle"]},null),vs(34,{"border-top-color":0}),vs(35,{"border-top-color":0})],function(e,t){var n=t.component,l=n.themeSettings?n.ApplyHeaderColorWithGradient(n.themeSettings.headerColor):n.displaySettings?"Visitors"==t.parent.context.$implicit.type?e(t,2,0,n.displaySettings.sentBGColor,n.displaySettings.sentForeColor):e(t,3,0,n.displaySettings.recieveBGColor,n.displaySettings.recieveForeColor):"";e(t,1,0,l);var i="data"==wr(t,5,0,e(t,6,0,Ou(t.parent.parent.parent,1),t.parent.context.$implicit.body))?"file":"image"==wr(t,5,0,e(t,7,0,Ou(t.parent.parent.parent,1),t.parent.context.$implicit.body))?"image":"audio"==wr(t,5,0,e(t,8,0,Ou(t.parent.parent.parent,1),t.parent.context.$implicit.body))?"audio":"document"==wr(t,5,0,e(t,9,0,Ou(t.parent.parent.parent,1),t.parent.context.$implicit.body))?"document":"video"==wr(t,5,0,e(t,10,0,Ou(t.parent.parent.parent,1),t.parent.context.$implicit.body))?"video":"";e(t,5,0,i);var o="document"==wr(t,15,0,e(t,16,0,Ou(t.parent.parent.parent,1),t.parent.context.$implicit.body))||"data"==wr(t,15,0,e(t,17,0,Ou(t.parent.parent.parent,1),t.parent.context.$implicit.body));e(t,15,0,o);var r=t.parent.context.$implicit.attachment&&"image"==wr(t,19,0,e(t,20,0,Ou(t.parent.parent.parent,1),t.parent.context.$implicit.body));e(t,19,0,r);var u=t.parent.context.$implicit.attachment&&"audio"==wr(t,22,0,e(t,23,0,Ou(t.parent.parent.parent,1),t.parent.context.$implicit.body));e(t,22,0,u);var s=t.parent.context.$implicit.attachment&&"video"==wr(t,25,0,e(t,26,0,Ou(t.parent.parent.parent,1),t.parent.context.$implicit.body));e(t,25,0,s);var a=n.displaySettings?"Visitors"==t.parent.context.$implicit.type?e(t,34,0,n.displaySettings.sentBGColor):e(t,35,0,n.displaySettings.recieveBGColor):"";e(t,33,0,a)},function(e,t){var n=eu(1,"",t.parent.context.$implicit.body,""),l="document"!=wr(t,4,1,e(t,11,0,Ou(t.parent.parent.parent,1),t.parent.context.$implicit.body))||"data"!=wr(t,4,1,e(t,12,0,Ou(t.parent.parent.parent,1),t.parent.context.$implicit.body))?"self":"_blank";e(t,4,0,n,l),e(t,29,0,t.parent.context.$implicit.filename),e(t,31,0,t.parent.context.$implicit.filename)})}function Sw(e){return Ss(0,[(e()(),iu(0,0,null,null,0,"img",[["class","svg"],["height","100"],["width","auto"]],[[8,"src",4]],null,null,null,null))],null,function(e,t){e(t,0,0,eu(1,"",t.parent.context.$implicit.path,""))})}function _w(e){return Ss(0,[(e()(),iu(0,0,null,null,0,"img",[["height","auto"],["src","/cw/assets/img/icons/svg/attach-black.svg"],["width","20"]],null,null,null,null,null))],null,null)}function ww(e){return Ss(0,[(e()(),iu(0,0,null,null,0,"audio",[["controls",""]],[[8,"src",4]],null,null,null,null))],null,function(e,t){e(t,0,0,eu(1,"",t.parent.context.$implicit.path,""))})}function Fw(e){return Ss(0,[(e()(),iu(0,0,null,null,1,"video",[["controls",""],["width","250"]],null,null,null,null,null)),(e()(),iu(1,0,null,null,0,"source",[["type","video/mp4"]],[[8,"src",4]],null,null,null,null))],null,function(e,t){e(t,1,0,eu(1,"",t.parent.context.$implicit.path,""))})}function xw(e){return Ss(0,[(e()(),iu(0,0,null,null,25,"a",[["target","_blank"]],[[8,"href",4],[8,"target",0]],null,null,null,null)),Gu(1,278528,null,0,Yc,[Yo,er,Ll,zl],{ngClass:[0,"ngClass"]},null),gs(2,1),gs(3,1),gs(4,1),gs(5,1),gs(6,1),(e()(),iu(7,0,null,null,13,"div",[["class","thumbnail"]],null,null,null,null,null)),(e()(),lu(16777216,null,null,2,null,Sw)),Gu(9,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),gs(10,1),(e()(),lu(16777216,null,null,3,null,_w)),Gu(12,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),gs(13,1),gs(14,1),(e()(),lu(16777216,null,null,2,null,ww)),Gu(16,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),gs(17,1),(e()(),lu(16777216,null,null,2,null,Fw)),Gu(19,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),gs(20,1),(e()(),iu(21,0,null,null,4,"div",[["class","file-name tooltip top"]],null,null,null,null,null)),(e()(),iu(22,0,null,null,1,"span",[["class","ellipsis"]],null,null,null,null,null)),(e()(),ys(23,null,["",""])),(e()(),iu(24,0,null,null,1,"span",[["class","tooltip-inner"]],null,null,null,null,null)),(e()(),ys(25,null,["",""]))],function(e,t){var n="data"==wr(t,1,0,e(t,2,0,Ou(t.parent.parent.parent.parent,1),t.context.$implicit.filename))?"file":"image"==wr(t,1,0,e(t,3,0,Ou(t.parent.parent.parent.parent,1),t.context.$implicit.filename))?"image":"audio"==wr(t,1,0,e(t,4,0,Ou(t.parent.parent.parent.parent,1),t.context.$implicit.filename))?"audio":"document"==wr(t,1,0,e(t,5,0,Ou(t.parent.parent.parent.parent,1),t.context.$implicit.filename))?"document":"";e(t,1,0,n);var l="image"==wr(t,9,0,e(t,10,0,Ou(t.parent.parent.parent.parent,1),t.context.$implicit.filename));e(t,9,0,l);var i="data"==wr(t,12,0,e(t,13,0,Ou(t.parent.parent.parent.parent,1),t.context.$implicit.filename))||"document"==wr(t,12,0,e(t,14,0,Ou(t.parent.parent.parent.parent,1),t.context.$implicit.filename));e(t,12,0,i);var o="audio"==wr(t,16,0,e(t,17,0,Ou(t.parent.parent.parent.parent,1),t.context.$implicit.filename));e(t,16,0,o);var r="video"==wr(t,19,0,e(t,20,0,Ou(t.parent.parent.parent.parent,1),t.context.$implicit.filename));e(t,19,0,r)},function(e,t){var n=eu(1,"",t.context.$implicit.path,""),l="document"==wr(t,0,1,e(t,6,0,Ou(t.parent.parent.parent.parent,1),t.context.$implicit.filename))?"_parent":"_blank";e(t,0,0,n,l),e(t,23,0,t.context.$implicit.filename),e(t,25,0,t.context.$implicit.filename)})}function Ew(e){return Ss(0,[(e()(),iu(0,0,null,null,9,"div",[["class","chat-text attachment"]],null,null,null,null,null)),Gu(1,278528,null,0,rp,[er,Ll,zl],{ngStyle:[0,"ngStyle"]},null),vs(2,{"background-color":0,color:1}),vs(3,{"background-color":0,color:1}),(e()(),lu(16777216,null,null,1,null,xw)),Gu(5,278528,null,0,tp,[Oo,Ai,Yo],{ngForOf:[0,"ngForOf"]},null),(e()(),iu(6,0,null,null,3,"span",[["class","arrow"]],null,null,null,null,null)),Gu(7,278528,null,0,rp,[er,Ll,zl],{ngStyle:[0,"ngStyle"]},null),vs(8,{"border-top-color":0}),vs(9,{"border-top-color":0})],function(e,t){var n=t.component,l=n.displaySettings?"Visitors"==t.parent.context.$implicit.type?e(t,2,0,n.displaySettings.sentBGColor,n.displaySettings.sentForeColor):e(t,3,0,n.displaySettings.recieveBGColor,n.displaySettings.recieveForeColor):"";e(t,1,0,l),e(t,5,0,t.parent.context.$implicit.body);var i=n.displaySettings?"Visitors"==t.parent.context.$implicit.type?e(t,8,0,n.displaySettings.sentBGColor):e(t,9,0,n.displaySettings.recieveBGColor):"";e(t,7,0,i)},null)}function kw(e){return Ss(0,[(e()(),iu(0,0,null,null,12,"div",[["class","chat-text"]],null,null,null,null,null)),Gu(1,278528,null,0,rp,[er,Ll,zl],{ngStyle:[0,"ngStyle"]},null),vs(2,{"background-color":0,color:1}),vs(3,{"background-color":0,color:1}),(e()(),iu(4,0,null,null,4,"p",[],null,null,null,null,null)),Gu(5,278528,null,0,Yc,[Yo,er,Ll,zl],{ngClass:[0,"ngClass"]},null),gs(6,1),(e()(),iu(7,0,null,null,1,"span",[],[[8,"innerHTML",1]],null,null,null,null)),gs(8,2),(e()(),iu(9,0,null,null,3,"span",[["class","arrow"]],null,null,null,null,null)),Gu(10,278528,null,0,rp,[er,Ll,zl],{ngStyle:[0,"ngStyle"]},null),vs(11,{"border-top-color":0}),vs(12,{"border-top-color":0})],function(e,t){var n=t.component,l=n.displaySettings?"Visitors"==t.parent.context.$implicit.type?e(t,2,0,n.displaySettings.sentBGColor,n.displaySettings.sentForeColor):e(t,3,0,n.displaySettings.recieveBGColor,n.displaySettings.recieveForeColor):"";e(t,1,0,l);var i=wr(t,5,0,e(t,6,0,Ou(t.parent.parent.parent,2),t.parent.context.$implicit.body))?"onlyEmoji":"";e(t,5,0,i);var o=n.displaySettings?"Visitors"==t.parent.context.$implicit.type?e(t,11,0,n.displaySettings.sentBGColor):e(t,12,0,n.displaySettings.recieveBGColor):"";e(t,10,0,o)},function(e,t){var n=wr(t,7,0,e(t,8,0,Ou(t.parent.parent.parent,3),t.parent.context.$implicit.body,"html"));e(t,7,0,n)})}function Aw(e){return Ss(0,[(e()(),iu(0,0,null,null,8,"div",[["class","input-group-addon"]],null,null,null,null,null)),(e()(),iu(1,0,null,null,7,"div",[["class","pretty p-svg p-toggle m-0"]],null,null,null,null,null)),(e()(),iu(2,0,null,null,0,"input",[["disabled",""],["type","checkbox"]],null,null,null,null,null)),(e()(),iu(3,0,null,null,2,"div",[["class","state p-success-o p-on"]],null,null,null,null,null)),(e()(),iu(4,0,null,null,0,"img",[["class","svg"],["src","/cw/assets/img/icons/svg/show-black.svg"],["width","15"]],null,null,null,null,null)),(e()(),iu(5,0,null,null,0,"label",[["class","b-0"]],null,null,null,null,null)),(e()(),iu(6,0,null,null,2,"div",[["class","state p-black-o p-off"]],null,null,null,null,null)),(e()(),iu(7,0,null,null,0,"img",[["class","svg"],["src","/cw/assets/img/icons/svg/hide-black.svg"],["width","15"]],null,null,null,null,null)),(e()(),iu(8,0,null,null,0,"label",[["class","b-0"]],null,null,null,null,null))],null,null)}function Tw(e){return Ss(0,[(e()(),iu(0,0,null,null,6,"div",[["class","input-block"]],null,null,null,null,null)),(e()(),iu(1,0,null,null,1,"label",[],null,null,null,null,null)),(e()(),ys(2,null,[" ","",""])),(e()(),iu(3,0,null,null,3,"div",[["class","input-group"]],null,null,null,null,null)),(e()(),iu(4,0,null,null,0,"input",[["class","form-control"],["disabled",""]],[[8,"id",0],[8,"name",0],[8,"placeholder",0],[8,"type",0],[8,"value",0]],null,null,null,null)),(e()(),lu(16777216,null,null,1,null,Aw)),Gu(6,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null)],function(e,t){e(t,6,0,"password"==t.parent.context.$implicit.type)},function(e,t){e(t,2,0,t.parent.context.$implicit.label,t.parent.context.$implicit.validation?"*":""),e(t,4,0,eu(1,"",t.parent.context.$implicit.id,""),eu(1,"",t.parent.context.$implicit.id,""),eu(1,"",t.parent.context.$implicit.placeholder,""),eu(1,"",t.parent.context.$implicit.type,""),eu(1,"",t.parent.context.$implicit.submittedData,""))})}function Iw(e){return Ss(0,[(e()(),iu(0,0,null,null,4,"div",[["class","pretty p-default p-round m-b-7"]],null,null,null,null,null)),(e()(),iu(1,0,null,null,0,"input",[["disabled",""]],[[8,"id",0],[8,"checked",0],[8,"type",0],[8,"value",0],[8,"name",0]],null,null,null,null)),(e()(),iu(2,0,null,null,2,"div",[["class","state"]],null,null,null,null,null)),(e()(),iu(3,0,null,null,1,"label",[],null,null,null,null,null)),(e()(),ys(4,null,["",""]))],null,function(e,t){e(t,1,0,eu(1,"",t.parent.parent.context.$implicit.id,""),t.parent.parent.context.$implicit.submittedData,eu(1,"",t.parent.parent.context.$implicit.type,""),eu(1,"",t.context.$implicit.key,""),eu(1,"",t.parent.parent.context.$implicit.id,"")),e(t,4,0,t.context.$implicit.value)})}function Bw(e){return Ss(0,[(e()(),iu(0,0,null,null,4,"div",[["class","input-block"]],null,null,null,null,null)),(e()(),iu(1,0,null,null,1,"label",[],null,null,null,null,null)),(e()(),ys(2,null,["","",""])),(e()(),lu(16777216,null,null,1,null,Iw)),Gu(4,278528,null,0,tp,[Oo,Ai,Yo],{ngForOf:[0,"ngForOf"]},null)],function(e,t){e(t,4,0,t.parent.context.$implicit.options)},function(e,t){e(t,2,0,t.parent.context.$implicit.label,t.parent.context.$implicit.validation?"*":"")})}function Ow(e){return Ss(0,[(e()(),iu(0,0,null,null,7,"div",[["class","input-block"]],null,null,null,null,null)),(e()(),iu(1,0,null,null,1,"label",[],null,null,null,null,null)),(e()(),ys(2,null,[" ","",""])),(e()(),iu(3,0,null,null,4,"div",[["class","pretty p-default p-round"]],null,null,null,null,null)),(e()(),iu(4,0,null,null,0,"input",[["class","form-control"],["disabled",""]],[[8,"id",0],[8,"checked",0],[8,"type",0],[8,"value",0]],null,null,null,null)),(e()(),iu(5,0,null,null,2,"div",[["class","state"]],null,null,null,null,null)),(e()(),iu(6,0,null,null,1,"label",[],null,null,null,null,null)),(e()(),ys(7,null,["",""]))],null,function(e,t){e(t,2,0,t.parent.context.$implicit.label,t.parent.context.$implicit.validation?"*":""),e(t,4,0,eu(1,"",t.parent.context.$implicit.id,""),t.parent.context.$implicit.submittedData,eu(1,"",t.parent.context.$implicit.type,""),eu(1,"",t.parent.context.$implicit.value[0],"")),e(t,7,0,t.parent.context.$implicit.value[0])})}function Rw(e){return Ss(0,[(e()(),iu(0,0,null,null,3,"option",[["disabled","true"]],[[8,"selected",0]],null,null,null,null)),Gu(1,147456,null,0,mf,[Ll,zl,[8,null]],{value:[0,"value"]},null),Gu(2,147456,null,0,yf,[Ll,zl,[8,null]],{value:[0,"value"]},null),(e()(),ys(3,null,[" "," "]))],function(e,t){e(t,1,0,eu(1,"",t.parent.parent.context.$implicit.submittedData,"")),e(t,2,0,eu(1,"",t.parent.parent.context.$implicit.submittedData,""))},function(e,t){e(t,0,0,t.parent.parent.context.$implicit.submittedData),e(t,3,0,t.parent.parent.context.$implicit.submittedData)})}function Mw(e){return Ss(0,[(e()(),iu(0,0,null,null,3,"option",[["disabled","true"]],null,null,null,null,null)),Gu(1,147456,null,0,mf,[Ll,zl,[8,null]],{value:[0,"value"]},null),Gu(2,147456,null,0,yf,[Ll,zl,[8,null]],{value:[0,"value"]},null),(e()(),ys(3,null,[" "," "]))],function(e,t){e(t,1,0,eu(1,"",t.context.$implicit.key,"")),e(t,2,0,eu(1,"",t.context.$implicit.key,""))},function(e,t){e(t,3,0,t.context.$implicit.value)})}function Pw(e){return Ss(0,[(e()(),iu(0,0,null,null,8,"div",[["class","input-block"]],null,null,null,null,null)),(e()(),iu(1,0,null,null,1,"label",[],null,null,null,null,null)),(e()(),ys(2,null,[" ","",""])),(e()(),iu(3,0,null,null,5,"div",[["class","sel style1"]],null,null,null,null,null)),(e()(),iu(4,0,null,null,4,"select",[["class","form-control"]],[[8,"name",0],[8,"id",0]],null,null,null,null)),(e()(),lu(16777216,null,null,1,null,Rw)),Gu(6,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,Mw)),Gu(8,278528,null,0,tp,[Oo,Ai,Yo],{ngForOf:[0,"ngForOf"]},null)],function(e,t){e(t,6,0,t.parent.context.$implicit.submittedData),e(t,8,0,t.parent.context.$implicit.options)},function(e,t){e(t,2,0,t.parent.context.$implicit.label,t.parent.context.$implicit.validation?"*":""),e(t,4,0,eu(1,"",t.parent.context.$implicit.id,""),eu(1,"",t.parent.context.$implicit.id,""))})}function Nw(e){return Ss(0,[(e()(),lu(16777216,null,null,1,null,Tw)),Gu(1,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,Bw)),Gu(3,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,Ow)),Gu(5,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,Pw)),Gu(7,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(0,null,null,0))],function(e,t){e(t,1,0,"text"==t.context.$implicit.type||"password"==t.context.$implicit.type||"email"==t.context.$implicit.type),e(t,3,0,"radio"==t.context.$implicit.type),e(t,5,0,"checkbox"==t.context.$implicit.type),e(t,7,0,"dropdown"==t.context.$implicit.type)},null)}function jw(e){return Ss(0,[(e()(),iu(0,0,null,null,1,"b",[],null,null,null,null,null)),(e()(),ys(1,null,["",""]))],null,function(e,t){e(t,1,0,t.parent.parent.context.$implicit.form[0].formFooter)})}function Lw(e){return Ss(0,[(e()(),iu(0,0,null,null,15,"div",[["class","clearfix canned-access-form"]],null,null,null,null,null)),(e()(),iu(1,0,null,null,1,"h4",[["class","clearfix"]],null,null,null,null,null)),(e()(),ys(2,null,["",""])),(e()(),iu(3,0,null,null,0,"hr",[["class","bg-gray clearfix"]],null,null,null,null,null)),(e()(),iu(4,0,null,null,6,"form",[["id","formInputs"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(e,t,n){var l=!0;return"submit"===t&&(l=!1!==Ou(e,6).onSubmit(n)&&l),"reset"===t&&(l=!1!==Ou(e,6).onReset()&&l),l},null,null)),Gu(5,16384,null,0,Gf,[],null,null),Gu(6,4210688,null,0,Lf,[[8,null],[8,null]],null,null),Ju(2048,null,qh,null,[Lf]),Gu(8,16384,null,0,Tf,[[4,qh]],null,null),(e()(),lu(16777216,null,null,1,null,Nw)),Gu(10,278528,null,0,tp,[Oo,Ai,Yo],{ngForOf:[0,"ngForOf"]},null),(e()(),iu(11,0,null,null,0,"hr",[["class","bg-gray"]],null,null,null,null,null)),(e()(),lu(16777216,null,null,1,null,jw)),Gu(13,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),iu(14,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),iu(15,0,null,null,0,"br",[],null,null,null,null,null))],function(e,t){e(t,10,0,t.parent.context.$implicit.form[0].formFields),e(t,13,0,t.parent.context.$implicit.form[0].formFooter)},function(e,t){e(t,2,0,t.parent.context.$implicit.form[0].formHeader?t.parent.context.$implicit.form[0].formHeader:"Form"),e(t,4,0,Ou(t,8).ngClassUntouched,Ou(t,8).ngClassTouched,Ou(t,8).ngClassPristine,Ou(t,8).ngClassDirty,Ou(t,8).ngClassValid,Ou(t,8).ngClassInvalid,Ou(t,8).ngClassPending)})}function Vw(e){return Ss(0,[(e()(),iu(0,0,null,null,2,"span",[["class","msg-status text-blue"]],null,null,null,null,null)),(e()(),iu(1,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),ys(-1,null,["Seen"]))],null,null)}function $w(e){return Ss(0,[(e()(),iu(0,0,null,null,2,"span",[["class","msg-status"]],null,null,null,null,null)),(e()(),iu(1,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),ys(-1,null,["Delivered"]))],null,null)}function Hw(e){return Ss(0,[(e()(),iu(0,0,null,null,2,"span",[["class","msg-status text-red"]],null,null,null,null,null)),(e()(),iu(1,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),ys(-1,null,["Failed"]))],null,null)}function Uw(e){return Ss(0,[(e()(),iu(0,0,null,null,13,"div",[["class","chat-info"]],null,null,null,null,null)),Gu(1,278528,null,0,rp,[er,Ll,zl],{ngStyle:[0,"ngStyle"]},null),vs(2,{color:0}),vs(3,{color:0}),(e()(),iu(4,0,null,null,3,"span",[],null,null,null,null,null)),(e()(),ys(5,null,[""," ",""])),gs(6,2),gs(7,2),(e()(),lu(16777216,null,null,1,null,Vw)),Gu(9,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,$w)),Gu(11,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,Hw)),Gu(13,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component,l=n.displaySettings?"Visitors"==t.parent.context.$implicit.type?e(t,2,0,n.displaySettings.sentForeColor):e(t,3,0,n.displaySettings.recieveForeColor):"";e(t,1,0,l),e(t,9,0,t.parent.context.$implicit.sent&&"Visitors"==t.parent.context.$implicit.type),e(t,11,0,!t.parent.context.$implicit.sent&&t.parent.context.$implicit.delivered&&"Visitors"==t.parent.context.$implicit.type),e(t,13,0,t.parent.context.$implicit.retry&&"Visitors"==t.parent.context.$implicit.type)},function(e,t){var n=wr(t,5,0,e(t,6,0,Ou(t.parent.parent.parent,0),t.parent.context.$implicit.date,"mediumDate")),l=wr(t,5,1,e(t,7,0,Ou(t.parent.parent.parent,0),t.parent.context.$implicit.date,"shortTime"));e(t,5,0,n,l)})}function zw(e){return Ss(0,[(e()(),iu(0,0,null,null,13,"div",[],null,null,null,null,null)),Gu(1,278528,null,0,Yc,[Yo,er,Ll,zl],{ngClass:[0,"ngClass"]},null),(e()(),lu(16777216,null,null,1,null,mw)),Gu(3,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,Cw)),Gu(5,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,Ew)),Gu(7,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,kw)),Gu(9,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,Lw)),Gu(11,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,Uw)),Gu(13,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component;e(t,1,0,"Visitors"==t.context.$implicit.type?"chat-msg msg_sent":"Events"==t.context.$implicit.type?"chat-msg":"chat-msg msg_recieved"),e(t,3,0,"Events"==t.context.$implicit.type),e(t,5,0,""!=t.context.$implicit.body&&t.context.$implicit.attachment&&n.CheckAttachmentType(t.context.$implicit.body)&&"Events"!=t.context.$implicit.type),e(t,7,0,""!=t.context.$implicit.body&&t.context.$implicit.attachment&&!n.CheckAttachmentType(t.context.$implicit.body)&&t.context.$implicit.body.length&&"Events"!=t.context.$implicit.type),e(t,9,0,""!=t.context.$implicit.body&&!t.context.$implicit.attachment&&"Events"!=t.context.$implicit.type),e(t,11,0,t.context.$implicit.form&&t.context.$implicit.form.length&&"Events"!=t.context.$implicit.type),e(t,13,0,(""!=t.context.$implicit.body||t.context.$implicit.form&&t.context.$implicit.form.length)&&"Events"!=t.context.$implicit.type)},null)}function qw(e){return Ss(0,[(e()(),iu(0,0,null,null,2,"div",[["class","messages clearfix"]],null,null,null,null,null)),(e()(),lu(16777216,null,null,1,null,zw)),Gu(2,278528,null,0,tp,[Oo,Ai,Yo],{ngForOf:[0,"ngForOf"]},null)],function(e,t){e(t,2,0,t.component.Messages)},null)}function Gw(e){return Ss(0,[Wu(0,ap,[or]),Wu(0,sm,[]),Wu(0,am,[]),Wu(0,Ky,[bh]),(e()(),iu(4,0,null,null,2,"div",[["class","msgList"],["id","msgList"]],null,null,null,null,null)),(e()(),lu(16777216,null,null,1,null,qw)),Gu(6,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component;e(t,6,0,n.Messages&&n.Messages.length)},null)}var Ww=function(){function e(e,t,n){var l=this;this._appStateService=e,this._dataService=t,this.dialog=n,this.subscriptions=[],this.dialogOn=!1,this.dialogOnExternal=!1,this.session=void 0,this.count=0,this.ViewingChatHistory=!1,this.SelectedConversation=[{}],this.chatEnded=!1,this.subscriptions.push(this._appStateService.RegisterFormDialogOpened.subscribe(function(e){l.dialogOnExternal=e})),this._appStateService.Maximized.getValue()&&this._appStateService.SetMessageCount(0),this.subscriptions.push(this._appStateService.Permissions.subscribe(function(e){l.permissions=e})),this.subscriptions.push(this._appStateService.Session.subscribe(function(e){e&&(l.session=e,setTimeout(function(){!l.session||4!=l.session.state&&5!=l.session.state||l.dialogOn||l.dialogOnExternal||l.showRegitrationForm||(l.dialogOn=!0,l._dataService.UpdateCredentials.next(!0),l.dialog.open(bg,{panelClass:["dialog-inner","scrollable-dialog"],autoFocus:!0,disableClose:!l.permissions||!l.permissions.chatAsGuest,data:{showCloseButton:!0,checkInvite:!0}}).afterClosed().subscribe(function(e){l.dialogOn=!1,!e||"no-agent"!=e.status||5!=l.session.state&&4!=l.session.state?!e||"closed"!=e.status||5!=l.session.state&&4!=l.session.state||!l.permissions||l.permissions.chatAsGuest||l._dataService.viewMode.next("home"):setTimeout(function(){l.dialog.open(lg,{autoFocus:!0,disableClose:!0}).afterClosed().subscribe(function(e){e&&"Yes"==e.status?l.dialog.open(og,{autoFocus:!0}).afterClosed().subscribe(function(e){e&&"chat"==e.result&&l._dataService.viewMode.next("message-window")}):!e||"Yes"!=e.status||5!=l.session.state&&4!=l.session.state||l._dataService.viewMode.next("home")},function(e){})},500)}))},0),2==e.state&&l._appStateService.IsNoAgent(e.agent)&&l.dialogOn&&l.dialog.closeAll())})),this.subscriptions.push(this._dataService.ViewingChatHistory.subscribe(function(e){l.ViewingChatHistory=e})),this.subscriptions.push(this._dataService.SelectedConversation.subscribe(function(e){e&&(l.SelectedConversation=e)})),this.subscriptions.push(this._appStateService.endChat.subscribe(function(e){l.chatEnded=e}))}return e.prototype.ngOnInit=function(){},e.prototype.ngAfterViewInit=function(){},e.prototype.ngOnDestroy=function(){this.subscriptions.map(function(e){e.unsubscribe()})},e}(),Jw=Er({encapsulation:2,styles:[[""]],data:{}});function Qw(e){return Ss(0,[(e()(),iu(0,0,null,null,1,"app-message-list",[],null,null,null,I_,KS)),Gu(1,12828672,null,0,QS,[ng,Xf,yd],null,null)],function(e,t){e(t,1,0)},null)}function Kw(e){return Ss(0,[(e()(),iu(0,0,null,null,1,"app-message-form",[["class","chatContentFooterArea"],["id","chatContentFooterArea"]],null,null,null,hw,V_)),Gu(1,4308992,null,0,L_,[ng,Xf,P_,yd],null,null)],function(e,t){e(t,1,0)},null)}function Zw(e){return Ss(0,[(e()(),iu(0,0,null,null,1,"app-conversation-info",[],null,null,null,Gw,gw)),Gu(1,12828672,null,0,fw,[ng,Xf],null,null)],function(e,t){e(t,1,0)},null)}function Xw(e){return Ss(0,[(e()(),lu(16777216,null,null,1,null,Qw)),Gu(1,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,Kw)),Gu(3,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,Zw)),Gu(5,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component;e(t,1,0,!n.ViewingChatHistory),e(t,3,0,!n.ViewingChatHistory&&!n.chatEnded),e(t,5,0,n.ViewingChatHistory)},null)}var Yw=function(){function e(e,t,n,l,i,o,r,u){var s=this;this._postMessageService=e,this._dataService=t,this._appStateService=n,this._callingService=l,this._socketService=i,this._restService=o,this.dialog=r,this._uploadingService=u,this.subscriptions=[],this.session=void 0,this.state=0,this.view=void 0,this.themeSettings=void 0,this.messageWindow=void 0,this.contentSettings=void 0,this.newsList=void 0,this.agentsList=void 0,this.promotionsList=void 0,this.showNotification=!1,this.muted=!1,this.firstLoad=0,this.chatEnded=!0,this.viewingChatHistory=!1,this.heading="",this.helpWindow=!1,this.helpWindowLoading=!1,this.status=!1,this.isMobile=!1,this.disconnectDialogOpened=!1,this.banned=!1,this.fileAsUrl=[],this.files=[],this.fileReader=[],this.attachmentGallery=void 0,this.feedbackOpened=!1,this.forceEndedChat=!1,this.showMoreMenu=!1,this.loading=!0,this.recentChatLoading=!1,this.showDisplay=!1,this.socketConnectOnSessionStart=!1,this.closeChatDialogOpened=!1,this.sessionLoaded=!1,this.Messages=[],this.subscriptions.push(this._appStateService.NotificationCount.subscribe(function(e){s.showNotification=0!=e})),this.subscriptions.push(this._appStateService.endChat.subscribe(function(e){s.chatEnded=e})),this.subscriptions.push(this._appStateService.Permissions.subscribe(function(e){s.permissions=e})),this.subscriptions.push(this._dataService.newsFetched.subscribe(function(e){s.newsFetched=e})),this.subscriptions.push(this._dataService.promotionsFetched.subscribe(function(e){s.promotionsFetched=e})),this.subscriptions.push(this._dataService.RecentWindowLoading.subscribe(function(e){s.recentChatLoading=e})),this.subscriptions.push(this._appStateService.showMoreMenu.subscribe(function(e){s.showMoreMenu=e})),this.subscriptions.push(this._callingService.CallRecieved().subscribe(function(e){e&&s.dialog.open(rD,{panelClass:["recieving-dialog","dialog-inner"],disableClose:!0,autoFocus:!0}).afterClosed().subscribe(function(e){s._callingService.EndCall()})})),this.subscriptions.push(this._dataService.ViewingChatHistory.subscribe(function(e){s.viewingChatHistory=e})),this.subscriptions.push(this._dataService.forceEndedChat.subscribe(function(e){s.forceEndedChat=e})),this.subscriptions.push(this._appStateService.Muted.subscribe(function(e){setTimeout(function(){s.muted=e},0)})),this.subscriptions.push(this._appStateService.PlayAudio.subscribe(function(e){s.muted||s.notifSound.nativeElement.play()})),this.subscriptions.push(this._dataService.News.subscribe(function(e){s.newsList=e})),this.subscriptions.push(this._dataService.Promotions.subscribe(function(e){s.promotionsList=e})),this.subscriptions.push(this._dataService.viewMode.subscribe(function(e){"conversation-window"!=e&&s._dataService.ViewingChatHistory.next(!1),s.view=e,s.firstLoad++})),this.subscriptions.push(this._dataService.attachmentGallery.subscribe(function(e){s.attachmentGallery=e})),this.subscriptions.push(this._postMessageService.resizingEvent.subscribe(function(e){s.isMobile=e})),this.subscriptions.push(this._dataService.LostAgent.subscribe(function(e){e&&(s._dataService.UpdateAgentTypingState(!1),s._postMessageService.SendMessage("noAgent",{},"bz-cb"),s.dialog.open(tD,{panelClass:["dialog-inner"],disableClose:!0,autoFocus:!0}).afterClosed().subscribe(function(e){e&&"Yes"==e.status&&s.dialog.open(og,{panelClass:["dialog-inner"],autoFocus:!0}).afterClosed().subscribe(function(e){e&&"chat"==e.result&&s._dataService.viewMode.next("message-window")})}))})),this.subscriptions.push(this._appStateService.Session.subscribe(function(e){e&&(s.session=e,s.state=s.session.state,s.isMobile=s.session.isMobile,4!=s.state&&5!=s.state||s.viewingChatHistory&&"conversation-window"==s.view||s._dataService.viewMode.next("message-window"))})),this.subscriptions.push(this._appStateService.Settings.subscribe(function(e){e&&(s.themeSettings=e.themeSettings,s.messageWindow=e.messageWindow,s.feedbackForm=e.feedbackForm)})),this.subscriptions.push(this._dataService.banned.subscribe(function(e){s.banned=e})),this.subscriptions.push(this._appStateService.ShowEndchatDialog.subscribe(function(e){e&&(s._appStateService.ShowEndchatDialog.next(!1),e?s.ShowFeedBackDialogRevamp():s.dialog.open(jm,{panelClass:["dialog-inner"],disableClose:!0,autoFocus:!0}).afterClosed().subscribe(function(e){e&&"ok"==e.status&&s.dialog.open(Nm,{panelClass:["dialog-inner"],disableClose:!0,autoFocus:!0}).afterClosed().subscribe(function(e){s.dialog.closeAll()})}))})),this.subscriptions.push(this._dataService.AgentList.subscribe(function(e){s.agentsList=e})),this.subscriptions.push(this._dataService.restartingApp.subscribe(function(e){s.restartingApp=e})),this.subscriptions.push(this._dataService.ShowDisplay.subscribe(function(e){s.showDisplay=e})),this.subscriptions.push(this._socketService.showDisconnectDialog.subscribe(function(e){s.socketConnectOnSessionStart=e})),this.subscriptions.push(this._postMessageService.helpWindow.subscribe(function(e){s.helpWindow=e,e&&(s.helpWindowLoading=!0,s.dialog.open(XD,{disableClose:!0,autoFocus:!0}).afterClosed().subscribe(function(e){s.helpWindowLoading=!1}))})),this.subscriptions.push(this._socketService.GetDisconnectionStatus().subscribe(function(e){var t;s.session&&(s.status=e,s._appStateService.Session.getValue()&&(t=s._appStateService.GetStorage("sessionStart")),e&&(1!=s.session.state&&5!=s.session.state?s.session.id||s.session._id||s.session.csid?s._restService.SendXMLHttpRequest("/visitor/checkSID","POST",JSON.stringify({sid:s.session.id||s.session._id||s.session.csid}),!1,!0,[{name:"Content-Type",value:"application/json"}]).subscribe(function(e){var t=JSON.parse(e);t&&"ok"==t.status&&s._dataService.ServerDisconnection()},function(e){t&&s.ShowDisconnectDialog()}):s.socketConnectOnSessionStart&&s.ShowDisconnectDialog():t&&s.socketConnectOnSessionStart&&s.ShowDisconnectDialog()))})),this.subscriptions.push(this._socketService.loading.subscribe(function(e){s.loading=e})),this.subscriptions.push(this._dataService.Messages.subscribe(function(e){s.Messages=e}))}return e.prototype.onclick=function(e){this._appStateService.showMoreMenu.getValue()&&this._appStateService.showMoreMenu.next(!1)},e.prototype.ngOnInit=function(){},e.prototype.ngOnDestroy=function(){this.subscriptions.map(function(e){e.unsubscribe()})},e.prototype.SvgChangeColor=function(e){var t=this.logo.nativeElement.contentDocument.getElementsByTagName("path").item(0);t&&t.setAttribute("fill",this.themeSettings.dialogLogoColor)},e.prototype.GoBack=function(){this._dataService.ViewingChatHistory.next(!1),this._dataService.SelectedConversation.next({}),this._dataService.viewMode.next("home")},e.prototype.ShowDisconnectDialog=function(){var e=this;this.disconnectDialogOpened||this.chatEnded||(this.disconnectDialogOpened=!0,this._dataService.UpdateAgentTypingState(!1),this.dialog.closeAll(),this.session&&(3==this.session.state||4==this.session.state||2==this.session.state)&&this.session.clientID&&this._appStateService.SaveStorage("disconnectionTime",(new Date).toString()),this.dialog.open(iy,{disableClose:!0,autoFocus:!0,backdropClass:"opacity1",panelClass:["confirmation-dialog"]}).afterClosed().subscribe(function(t){e.status=!1,e.disconnectDialogOpened=!1}))},e.prototype.ShowFeedBackDialog=function(e){var t=this;this.feedbackOpened&&this.forceEndedChat||5==this.session.state||(this.Messages&&this.Messages.length>0&&!this.feedbackOpened&&this.feedbackForm.feedbackRequired?(e&&this._dataService.EndChat(!1),this.feedbackOpened=!0,this.dialog.open(nv,{panelClass:["dialog-inner","scrollable-dialog"],autoFocus:!0}).afterClosed().subscribe(function(n){t.feedbackOpened=!1,n&&n.status&&(e||t._dataService.EndChat(!1),t.dialog.open(Nm,{disableClose:!0,autoFocus:!0}).afterClosed().subscribe(function(e){t.dialog.closeAll()}))},function(e){t.feedbackOpened=!1})):(this._dataService.EndChat(!1),this.forceEndedChat||this._dataService.AppendEventsMessages("Chat Ended",!0),setTimeout(function(){t._dataService.SubmitSurveyRest({},{}).subscribe(function(e){e&&t._dataService.ClearSessionData().subscribe(function(e){e&&t.dialog.open(Nm,{disableClose:!0,autoFocus:!0}).afterClosed().subscribe(function(e){t.dialog.closeAll()})})},function(e){})},0)))},e.prototype.ShowFeedBackDialogRevamp=function(){var e=this;this.feedbackOpened&&this.forceEndedChat||5==this.session.state||!this.feedbackOpened&&this.feedbackForm.feedbackRequired&&(this.feedbackOpened=!0,this.dialog.open(nv,{panelClass:["dialog-inner","scrollable-dialog"],autoFocus:!0}).afterClosed().subscribe(function(t){e.feedbackOpened=!1,t&&t.status&&e.dialog.open(Nm,{disableClose:!0,autoFocus:!0}).afterClosed().subscribe(function(t){e.dialog.closeAll()})},function(t){e.feedbackOpened=!1}))},e.prototype.CloseChatRevamp=function(){var e=this;this.session&&this.session.state>1&&this.session.state<9&&!this.closeChatDialogOpened&&(this.closeChatDialogOpened=!0,this.dialog.open(Qm,{panelClass:["dialog-inner"],autoFocus:!0}).afterClosed().subscribe(function(t){e.closeChatDialogOpened=!1}))},e.prototype.CloseChat=function(){var e=this;this.session&&this.session.state>1&&this.session.state<9&&!this.closeChatDialogOpened?(this.closeChatDialogOpened=!0,this.dialog.open(Qm,{panelClass:["dialog-inner"],autoFocus:!0}).afterClosed().subscribe(function(t){e.closeChatDialogOpened=!1,t&&t.close&&(8!=e.session.state&&e._dataService.SendTypingEventRest(!1),e._dataService.UpdateAgentTypingState(!1),e.ShowFeedBackDialog(!1))})):this._postMessageService.SendMessage("maximize",{},"bz-cb")},e.prototype.FeedBackAfterDisconnect=function(){var e=this;this.dialog.open(nv,{panelClass:["dialog-inner","scrollable-dialog"],autoFocus:!0}).afterClosed().subscribe(function(t){e.feedbackOpened=!1,t&&t.status&&(e._dataService.EndChat(!1),e.dialog.open(Nm,{disableClose:!0,autoFocus:!0}).afterClosed().subscribe(function(t){e.dialog.closeAll()}))},function(t){e.feedbackOpened=!1})},e.prototype.StartOver=function(e){var t=this;this._dataService.ClearSessionData().subscribe(function(e){e&&t._dataService.SessionStartOver(!0).subscribe(function(e){})})},e.prototype.SvgLoad=function(e,t){e.getElementsByTagName("path").item(0).setAttribute("fill",this.themeSettings[t])},e.prototype.ToggleMute=function(e,t){t.stopImmediatePropagation(),t.stopPropagation(),this._appStateService.ToggleMute(e)},e.prototype.ApplyHeaderColorWithGradient=function(e){return JSON.parse(JSON.parse(JSON.stringify('{\n      "background": "linear-gradient(20deg,'+this.themeSettings.headerSecondryColor+" 30%, "+this.themeSettings.headerColor+' 100%)"\n    }')))},e.prototype.Minimize=function(){this._postMessageService.SendMessage("maximize",{},"bz-cb")},e.prototype.ShowMoreMenu=function(e,t){t.stopImmediatePropagation(),t.stopPropagation(),this._appStateService.showMoreMenu.next(e)},e.prototype.SendTranscript=function(e){e.stopImmediatePropagation(),e.stopPropagation(),this._appStateService.showMoreMenu.next(!1),this.dialog.open(rb,{panelClass:["dialog-inner"],disableClose:!0,autoFocus:!0}).afterClosed().subscribe(function(e){})},e.prototype.OnDragOver=function(e){2!=this.session.state&&3!=this.session.state&&4!=this.session.state&&8!=this.session.state||"message-window"!=this.view||(e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),this.isDragged=!0)},e.prototype.onDragLeave=function(e){this.isDragged=!1,2!=this.session.state&&3!=this.session.state&&4!=this.session.state&&8!=this.session.state||"message-window"!=this.view||(e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation())},e.prototype.onDrop=function(e){var t=this;2!=this.session.state&&3!=this.session.state&&4!=this.session.state&&8!=this.session.state||"message-window"!=this.view||(e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),this.onDropObservable(e.dataTransfer.items).subscribe(function(e){e&&e.length&&t._dataService.attachmentGallery.next({filesUrls:e,files:t.files}),t.fileAsUrl=[],t.files=[],t.fileReader=[]}))},e.prototype.onDropObservable=function(e){var t=this;try{if(this.isDragged=!1,e)return Array.from(e).map(function(e,n){"file"===e.kind&&(t.files.push(e.getAsFile()),t.fileReader[n]=new FileReader,t.fileReader[n].readAsDataURL(t.files[n]),t.fileAsUrl.push(t.SaveAsURL(n)))}),Object(M_.forkJoin)(this.fileAsUrl)}catch(n){}},e.prototype.SaveAsURL=function(e,t){var n=this;return new _(function(t){n.fileReader[e].addEventListener("load",function(l){t.next({url:l.target.result,file:n.files[e]}),t.complete()})})},e.prototype.GoToNews=function(){this._dataService.viewMode.next("news")},e.prototype.GoToFaqs=function(){this._dataService.viewMode.next("faqs")},e.prototype.GoToPromotions=function(){this._dataService.viewMode.next("promotions")},e.prototype.GoToHome=function(){this._dataService.viewMode.next("home")},e.prototype.GoToMessages=function(){this._dataService.UpdateMessageSentStatusRest(),this._appStateService.SetMessageCount(0),this._dataService.ScrollToBottom.next(!0),this._dataService.viewMode.next("message-window")},e}(),eF=Er({encapsulation:2,styles:[['.loader-main{height:-webkit-fit-content;height:-moz-fit-content;height:fit-content;top:0;position:absolute;bottom:0;left:0;right:0;margin:auto}.overlay-drag{border:dashed 3px var(--gray-dark);background-color:var(--white-alpha7);display:-webkit-box;display:flex;align-content:center;-webkit-box-align:center;align-items:center;-webkit-box-pack:center;justify-content:center;font-size:30px;font-weight:700;position:absolute;left:0;top:0;width:100%;text-align:center;height:100%;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:999}.overlay-drag:after{content:"Drop Files Here";color:var(--gray)}']],data:{}});function tF(e){return Ss(0,[(e()(),iu(0,0,null,null,1,"app-notification",[],null,[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.GoToMessages()&&l),l},Lb,jb)),Gu(1,245760,null,0,Nb,[Xf,ng],null,null)],function(e,t){e(t,1,0)},null)}function nF(e){return Ss(0,[(e()(),iu(0,0,null,null,3,"button",[["class","cd-btn svgOnHover tooltip bottom"],["id","cd-home"]],null,[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.GoBack()&&l),l},null,null)),(e()(),iu(1,0,[["back",1]],null,0,"object",[["data","/cw/assets/img/icons/svg/home.svg"],["type","image/svg+xml"],["width","100%"]],null,[[null,"load"]],function(e,t,n){var l=!0;return"load"===t&&(l=!1!==e.component.SvgLoad(Ou(e,1).contentDocument,"headerTextColor")&&l),l},null,null)),(e()(),iu(2,0,null,null,1,"span",[["class","tooltip-inner"]],null,null,null,null,null)),(e()(),ys(-1,null,["Home"]))],null,null)}function lF(e){return Ss(0,[(e()(),iu(0,0,null,null,3,"button",[["class","cd-btn svgOnHover tooltip bottom"],["id","cd-minimize"]],null,[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.Minimize()&&l),l},null,null)),(e()(),iu(1,0,[["minimize",1]],null,0,"object",[["data","/cw/assets/img/icons/svg/minimize.svg"],["type","image/svg+xml"],["width","100%"]],null,[[null,"load"]],function(e,t,n){var l=!0;return"load"===t&&(l=!1!==e.component.SvgLoad(Ou(e,1).contentDocument,"headerTextColor")&&l),l},null,null)),(e()(),iu(2,0,null,null,1,"span",[["class","tooltip-inner"]],null,null,null,null,null)),(e()(),ys(-1,null,["Minimize"]))],null,null)}function iF(e){return Ss(0,[(e()(),iu(0,0,null,null,3,"button",[["class","cd-btn svgOnHover tooltip bottom-right"],["id","cd-close"]],null,[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.CloseChatRevamp()&&l),l},null,null)),(e()(),iu(1,0,[["close",1]],null,0,"object",[["data","/cw/assets/img/icons/svg/cancel.svg"],["type","image/svg+xml"],["width","100%"]],null,[[null,"load"]],function(e,t,n){var l=!0;return"load"===t&&(l=!1!==e.component.SvgLoad(Ou(e,1).contentDocument,"headerTextColor")&&l),l},null,null)),(e()(),iu(2,0,null,null,1,"span",[["class","tooltip-inner"]],null,null,null,null,null)),(e()(),ys(-1,null,["End Chat"]))],null,null)}function oF(e){return Ss(0,[(e()(),iu(0,0,null,null,4,"li",[["class","svgOnHover"]],null,[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.SendTranscript(n)&&l),l},null,null)),(e()(),iu(1,0,[["sendTranscript",1]],null,0,"img",[["class","svg"],["src","/cw/assets/img/icons/svg/transcript-outline.svg"]],null,null,null,null,null)),(e()(),iu(2,0,[["sendTranscript",1]],null,0,"img",[["class","svg hover"],["src","/cw/assets/img/icons/svg/transcript-filled.svg"]],null,null,null,null,null)),(e()(),iu(3,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),ys(-1,null,["Send Transcript"]))],null,null)}function rF(e){return Ss(0,[(e()(),iu(0,0,[["vol",1]],null,0,"img",[["class","svg"],["src","/cw/assets/img/icons/svg/volume-on-outline.svg"]],null,null,null,null,null))],null,null)}function uF(e){return Ss(0,[(e()(),iu(0,0,[["vol",1]],null,0,"img",[["class","svg hover"],["src","/cw/assets/img/icons/svg/volume-on-filled.svg"]],null,null,null,null,null))],null,null)}function sF(e){return Ss(0,[(e()(),iu(0,0,[["vol",1]],null,0,"img",[["class","svg"],["src","/cw/assets/img/icons/svg/volume-off-outline.svg"]],null,null,null,null,null))],null,null)}function aF(e){return Ss(0,[(e()(),iu(0,0,[["vol",1]],null,0,"img",[["class","svg hover"],["src","/cw/assets/img/icons/svg/volume-off-filled.svg"]],null,null,null,null,null))],null,null)}function cF(e){return Ss(0,[(e()(),iu(0,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),ys(-1,null,["Mute Sounds"]))],null,null)}function pF(e){return Ss(0,[(e()(),iu(0,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),ys(-1,null,["Enable Sounds"]))],null,null)}function dF(e){return Ss(0,[(e()(),iu(0,0,null,null,4,"li",[["class","svgOnHover"]],null,[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.ShowFeedBackDialogRevamp()&&l),l},null,null)),(e()(),iu(1,0,[["sendTranscript",1]],null,0,"img",[["class","svg"],["src","/cw/assets/img/icons/svg/transcript-outline.svg"]],null,null,null,null,null)),(e()(),iu(2,0,[["sendTranscript",1]],null,0,"img",[["class","svg hover"],["src","/cw/assets/img/icons/svg/transcript-filled.svg"]],null,null,null,null,null)),(e()(),iu(3,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),ys(-1,null,["Submit Feedback"]))],null,null)}function hF(e){return Ss(0,[(e()(),iu(0,0,null,null,4,"li",[["class","svgOnHover"]],null,[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.StartOver(n)&&l),l},null,null)),(e()(),iu(1,0,[["sendTranscript",1]],null,0,"img",[["class","svg"],["src","/cw/assets/img/icons/svg/transcript-outline.svg"]],null,null,null,null,null)),(e()(),iu(2,0,[["sendTranscript",1]],null,0,"img",[["class","svg hover"],["src","/cw/assets/img/icons/svg/transcript-filled.svg"]],null,null,null,null,null)),(e()(),iu(3,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),ys(-1,null,["Start Over"]))],null,null)}function fF(e){return Ss(0,[(e()(),iu(0,0,null,null,19,"ul",[["class","more-dropdown"]],null,null,null,null,null)),(e()(),lu(16777216,null,null,1,null,oF)),Gu(2,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),iu(3,0,null,null,12,"li",[["class","svgOnHover"],["id","cd-volume"]],null,[[null,"click"]],function(e,t,n){var l=!0,i=e.component;return"click"===t&&(l=!1!==i.ToggleMute(i.muted=!i.muted,n)&&l),l},null,null)),(e()(),lu(16777216,null,null,1,null,rF)),Gu(5,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,uF)),Gu(7,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,sF)),Gu(9,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,aF)),Gu(11,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,cF)),Gu(13,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,pF)),Gu(15,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,dF)),Gu(17,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,hF)),Gu(19,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component;e(t,2,0,n.session&&(2==n.state||3==n.state)),e(t,5,0,!n.muted),e(t,7,0,!n.muted),e(t,9,0,n.muted),e(t,11,0,n.muted),e(t,13,0,!n.muted),e(t,15,0,n.muted),e(t,17,0,n.session&&(2==n.state||3==n.state||4==n.state||7==n.state||8==n.state)&&n.chatEnded&&n.feedbackForm.feedbackRequired&&n.Messages&&n.Messages.length),e(t,19,0,n.session&&(2==n.state||3==n.state||4==n.state||7==n.state||8==n.state)&&n.chatEnded)},null)}function gF(e){return Ss(0,[(e()(),iu(0,0,null,null,1,"app-agent-info",[["class","agentInfo"],["id","agentInfo"]],null,null,null,tC,$b)),Gu(1,245760,null,0,Vb,[Xf,ng,Rv,yd],null,null)],function(e,t){e(t,1,0)},null)}function mF(e){return Ss(0,[(e()(),iu(0,0,null,null,1,"app-conversation-header",[["class","agentInfo"]],null,null,null,fC,lC)),Gu(1,245760,null,0,nC,[Xf,ng],null,null)],function(e,t){e(t,1,0)},null)}function vF(e){return Ss(0,[(e()(),iu(0,0,null,null,1,"app-agentlist",[["class","agentsList"],["id","agentsList"]],null,null,null,_C,mC)),Gu(1,245760,null,0,gC,[ng],null,null)],function(e,t){e(t,1,0)},null)}function DF(e){return Ss(0,[(e()(),iu(0,0,null,null,2,"div",[["class","animated slideInLeft"]],null,null,null,null,null)),(e()(),iu(1,0,null,null,1,"app-home",[],null,null,null,OC,IC)),Gu(2,245760,null,0,TC,[ng,Xf,yd],null,null)],function(e,t){e(t,2,0)},null)}function yF(e){return Ss(0,[(e()(),iu(0,0,null,null,2,"div",[["class","animated slideInLeft"]],null,null,null,null,null)),(e()(),iu(1,0,null,null,1,"app-news",[["class","newsList"],["id","newsList"]],null,null,null,GC,MC)),Gu(2,4440064,null,0,RC,[ng,Xf],null,null)],function(e,t){e(t,2,0)},null)}function bF(e){return Ss(0,[(e()(),iu(0,0,null,null,2,"div",[["class","animated slideInLeft"]],null,null,null,null,null)),(e()(),iu(1,0,null,null,1,"app-promotions",[["class","promotionList clearfix"],["id","promotionList"]],null,null,null,wS,KC)),Gu(2,4440064,null,0,QC,[yd,ng,Xf],null,null)],function(e,t){e(t,2,0)},null)}function CF(e){return Ss(0,[(e()(),iu(0,0,null,null,2,"div",[["class","animated slideInLeft"]],null,null,null,null,null)),(e()(),iu(1,0,null,null,1,"app-conversation-window",[],null,null,null,VS,xS)),Gu(2,4440064,null,0,FS,[ng,Xf],null,null)],function(e,t){e(t,2,0)},null)}function SF(e){return Ss(0,[(e()(),iu(0,0,null,null,2,"div",[],null,null,null,null,null)),(e()(),iu(1,0,null,null,1,"app-info",[["class","clearfix"],["id","faqList"]],null,null,null,JS,US)),Gu(2,4440064,null,0,HS,[Xf,ng],null,null)],function(e,t){e(t,2,0)},null)}function _F(e){return Ss(0,[(e()(),iu(0,0,null,null,2,"div",[],null,null,null,null,null)),(e()(),iu(1,0,null,null,1,"app-message-window",[],null,null,null,Xw,Jw)),Gu(2,4440064,null,0,Ww,[Xf,ng,yd],{showRegitrationForm:[0,"showRegitrationForm"]},null)],function(e,t){e(t,2,0,t.component.viewingChatHistory)},null)}function wF(e){return Ss(0,[(e()(),iu(0,0,null,null,3,"div",[["class","loader-main text-center clearfix"]],null,null,null,null,null)),(e()(),iu(1,0,[[2,0],["logo",1]],null,0,"object",[["class","m-b-20"],["data","/cw/assets/img/icons/svg/chat-icon.svg"],["height","auto"],["id","logo"],["name","logo"],["type","image/svg+xml"],["width","80"]],null,[[null,"load"]],function(e,t,n){var l=!0;return"load"===t&&(l=!1!==e.component.SvgChangeColor(n)&&l),l},null,null)),(e()(),iu(2,0,null,null,1,"h6",[["class","title-with-border border-gray"]],null,null,null,null,null)),(e()(),ys(-1,null,["Loading"]))],null,null)}function FF(e){return Ss(0,[(e()(),iu(0,0,null,null,0,"div",[["class","overlay-drag"]],null,null,null,null,null))],null,null)}function xF(e){return Ss(0,[(e()(),iu(0,0,null,null,5,"div",[],null,null,null,null,null)),(e()(),iu(1,0,null,null,4,"button",[["class","svgOnHover tooltip top-left"]],null,[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.GoToNews()&&l),l},null,null)),(e()(),iu(2,0,null,null,0,"img",[["class","svg"],["src","/cw/assets/img/icons/svg/news-outline.svg"]],null,null,null,null,null)),(e()(),iu(3,0,null,null,0,"img",[["class","svg hover"],["src","/cw/assets/img/icons/svg/news-filled.svg"]],null,null,null,null,null)),(e()(),iu(4,0,null,null,1,"span",[["class","tooltip-inner"]],null,null,null,null,null)),(e()(),ys(-1,null,["News"]))],null,null)}function EF(e){return Ss(0,[(e()(),iu(0,0,null,null,5,"div",[],null,null,null,null,null)),(e()(),iu(1,0,null,null,4,"button",[["class","svgOnHover tooltip top"]],null,[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.GoToPromotions()&&l),l},null,null)),(e()(),iu(2,0,null,null,0,"img",[["class","svg"],["src","/cw/assets/img/icons/svg/promotions-outline.svg"]],null,null,null,null,null)),(e()(),iu(3,0,null,null,0,"img",[["class","svg hover"],["src","/cw/assets/img/icons/svg/promotions-filled.svg"]],null,null,null,null,null)),(e()(),iu(4,0,null,null,1,"span",[["class","tooltip-inner"]],null,null,null,null,null)),(e()(),ys(-1,null,["Promotions"]))],null,null)}function kF(e){return Ss(0,[(e()(),iu(0,0,null,null,5,"div",[],null,null,null,null,null)),(e()(),iu(1,0,null,null,4,"button",[["class","svgOnHover tooltip top"]],null,[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.GoToFaqs()&&l),l},null,null)),(e()(),iu(2,0,null,null,0,"img",[["class","svg"],["src","/cw/assets/img/icons/svg/faqs-outline.svg"]],null,null,null,null,null)),(e()(),iu(3,0,null,null,0,"img",[["class","svg hover"],["src","/cw/assets/img/icons/svg/faqs-filled.svg"]],null,null,null,null,null)),(e()(),iu(4,0,null,null,1,"span",[["class","tooltip-inner"]],null,null,null,null,null)),(e()(),ys(-1,null,["Faqs"]))],null,null)}function AF(e){return Ss(0,[(e()(),iu(0,0,null,null,5,"div",[],null,null,null,null,null)),(e()(),iu(1,0,null,null,4,"button",[["class","svgOnHover tooltip top-right"]],null,[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component._dataService.OpenConversations()&&l),l},null,null)),(e()(),iu(2,0,null,null,0,"img",[["class","svg"],["src","/cw/assets/img/icons/svg/recent-chat-outline.svg"]],null,null,null,null,null)),(e()(),iu(3,0,null,null,0,"img",[["class","svg hover"],["src","/cw/assets/img/icons/svg/recent-chat-filled.svg"]],null,null,null,null,null)),(e()(),iu(4,0,null,null,1,"span",[["class","tooltip-inner"]],null,null,null,null,null)),(e()(),ys(-1,null,["Recent Chats"]))],null,null)}function TF(e){return Ss(0,[(e()(),iu(0,0,null,null,14,"div",[["class","footerNavigation"]],null,null,null,null,null)),(e()(),lu(16777216,null,null,1,null,xF)),Gu(2,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,EF)),Gu(4,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),iu(5,0,null,null,5,"div",[["class","homeBtn"]],null,null,null,null,null)),(e()(),iu(6,0,[["back",1]],null,4,"button",[["class","svgOnHover tooltip top"]],null,[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.GoBack()&&l),l},null,null)),(e()(),iu(7,0,null,null,0,"img",[["class","svg"],["src","/cw/assets/img/icons/svg/home-outline.svg"]],null,null,null,null,null)),(e()(),iu(8,0,null,null,0,"img",[["class","svg hover"],["src","/cw/assets/img/icons/svg/home-filled.svg"]],null,null,null,null,null)),(e()(),iu(9,0,null,null,1,"span",[["class","tooltip-inner"]],null,null,null,null,null)),(e()(),ys(-1,null,["Home"])),(e()(),lu(16777216,null,null,1,null,kF)),Gu(12,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,AF)),Gu(14,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component;e(t,2,0,n.permissions&&n.permissions.news&&n.newsFetched),e(t,4,0,n.permissions&&n.permissions.promotions&&n.promotionsFetched),e(t,12,0,n.permissions&&n.permissions.faqs),e(t,14,0,n.permissions&&n.permissions.showchathistory)},null)}function IF(e){return Ss(0,[(e()(),iu(0,0,null,null,55,"div",[["class","cd-form active"]],null,null,null,null,null)),Gu(1,278528,null,0,Yc,[Yo,er,Ll,zl],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),ms(2,2),Gu(3,278528,null,0,rp,[er,Ll,zl],{ngStyle:[0,"ngStyle"]},null),Wu(0,cp,[]),Wu(0,cp,[]),vs(6,{"background-image":0,"background-position":1,"background-repeat":2,"background-size":3}),vs(7,{"background-color":0}),(e()(),iu(8,0,[[1,0],["notifSound",1]],null,0,"audio",[["class","hide"],["src","/cw/assets/audio/beep-3.wav"]],null,null,null,null,null)),(e()(),iu(9,0,null,null,26,"div",[["class","chatHeaderArea"],["id","chatHeaderArea"]],null,null,null,null,null)),Gu(10,278528,null,0,Yc,[Yo,er,Ll,zl],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),Gu(11,278528,null,0,rp,[er,Ll,zl],{ngStyle:[0,"ngStyle"]},null),(e()(),iu(12,0,null,null,17,"div",[["class","headerTools"],["id","headerTools"]],null,null,null,null,null)),(e()(),iu(13,0,null,null,4,"h1",[],null,null,null,null,null)),Gu(14,278528,null,0,rp,[er,Ll,zl],{ngStyle:[0,"ngStyle"]},null),vs(15,{color:0}),(e()(),iu(16,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),ys(17,null,["",""])),(e()(),lu(16777216,null,null,1,null,tF)),Gu(19,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,nF)),Gu(21,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,lF)),Gu(23,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,iF)),Gu(25,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),iu(26,0,null,null,1,"button",[["class","cd-btn p-0"],["id","cd-more"]],null,[[null,"click"]],function(e,t,n){var l=!0,i=e.component;return"click"===t&&(l=!1!==i.ShowMoreMenu(!i.showMoreMenu,n)&&l),l},null,null)),(e()(),iu(27,0,[["more",1]],null,0,"object",[["data","/cw/assets/img/icons/svg/more.svg"],["type","image/svg+xml"],["width","100%"]],null,[[null,"load"]],function(e,t,n){var l=!0;return"load"===t&&(l=!1!==e.component.SvgLoad(Ou(e,27).contentDocument,"headerTextColor")&&l),l},null,null)),(e()(),lu(16777216,null,null,1,null,fF)),Gu(29,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,gF)),Gu(31,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,mF)),Gu(33,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,vF)),Gu(35,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),iu(36,0,null,null,17,"div",[["class","chatContentArea"],["id","chatContentArea"]],null,[[null,"dragover"],[null,"drop"],[null,"dragleave"]],function(e,t,n){var l=!0,i=e.component;return"dragover"===t&&(l=!1!==i.OnDragOver(n)&&l),"drop"===t&&(l=!1!==i.onDrop(n)&&l),"dragleave"===t&&(l=!1!==i.onDragLeave(n)&&l),l},null,null)),(e()(),iu(37,0,null,null,12,"div",[["class","activateScrollbar clearfix"]],null,null,null,null,null)),(e()(),lu(16777216,null,null,1,null,DF)),Gu(39,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,yF)),Gu(41,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,bF)),Gu(43,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,CF)),Gu(45,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,SF)),Gu(47,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,_F)),Gu(49,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,wF)),Gu(51,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,FF)),Gu(53,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,TF)),Gu(55,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component,l=e(t,2,0,"home"==n.view&&n.firstLoad>1?"homeWindow":"message-window"==n.view&&n.firstLoad>1?"messageWindow":"conversation-window"==n.view?"recentChatsWindow":"innerPageWindow",n.helpWindow?"helpWindow":"");e(t,1,0,"cd-form active",l);var i=n.themeSettings&&wr(t,3,0,Ou(t,4).transform(n.themeSettings.bgImage))!=wr(t,3,0,Ou(t,5).transform(nu))?e(t,6,0,"url("+n.themeSettings.bgImage.links+")","center center","no-repeat","cover"):e(t,7,0,n.themeSettings.bgColor);e(t,3,0,i),e(t,10,0,"chatHeaderArea","message-window"==n.view&&n.chatEnded?"no-agent-info":""),e(t,11,0,n.themeSettings?n.ApplyHeaderColorWithGradient(n.themeSettings.headerColor):"");var o=n.themeSettings?e(t,15,0,n.themeSettings.headerTextColor):"";e(t,14,0,o),e(t,19,0,n.showNotification),e(t,21,0,"message-window"==n.view||"conversation-window"==n.view),e(t,23,0,n.session),e(t,25,0,n.session&&(2==n.state||3==n.state||4==n.state||7==n.state||8==n.state)&&!n.chatEnded),e(t,29,0,n.showMoreMenu),e(t,31,0,!n.viewingChatHistory&&n.session&&(3==n.state||4==n.state||5==n.state||7==n.state||8==n.state||2==n.state)&&!n.chatEnded&&"message-window"==n.view),e(t,33,0,n.session&&n.viewingChatHistory&&"home"!=n.view&&"promotions"!=n.view&&"news"!=n.view&&"faqs"!=n.view),e(t,35,0,n.session&&"home"==n.view&&(1==n.state||6==n.state)&&n.agentsList&&n.agentsList.length&&!n.viewingChatHistory),e(t,39,0,n.session&&"home"==n.view),e(t,41,0,"news"==n.view),e(t,43,0,"promotions"==n.view),e(t,45,0,n.session&&"conversation-window"==n.view),e(t,47,0,"faqs"==n.view),e(t,49,0,n.session&&"message-window"==n.view&&!n.restartingApp),e(t,51,0,!n.session),e(t,53,0,n.isDragged),e(t,55,0,!("message-window"==n.view))},function(e,t){e(t,17,0,t.component.messageWindow.heading)})}function BF(e){return Ss(0,[(e()(),iu(0,0,null,null,1,"app-preloader",[["type","page-bubble-pop"]],null,null,null,Qy,Ly)),Gu(1,114688,null,0,jy,[],{type:[0,"type"]},null)],function(e,t){e(t,1,0,"page-bubble-pop")},null)}function OF(e){return Ss(0,[as(671088640,1,{notifSound:0}),as(671088640,2,{logo:0}),(e()(),lu(16777216,null,null,1,null,IF)),Gu(3,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null),(e()(),lu(16777216,null,null,1,null,BF)),Gu(5,16384,null,0,lp,[Oo,Ai],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component;e(t,3,0,n.view&&(!n.helpWindowLoading||!n.status)),e(t,5,0,n.loading)},null)}var RF=Er({encapsulation:2,styles:[[""]],data:{}});function MF(e){return Ss(0,[(e()(),iu(0,0,null,null,1,"app-main",[],null,[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==Ou(e,1).onclick(n)&&l),l},OF,eF)),Gu(1,245760,null,0,Yw,[Ma,ng,Xf,Rv,tg,eg,yd,P_],null,null)],function(e,t){e(t,1,0)},null)}function PF(e){return Ss(0,[(e()(),iu(0,0,null,null,1,"app-root",[],null,[["window","beforeunload"],["window","keydown"],[null,"click"]],function(e,t,n){var l=!0;return"window:beforeunload"===t&&(l=!1!==Ou(e,1).beforeUnloadHander()&&l),"window:keydown"===t&&(l=!1!==Ou(e,1).onKeyDown(n)&&l),"click"===t&&(l=!1!==Ou(e,1).onclick(n)&&l),l},MF,RF)),Gu(1,49152,null,0,Pa,[Ma],null,null)],null,null)}var NF=Su("app-root",Pa,PF,{},{},[]);function jF(){return"undefined"!=typeof process}function LF(e){switch(e.length){case 0:return new Ua;case 1:return e[0];default:return new za(e)}}function VF(e,t,n,l,i,o){void 0===i&&(i={}),void 0===o&&(o={});var r=[],u=[],s=-1,a=null;if(l.forEach(function(e){var n=e.offset,l=n==s,c=l&&a||{};Object.keys(e).forEach(function(n){var l=n,u=e[n];if("offset"!==n)switch(l=t.normalizePropertyName(l,r),u){case qa:u=i[n];break;case La:u=o[n];break;default:u=t.normalizeStyleValue(n,l,u,r)}c[l]=u}),l||u.push(c),a=c,s=n}),r.length)throw new Error("Unable to animate due to the following errors:\n - "+r.join("\n - "));return u}function $F(e,t,n,l){switch(t){case"start":e.onStart(function(){return l(n&&HF(n,"start",e))});break;case"done":e.onDone(function(){return l(n&&HF(n,"done",e))});break;case"destroy":e.onDestroy(function(){return l(n&&HF(n,"destroy",e))})}}function HF(e,t,n){var l=n.totalTime,i=UF(e.element,e.triggerName,e.fromState,e.toState,t||e.phaseName,null==l?e.totalTime:l,!!n.disabled),o=e._data;return null!=o&&(i._data=o),i}function UF(e,t,n,l,i,o,r){return void 0===i&&(i=""),void 0===o&&(o=0),{element:e,triggerName:t,fromState:n,toState:l,phaseName:i,totalTime:o,disabled:!!r}}function zF(e,t,n){var l;return e instanceof Map?(l=e.get(t))||e.set(t,l=n):(l=e[t])||(l=e[t]=n),l}function qF(e){var t=e.indexOf(":");return[e.substring(1,t),e.substr(t+1)]}var GF=function(e,t){return!1},WF=function(e,t){return!1},JF=function(e,t,n){return[]},QF=jF();if(QF||"undefined"!=typeof Element){if(GF=function(e,t){return e.contains(t)},QF||Element.prototype.matches)WF=function(e,t){return e.matches(t)};else{var KF=Element.prototype,ZF=KF.matchesSelector||KF.mozMatchesSelector||KF.msMatchesSelector||KF.oMatchesSelector||KF.webkitMatchesSelector;ZF&&(WF=function(e,t){return ZF.apply(e,[t])})}JF=function(e,t,n){var i=[];if(n)i.push.apply(i,Object(l.__spread)(e.querySelectorAll(t)));else{var o=e.querySelector(t);o&&i.push(o)}return i}}var XF=null,YF=!1;function ex(e){XF||(XF=("undefined"!=typeof document?document.body:null)||{},YF=!!XF.style&&"WebkitAppearance"in XF.style);var t=!0;return XF.style&&!function(e){return"ebkit"==e.substring(1,6)}(e)&&!(t=e in XF.style)&&YF&&(t="Webkit"+e.charAt(0).toUpperCase()+e.substr(1)in XF.style),t}var tx=WF,nx=GF,lx=JF;function ix(e){var t={};return Object.keys(e).forEach(function(n){var l=n.replace(/([a-z])([A-Z])/g,"$1-$2");t[l]=e[n]}),t}var ox=function(){function e(){}return e.prototype.validateStyleProperty=function(e){return ex(e)},e.prototype.matchesElement=function(e,t){return tx(e,t)},e.prototype.containsElement=function(e,t){return nx(e,t)},e.prototype.query=function(e,t,n){return lx(e,t,n)},e.prototype.computeStyle=function(e,t,n){return n||""},e.prototype.animate=function(e,t,n,l,i,o,r){return void 0===o&&(o=[]),new Ua(n,l)},e}(),rx=function(){function e(){}return e.NOOP=new ox,e}(),ux=1e3;function sx(e){if("number"==typeof e)return e;var t=e.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:ax(parseFloat(t[1]),t[2])}function ax(e,t){switch(t){case"s":return e*ux;default:return e}}function cx(e,t,n){return e.hasOwnProperty("duration")?e:function(e,t,n){var l,i=0,o="";if("string"==typeof e){var r=e.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===r)return t.push('The provided timing value "'+e+'" is invalid.'),{duration:0,delay:0,easing:""};l=ax(parseFloat(r[1]),r[2]);var u=r[3];null!=u&&(i=ax(parseFloat(u),r[4]));var s=r[5];s&&(o=s)}else l=e;if(!n){var a=!1,c=t.length;l<0&&(t.push("Duration values below 0 are not allowed for this animation step."),a=!0),i<0&&(t.push("Delay values below 0 are not allowed for this animation step."),a=!0),a&&t.splice(c,0,'The provided timing value "'+e+'" is invalid.')}return{duration:l,delay:i,easing:o}}(e,t,n)}function px(e,t){return void 0===t&&(t={}),Object.keys(e).forEach(function(n){t[n]=e[n]}),t}function dx(e,t,n){if(void 0===n&&(n={}),t)for(var l in e)n[l]=e[l];else px(e,n);return n}function hx(e,t,n){return n?t+":"+n+";":""}function fx(e){for(var t="",n=0;n<e.style.length;n++)t+=hx(0,l=e.style.item(n),e.style.getPropertyValue(l));for(var l in e.style)e.style.hasOwnProperty(l)&&!l.startsWith("_")&&(t+=hx(0,l.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),e.style[l]));e.setAttribute("style",t)}function gx(e,t,n){e.style&&(Object.keys(t).forEach(function(l){var i=_x(l);n&&!n.hasOwnProperty(l)&&(n[l]=e.style[i]),e.style[i]=t[l]}),jF()&&fx(e))}function mx(e,t){e.style&&(Object.keys(t).forEach(function(t){var n=_x(t);e.style[n]=""}),jF()&&fx(e))}function vx(e){return Array.isArray(e)?1==e.length?e[0]:Va(e):e}var Dx=new RegExp("{{\\s*(.+?)\\s*}}","g");function yx(e){var t=[];if("string"==typeof e){for(var n=e.toString(),l=void 0;l=Dx.exec(n);)t.push(l[1]);Dx.lastIndex=0}return t}function bx(e,t,n){var l=e.toString(),i=l.replace(Dx,function(e,l){var i=t[l];return t.hasOwnProperty(l)||(n.push("Please provide a value for the animation param "+l),i=""),i.toString()});return i==l?e:i}function Cx(e){for(var t=[],n=e.next();!n.done;)t.push(n.value),n=e.next();return t}var Sx=/-+([a-z0-9])/g;function _x(e){return e.replace(Sx,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e[1].toUpperCase()})}function wx(e,t){return 0===e||0===t}function Fx(e,t,n){var l=Object.keys(n);if(l.length&&t.length){var i=t[0],o=[];if(l.forEach(function(e){i.hasOwnProperty(e)||o.push(e),i[e]=n[e]}),o.length)for(var r=function(){var n=t[u];o.forEach(function(t){n[t]=Ex(e,t)})},u=1;u<t.length;u++)r()}return t}function xx(e,t,n){switch(t.type){case 7:return e.visitTrigger(t,n);case 0:return e.visitState(t,n);case 1:return e.visitTransition(t,n);case 2:return e.visitSequence(t,n);case 3:return e.visitGroup(t,n);case 4:return e.visitAnimate(t,n);case 5:return e.visitKeyframes(t,n);case 6:return e.visitStyle(t,n);case 8:return e.visitReference(t,n);case 9:return e.visitAnimateChild(t,n);case 10:return e.visitAnimateRef(t,n);case 11:return e.visitQuery(t,n);case 12:return e.visitStagger(t,n);default:throw new Error("Unable to resolve animation metadata node #"+t.type)}}function Ex(e,t){return window.getComputedStyle(e)[t]}var kx="*",Ax=new Set(["true","1"]),Tx=new Set(["false","0"]);function Ix(e,t){var n=Ax.has(e)||Tx.has(e),l=Ax.has(t)||Tx.has(t);return function(i,o){var r=e==kx||e==i,u=t==kx||t==o;return!r&&n&&"boolean"==typeof i&&(r=i?Ax.has(e):Tx.has(e)),!u&&l&&"boolean"==typeof o&&(u=o?Ax.has(t):Tx.has(t)),r&&u}}var Bx=new RegExp("s*:selfs*,?","g");function Ox(e,t,n){return new Rx(e).build(t,n)}var Rx=function(){function e(e){this._driver=e}return e.prototype.build=function(e,t){var n=new Mx(t);return this._resetContextStyleTimingState(n),xx(this,vx(e),n)},e.prototype._resetContextStyleTimingState=function(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0},e.prototype.visitTrigger=function(e,t){var n=this,l=t.queryCount=0,i=t.depCount=0,o=[],r=[];return"@"==e.name.charAt(0)&&t.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),e.definitions.forEach(function(e){if(n._resetContextStyleTimingState(t),0==e.type){var u=e,s=u.name;s.toString().split(/\s*,\s*/).forEach(function(e){u.name=e,o.push(n.visitState(u,t))}),u.name=s}else if(1==e.type){var a=n.visitTransition(e,t);l+=a.queryCount,i+=a.depCount,r.push(a)}else t.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:e.name,states:o,transitions:r,queryCount:l,depCount:i,options:null}},e.prototype.visitState=function(e,t){var n=this.visitStyle(e.styles,t),l=e.options&&e.options.params||null;if(n.containsDynamicStyles){var i=new Set,o=l||{};if(n.styles.forEach(function(e){if(Px(e)){var t=e;Object.keys(t).forEach(function(e){yx(t[e]).forEach(function(e){o.hasOwnProperty(e)||i.add(e)})})}}),i.size){var r=Cx(i.values());t.errors.push('state("'+e.name+'", ...) must define default values for all the following style substitutions: '+r.join(", "))}}return{type:0,name:e.name,style:n,options:l?{params:l}:null}},e.prototype.visitTransition=function(e,t){t.queryCount=0,t.depCount=0;var n,l,i,o=xx(this,vx(e.animation),t);return{type:1,matchers:(n=e.expr,l=t.errors,i=[],"string"==typeof n?n.split(/\s*,\s*/).forEach(function(e){return function(e,t,n){if(":"==e[0]){var l=function(e,t){switch(e){case":enter":return"void => *";case":leave":return"* => void";case":increment":return function(e,t){return parseFloat(t)>parseFloat(e)};case":decrement":return function(e,t){return parseFloat(t)<parseFloat(e)};default:return t.push('The transition alias value "'+e+'" is not supported'),"* => *"}}(e,n);if("function"==typeof l)return void t.push(l);e=l}var i=e.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return n.push('The provided transition expression "'+e+'" is not supported'),t;var o=i[1],r=i[2],u=i[3];t.push(Ix(o,u)),"<"!=r[0]||o==kx&&u==kx||t.push(Ix(u,o))}(e,i,l)}):i.push(n),i),animation:o,queryCount:t.queryCount,depCount:t.depCount,options:Nx(e.options)}},e.prototype.visitSequence=function(e,t){var n=this;return{type:2,steps:e.steps.map(function(e){return xx(n,e,t)}),options:Nx(e.options)}},e.prototype.visitGroup=function(e,t){var n=this,l=t.currentTime,i=0,o=e.steps.map(function(e){t.currentTime=l;var o=xx(n,e,t);return i=Math.max(i,t.currentTime),o});return t.currentTime=i,{type:3,steps:o,options:Nx(e.options)}},e.prototype.visitAnimate=function(e,t){var n,l=function(e,t){var n=null;if(e.hasOwnProperty("duration"))n=e;else if("number"==typeof e)return jx(cx(e,t).duration,0,"");var l=e;if(l.split(/\s+/).some(function(e){return"{"==e.charAt(0)&&"{"==e.charAt(1)})){var i=jx(0,0,"");return i.dynamic=!0,i.strValue=l,i}return jx((n=n||cx(l,t)).duration,n.delay,n.easing)}(e.timings,t.errors);t.currentAnimateTimings=l;var i=e.styles?e.styles:$a({});if(5==i.type)n=this.visitKeyframes(i,t);else{var o=e.styles,r=!1;if(!o){r=!0;var u={};l.easing&&(u.easing=l.easing),o=$a(u)}t.currentTime+=l.duration+l.delay;var s=this.visitStyle(o,t);s.isEmptyStep=r,n=s}return t.currentAnimateTimings=null,{type:4,timings:l,style:n,options:null}},e.prototype.visitStyle=function(e,t){var n=this._makeStyleAst(e,t);return this._validateStyleAst(n,t),n},e.prototype._makeStyleAst=function(e,t){var n=[];Array.isArray(e.styles)?e.styles.forEach(function(e){"string"==typeof e?e==La?n.push(e):t.errors.push("The provided style string value "+e+" is not allowed."):n.push(e)}):n.push(e.styles);var l=!1,i=null;return n.forEach(function(e){if(Px(e)){var t=e,n=t.easing;if(n&&(i=n,delete t.easing),!l)for(var o in t)if(t[o].toString().indexOf("{{")>=0){l=!0;break}}}),{type:6,styles:n,easing:i,offset:e.offset,containsDynamicStyles:l,options:null}},e.prototype._validateStyleAst=function(e,t){var n=this,l=t.currentAnimateTimings,i=t.currentTime,o=t.currentTime;l&&o>0&&(o-=l.duration+l.delay),e.styles.forEach(function(e){"string"!=typeof e&&Object.keys(e).forEach(function(l){if(n._driver.validateStyleProperty(l)){var r,u,s,a=t.collectedStyles[t.currentQuerySelector],c=a[l],p=!0;c&&(o!=i&&o>=c.startTime&&i<=c.endTime&&(t.errors.push('The CSS property "'+l+'" that exists between the times of "'+c.startTime+'ms" and "'+c.endTime+'ms" is also being animated in a parallel animation between the times of "'+o+'ms" and "'+i+'ms"'),p=!1),o=c.startTime),p&&(a[l]={startTime:o,endTime:i}),t.options&&(r=t.errors,u=t.options.params||{},(s=yx(e[l])).length&&s.forEach(function(e){u.hasOwnProperty(e)||r.push("Unable to resolve the local animation param "+e+" in the given list of values")}))}else t.errors.push('The provided animation property "'+l+'" is not a supported CSS property for animations')})})},e.prototype.visitKeyframes=function(e,t){var n=this,l={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push("keyframes() must be placed inside of a call to animate()"),l;var i=0,o=[],r=!1,u=!1,s=0,a=e.steps.map(function(e){var l=n._makeStyleAst(e,t),a=null!=l.offset?l.offset:function(e){if("string"==typeof e)return null;var t=null;if(Array.isArray(e))e.forEach(function(e){if(Px(e)&&e.hasOwnProperty("offset")){var n=e;t=parseFloat(n.offset),delete n.offset}});else if(Px(e)&&e.hasOwnProperty("offset")){var n=e;t=parseFloat(n.offset),delete n.offset}return t}(l.styles),c=0;return null!=a&&(i++,c=l.offset=a),u=u||c<0||c>1,r=r||c<s,s=c,o.push(c),l});u&&t.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),r&&t.errors.push("Please ensure that all keyframe offsets are in order");var c=e.steps.length,p=0;i>0&&i<c?t.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==i&&(p=1/(c-1));var d=c-1,h=t.currentTime,f=t.currentAnimateTimings,g=f.duration;return a.forEach(function(e,i){var r=p>0?i==d?1:p*i:o[i],u=r*g;t.currentTime=h+f.delay+u,f.duration=u,n._validateStyleAst(e,t),e.offset=r,l.styles.push(e)}),l},e.prototype.visitReference=function(e,t){return{type:8,animation:xx(this,vx(e.animation),t),options:Nx(e.options)}},e.prototype.visitAnimateChild=function(e,t){return t.depCount++,{type:9,options:Nx(e.options)}},e.prototype.visitAnimateRef=function(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Nx(e.options)}},e.prototype.visitQuery=function(e,t){var n=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;var o=Object(l.__read)(function(e){var t=!!e.split(/\s*,\s*/).find(function(e){return":self"==e});return t&&(e=e.replace(Bx,"")),[e=e.replace(/@\*/g,".ng-trigger").replace(/@\w+/g,function(e){return".ng-trigger-"+e.substr(1)}).replace(/:animating/g,".ng-animating"),t]}(e.selector),2),r=o[0],u=o[1];t.currentQuerySelector=n.length?n+" "+r:r,zF(t.collectedStyles,t.currentQuerySelector,{});var s=xx(this,vx(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=n,{type:11,selector:r,limit:i.limit||0,optional:!!i.optional,includeSelf:u,animation:s,originalSelector:e.selector,options:Nx(e.options)}},e.prototype.visitStagger=function(e,t){t.currentQuery||t.errors.push("stagger() can only be used inside of query()");var n="full"===e.timings?{duration:0,delay:0,easing:"full"}:cx(e.timings,t.errors,!0);return{type:12,animation:xx(this,vx(e.animation),t),timings:n,options:null}},e}(),Mx=function(){return function(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}();function Px(e){return!Array.isArray(e)&&"object"==typeof e}function Nx(e){var t;return e?(e=px(e)).params&&(e.params=(t=e.params)?px(t):null):e={},e}function jx(e,t,n){return{duration:e,delay:t,easing:n}}function Lx(e,t,n,l,i,o,r,u){return void 0===r&&(r=null),void 0===u&&(u=!1),{type:1,element:e,keyframes:t,preStyleProps:n,postStyleProps:l,duration:i,delay:o,totalTime:i+o,easing:r,subTimeline:u}}var Vx=function(){function e(){this._map=new Map}return e.prototype.consume=function(e){var t=this._map.get(e);return t?this._map.delete(e):t=[],t},e.prototype.append=function(e,t){var n=this._map.get(e);n||this._map.set(e,n=[]),n.push.apply(n,Object(l.__spread)(t))},e.prototype.has=function(e){return this._map.has(e)},e.prototype.clear=function(){this._map.clear()},e}(),$x=new RegExp(":enter","g"),Hx=new RegExp(":leave","g");function Ux(e,t,n,l,i,o,r,u,s,a){return void 0===o&&(o={}),void 0===r&&(r={}),void 0===a&&(a=[]),(new zx).buildKeyframes(e,t,n,l,i,o,r,u,s,a)}var zx=function(){function e(){}return e.prototype.buildKeyframes=function(e,t,n,l,i,o,r,u,s,a){void 0===a&&(a=[]),s=s||new Vx;var c=new Gx(e,t,s,l,i,a,[]);c.options=u,c.currentTimeline.setStyles([o],null,c.errors,u),xx(this,n,c);var p=c.timelines.filter(function(e){return e.containsAnimation()});if(p.length&&Object.keys(r).length){var d=p[p.length-1];d.allowOnlyTimelineStyles()||d.setStyles([r],null,c.errors,u)}return p.length?p.map(function(e){return e.buildKeyframes()}):[Lx(t,[],[],[],0,0,"",!1)]},e.prototype.visitTrigger=function(e,t){},e.prototype.visitState=function(e,t){},e.prototype.visitTransition=function(e,t){},e.prototype.visitAnimateChild=function(e,t){var n=t.subInstructions.consume(t.element);if(n){var l=t.createSubContext(e.options),i=t.currentTimeline.currentTime,o=this._visitSubInstructions(n,l,l.options);i!=o&&t.transformIntoNewTimeline(o)}t.previousNode=e},e.prototype.visitAnimateRef=function(e,t){var n=t.createSubContext(e.options);n.transformIntoNewTimeline(),this.visitReference(e.animation,n),t.transformIntoNewTimeline(n.currentTimeline.currentTime),t.previousNode=e},e.prototype._visitSubInstructions=function(e,t,n){var l=t.currentTimeline.currentTime,i=null!=n.duration?sx(n.duration):null,o=null!=n.delay?sx(n.delay):null;return 0!==i&&e.forEach(function(e){var n=t.appendInstructionToTimeline(e,i,o);l=Math.max(l,n.duration+n.delay)}),l},e.prototype.visitReference=function(e,t){t.updateOptions(e.options,!0),xx(this,e.animation,t),t.previousNode=e},e.prototype.visitSequence=function(e,t){var n=this,l=t.subContextCount,i=t,o=e.options;if(o&&(o.params||o.delay)&&((i=t.createSubContext(o)).transformIntoNewTimeline(),null!=o.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=qx);var r=sx(o.delay);i.delayNextStep(r)}e.steps.length&&(e.steps.forEach(function(e){return xx(n,e,i)}),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>l&&i.transformIntoNewTimeline()),t.previousNode=e},e.prototype.visitGroup=function(e,t){var n=this,l=[],i=t.currentTimeline.currentTime,o=e.options&&e.options.delay?sx(e.options.delay):0;e.steps.forEach(function(r){var u=t.createSubContext(e.options);o&&u.delayNextStep(o),xx(n,r,u),i=Math.max(i,u.currentTimeline.currentTime),l.push(u.currentTimeline)}),l.forEach(function(e){return t.currentTimeline.mergeTimelineCollectedStyles(e)}),t.transformIntoNewTimeline(i),t.previousNode=e},e.prototype._visitTiming=function(e,t){if(e.dynamic){var n=e.strValue;return cx(t.params?bx(n,t.params,t.errors):n,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}},e.prototype.visitAnimate=function(e,t){var n=t.currentAnimateTimings=this._visitTiming(e.timings,t),l=t.currentTimeline;n.delay&&(t.incrementTime(n.delay),l.snapshotCurrentStyles());var i=e.style;5==i.type?this.visitKeyframes(i,t):(t.incrementTime(n.duration),this.visitStyle(i,t),l.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e},e.prototype.visitStyle=function(e,t){var n=t.currentTimeline,l=t.currentAnimateTimings;!l&&n.getCurrentStyleProperties().length&&n.forwardFrame();var i=l&&l.easing||e.easing;e.isEmptyStep?n.applyEmptyStep(i):n.setStyles(e.styles,i,t.errors,t.options),t.previousNode=e},e.prototype.visitKeyframes=function(e,t){var n=t.currentAnimateTimings,l=t.currentTimeline.duration,i=n.duration,o=t.createSubContext().currentTimeline;o.easing=n.easing,e.styles.forEach(function(e){o.forwardTime((e.offset||0)*i),o.setStyles(e.styles,e.easing,t.errors,t.options),o.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(o),t.transformIntoNewTimeline(l+i),t.previousNode=e},e.prototype.visitQuery=function(e,t){var n=this,l=t.currentTimeline.currentTime,i=e.options||{},o=i.delay?sx(i.delay):0;o&&(6===t.previousNode.type||0==l&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=qx);var r=l,u=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=u.length;var s=null;u.forEach(function(l,i){t.currentQueryIndex=i;var u=t.createSubContext(e.options,l);o&&u.delayNextStep(o),l===t.element&&(s=u.currentTimeline),xx(n,e.animation,u),u.currentTimeline.applyStylesToKeyframe(),r=Math.max(r,u.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(r),s&&(t.currentTimeline.mergeTimelineCollectedStyles(s),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e},e.prototype.visitStagger=function(e,t){var n=t.parentContext,l=t.currentTimeline,i=e.timings,o=Math.abs(i.duration),r=o*(t.currentQueryTotal-1),u=o*t.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":u=r-u;break;case"full":u=n.currentStaggerTime}var s=t.currentTimeline;u&&s.delayNextStep(u);var a=s.currentTime;xx(this,e.animation,t),t.previousNode=e,n.currentStaggerTime=l.currentTime-a+(l.startTime-n.currentTimeline.startTime)},e}(),qx={},Gx=function(){function e(e,t,n,l,i,o,r,u){this._driver=e,this.element=t,this.subInstructions=n,this._enterClassName=l,this._leaveClassName=i,this.errors=o,this.timelines=r,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=qx,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=u||new Wx(this._driver,t,0),r.push(this.currentTimeline)}return Object.defineProperty(e.prototype,"params",{get:function(){return this.options.params},enumerable:!0,configurable:!0}),e.prototype.updateOptions=function(e,t){var n=this;if(e){var l=e,i=this.options;null!=l.duration&&(i.duration=sx(l.duration)),null!=l.delay&&(i.delay=sx(l.delay));var o=l.params;if(o){var r=i.params;r||(r=this.options.params={}),Object.keys(o).forEach(function(e){t&&r.hasOwnProperty(e)||(r[e]=bx(o[e],r,n.errors))})}}},e.prototype._copyOptions=function(){var e={};if(this.options){var t=this.options.params;if(t){var n=e.params={};Object.keys(t).forEach(function(e){n[e]=t[e]})}}return e},e.prototype.createSubContext=function(t,n,l){void 0===t&&(t=null);var i=n||this.element,o=new e(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,l||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(t),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o},e.prototype.transformIntoNewTimeline=function(e){return this.previousNode=qx,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline},e.prototype.appendInstructionToTimeline=function(e,t,n){var l={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+e.delay,easing:""},i=new Jx(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,l,e.stretchStartingKeyframe);return this.timelines.push(i),l},e.prototype.incrementTime=function(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)},e.prototype.delayNextStep=function(e){e>0&&this.currentTimeline.delayNextStep(e)},e.prototype.invokeQuery=function(e,t,n,i,o,r){var u=[];if(i&&u.push(this.element),e.length>0){e=(e=e.replace($x,"."+this._enterClassName)).replace(Hx,"."+this._leaveClassName);var s=this._driver.query(this.element,e,1!=n);0!==n&&(s=n<0?s.slice(s.length+n,s.length):s.slice(0,n)),u.push.apply(u,Object(l.__spread)(s))}return o||0!=u.length||r.push('`query("'+t+'")` returned zero elements. (Use `query("'+t+'", { optional: true })` if you wish to allow this.)'),u},e}(),Wx=function(){function e(e,t,n,l){this._driver=e,this.element=t,this.startTime=n,this._elementTimelineStylesLookup=l,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}return e.prototype.containsAnimation=function(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}},e.prototype.getCurrentStyleProperties=function(){return Object.keys(this._currentKeyframe)},Object.defineProperty(e.prototype,"currentTime",{get:function(){return this.startTime+this.duration},enumerable:!0,configurable:!0}),e.prototype.delayNextStep=function(e){var t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e},e.prototype.fork=function(t,n){return this.applyStylesToKeyframe(),new e(this._driver,t,n||this.currentTime,this._elementTimelineStylesLookup)},e.prototype._loadKeyframe=function(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))},e.prototype.forwardFrame=function(){this.duration+=1,this._loadKeyframe()},e.prototype.forwardTime=function(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()},e.prototype._updateStyle=function(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}},e.prototype.allowOnlyTimelineStyles=function(){return this._currentEmptyStepKeyframe!==this._currentKeyframe},e.prototype.applyEmptyStep=function(e){var t=this;e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(function(e){t._backFill[e]=t._globalTimelineStyles[e]||La,t._currentKeyframe[e]=La}),this._currentEmptyStepKeyframe=this._currentKeyframe},e.prototype.setStyles=function(e,t,n,l){var i=this;t&&(this._previousKeyframe.easing=t);var o=l&&l.params||{},r=function(e,t){var n,l={};return e.forEach(function(e){"*"===e?(n=n||Object.keys(t)).forEach(function(e){l[e]=La}):dx(e,!1,l)}),l}(e,this._globalTimelineStyles);Object.keys(r).forEach(function(e){var t=bx(r[e],o,n);i._pendingStyles[e]=t,i._localTimelineStyles.hasOwnProperty(e)||(i._backFill[e]=i._globalTimelineStyles.hasOwnProperty(e)?i._globalTimelineStyles[e]:La),i._updateStyle(e,t)})},e.prototype.applyStylesToKeyframe=function(){var e=this,t=this._pendingStyles,n=Object.keys(t);0!=n.length&&(this._pendingStyles={},n.forEach(function(n){e._currentKeyframe[n]=t[n]}),Object.keys(this._localTimelineStyles).forEach(function(t){e._currentKeyframe.hasOwnProperty(t)||(e._currentKeyframe[t]=e._localTimelineStyles[t])}))},e.prototype.snapshotCurrentStyles=function(){var e=this;Object.keys(this._localTimelineStyles).forEach(function(t){var n=e._localTimelineStyles[t];e._pendingStyles[t]=n,e._updateStyle(t,n)})},e.prototype.getFinalKeyframe=function(){return this._keyframes.get(this.duration)},Object.defineProperty(e.prototype,"properties",{get:function(){var e=[];for(var t in this._currentKeyframe)e.push(t);return e},enumerable:!0,configurable:!0}),e.prototype.mergeTimelineCollectedStyles=function(e){var t=this;Object.keys(e._styleSummary).forEach(function(n){var l=t._styleSummary[n],i=e._styleSummary[n];(!l||i.time>l.time)&&t._updateStyle(n,i.value)})},e.prototype.buildKeyframes=function(){var e=this;this.applyStylesToKeyframe();var t=new Set,n=new Set,l=1===this._keyframes.size&&0===this.duration,i=[];this._keyframes.forEach(function(o,r){var u=dx(o,!0);Object.keys(u).forEach(function(e){var l=u[e];l==qa?t.add(e):l==La&&n.add(e)}),l||(u.offset=r/e.duration),i.push(u)});var o=t.size?Cx(t.values()):[],r=n.size?Cx(n.values()):[];if(l){var u=i[0],s=px(u);u.offset=0,s.offset=1,i=[u,s]}return Lx(this.element,i,o,r,this.duration,this.startTime,this.easing,!1)},e}(),Jx=function(e){function t(t,n,l,i,o,r,u){void 0===u&&(u=!1);var s=e.call(this,t,n,r.delay)||this;return s.element=n,s.keyframes=l,s.preStyleProps=i,s.postStyleProps=o,s._stretchStartingKeyframe=u,s.timings={duration:r.duration,delay:r.delay,easing:r.easing},s}return Object(l.__extends)(t,e),t.prototype.containsAnimation=function(){return this.keyframes.length>1},t.prototype.buildKeyframes=function(){var e=this.keyframes,t=this.timings,n=t.delay,l=t.duration,i=t.easing;if(this._stretchStartingKeyframe&&n){var o=[],r=l+n,u=n/r,s=dx(e[0],!1);s.offset=0,o.push(s);var a=dx(e[0],!1);a.offset=Qx(u),o.push(a);for(var c=e.length-1,p=1;p<=c;p++){var d=dx(e[p],!1);d.offset=Qx((n+d.offset*l)/r),o.push(d)}l=r,n=0,i="",e=o}return Lx(this.element,e,this.preStyleProps,this.postStyleProps,l,n,i,!0)},t}(Wx);function Qx(e,t){void 0===t&&(t=3);var n=Math.pow(10,t-1);return Math.round(e*n)/n}var Kx=function(){return function(){}}(),Zx=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(l.__extends)(t,e),t.prototype.normalizePropertyName=function(e,t){return _x(e)},t.prototype.normalizeStyleValue=function(e,t,n,l){var i="",o=n.toString().trim();if(Xx[t]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{var r=n.match(/^[+-]?[\d\.]+([a-z]*)$/);r&&0==r[1].length&&l.push("Please provide a CSS unit value for "+e+":"+n)}return o+i},t}(Kx),Xx=Yx("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(","));function Yx(e){var t={};return e.forEach(function(e){return t[e]=!0}),t}function eE(e,t,n,l,i,o,r,u,s,a,c,p,d){return{type:0,element:e,triggerName:t,isRemovalTransition:i,fromState:n,fromStyles:o,toState:l,toStyles:r,timelines:u,queriedElements:s,preStyleProps:a,postStyleProps:c,totalTime:p,errors:d}}var tE={},nE=function(){function e(e,t,n){this._triggerName=e,this.ast=t,this._stateStyles=n}return e.prototype.match=function(e,t,n,l){return function(e,t,n,l,i){return e.some(function(e){return e(t,n,l,i)})}(this.ast.matchers,e,t,n,l)},e.prototype.buildStyles=function(e,t,n){var l=this._stateStyles["*"],i=this._stateStyles[e],o=l?l.buildStyles(t,n):{};return i?i.buildStyles(t,n):o},e.prototype.build=function(e,t,n,i,o,r,u,s,a,c){var p=[],d=this.ast.options&&this.ast.options.params||tE,h=this.buildStyles(n,u&&u.params||tE,p),f=s&&s.params||tE,g=this.buildStyles(i,f,p),m=new Set,v=new Map,D=new Map,y="void"===i,b={params:Object(l.__assign)({},d,f)},C=c?[]:Ux(e,t,this.ast.animation,o,r,h,g,b,a,p),S=0;if(C.forEach(function(e){S=Math.max(e.duration+e.delay,S)}),p.length)return eE(t,this._triggerName,n,i,y,h,g,[],[],v,D,S,p);C.forEach(function(e){var n=e.element,l=zF(v,n,{});e.preStyleProps.forEach(function(e){return l[e]=!0});var i=zF(D,n,{});e.postStyleProps.forEach(function(e){return i[e]=!0}),n!==t&&m.add(n)});var _=Cx(m.values());return eE(t,this._triggerName,n,i,y,h,g,C,_,v,D,S)},e}(),lE=function(){function e(e,t){this.styles=e,this.defaultParams=t}return e.prototype.buildStyles=function(e,t){var n={},l=px(this.defaultParams);return Object.keys(e).forEach(function(t){var n=e[t];null!=n&&(l[t]=n)}),this.styles.styles.forEach(function(e){if("string"!=typeof e){var i=e;Object.keys(i).forEach(function(e){var o=i[e];o.length>1&&(o=bx(o,l,t)),n[e]=o})}}),n},e}(),iE=function(){function e(e,t){var n=this;this.name=e,this.ast=t,this.transitionFactories=[],this.states={},t.states.forEach(function(e){n.states[e.name]=new lE(e.style,e.options&&e.options.params||{})}),oE(this.states,"true","1"),oE(this.states,"false","0"),t.transitions.forEach(function(t){n.transitionFactories.push(new nE(e,t,n.states))}),this.fallbackTransition=new nE(e,{type:1,animation:{type:2,steps:[],options:null},matchers:[function(e,t){return!0}],options:null,queryCount:0,depCount:0},this.states)}return Object.defineProperty(e.prototype,"containsQueries",{get:function(){return this.ast.queryCount>0},enumerable:!0,configurable:!0}),e.prototype.matchTransition=function(e,t,n,l){return this.transitionFactories.find(function(i){return i.match(e,t,n,l)})||null},e.prototype.matchStyles=function(e,t,n){return this.fallbackTransition.buildStyles(e,t,n)},e}();function oE(e,t,n){e.hasOwnProperty(t)?e.hasOwnProperty(n)||(e[n]=e[t]):e.hasOwnProperty(n)&&(e[t]=e[n])}var rE=new Vx,uE=function(){function e(e,t,n){this.bodyNode=e,this._driver=t,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}return e.prototype.register=function(e,t){var n=[],l=Ox(this._driver,t,n);if(n.length)throw new Error("Unable to build the animation due to the following errors: "+n.join("\n"));this._animations[e]=l},e.prototype._buildPlayer=function(e,t,n){var l=e.element,i=VF(0,this._normalizer,0,e.keyframes,t,n);return this._driver.animate(l,i,e.duration,e.delay,e.easing,[],!0)},e.prototype.create=function(e,t,n){var l=this;void 0===n&&(n={});var i,o=[],r=this._animations[e],u=new Map;if(r?(i=Ux(this._driver,t,r,"ng-enter","ng-leave",{},{},n,rE,o)).forEach(function(e){var t=zF(u,e.element,{});e.postStyleProps.forEach(function(e){return t[e]=null})}):(o.push("The requested animation doesn't exist or has already been destroyed"),i=[]),o.length)throw new Error("Unable to create the animation due to the following errors: "+o.join("\n"));u.forEach(function(e,t){Object.keys(e).forEach(function(n){e[n]=l._driver.computeStyle(t,n,La)})});var s=LF(i.map(function(e){var t=u.get(e.element);return l._buildPlayer(e,{},t)}));return this._playersById[e]=s,s.onDestroy(function(){return l.destroy(e)}),this.players.push(s),s},e.prototype.destroy=function(e){var t=this._getPlayer(e);t.destroy(),delete this._playersById[e];var n=this.players.indexOf(t);n>=0&&this.players.splice(n,1)},e.prototype._getPlayer=function(e){var t=this._playersById[e];if(!t)throw new Error("Unable to find the timeline player referenced by "+e);return t},e.prototype.listen=function(e,t,n,l){var i=UF(t,"","","");return $F(this._getPlayer(e),n,i,l),function(){}},e.prototype.command=function(e,t,n,l){if("register"!=n)if("create"!=n){var i=this._getPlayer(e);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(l[0]));break;case"destroy":this.destroy(e)}}else this.create(e,t,l[0]||{});else this.register(e,l[0])},e}(),sE=[],aE={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},cE={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},pE="__ng_removed",dE=function(){function e(e,t){void 0===t&&(t=""),this.namespaceId=t;var n=e&&e.hasOwnProperty("value");if(this.value=function(e){return null!=e?e:null}(n?e.value:e),n){var l=px(e);delete l.value,this.options=l}else this.options={};this.options.params||(this.options.params={})}return Object.defineProperty(e.prototype,"params",{get:function(){return this.options.params},enumerable:!0,configurable:!0}),e.prototype.absorbOptions=function(e){var t=e.params;if(t){var n=this.options.params;Object.keys(t).forEach(function(e){null==n[e]&&(n[e]=t[e])})}},e}(),hE=new dE("void"),fE=function(){function e(e,t,n){this.id=e,this.hostElement=t,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,SE(t,this._hostClassName)}return e.prototype.listen=function(e,t,n,l){var i,o=this;if(!this._triggers.hasOwnProperty(t))throw new Error('Unable to listen on the animation trigger event "'+n+'" because the animation trigger "'+t+"\" doesn't exist!");if(null==n||0==n.length)throw new Error('Unable to listen on the animation trigger "'+t+'" because the provided event is undefined!');if("start"!=(i=n)&&"done"!=i)throw new Error('The provided animation trigger event "'+n+'" for the animation trigger "'+t+'" is not supported!');var r=zF(this._elementListeners,e,[]),u={name:t,phase:n,callback:l};r.push(u);var s=zF(this._engine.statesByElement,e,{});return s.hasOwnProperty(t)||(SE(e,"ng-trigger"),SE(e,"ng-trigger-"+t),s[t]=hE),function(){o._engine.afterFlush(function(){var e=r.indexOf(u);e>=0&&r.splice(e,1),o._triggers[t]||delete s[t]})}},e.prototype.register=function(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)},e.prototype._getTrigger=function(e){var t=this._triggers[e];if(!t)throw new Error('The provided animation trigger "'+e+'" has not been registered!');return t},e.prototype.trigger=function(e,t,n,l){var i=this;void 0===l&&(l=!0);var o=this._getTrigger(t),r=new mE(this.id,t,e),u=this._engine.statesByElement.get(e);u||(SE(e,"ng-trigger"),SE(e,"ng-trigger-"+t),this._engine.statesByElement.set(e,u={}));var s=u[t],a=new dE(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&s&&a.absorbOptions(s.options),u[t]=a,s||(s=hE),"void"===a.value||s.value!==a.value){var c=zF(this._engine.playersByElement,e,[]);c.forEach(function(e){e.namespaceId==i.id&&e.triggerName==t&&e.queued&&e.destroy()});var p=o.matchTransition(s.value,a.value,e,a.params),d=!1;if(!p){if(!l)return;p=o.fallbackTransition,d=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:p,fromState:s,toState:a,player:r,isFallbackTransition:d}),d||(SE(e,"ng-animate-queued"),r.onStart(function(){_E(e,"ng-animate-queued")})),r.onDone(function(){var t=i.players.indexOf(r);t>=0&&i.players.splice(t,1);var n=i._engine.playersByElement.get(e);if(n){var l=n.indexOf(r);l>=0&&n.splice(l,1)}}),this.players.push(r),c.push(r),r}if(!function(e,t){var n=Object.keys(e),l=Object.keys(t);if(n.length!=l.length)return!1;for(var i=0;i<n.length;i++){var o=n[i];if(!t.hasOwnProperty(o)||e[o]!==t[o])return!1}return!0}(s.params,a.params)){var h=[],f=o.matchStyles(s.value,s.params,h),g=o.matchStyles(a.value,a.params,h);h.length?this._engine.reportError(h):this._engine.afterFlush(function(){mx(e,f),gx(e,g)})}},e.prototype.deregister=function(e){var t=this;delete this._triggers[e],this._engine.statesByElement.forEach(function(t,n){delete t[e]}),this._elementListeners.forEach(function(n,l){t._elementListeners.set(l,n.filter(function(t){return t.name!=e}))})},e.prototype.clearElementCache=function(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);var t=this._engine.playersByElement.get(e);t&&(t.forEach(function(e){return e.destroy()}),this._engine.playersByElement.delete(e))},e.prototype._signalRemovalForInnerTriggers=function(e,t,n){var l=this;void 0===n&&(n=!1),this._engine.driver.query(e,".ng-trigger",!0).forEach(function(e){if(!e[pE]){var n=l._engine.fetchNamespacesByElement(e);n.size?n.forEach(function(n){return n.triggerLeaveAnimation(e,t,!1,!0)}):l.clearElementCache(e)}})},e.prototype.triggerLeaveAnimation=function(e,t,n,l){var i=this,o=this._engine.statesByElement.get(e);if(o){var r=[];if(Object.keys(o).forEach(function(t){if(i._triggers[t]){var n=i.trigger(e,t,"void",l);n&&r.push(n)}}),r.length)return this._engine.markElementAsRemoved(this.id,e,!0,t),n&&LF(r).onDone(function(){return i._engine.processLeaveNode(e)}),!0}return!1},e.prototype.prepareLeaveAnimationListeners=function(e){var t=this,n=this._elementListeners.get(e);if(n){var l=new Set;n.forEach(function(n){var i=n.name;if(!l.has(i)){l.add(i);var o=t._triggers[i].fallbackTransition,r=t._engine.statesByElement.get(e)[i]||hE,u=new dE("void"),s=new mE(t.id,i,e);t._engine.totalQueuedPlayers++,t._queue.push({element:e,triggerName:i,transition:o,fromState:r,toState:u,player:s,isFallbackTransition:!0})}})}},e.prototype.removeNode=function(e,t){var n=this,l=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t,!0),!this.triggerLeaveAnimation(e,t,!0)){var i=!1;if(l.totalAnimations){var o=l.players.length?l.playersByQueriedElement.get(e):[];if(o&&o.length)i=!0;else for(var r=e;r=r.parentNode;)if(l.statesByElement.get(r)){i=!0;break}}this.prepareLeaveAnimationListeners(e),i?l.markElementAsRemoved(this.id,e,!1,t):(l.afterFlush(function(){return n.clearElementCache(e)}),l.destroyInnerAnimations(e),l._onRemovalComplete(e,t))}},e.prototype.insertNode=function(e,t){SE(e,this._hostClassName)},e.prototype.drainQueuedTransitions=function(e){var t=this,n=[];return this._queue.forEach(function(l){var i=l.player;if(!i.destroyed){var o=l.element,r=t._elementListeners.get(o);r&&r.forEach(function(t){if(t.name==l.triggerName){var n=UF(o,l.triggerName,l.fromState.value,l.toState.value);n._data=e,$F(l.player,t.phase,n,t.callback)}}),i.markedForDestroy?t._engine.afterFlush(function(){i.destroy()}):n.push(l)}}),this._queue=[],n.sort(function(e,n){var l=e.transition.ast.depCount,i=n.transition.ast.depCount;return 0==l||0==i?l-i:t._engine.driver.containsElement(e.element,n.element)?1:-1})},e.prototype.destroy=function(e){this.players.forEach(function(e){return e.destroy()}),this._signalRemovalForInnerTriggers(this.hostElement,e)},e.prototype.elementContainsData=function(e){var t=!1;return this._elementListeners.has(e)&&(t=!0),!!this._queue.find(function(t){return t.element===e})||t},e}(),gE=function(){function e(e,t,n){this.bodyNode=e,this.driver=t,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=function(e,t){}}return e.prototype._onRemovalComplete=function(e,t){this.onRemovalComplete(e,t)},Object.defineProperty(e.prototype,"queuedPlayers",{get:function(){var e=[];return this._namespaceList.forEach(function(t){t.players.forEach(function(t){t.queued&&e.push(t)})}),e},enumerable:!0,configurable:!0}),e.prototype.createNamespace=function(e,t){var n=new fE(e,t,this);return t.parentNode?this._balanceNamespaceList(n,t):(this.newHostElements.set(t,n),this.collectEnterElement(t)),this._namespaceLookup[e]=n},e.prototype._balanceNamespaceList=function(e,t){var n=this._namespaceList.length-1;if(n>=0){for(var l=!1,i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,t)){this._namespaceList.splice(i+1,0,e),l=!0;break}l||this._namespaceList.splice(0,0,e)}else this._namespaceList.push(e);return this.namespacesByHostElement.set(t,e),e},e.prototype.register=function(e,t){var n=this._namespaceLookup[e];return n||(n=this.createNamespace(e,t)),n},e.prototype.registerTrigger=function(e,t,n){var l=this._namespaceLookup[e];l&&l.register(t,n)&&this.totalAnimations++},e.prototype.destroy=function(e,t){var n=this;if(e){var l=this._fetchNamespace(e);this.afterFlush(function(){n.namespacesByHostElement.delete(l.hostElement),delete n._namespaceLookup[e];var t=n._namespaceList.indexOf(l);t>=0&&n._namespaceList.splice(t,1)}),this.afterFlushAnimationsDone(function(){return l.destroy(t)})}},e.prototype._fetchNamespace=function(e){return this._namespaceLookup[e]},e.prototype.fetchNamespacesByElement=function(e){var t=new Set,n=this.statesByElement.get(e);if(n)for(var l=Object.keys(n),i=0;i<l.length;i++){var o=n[l[i]].namespaceId;if(o){var r=this._fetchNamespace(o);r&&t.add(r)}}return t},e.prototype.trigger=function(e,t,n,l){if(vE(t)){var i=this._fetchNamespace(e);if(i)return i.trigger(t,n,l),!0}return!1},e.prototype.insertNode=function(e,t,n,l){if(vE(t)){var i=t[pE];if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;var o=this.collectedLeaveElements.indexOf(t);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){var r=this._fetchNamespace(e);r&&r.insertNode(t,n)}l&&this.collectEnterElement(t)}},e.prototype.collectEnterElement=function(e){this.collectedEnterElements.push(e)},e.prototype.markElementAsDisabled=function(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),SE(e,"ng-animate-disabled")):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),_E(e,"ng-animate-disabled"))},e.prototype.removeNode=function(e,t,n){if(vE(t)){var l=e?this._fetchNamespace(e):null;l?l.removeNode(t,n):this.markElementAsRemoved(e,t,!1,n)}else this._onRemovalComplete(t,n)},e.prototype.markElementAsRemoved=function(e,t,n,l){this.collectedLeaveElements.push(t),t[pE]={namespaceId:e,setForRemoval:l,hasAnimation:n,removedBeforeQueried:!1}},e.prototype.listen=function(e,t,n,l,i){return vE(t)?this._fetchNamespace(e).listen(t,n,l,i):function(){}},e.prototype._buildInstruction=function(e,t,n,l,i){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,n,l,e.fromState.options,e.toState.options,t,i)},e.prototype.destroyInnerAnimations=function(e){var t=this,n=this.driver.query(e,".ng-trigger",!0);n.forEach(function(e){return t.destroyActiveAnimationsForElement(e)}),0!=this.playersByQueriedElement.size&&(n=this.driver.query(e,".ng-animating",!0)).forEach(function(e){return t.finishActiveQueriedAnimationOnElement(e)})},e.prototype.destroyActiveAnimationsForElement=function(e){var t=this.playersByElement.get(e);t&&t.forEach(function(e){e.queued?e.markedForDestroy=!0:e.destroy()})},e.prototype.finishActiveQueriedAnimationOnElement=function(e){var t=this.playersByQueriedElement.get(e);t&&t.forEach(function(e){return e.finish()})},e.prototype.whenRenderingDone=function(){var e=this;return new Promise(function(t){if(e.players.length)return LF(e.players).onDone(function(){return t()});t()})},e.prototype.processLeaveNode=function(e){var t=this,n=e[pE];if(n&&n.setForRemoval){if(e[pE]=aE,n.namespaceId){this.destroyInnerAnimations(e);var l=this._fetchNamespace(n.namespaceId);l&&l.clearElementCache(e)}this._onRemovalComplete(e,n.setForRemoval)}this.driver.matchesElement(e,".ng-animate-disabled")&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(function(e){t.markElementAsDisabled(e,!1)})},e.prototype.flush=function(e){var t=this;void 0===e&&(e=-1);var n=[];if(this.newHostElements.size&&(this.newHostElements.forEach(function(e,n){return t._balanceNamespaceList(e,n)}),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(var l=0;l<this.collectedEnterElements.length;l++)SE(this.collectedEnterElements[l],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){var i=[];try{n=this._flushAnimations(i,e)}finally{for(l=0;l<i.length;l++)i[l]()}}else for(l=0;l<this.collectedLeaveElements.length;l++)this.processLeaveNode(this.collectedLeaveElements[l]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(function(e){return e()}),this._flushFns=[],this._whenQuietFns.length){var o=this._whenQuietFns;this._whenQuietFns=[],n.length?LF(n).onDone(function(){o.forEach(function(e){return e()})}):o.forEach(function(e){return e()})}},e.prototype.reportError=function(e){throw new Error("Unable to process animations due to the following failed trigger transitions\n "+e.join("\n"))},e.prototype._flushAnimations=function(e,t){var n=this,i=new Vx,o=[],r=new Map,u=[],s=new Map,a=new Map,c=new Map,p=new Set;this.disabledNodes.forEach(function(e){p.add(e);for(var t=n.driver.query(e,".ng-animate-queued",!0),l=0;l<t.length;l++)p.add(t[l])});var d=this.bodyNode,h=Array.from(this.statesByElement.keys()),f=bE(h,this.collectedEnterElements),g=new Map,m=0;f.forEach(function(e,t){var n="ng-enter"+m++;g.set(t,n),e.forEach(function(e){return SE(e,n)})});for(var v=[],D=new Set,y=new Set,b=0;b<this.collectedLeaveElements.length;b++)(N=(P=this.collectedLeaveElements[b])[pE])&&N.setForRemoval&&(v.push(P),D.add(P),N.hasAnimation?this.driver.query(P,".ng-star-inserted",!0).forEach(function(e){return D.add(e)}):y.add(P));var C=new Map,S=bE(h,Array.from(D));S.forEach(function(e,t){var n="ng-leave"+m++;C.set(t,n),e.forEach(function(e){return SE(e,n)})}),e.push(function(){f.forEach(function(e,t){var n=g.get(t);e.forEach(function(e){return _E(e,n)})}),S.forEach(function(e,t){var n=C.get(t);e.forEach(function(e){return _E(e,n)})}),v.forEach(function(e){n.processLeaveNode(e)})});for(var _=[],w=[],F=this._namespaceList.length-1;F>=0;F--)this._namespaceList[F].drainQueuedTransitions(t).forEach(function(e){var t=e.player,l=e.element;if(_.push(t),n.collectedEnterElements.length){var r=l[pE];if(r&&r.setForMove)return void t.destroy()}var p=!d||!n.driver.containsElement(d,l),h=C.get(l),f=g.get(l),m=n._buildInstruction(e,i,f,h,p);if(m.errors&&m.errors.length)w.push(m);else{if(p)return t.onStart(function(){return mx(l,m.fromStyles)}),t.onDestroy(function(){return gx(l,m.toStyles)}),void o.push(t);if(e.isFallbackTransition)return t.onStart(function(){return mx(l,m.fromStyles)}),t.onDestroy(function(){return gx(l,m.toStyles)}),void o.push(t);m.timelines.forEach(function(e){return e.stretchStartingKeyframe=!0}),i.append(l,m.timelines),u.push({instruction:m,player:t,element:l}),m.queriedElements.forEach(function(e){return zF(s,e,[]).push(t)}),m.preStyleProps.forEach(function(e,t){var n=Object.keys(e);if(n.length){var l=a.get(t);l||a.set(t,l=new Set),n.forEach(function(e){return l.add(e)})}}),m.postStyleProps.forEach(function(e,t){var n=Object.keys(e),l=c.get(t);l||c.set(t,l=new Set),n.forEach(function(e){return l.add(e)})})}});if(w.length){var x=[];w.forEach(function(e){x.push("@"+e.triggerName+" has failed due to:\n"),e.errors.forEach(function(e){return x.push("- "+e+"\n")})}),_.forEach(function(e){return e.destroy()}),this.reportError(x)}var E=new Map,k=new Map;u.forEach(function(e){var t=e.element;i.has(t)&&(k.set(t,t),n._beforeAnimationBuild(e.player.namespaceId,e.instruction,E))}),o.forEach(function(e){var t=e.element;n._getPreviousPlayers(t,!1,e.namespaceId,e.triggerName,null).forEach(function(e){zF(E,t,[]).push(e),e.destroy()})});var A=v.filter(function(e){return FE(e,a,c)}),T=new Map;yE(T,this.driver,y,c,La).forEach(function(e){FE(e,a,c)&&A.push(e)});var I=new Map;f.forEach(function(e,t){yE(I,n.driver,new Set(e),a,qa)}),A.forEach(function(e){var t=T.get(e),n=I.get(e);T.set(e,Object(l.__assign)({},t,n))});var B=[],O=[],R={};u.forEach(function(e){var t=e.element,l=e.player,u=e.instruction;if(i.has(t)){if(p.has(t))return l.onDestroy(function(){return gx(t,u.toStyles)}),l.disabled=!0,l.overrideTotalTime(u.totalTime),void o.push(l);var s=R;if(k.size>1){for(var a=t,c=[];a=a.parentNode;){var d=k.get(a);if(d){s=d;break}c.push(a)}c.forEach(function(e){return k.set(e,s)})}var h=n._buildAnimation(l.namespaceId,u,E,r,I,T);if(l.setRealPlayer(h),s===R)B.push(l);else{var f=n.playersByElement.get(s);f&&f.length&&(l.parentPlayer=LF(f)),o.push(l)}}else mx(t,u.fromStyles),l.onDestroy(function(){return gx(t,u.toStyles)}),O.push(l),p.has(t)&&o.push(l)}),O.forEach(function(e){var t=r.get(e.element);if(t&&t.length){var n=LF(t);e.setRealPlayer(n)}}),o.forEach(function(e){e.parentPlayer?e.syncPlayerEvents(e.parentPlayer):e.destroy()});for(var M=0;M<v.length;M++){var P,N=(P=v[M])[pE];if(_E(P,"ng-leave"),!N||!N.hasAnimation){var j=[];if(s.size){var L=s.get(P);L&&L.length&&j.push.apply(j,Object(l.__spread)(L));for(var V=this.driver.query(P,".ng-animating",!0),$=0;$<V.length;$++){var H=s.get(V[$]);H&&H.length&&j.push.apply(j,Object(l.__spread)(H))}}var U=j.filter(function(e){return!e.destroyed});U.length?wE(this,P,U):this.processLeaveNode(P)}}return v.length=0,B.forEach(function(e){n.players.push(e),e.onDone(function(){e.destroy();var t=n.players.indexOf(e);n.players.splice(t,1)}),e.play()}),B},e.prototype.elementContainsData=function(e,t){var n=!1,l=t[pE];return l&&l.setForRemoval&&(n=!0),this.playersByElement.has(t)&&(n=!0),this.playersByQueriedElement.has(t)&&(n=!0),this.statesByElement.has(t)&&(n=!0),this._fetchNamespace(e).elementContainsData(t)||n},e.prototype.afterFlush=function(e){this._flushFns.push(e)},e.prototype.afterFlushAnimationsDone=function(e){this._whenQuietFns.push(e)},e.prototype._getPreviousPlayers=function(e,t,n,l,i){var o=[];if(t){var r=this.playersByQueriedElement.get(e);r&&(o=r)}else{var u=this.playersByElement.get(e);if(u){var s=!i||"void"==i;u.forEach(function(e){e.queued||(s||e.triggerName==l)&&o.push(e)})}}return(n||l)&&(o=o.filter(function(e){return!(n&&n!=e.namespaceId||l&&l!=e.triggerName)})),o},e.prototype._beforeAnimationBuild=function(e,t,n){var i,o,r=t.element,u=t.isRemovalTransition?void 0:e,s=t.isRemovalTransition?void 0:t.triggerName,a=function(e){var l=e.element,i=l!==r,o=zF(n,l,[]);c._getPreviousPlayers(l,i,u,s,t.toState).forEach(function(e){var t=e.getRealPlayer();t.beforeDestroy&&t.beforeDestroy(),e.destroy(),o.push(e)})},c=this;try{for(var p=Object(l.__values)(t.timelines),d=p.next();!d.done;d=p.next())a(d.value)}catch(h){i={error:h}}finally{try{d&&!d.done&&(o=p.return)&&o.call(p)}finally{if(i)throw i.error}}mx(r,t.fromStyles)},e.prototype._buildAnimation=function(e,t,n,l,i,o){var r=this,u=t.triggerName,s=t.element,a=[],c=new Set,p=new Set,d=t.timelines.map(function(t){var d=t.element;c.add(d);var h=d[pE];if(h&&h.removedBeforeQueried)return new Ua(t.duration,t.delay);var f,g,m=d!==s,v=(f=(n.get(d)||sE).map(function(e){return e.getRealPlayer()}),g=[],function e(t,n){for(var l=0;l<t.length;l++){var i=t[l];i instanceof za?e(i.players,n):n.push(i)}}(f,g),g).filter(function(e){return!!e.element&&e.element===d}),D=i.get(d),y=o.get(d),b=VF(0,r._normalizer,0,t.keyframes,D,y),C=r._buildPlayer(t,b,v);if(t.subTimeline&&l&&p.add(d),m){var S=new mE(e,u,d);S.setRealPlayer(C),a.push(S)}return C});a.forEach(function(e){zF(r.playersByQueriedElement,e.element,[]).push(e),e.onDone(function(){return function(e,t,n){var l;if(e instanceof Map){if(l=e.get(t)){if(l.length){var i=l.indexOf(n);l.splice(i,1)}0==l.length&&e.delete(t)}}else(l=e[t])&&(l.length&&(i=l.indexOf(n),l.splice(i,1)),0==l.length&&delete e[t]);return l}(r.playersByQueriedElement,e.element,e)})}),c.forEach(function(e){return SE(e,"ng-animating")});var h=LF(d);return h.onDestroy(function(){c.forEach(function(e){return _E(e,"ng-animating")}),gx(s,t.toStyles)}),p.forEach(function(e){zF(l,e,[]).push(h)}),h},e.prototype._buildPlayer=function(e,t,n){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,n):new Ua(e.duration,e.delay)},e}(),mE=function(){function e(e,t,n){this.namespaceId=e,this.triggerName=t,this.element=n,this._player=new Ua,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}return e.prototype.setRealPlayer=function(e){var t=this;this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(function(n){t._queuedCallbacks[n].forEach(function(t){return $F(e,n,void 0,t)})}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)},e.prototype.getRealPlayer=function(){return this._player},e.prototype.overrideTotalTime=function(e){this.totalTime=e},e.prototype.syncPlayerEvents=function(e){var t=this,n=this._player;n.triggerCallback&&e.onStart(function(){return n.triggerCallback("start")}),e.onDone(function(){return t.finish()}),e.onDestroy(function(){return t.destroy()})},e.prototype._queueEvent=function(e,t){zF(this._queuedCallbacks,e,[]).push(t)},e.prototype.onDone=function(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)},e.prototype.onStart=function(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)},e.prototype.onDestroy=function(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)},e.prototype.init=function(){this._player.init()},e.prototype.hasStarted=function(){return!this.queued&&this._player.hasStarted()},e.prototype.play=function(){!this.queued&&this._player.play()},e.prototype.pause=function(){!this.queued&&this._player.pause()},e.prototype.restart=function(){!this.queued&&this._player.restart()},e.prototype.finish=function(){this._player.finish()},e.prototype.destroy=function(){this.destroyed=!0,this._player.destroy()},e.prototype.reset=function(){!this.queued&&this._player.reset()},e.prototype.setPosition=function(e){this.queued||this._player.setPosition(e)},e.prototype.getPosition=function(){return this.queued?0:this._player.getPosition()},e.prototype.triggerCallback=function(e){var t=this._player;t.triggerCallback&&t.triggerCallback(e)},e}();function vE(e){return e&&1===e.nodeType}function DE(e,t){var n=e.style.display;return e.style.display=null!=t?t:"none",n}function yE(e,t,n,l,i){var o=[];n.forEach(function(e){return o.push(DE(e))});var r=[];l.forEach(function(n,l){var o={};n.forEach(function(e){var n=o[e]=t.computeStyle(l,e,i);n&&0!=n.length||(l[pE]=cE,r.push(l))}),e.set(l,o)});var u=0;return n.forEach(function(e){return DE(e,o[u++])}),r}function bE(e,t){var n=new Map;if(e.forEach(function(e){return n.set(e,[])}),0==t.length)return n;var l=new Set(t),i=new Map;return t.forEach(function(e){var t=function e(t){if(!t)return 1;var o=i.get(t);if(o)return o;var r=t.parentNode;return o=n.has(r)?r:l.has(r)?1:e(r),i.set(t,o),o}(e);1!==t&&n.get(t).push(e)}),n}var CE="$$classes";function SE(e,t){if(e.classList)e.classList.add(t);else{var n=e[CE];n||(n=e[CE]={}),n[t]=!0}}function _E(e,t){if(e.classList)e.classList.remove(t);else{var n=e[CE];n&&delete n[t]}}function wE(e,t,n){LF(n).onDone(function(){return e.processLeaveNode(t)})}function FE(e,t,n){var l=n.get(e);if(!l)return!1;var i=t.get(e);return i?l.forEach(function(e){return i.add(e)}):t.set(e,l),n.delete(e),!0}var xE=function(){function e(e,t,n){var l=this;this.bodyNode=e,this._driver=t,this._triggerCache={},this.onRemovalComplete=function(e,t){},this._transitionEngine=new gE(e,t,n),this._timelineEngine=new uE(e,t,n),this._transitionEngine.onRemovalComplete=function(e,t){return l.onRemovalComplete(e,t)}}return e.prototype.registerTrigger=function(e,t,n,l,i){var o=e+"-"+l,r=this._triggerCache[o];if(!r){var u=[],s=Ox(this._driver,i,u);if(u.length)throw new Error('The animation trigger "'+l+'" has failed to build due to the following errors:\n - '+u.join("\n - "));r=function(e,t){return new iE(e,t)}(l,s),this._triggerCache[o]=r}this._transitionEngine.registerTrigger(t,l,r)},e.prototype.register=function(e,t){this._transitionEngine.register(e,t)},e.prototype.destroy=function(e,t){this._transitionEngine.destroy(e,t)},e.prototype.onInsert=function(e,t,n,l){this._transitionEngine.insertNode(e,t,n,l)},e.prototype.onRemove=function(e,t,n){this._transitionEngine.removeNode(e,t,n)},e.prototype.disableAnimations=function(e,t){this._transitionEngine.markElementAsDisabled(e,t)},e.prototype.process=function(e,t,n,i){if("@"==n.charAt(0)){var o=Object(l.__read)(qF(n),2);this._timelineEngine.command(o[0],t,o[1],i)}else this._transitionEngine.trigger(e,t,n,i)},e.prototype.listen=function(e,t,n,i,o){if("@"==n.charAt(0)){var r=Object(l.__read)(qF(n),2);return this._timelineEngine.listen(r[0],t,r[1],o)}return this._transitionEngine.listen(e,t,n,i,o)},e.prototype.flush=function(e){void 0===e&&(e=-1),this._transitionEngine.flush(e)},Object.defineProperty(e.prototype,"players",{get:function(){return this._transitionEngine.players.concat(this._timelineEngine.players)},enumerable:!0,configurable:!0}),e.prototype.whenRenderingDone=function(){return this._transitionEngine.whenRenderingDone()},e}();function EE(e,t){var n=null,l=null;return Array.isArray(t)&&t.length?(n=AE(t[0]),t.length>1&&(l=AE(t[t.length-1]))):t&&(n=AE(t)),n||l?new kE(e,n,l):null}var kE=function(){function e(t,n,l){this._element=t,this._startStyles=n,this._endStyles=l,this._state=0;var i=e.initialStylesByElement.get(t);i||e.initialStylesByElement.set(t,i={}),this._initialStyles=i}return e.prototype.start=function(){this._state<1&&(this._startStyles&&gx(this._element,this._startStyles,this._initialStyles),this._state=1)},e.prototype.finish=function(){this.start(),this._state<2&&(gx(this._element,this._initialStyles),this._endStyles&&(gx(this._element,this._endStyles),this._endStyles=null),this._state=1)},e.prototype.destroy=function(){this.finish(),this._state<3&&(e.initialStylesByElement.delete(this._element),this._startStyles&&(mx(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(mx(this._element,this._endStyles),this._endStyles=null),gx(this._element,this._initialStyles),this._state=3)},e.initialStylesByElement=new WeakMap,e}();function AE(e){for(var t=null,n=Object.keys(e),l=0;l<n.length;l++){var i=n[l];TE(i)&&((t=t||{})[i]=e[i])}return t}function TE(e){return"display"===e||"position"===e}var IE="animation",BE="animationend",OE=function(){function e(e,t,n,l,i,o,r){var u=this;this._element=e,this._name=t,this._duration=n,this._delay=l,this._easing=i,this._fillMode=o,this._onDoneFn=r,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=function(e){return u._handleCallback(e)}}return e.prototype.apply=function(){var e,t,n;t=this._duration+"ms "+this._easing+" "+this._delay+"ms 1 normal "+this._fillMode+" "+this._name,(n=LE(e=this._element,"").trim()).length&&(function(e,t){for(var n=0;n<e.length;n++)","===e.charAt(n)&&0}(n),t=n+", "+t),jE(e,"",t),NE(this._element,this._eventFn,!1),this._startTime=Date.now()},e.prototype.pause=function(){RE(this._element,this._name,"paused")},e.prototype.resume=function(){RE(this._element,this._name,"running")},e.prototype.setPosition=function(e){var t=ME(this._element,this._name);this._position=e*this._duration,jE(this._element,"Delay","-"+this._position+"ms",t)},e.prototype.getPosition=function(){return this._position},e.prototype._handleCallback=function(e){var t=e._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(e.elapsedTime.toFixed(3));e.animationName==this._name&&Math.max(t-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()},e.prototype.finish=function(){this._finished||(this._finished=!0,this._onDoneFn(),NE(this._element,this._eventFn,!0))},e.prototype.destroy=function(){var e,t,n,l;this._destroyed||(this._destroyed=!0,this.finish(),t=this._name,(l=PE(n=LE(e=this._element,"").split(","),t))>=0&&(n.splice(l,1),jE(e,"",n.join(","))))},e}();function RE(e,t,n){jE(e,"PlayState",n,ME(e,t))}function ME(e,t){var n=LE(e,"");return n.indexOf(",")>0?PE(n.split(","),t):PE([n],t)}function PE(e,t){for(var n=0;n<e.length;n++)if(e[n].indexOf(t)>=0)return n;return-1}function NE(e,t,n){n?e.removeEventListener(BE,t):e.addEventListener(BE,t)}function jE(e,t,n,l){var i=IE+t;if(null!=l){var o=e.style[i];if(o.length){var r=o.split(",");r[l]=n,n=r.join(",")}}e.style[i]=n}function LE(e,t){return e.style[IE+t]}var VE="linear",$E=function(){function e(e,t,n,l,i,o,r,u){this.element=e,this.keyframes=t,this.animationName=n,this._duration=l,this._delay=i,this._finalStyles=r,this._specialStyles=u,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=o||VE,this.totalTime=l+i,this._buildStyler()}return e.prototype.onStart=function(e){this._onStartFns.push(e)},e.prototype.onDone=function(e){this._onDoneFns.push(e)},e.prototype.onDestroy=function(e){this._onDestroyFns.push(e)},e.prototype.destroy=function(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(function(e){return e()}),this._onDestroyFns=[])},e.prototype._flushDoneFns=function(){this._onDoneFns.forEach(function(e){return e()}),this._onDoneFns=[]},e.prototype._flushStartFns=function(){this._onStartFns.forEach(function(e){return e()}),this._onStartFns=[]},e.prototype.finish=function(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())},e.prototype.setPosition=function(e){this._styler.setPosition(e)},e.prototype.getPosition=function(){return this._styler.getPosition()},e.prototype.hasStarted=function(){return this._state>=2},e.prototype.init=function(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())},e.prototype.play=function(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()},e.prototype.pause=function(){this.init(),this._styler.pause()},e.prototype.restart=function(){this.reset(),this.play()},e.prototype.reset=function(){this._styler.destroy(),this._buildStyler(),this._styler.apply()},e.prototype._buildStyler=function(){var e=this;this._styler=new OE(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",function(){return e.finish()})},e.prototype.triggerCallback=function(e){var t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(function(e){return e()}),t.length=0},e.prototype.beforeDestroy=function(){var e=this;this.init();var t={};if(this.hasStarted()){var n=this._state>=3;Object.keys(this._finalStyles).forEach(function(l){"offset"!=l&&(t[l]=n?e._finalStyles[l]:Ex(e.element,l))})}this.currentSnapshot=t},e}(),HE=function(e){function t(t,n){var l=e.call(this)||this;return l.element=t,l._startingStyles={},l.__initialized=!1,l._styles=ix(n),l}return Object(l.__extends)(t,e),t.prototype.init=function(){var t=this;!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(function(e){t._startingStyles[e]=t.element.style[e]}),e.prototype.init.call(this))},t.prototype.play=function(){var t=this;this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(function(e){return t.element.style.setProperty(e,t._styles[e])}),e.prototype.play.call(this))},t.prototype.destroy=function(){var t=this;this._startingStyles&&(Object.keys(this._startingStyles).forEach(function(e){var n=t._startingStyles[e];n?t.element.style.setProperty(e,n):t.element.style.removeProperty(e)}),this._startingStyles=null,e.prototype.destroy.call(this))},t}(Ua),UE=function(){function e(){this._count=0,this._head=document.querySelector("head"),this._warningIssued=!1}return e.prototype.validateStyleProperty=function(e){return ex(e)},e.prototype.matchesElement=function(e,t){return tx(e,t)},e.prototype.containsElement=function(e,t){return nx(e,t)},e.prototype.query=function(e,t,n){return lx(e,t,n)},e.prototype.computeStyle=function(e,t,n){return window.getComputedStyle(e)[t]},e.prototype.buildKeyframeElement=function(e,t,n){n=n.map(function(e){return ix(e)});var l="@keyframes "+t+" {\n",i="";n.forEach(function(e){i=" ";var t=parseFloat(e.offset);l+=""+i+100*t+"% {\n",i+=" ",Object.keys(e).forEach(function(t){var n=e[t];switch(t){case"offset":return;case"easing":return void(n&&(l+=i+"animation-timing-function: "+n+";\n"));default:return void(l+=""+i+t+": "+n+";\n")}}),l+=i+"}\n"}),l+="}\n";var o=document.createElement("style");return o.innerHTML=l,o},e.prototype.animate=function(e,t,n,l,i,o,r){void 0===o&&(o=[]),r&&this._notifyFaultyScrubber();var u=o.filter(function(e){return e instanceof $E}),s={};wx(n,l)&&u.forEach(function(e){var t=e.currentSnapshot;Object.keys(t).forEach(function(e){return s[e]=t[e]})});var a=function(e){var t={};return e&&(Array.isArray(e)?e:[e]).forEach(function(e){Object.keys(e).forEach(function(n){"offset"!=n&&"easing"!=n&&(t[n]=e[n])})}),t}(t=Fx(e,t,s));if(0==n)return new HE(e,a);var c="gen_css_kf_"+this._count++,p=this.buildKeyframeElement(e,c,t);document.querySelector("head").appendChild(p);var d=EE(e,t),h=new $E(e,t,c,n,l,i,a,d);return h.onDestroy(function(){var e;(e=p).parentNode.removeChild(e)}),h},e.prototype._notifyFaultyScrubber=function(){this._warningIssued||(console.warn("@angular/animations: please load the web-animations.js polyfill to allow programmatic access...\n","  visit http://bit.ly/IWukam to learn more about using the web-animation-js polyfill."),this._warningIssued=!0)},e}(),zE=function(){function e(e,t,n,l){this.element=e,this.keyframes=t,this.options=n,this._specialStyles=l,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}return e.prototype._onFinish=function(){this._finished||(this._finished=!0,this._onDoneFns.forEach(function(e){return e()}),this._onDoneFns=[])},e.prototype.init=function(){this._buildPlayer(),this._preparePlayerBeforeStart()},e.prototype._buildPlayer=function(){var e=this;if(!this._initialized){this._initialized=!0;var t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",function(){return e._onFinish()})}},e.prototype._preparePlayerBeforeStart=function(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()},e.prototype._triggerWebAnimation=function(e,t,n){return e.animate(t,n)},e.prototype.onStart=function(e){this._onStartFns.push(e)},e.prototype.onDone=function(e){this._onDoneFns.push(e)},e.prototype.onDestroy=function(e){this._onDestroyFns.push(e)},e.prototype.play=function(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(function(e){return e()}),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()},e.prototype.pause=function(){this.init(),this.domPlayer.pause()},e.prototype.finish=function(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()},e.prototype.reset=function(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1},e.prototype._resetDomPlayerState=function(){this.domPlayer&&this.domPlayer.cancel()},e.prototype.restart=function(){this.reset(),this.play()},e.prototype.hasStarted=function(){return this._started},e.prototype.destroy=function(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(function(e){return e()}),this._onDestroyFns=[])},e.prototype.setPosition=function(e){this.domPlayer.currentTime=e*this.time},e.prototype.getPosition=function(){return this.domPlayer.currentTime/this.time},Object.defineProperty(e.prototype,"totalTime",{get:function(){return this._delay+this._duration},enumerable:!0,configurable:!0}),e.prototype.beforeDestroy=function(){var e=this,t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(function(n){"offset"!=n&&(t[n]=e._finished?e._finalKeyframe[n]:Ex(e.element,n))}),this.currentSnapshot=t},e.prototype.triggerCallback=function(e){var t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(function(e){return e()}),t.length=0},e}(),qE=function(){function e(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(GE().toString()),this._cssKeyframesDriver=new UE}return e.prototype.validateStyleProperty=function(e){return ex(e)},e.prototype.matchesElement=function(e,t){return tx(e,t)},e.prototype.containsElement=function(e,t){return nx(e,t)},e.prototype.query=function(e,t,n){return lx(e,t,n)},e.prototype.computeStyle=function(e,t,n){return window.getComputedStyle(e)[t]},e.prototype.overrideWebAnimationsSupport=function(e){this._isNativeImpl=e},e.prototype.animate=function(e,t,n,l,i,o,r){if(void 0===o&&(o=[]),!r&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(e,t,n,l,i,o);var u={duration:n,delay:l,fill:0==l?"both":"forwards"};i&&(u.easing=i);var s={},a=o.filter(function(e){return e instanceof zE});wx(n,l)&&a.forEach(function(e){var t=e.currentSnapshot;Object.keys(t).forEach(function(e){return s[e]=t[e]})});var c=EE(e,t=Fx(e,t=t.map(function(e){return dx(e,!1)}),s));return new zE(e,t,u,c)},e}();function GE(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}var WE=function(e){function t(t,n){var l=e.call(this)||this;return l._nextAnimationId=0,l._renderer=t.createRenderer(n.body,{id:"0",encapsulation:Ie.None,styles:[],data:{animation:[]}}),l}return Object(l.__extends)(t,e),t.prototype.build=function(e){var t=this._nextAnimationId.toString();this._nextAnimationId++;var n=Array.isArray(e)?Va(e):e;return KE(this._renderer,null,t,"register",[n]),new JE(t,this._renderer)},t}(Na),JE=function(e){function t(t,n){var l=e.call(this)||this;return l._id=t,l._renderer=n,l}return Object(l.__extends)(t,e),t.prototype.create=function(e,t){return new QE(this._id,e,t||{},this._renderer)},t}(ja),QE=function(){function e(e,t,n,l){this.id=e,this.element=t,this._renderer=l,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}return e.prototype._listen=function(e,t){return this._renderer.listen(this.element,"@@"+this.id+":"+e,t)},e.prototype._command=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return KE(this._renderer,this.element,this.id,e,t)},e.prototype.onDone=function(e){this._listen("done",e)},e.prototype.onStart=function(e){this._listen("start",e)},e.prototype.onDestroy=function(e){this._listen("destroy",e)},e.prototype.init=function(){this._command("init")},e.prototype.hasStarted=function(){return this._started},e.prototype.play=function(){this._command("play"),this._started=!0},e.prototype.pause=function(){this._command("pause")},e.prototype.restart=function(){this._command("restart")},e.prototype.finish=function(){this._command("finish")},e.prototype.destroy=function(){this._command("destroy")},e.prototype.reset=function(){this._command("reset")},e.prototype.setPosition=function(e){this._command("setPosition",e)},e.prototype.getPosition=function(){return 0},e}();function KE(e,t,n,l,i){return e.setProperty(t,"@@"+n+":"+l,i)}var ZE=function(){function e(e,t,n){this.delegate=e,this.engine=t,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),t.onRemovalComplete=function(e,t){t&&t.parentNode(e)&&t.removeChild(e.parentNode,e)}}return e.prototype.createRenderer=function(e,t){var n=this,l=this.delegate.createRenderer(e,t);if(!(e&&t&&t.data&&t.data.animation)){var i=this._rendererCache.get(l);return i||(i=new XE("",l,this.engine),this._rendererCache.set(l,i)),i}var o=t.id,r=t.id+"-"+this._currentId;return this._currentId++,this.engine.register(r,e),t.data.animation.forEach(function(t){return n.engine.registerTrigger(o,r,e,t.name,t)}),new YE(this,r,l,this.engine)},e.prototype.begin=function(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()},e.prototype._scheduleCountTask=function(){var e=this;this.promise.then(function(){e._microtaskId++})},e.prototype.scheduleListenerCallback=function(e,t,n){var i=this;e>=0&&e<this._microtaskId?this._zone.run(function(){return t(n)}):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(function(){i._zone.run(function(){i._animationCallbacksBuffer.forEach(function(e){var t=Object(l.__read)(e,2);(0,t[0])(t[1])}),i._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([t,n]))},e.prototype.end=function(){var e=this;this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(function(){e._scheduleCountTask(),e.engine.flush(e._microtaskId)}),this.delegate.end&&this.delegate.end()},e.prototype.whenRenderingDone=function(){return this.engine.whenRenderingDone()},e}(),XE=function(){function e(e,t,n){this.namespaceId=e,this.delegate=t,this.engine=n,this.destroyNode=this.delegate.destroyNode?function(e){return t.destroyNode(e)}:null}return Object.defineProperty(e.prototype,"data",{get:function(){return this.delegate.data},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()},e.prototype.createElement=function(e,t){return this.delegate.createElement(e,t)},e.prototype.createComment=function(e){return this.delegate.createComment(e)},e.prototype.createText=function(e){return this.delegate.createText(e)},e.prototype.appendChild=function(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)},e.prototype.insertBefore=function(e,t,n){this.delegate.insertBefore(e,t,n),this.engine.onInsert(this.namespaceId,t,e,!0)},e.prototype.removeChild=function(e,t){this.engine.onRemove(this.namespaceId,t,this.delegate)},e.prototype.selectRootElement=function(e,t){return this.delegate.selectRootElement(e,t)},e.prototype.parentNode=function(e){return this.delegate.parentNode(e)},e.prototype.nextSibling=function(e){return this.delegate.nextSibling(e)},e.prototype.setAttribute=function(e,t,n,l){this.delegate.setAttribute(e,t,n,l)},e.prototype.removeAttribute=function(e,t,n){this.delegate.removeAttribute(e,t,n)},e.prototype.addClass=function(e,t){this.delegate.addClass(e,t)},e.prototype.removeClass=function(e,t){this.delegate.removeClass(e,t)},e.prototype.setStyle=function(e,t,n,l){this.delegate.setStyle(e,t,n,l)},e.prototype.removeStyle=function(e,t,n){this.delegate.removeStyle(e,t,n)},e.prototype.setProperty=function(e,t,n){"@"==t.charAt(0)&&"@.disabled"==t?this.disableAnimations(e,!!n):this.delegate.setProperty(e,t,n)},e.prototype.setValue=function(e,t){this.delegate.setValue(e,t)},e.prototype.listen=function(e,t,n){return this.delegate.listen(e,t,n)},e.prototype.disableAnimations=function(e,t){this.engine.disableAnimations(e,t)},e}(),YE=function(e){function t(t,n,l,i){var o=e.call(this,n,l,i)||this;return o.factory=t,o.namespaceId=n,o}return Object(l.__extends)(t,e),t.prototype.setProperty=function(e,t,n){"@"==t.charAt(0)?"."==t.charAt(1)&&"@.disabled"==t?this.disableAnimations(e,n=void 0===n||!!n):this.engine.process(this.namespaceId,e,t.substr(1),n):this.delegate.setProperty(e,t,n)},t.prototype.listen=function(e,t,n){var i,o,r,u=this;if("@"==t.charAt(0)){var s=function(e){switch(e){case"body":return document.body;case"document":return document;case"window":return window;default:return e}}(e),a=t.substr(1),c="";return"@"!=a.charAt(0)&&(a=(i=Object(l.__read)((o=a,r=o.indexOf("."),[o.substring(0,r),o.substr(r+1)]),2))[0],c=i[1]),this.engine.listen(this.namespaceId,s,a,c,function(e){u.factory.scheduleListenerCallback(e._data||-1,n,e)})}return this.delegate.listen(e,t,n)},t}(XE),ek=function(e){function t(t,n,l){return e.call(this,t.body,n,l)||this}return Object(l.__extends)(t,e),t}(xE);function tk(){return"function"==typeof GE()?new qE:new UE}function nk(){return new Zx}function lk(e,t,n){return new ZE(e,t,n)}var ik=new me("AnimationModuleType"),ok=function(){return function(){}}(),rk=new me("HTTP_INTERCEPTORS"),uk=function(){function e(e){var t=this;this._appService=e,this.subscriptions=[],this.visitor={},this.subscriptions.push(this._appService.Session.subscribe(function(e){t.visitor=e}))}return e.prototype.intercept=function(e,t){return e=e.clone({setHeaders:{Authorization:"Visitor-"+this.visitor.csid}}),t.handle(e)},e}(),sk=Ea(Ta,[Pa],function(e){return function(e){for(var t={},n=[],l=!1,i=0;i<e.length;i++){var o=e[i];o.token===gl&&!0===o.value&&(l=!0),1073741824&o.flags&&n.push(o.token),o.index=i,t[_r(o.token)]=o}return{factory:null,providersByKey:t,providers:e,modules:n,isRoot:l}}([hu(512,Ol,Rl,[[8,[Hh,yg,Hg,um,Bm,Pm,Jm,tv,wv,Iv,eD,oD,FD,TD,RD,ZD,ly,gy,Ny,ob,hb,Pb,NF]],[3,Ol],Pl]),hu(5120,or,sr,[[3,or]]),hu(4608,Zc,Xc,[or,[2,Kc]]),hu(4608,io,io,[]),hu(5120,zi,qi,[]),hu(5120,Yo,rr,[]),hu(5120,er,ur,[]),hu(4608,bh,Ch,[hp]),hu(6144,Wl,null,[bh]),hu(4608,hh,gh,[]),hu(5120,Vd,function(e,t,n,l,i,o,r,u){return[new ph(e,t,n),new yh(l),new mh(i,o,r,u)]},[hp,po,Ji,hp,hp,hh,Ki,[2,fh]]),hu(4608,$d,$d,[Vd,po]),hu(135680,zd,zd,[hp]),hu(4608,Zd,Zd,[$d,zd,zi]),hu(5120,rx,tk,[]),hu(5120,Kx,nk,[]),hu(4608,xE,ek,[hp,rx,Kx]),hu(5120,Hl,lk,[Zd,xE,po]),hu(6144,Ud,null,[zd]),hu(4608,bo,bo,[po]),hu(4608,Na,WE,[Hl,Id]),hu(4608,rd,rd,[qp,Xp,Ol,id,Zp,tl,po,hp,vp,[2,gc]]),hu(5120,ud,sd,[rd]),hu(5120,vd,Dd,[rd]),hu(135680,yd,yd,[rd,tl,[2,gc],[2,md],vd,[3,yd],Xp]),hu(4608,af,af,[]),hu(4608,Ma,Ma,[]),hu(4608,Xf,Xf,[Ma]),hu(4608,eg,eg,[Xf]),hu(4608,tg,tg,[Xf,eg]),hu(4608,ng,ng,[Ma,tg,Xf,eg]),hu(4608,P_,P_,[Xf,tg,eg]),hu(4608,Rv,Rv,[tg,Xf,yd]),hu(5120,rk,function(e){return[new uk(e)]},[Xf]),hu(1073742336,dp,dp,[]),hu(1024,Li,Ah,[]),hu(1024,Hi,function(e){return[(t=e,Nd("probe",Ld),Nd("coreTokens",Object(l.__assign)({},jd,(t||[]).reduce(function(e,t){return e[t.name]=t.token,e},{}))),function(){return Ld})];var t},[[2,wo]]),hu(512,Ui,Ui,[[2,Hi]]),hu(131584,Ao,Ao,[po,Ki,tl,Li,Ol,Ui]),hu(1073742336,ar,ar,[Ao]),hu(1073742336,Th,Th,[[3,Th]]),hu(1073742336,ok,ok,[]),hu(1073742336,Dp,Dp,[]),hu(1073742336,Ya,Ya,[]),hu(1073742336,Rp,Rp,[]),hu(1073742336,Pp,Pp,[]),hu(1073742336,ad,ad,[]),hu(1073742336,Nh,Nh,[[2,Ph],[2,fh]]),hu(1073742336,Cd,Cd,[]),hu(1073742336,Wf,Wf,[]),hu(1073742336,Jf,Jf,[]),hu(1073742336,Ta,Ta,[]),hu(256,gl,!0,[]),hu(256,ik,"BrowserAnimations",[])])});Aa.production&&function(){if(li)throw new Error("Cannot enable prod mode after platform setup.");ni=!1}(),kh().bootstrapModuleFactory(sk).catch(function(e){return console.error(e)})},zfKp:function(e,t,n){"use strict";t.observable="function"==typeof Symbol&&Symbol.observable||"@@observable"}},[[0,0]]]);