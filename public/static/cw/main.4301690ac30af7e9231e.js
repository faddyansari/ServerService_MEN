(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"+SKG":function(e,t){e.exports=function(e){return n&&global.Buffer.isBuffer(e)||i&&(e instanceof global.ArrayBuffer||l(e))};var n="function"==typeof global.Buffer&&"function"==typeof global.Buffer.isBuffer,i="function"==typeof global.ArrayBuffer,l=i&&"function"==typeof global.ArrayBuffer.isView?global.ArrayBuffer.isView:function(e){return e.buffer instanceof global.ArrayBuffer}},"+qE3":function(e,t){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function i(e){return"function"==typeof e}function l(e){return"object"==typeof e&&null!==e}function o(e){return void 0===e}e.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},n.prototype.emit=function(e){var t,n,r,u,s,a;if(this._events||(this._events={}),"error"===e&&(!this._events.error||l(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var c=new Error('Uncaught, unspecified "error" event. ('+t+")");throw c.context=t,c}if(o(n=this._events[e]))return!1;if(i(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:u=Array.prototype.slice.call(arguments,1),n.apply(this,u)}else if(l(n))for(u=Array.prototype.slice.call(arguments,1),r=(a=n.slice()).length,s=0;s<r;s++)a[s].apply(this,u);return!0},n.prototype.on=n.prototype.addListener=function(e,t){var r;if(!i(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,i(t.listener)?t.listener:t),this._events[e]?l(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,l(this._events[e])&&!this._events[e].warned&&(r=o(this._maxListeners)?n.defaultMaxListeners:this._maxListeners)&&r>0&&this._events[e].length>r&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},n.prototype.once=function(e,t){if(!i(t))throw TypeError("listener must be a function");var n=!1;function l(){this.removeListener(e,l),n||(n=!0,t.apply(this,arguments))}return l.listener=t,this.on(e,l),this},n.prototype.removeListener=function(e,t){var n,o,r,u;if(!i(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(r=(n=this._events[e]).length,o=-1,n===t||i(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(l(n)){for(u=r;u-- >0;)if(n[u]===t||n[u].listener&&n[u].listener===t){o=u;break}if(o<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(o,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},n.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(i(n=this._events[e]))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},n.prototype.listeners=function(e){return this._events&&this._events[e]?i(this._events[e])?[this._events[e]]:this._events[e].slice():[]},n.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(i(t))return 1;if(t)return t.length}return 0},n.listenerCount=function(e,t){return e.listenerCount(t)}},0:function(e,t,n){e.exports=n("zUnb")},"0z79":function(e,t,n){var i=n("AdPF"),l=n("CUme"),o=n("cpc2"),r=n("Yvos"),u=n("HjK1")("engine.io-client:polling-xhr");function s(){}function a(e){if(l.call(this,e),this.requestTimeout=e.requestTimeout,this.extraHeaders=e.extraHeaders,global.location){var t="https:"===location.protocol,n=location.port;n||(n=t?443:80),this.xd=e.hostname!==global.location.hostname||n!==e.port,this.xs=e.secure!==t}}function c(e){this.method=e.method||"GET",this.uri=e.uri,this.xd=!!e.xd,this.xs=!!e.xs,this.async=!1!==e.async,this.data=void 0!==e.data?e.data:null,this.agent=e.agent,this.isBinary=e.isBinary,this.supportsBinary=e.supportsBinary,this.enablesXDR=e.enablesXDR,this.requestTimeout=e.requestTimeout,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.extraHeaders=e.extraHeaders,this.create()}function p(){for(var e in c.requests)c.requests.hasOwnProperty(e)&&c.requests[e].abort()}e.exports=a,e.exports.Request=c,r(a,l),a.prototype.supportsBinary=!0,a.prototype.request=function(e){return(e=e||{}).uri=this.uri(),e.xd=this.xd,e.xs=this.xs,e.agent=this.agent||!1,e.supportsBinary=this.supportsBinary,e.enablesXDR=this.enablesXDR,e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized,e.requestTimeout=this.requestTimeout,e.extraHeaders=this.extraHeaders,new c(e)},a.prototype.doWrite=function(e,t){var n=this.request({method:"POST",data:e,isBinary:"string"!=typeof e&&void 0!==e}),i=this;n.on("success",t),n.on("error",function(e){i.onError("xhr post error",e)}),this.sendXhr=n},a.prototype.doPoll=function(){u("xhr poll");var e=this.request(),t=this;e.on("data",function(e){t.onData(e)}),e.on("error",function(e){t.onError("xhr poll error",e)}),this.pollXhr=e},o(c.prototype),c.prototype.create=function(){var e={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized;var t=this.xhr=new i(e),n=this;try{u("xhr open %s: %s",this.method,this.uri),t.open(this.method,this.uri,this.async);try{if(this.extraHeaders)for(var l in t.setDisableHeaderCheck&&t.setDisableHeaderCheck(!0),this.extraHeaders)this.extraHeaders.hasOwnProperty(l)&&t.setRequestHeader(l,this.extraHeaders[l])}catch(o){}if("POST"===this.method)try{t.setRequestHeader("Content-type",this.isBinary?"application/octet-stream":"text/plain;charset=UTF-8")}catch(o){}try{t.setRequestHeader("Accept","*/*")}catch(o){}"withCredentials"in t&&(t.withCredentials=!0),this.requestTimeout&&(t.timeout=this.requestTimeout),this.hasXDR()?(t.onload=function(){n.onLoad()},t.onerror=function(){n.onError(t.responseText)}):t.onreadystatechange=function(){if(2===t.readyState)try{var e=t.getResponseHeader("Content-Type");n.supportsBinary&&"application/octet-stream"===e&&(t.responseType="arraybuffer")}catch(o){}4===t.readyState&&(200===t.status||1223===t.status?n.onLoad():setTimeout(function(){n.onError(t.status)},0))},u("xhr data %s",this.data),t.send(this.data)}catch(o){return void setTimeout(function(){n.onError(o)},0)}global.document&&(this.index=c.requestsCount++,c.requests[this.index]=this)},c.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},c.prototype.onData=function(e){this.emit("data",e),this.onSuccess()},c.prototype.onError=function(e){this.emit("error",e),this.cleanup(!0)},c.prototype.cleanup=function(e){if(null!=this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=s:this.xhr.onreadystatechange=s,e)try{this.xhr.abort()}catch(t){}global.document&&delete c.requests[this.index],this.xhr=null}},c.prototype.onLoad=function(){var e;try{var t;try{t=this.xhr.getResponseHeader("Content-Type")}catch(n){}e="application/octet-stream"===t&&this.xhr.response||this.xhr.responseText}catch(n){this.onError(n)}null!=e&&this.onData(e)},c.prototype.hasXDR=function(){return void 0!==global.XDomainRequest&&!this.xs&&this.enablesXDR},c.prototype.abort=function(){this.cleanup()},c.requestsCount=0,c.requests={},global.document&&(global.attachEvent?global.attachEvent("onunload",p):global.addEventListener&&global.addEventListener("beforeunload",p,!1))},1:function(e,t){},"14A5":function(e,t){var n=void 0!==n?n:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder&&MozBlobBuilder,i=function(){try{return 2===new Blob(["hi"]).size}catch(e){return!1}}(),l=i&&function(){try{return 2===new Blob([new Uint8Array([1,2])]).size}catch(e){return!1}}(),o=n&&n.prototype.append&&n.prototype.getBlob;function r(e){return e.map(function(e){if(e.buffer instanceof ArrayBuffer){var t=e.buffer;if(e.byteLength!==t.byteLength){var n=new Uint8Array(e.byteLength);n.set(new Uint8Array(t,e.byteOffset,e.byteLength)),t=n.buffer}return t}return e})}function u(e,t){t=t||{};var i=new n;return r(e).forEach(function(e){i.append(e)}),t.type?i.getBlob(t.type):i.getBlob()}function s(e,t){return new Blob(r(e),t||{})}"undefined"!=typeof Blob&&(u.prototype=Blob.prototype,s.prototype=Blob.prototype),e.exports=i?l?Blob:s:o?u:void 0},"1pIY":function(e,t,n){"use strict";var i=n("2tF/");t.async=new(n("NTcF").AsyncScheduler)(i.AsyncAction)},"24jU":function(e,t,n){"use strict";t.errorObject={e:{}}},"2Dig":function(e,t){e.exports=function(e,t,n){return e.on(t,n),{destroy:function(){e.removeListener(t,n)}}}},"2pII":function(e,t,n){var i=n("akSB"),l=n("cpc2"),o=n("HjK1")("engine.io-client:socket"),r=n("7jRU"),u=n("Wm4p"),s=n("Uxeu"),a=n("TypT");function c(e,t){if(!(this instanceof c))return new c(e,t);t=t||{},e&&"object"==typeof e&&(t=e,e=null),e?(e=s(e),t.hostname=e.host,t.secure="https"===e.protocol||"wss"===e.protocol,t.port=e.port,e.query&&(t.query=e.query)):t.host&&(t.hostname=s(t.host).host),this.secure=null!=t.secure?t.secure:global.location&&"https:"===location.protocol,t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.agent=t.agent||!1,this.hostname=t.hostname||(global.location?location.hostname:"localhost"),this.port=t.port||(global.location&&location.port?location.port:this.secure?443:80),this.query=t.query||{},"string"==typeof this.query&&(this.query=a.decode(this.query)),this.upgrade=!1!==t.upgrade,this.path=(t.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!t.forceJSONP,this.jsonp=!1!==t.jsonp,this.forceBase64=!!t.forceBase64,this.enablesXDR=!!t.enablesXDR,this.timestampParam=t.timestampParam||"t",this.timestampRequests=t.timestampRequests,this.transports=t.transports||["polling","websocket"],this.transportOptions=t.transportOptions||{},this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.policyPort=t.policyPort||843,this.rememberUpgrade=t.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=t.onlyBinaryUpgrades,this.perMessageDeflate=!1!==t.perMessageDeflate&&(t.perMessageDeflate||{}),!0===this.perMessageDeflate&&(this.perMessageDeflate={}),this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=t.pfx||null,this.key=t.key||null,this.passphrase=t.passphrase||null,this.cert=t.cert||null,this.ca=t.ca||null,this.ciphers=t.ciphers||null,this.rejectUnauthorized=void 0===t.rejectUnauthorized||t.rejectUnauthorized,this.forceNode=!!t.forceNode;var n="object"==typeof global&&global;n.global===n&&(t.extraHeaders&&Object.keys(t.extraHeaders).length>0&&(this.extraHeaders=t.extraHeaders),t.localAddress&&(this.localAddress=t.localAddress)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingIntervalTimer=null,this.pingTimeoutTimer=null,this.open()}e.exports=c,c.priorWebsocketSuccess=!1,l(c.prototype),c.protocol=u.protocol,c.Socket=c,c.Transport=n("Gbct"),c.transports=n("akSB"),c.parser=n("Wm4p"),c.prototype.createTransport=function(e){o('creating transport "%s"',e);var t=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}(this.query);t.EIO=u.protocol,t.transport=e;var n=this.transportOptions[e]||{};return this.id&&(t.sid=this.id),new i[e]({query:t,socket:this,agent:n.agent||this.agent,hostname:n.hostname||this.hostname,port:n.port||this.port,secure:n.secure||this.secure,path:n.path||this.path,forceJSONP:n.forceJSONP||this.forceJSONP,jsonp:n.jsonp||this.jsonp,forceBase64:n.forceBase64||this.forceBase64,enablesXDR:n.enablesXDR||this.enablesXDR,timestampRequests:n.timestampRequests||this.timestampRequests,timestampParam:n.timestampParam||this.timestampParam,policyPort:n.policyPort||this.policyPort,pfx:n.pfx||this.pfx,key:n.key||this.key,passphrase:n.passphrase||this.passphrase,cert:n.cert||this.cert,ca:n.ca||this.ca,ciphers:n.ciphers||this.ciphers,rejectUnauthorized:n.rejectUnauthorized||this.rejectUnauthorized,perMessageDeflate:n.perMessageDeflate||this.perMessageDeflate,extraHeaders:n.extraHeaders||this.extraHeaders,forceNode:n.forceNode||this.forceNode,localAddress:n.localAddress||this.localAddress,requestTimeout:n.requestTimeout||this.requestTimeout,protocols:n.protocols||void 0})},c.prototype.open=function(){var e;if(this.rememberUpgrade&&c.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))e="websocket";else{if(0===this.transports.length){var t=this;return void setTimeout(function(){t.emit("error","No transports available")},0)}e=this.transports[0]}this.readyState="opening";try{e=this.createTransport(e)}catch(n){return this.transports.shift(),void this.open()}e.open(),this.setTransport(e)},c.prototype.setTransport=function(e){o("setting transport %s",e.name);var t=this;this.transport&&(o("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=e,e.on("drain",function(){t.onDrain()}).on("packet",function(e){t.onPacket(e)}).on("error",function(e){t.onError(e)}).on("close",function(){t.onClose("transport close")})},c.prototype.probe=function(e){o('probing transport "%s"',e);var t=this.createTransport(e,{probe:1}),n=!1,i=this;function l(){i.onlyBinaryUpgrades&&(n=n||!this.supportsBinary&&i.transport.supportsBinary),n||(o('probe transport "%s" opened',e),t.send([{type:"ping",data:"probe"}]),t.once("packet",function(l){if(!n)if("pong"===l.type&&"probe"===l.data){if(o('probe transport "%s" pong',e),i.upgrading=!0,i.emit("upgrading",t),!t)return;c.priorWebsocketSuccess="websocket"===t.name,o('pausing current transport "%s"',i.transport.name),i.transport.pause(function(){n||"closed"!==i.readyState&&(o("changing transport and sending upgrade packet"),d(),i.setTransport(t),t.send([{type:"upgrade"}]),i.emit("upgrade",t),t=null,i.upgrading=!1,i.flush())})}else{o('probe transport "%s" failed',e);var r=new Error("probe error");r.transport=t.name,i.emit("upgradeError",r)}}))}function r(){n||(n=!0,d(),t.close(),t=null)}function u(n){var l=new Error("probe error: "+n);l.transport=t.name,r(),o('probe transport "%s" failed because of error: %s',e,n),i.emit("upgradeError",l)}function s(){u("transport closed")}function a(){u("socket closed")}function p(e){t&&e.name!==t.name&&(o('"%s" works - aborting "%s"',e.name,t.name),r())}function d(){t.removeListener("open",l),t.removeListener("error",u),t.removeListener("close",s),i.removeListener("close",a),i.removeListener("upgrading",p)}c.priorWebsocketSuccess=!1,t.once("open",l),t.once("error",u),t.once("close",s),this.once("close",a),this.once("upgrading",p),t.open()},c.prototype.onOpen=function(){if(o("socket open"),this.readyState="open",c.priorWebsocketSuccess="websocket"===this.transport.name,this.emit("open"),this.flush(),"open"===this.readyState&&this.upgrade&&this.transport.pause){o("starting upgrade probes");for(var e=0,t=this.upgrades.length;e<t;e++)this.probe(this.upgrades[e])}},c.prototype.onPacket=function(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(o('socket receive: type "%s", data "%s"',e.type,e.data),this.emit("packet",e),this.emit("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emit("data",e.data),this.emit("message",e.data)}else o('packet received with socket readyState "%s"',this.readyState)},c.prototype.onHandshake=function(e){this.emit("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.onOpen(),"closed"!==this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},c.prototype.onHeartbeat=function(e){clearTimeout(this.pingTimeoutTimer);var t=this;t.pingTimeoutTimer=setTimeout(function(){"closed"!==t.readyState&&t.onClose("ping timeout")},e||t.pingInterval+t.pingTimeout)},c.prototype.setPing=function(){var e=this;clearTimeout(e.pingIntervalTimer),e.pingIntervalTimer=setTimeout(function(){o("writing ping packet - expecting pong within %sms",e.pingTimeout),e.ping(),e.onHeartbeat(e.pingTimeout)},e.pingInterval)},c.prototype.ping=function(){var e=this;this.sendPacket("ping",function(){e.emit("ping")})},c.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit("drain"):this.flush()},c.prototype.flush=function(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(o("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},c.prototype.write=c.prototype.send=function(e,t,n){return this.sendPacket("message",e,t,n),this},c.prototype.sendPacket=function(e,t,n,i){if("function"==typeof t&&(i=t,t=void 0),"function"==typeof n&&(i=n,n=null),"closing"!==this.readyState&&"closed"!==this.readyState){(n=n||{}).compress=!1!==n.compress;var l={type:e,data:t,options:n};this.emit("packetCreate",l),this.writeBuffer.push(l),i&&this.once("flush",i),this.flush()}},c.prototype.close=function(){if("opening"===this.readyState||"open"===this.readyState){this.readyState="closing";var e=this;this.writeBuffer.length?this.once("drain",function(){this.upgrading?i():t()}):this.upgrading?i():t()}function t(){e.onClose("forced close"),o("socket closing - telling transport to close"),e.transport.close()}function n(){e.removeListener("upgrade",n),e.removeListener("upgradeError",n),t()}function i(){e.once("upgrade",n),e.once("upgradeError",n)}return this},c.prototype.onError=function(e){o("socket error %j",e),c.priorWebsocketSuccess=!1,this.emit("error",e),this.onClose("transport error",e)},c.prototype.onClose=function(e,t){"opening"!==this.readyState&&"open"!==this.readyState&&"closing"!==this.readyState||(o('socket close with reason: "%s"',e),clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",e,t),this.writeBuffer=[],this.prevBufferLen=0)},c.prototype.filterUpgrades=function(e){for(var t=[],n=0,i=e.length;n<i;n++)~r(this.transports,e[n])&&t.push(e[n]);return t}},"2tF/":function(e,t,n){var i=n("mrSG").__extends;t.AsyncAction=function(e){function t(t,n){var i=e.call(this,t,n)||this;return i.scheduler=t,i.work=n,i.pending=!1,i}return i(t,e),t.prototype.schedule=function(e,t){if(void 0===t&&(t=0),this.closed)return this;this.state=e;var n=this.id,i=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(i,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(i,this.id,t),this},t.prototype.requestAsyncId=function(e,t,n){return void 0===n&&(n=0),setInterval(e.flush.bind(e,this),n)},t.prototype.recycleAsyncId=function(e,t,n){if(void 0===n&&(n=0),null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)},t.prototype.execute=function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var n=!1,i=void 0;try{this.work(e)}catch(l){n=!0,i=!!l&&l||new Error(l)}if(n)return this.unsubscribe(),i},t.prototype._unsubscribe=function(){var e=this.id,t=this.scheduler,n=t.actions,i=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==i&&n.splice(i,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null},t}(n("Dz+M").Action)},"4dtt":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("ENPf"),l=n("IKIk"),o=n("ENPf"),r=n("Gyns").byEbmlID,u=function(e){return e[e.STATE_TAG=1]="STATE_TAG",e[e.STATE_SIZE=2]="STATE_SIZE",e[e.STATE_CONTENT=3]="STATE_CONTENT",e}({});t.default=function(){function e(){this._buffer=new i.Buffer(0),this._tag_stack=[],this._state=u.STATE_TAG,this._cursor=0,this._total=0,this._schema=r,this._result=[]}return e.prototype.decode=function(e){this.readChunk(e);var t=this._result;return this._result=[],t},e.prototype.readChunk=function(e){for(this._buffer=o.concat([this._buffer,new i.Buffer(e)]);this._cursor<this._buffer.length&&(this._state!==u.STATE_TAG||this.readTag())&&(this._state!==u.STATE_SIZE||this.readSize())&&(this._state!==u.STATE_CONTENT||this.readContent()););},e.prototype.getSchemaInfo=function(e){return this._schema[e]||{name:"unknown",level:-1,type:"unknown",description:"unknown"}},e.prototype.readTag=function(){if(this._cursor>=this._buffer.length)return!1;var e=i.readVint(this._buffer,this._cursor);if(null==e)return!1;var t=this._buffer.slice(this._cursor,this._cursor+e.length).reduce(function(e,t,n,i){return e+t*Math.pow(16,2*(i.length-1-n))},0),n=this.getSchemaInfo(t),l={EBML_ID:t.toString(16),schema:n,type:n.type,name:n.name,level:n.level,tagStart:this._total,tagEnd:this._total+e.length,sizeStart:this._total+e.length,sizeEnd:null,dataStart:null,dataEnd:null,dataSize:null,data:null};return this._tag_stack.push(l),this._cursor+=e.length,this._total+=e.length,this._state=u.STATE_SIZE,!0},e.prototype.readSize=function(){if(this._cursor>=this._buffer.length)return!1;var e=i.readVint(this._buffer,this._cursor);if(null==e)return!1;var t=this._tag_stack[this._tag_stack.length-1];return t.sizeEnd=t.sizeStart+e.length,t.dataStart=t.sizeEnd,t.dataSize=e.value,-1===e.value?(t.dataEnd=-1,"m"===t.type&&(t.unknownSize=!0)):t.dataEnd=t.sizeEnd+e.value,this._cursor+=e.length,this._total+=e.length,this._state=u.STATE_CONTENT,!0},e.prototype.readContent=function(){var e=this._tag_stack[this._tag_stack.length-1];if("m"===e.type){if(e.isEnd=!1,this._result.push(e),this._state=u.STATE_TAG,0===e.dataSize){var t=Object.assign({},e,{isEnd:!0});this._result.push(t),this._tag_stack.pop()}return!0}if(this._buffer.length<this._cursor+e.dataSize)return!1;var n=this._buffer.slice(this._cursor,this._cursor+e.dataSize);switch(this._buffer=this._buffer.slice(this._cursor+e.dataSize),e.data=n,e.type){case"u":e.value=n.readUIntBE(0,n.length);break;case"i":e.value=n.readIntBE(0,n.length);break;case"f":e.value=4===e.dataSize?n.readFloatBE(0):8===e.dataSize?n.readDoubleBE(0):(console.warn("cannot read "+e.dataSize+" octets float. failback to 0"),0);break;case"s":e.value=n.toString("ascii");break;case"8":e.value=n.toString("utf8");break;case"b":e.value=n;break;case"d":e.value=i.convertEBMLDateToJSDate(new l.Int64BE(n).toNumber())}if(null===e.value)throw new Error("unknown tag type:"+e.type);for(this._result.push(e),this._total+=e.dataSize,this._state=u.STATE_TAG,this._cursor=0,this._tag_stack.pop();this._tag_stack.length>0;){var o=this._tag_stack[this._tag_stack.length-1];if(o.dataEnd<0)return this._tag_stack.pop(),!0;if(this._total<o.dataEnd)break;if("m"!==o.type)throw new Error("parent element is not master element");t=Object.assign({},o,{isEnd:!0}),this._result.push(t),this._tag_stack.pop()}return!0},e}()},"5LH7":function(e,t){var n=1e3,i=6e4,l=36e5,o=24*l;function r(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}e.exports=function(e,t){t=t||{};var u,s=typeof e;if("string"===s&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var r=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*r;case"days":case"day":case"d":return r*o;case"hours":case"hour":case"hrs":case"hr":case"h":return r*l;case"minutes":case"minute":case"mins":case"min":case"m":return r*i;case"seconds":case"second":case"secs":case"sec":case"s":return r*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}(e);if("number"===s&&!1===isNaN(e))return t.long?r(u=e,o,"day")||r(u,l,"hour")||r(u,i,"minute")||r(u,n,"second")||u+" ms":function(e){return e>=o?Math.round(e/o)+"d":e>=l?Math.round(e/l)+"h":e>=i?Math.round(e/i)+"m":e>=n?Math.round(e/n)+"s":e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},"5M3R":function(e,t,n){function i(){var e;try{e=t.storage.debug}catch(n){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e}(t=e.exports=n("Nq7k")).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},t.formatArgs=function(e){var n=this.useColors;if(e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+t.humanize(this.diff),n){var i="color: "+this.color;e.splice(1,0,i,"color: inherit");var l=0,o=0;e[0].replace(/%[a-zA-Z%]/g,function(e){"%%"!==e&&(l++,"%c"===e&&(o=l))}),e.splice(o,0,i)}},t.save=function(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(n){}},t.load=i,t.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},t.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},t.enable(i())},"6C75":function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},"6oVD":function(e,t){e.exports=function(e,t,n){t=t||0;for(var i=1;i<=8&&!(e[t]>=Math.pow(2,8-i));i++);if(i>8)throw new Error("Unrepresentable length: "+i+" "+e.toString("hex",t,t+i));if(t+i>e.length)return null;var l,o=e[t]&(1<<8-i)-1;for(l=1;l<i;l++){if(7===l&&o>=Math.pow(2,45)&&e[t+7]>0)return{length:i,value:-1};o*=Math.pow(2,8),o+=e[t+l]}return n&&(o-=Math.pow(2,7*i-1)-1),{length:i,value:o}}},"6qA3":function(e,t,n){"use strict";var i=n("Q1FS"),l=n("OAkW"),o=n("Z5tI"),r=n("poJ0"),u=n("ozli"),s=n("yRPT"),a=n("90cg"),c=n("GMZp"),p=n("VKeD"),d=n("zfKp");t.subscribeTo=function(e){if(e instanceof i.Observable)return function(t){return e._isScalar?(t.next(e.value),void t.complete()):e.subscribe(t)};if(e&&"function"==typeof e[d.observable])return u.subscribeToObservable(e);if(s.isArrayLike(e))return l.subscribeToArray(e);if(a.isPromise(e))return o.subscribeToPromise(e);if(e&&"function"==typeof e[p.iterator])return r.subscribeToIterable(e);var t=c.isObject(e)?"an invalid object":"'"+e+"'";throw new TypeError("You provided "+t+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")}},"7RJT":function(e,t,n){var i=n("mrSG").__extends,l=n("ds6q"),o=n("Mxlh");t.BehaviorSubject=function(e){function t(t){var n=e.call(this)||this;return n._value=t,n}return i(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),t.prototype._subscribe=function(t){var n=e.prototype._subscribe.call(this,t);return n&&!n.closed&&t.next(this._value),n},t.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new o.ObjectUnsubscribedError;return this._value},t.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},t}(l.Subject)},"7jRU":function(e,t){var n=[].indexOf;e.exports=function(e,t){if(n)return e.indexOf(t);for(var i=0;i<e.length;++i)if(e[i]===t)return i;return-1}},"81cv":function(e,t,n){"use strict";var i=n("Q1FS");function l(e){return new i.Observable(function(t){return e.schedule(function(){return t.complete()})})}t.EMPTY=new i.Observable(function(e){return e.complete()}),t.empty=function(e){return e?l(e):t.EMPTY},t.emptyScheduled=l},"90cg":function(e,t,n){"use strict";t.isPromise=function(e){return e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}},"9AGB":function(e,t,n){"use strict";var i=n("w5QO");function l(e){return e?1===e.length?e[0]:function(t){return e.reduce(function(e,t){return t(e)},t)}:i.noop}t.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return l(e)},t.pipeFromArray=l},AdPF:function(e,t,n){var i=n("yeub");e.exports=function(e){var t=e.xdomain,n=e.xscheme,l=e.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!t||i))return new XMLHttpRequest}catch(o){}try{if("undefined"!=typeof XDomainRequest&&!n&&l)return new XDomainRequest}catch(o){}if(!t)try{return new(global[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(o){}}},Aplp:function(e,t,n){"use strict";var i,l="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),o=64,r={},u=0,s=0;function a(e){var t="";do{t=l[e%o]+t,e=Math.floor(e/o)}while(e>0);return t}function c(){var e=a(+new Date);return e!==i?(u=0,i=e):e+"."+a(u++)}for(;s<o;s++)r[l[s]]=s;c.encode=a,c.decode=function(e){var t=0;for(s=0;s<e.length;s++)t=t*o+r[e.charAt(s)];return t},e.exports=c},C2QD:function(e,t){function n(e){this.ms=(e=e||{}).min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}e.exports=n,n.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-n:e+n}return 0|Math.min(e,this.max)},n.prototype.reset=function(){this.attempts=0},n.prototype.setMin=function(e){this.ms=e},n.prototype.setMax=function(e){this.max=e},n.prototype.setJitter=function(e){this.jitter=e}},CIKq:function(e,t,n){var i,l=n("Gbct"),o=n("Wm4p"),r=n("TypT"),u=n("Yvos"),s=n("Aplp"),a=n("HjK1")("engine.io-client:websocket"),c=global.WebSocket||global.MozWebSocket;if("undefined"==typeof window)try{i=n(1)}catch(h){}var p=c;function d(e){e&&e.forceBase64&&(this.supportsBinary=!1),this.perMessageDeflate=e.perMessageDeflate,this.usingBrowserWebSocket=c&&!e.forceNode,this.protocols=e.protocols,this.usingBrowserWebSocket||(p=i),l.call(this,e)}p||"undefined"!=typeof window||(p=i),e.exports=d,u(d,l),d.prototype.name="websocket",d.prototype.supportsBinary=!0,d.prototype.doOpen=function(){if(this.check()){var e=this.uri(),t=this.protocols,n={agent:this.agent,perMessageDeflate:this.perMessageDeflate};n.pfx=this.pfx,n.key=this.key,n.passphrase=this.passphrase,n.cert=this.cert,n.ca=this.ca,n.ciphers=this.ciphers,n.rejectUnauthorized=this.rejectUnauthorized,this.extraHeaders&&(n.headers=this.extraHeaders),this.localAddress&&(n.localAddress=this.localAddress);try{this.ws=this.usingBrowserWebSocket?t?new p(e,t):new p(e):new p(e,t,n)}catch(i){return this.emit("error",i)}void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="nodebuffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},d.prototype.addEventListeners=function(){var e=this;this.ws.onopen=function(){e.onOpen()},this.ws.onclose=function(){e.onClose()},this.ws.onmessage=function(t){e.onData(t.data)},this.ws.onerror=function(t){e.onError("websocket error",t)}},d.prototype.write=function(e){var t=this;this.writable=!1;for(var n=e.length,i=0,l=n;i<l;i++)!function(e){o.encodePacket(e,t.supportsBinary,function(i){if(!t.usingBrowserWebSocket){var l={};e.options&&(l.compress=e.options.compress),t.perMessageDeflate&&("string"==typeof i?global.Buffer.byteLength(i):i.length)<t.perMessageDeflate.threshold&&(l.compress=!1)}try{t.usingBrowserWebSocket?t.ws.send(i):t.ws.send(i,l)}catch(h){a("websocket closed before onclose event")}--n||(t.emit("flush"),setTimeout(function(){t.writable=!0,t.emit("drain")},0))})}(e[i])},d.prototype.onClose=function(){l.prototype.onClose.call(this)},d.prototype.doClose=function(){void 0!==this.ws&&this.ws.close()},d.prototype.uri=function(){var e=this.query||{},t=this.secure?"wss":"ws",n="";return this.port&&("wss"===t&&443!==Number(this.port)||"ws"===t&&80!==Number(this.port))&&(n=":"+this.port),this.timestampRequests&&(e[this.timestampParam]=s()),this.supportsBinary||(e.b64=1),(e=r.encode(e)).length&&(e="?"+e),t+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+e},d.prototype.check=function(){return!(!p||"__initialize"in p&&this.name===d.prototype.name)}},CUme:function(e,t,n){var i=n("Gbct"),l=n("TypT"),o=n("Wm4p"),r=n("Yvos"),u=n("Aplp"),s=n("HjK1")("engine.io-client:polling");e.exports=c;var a=null!=new(n("AdPF"))({xdomain:!1}).responseType;function c(e){a&&!(e&&e.forceBase64)||(this.supportsBinary=!1),i.call(this,e)}r(c,i),c.prototype.name="polling",c.prototype.doOpen=function(){this.poll()},c.prototype.pause=function(e){var t=this;function n(){s("paused"),t.readyState="paused",e()}if(this.readyState="pausing",this.polling||!this.writable){var i=0;this.polling&&(s("we are currently polling - waiting to pause"),i++,this.once("pollComplete",function(){s("pre-pause polling complete"),--i||n()})),this.writable||(s("we are currently writing - waiting to pause"),i++,this.once("drain",function(){s("pre-pause writing complete"),--i||n()}))}else n()},c.prototype.poll=function(){s("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},c.prototype.onData=function(e){var t=this;s("polling got data %s",e),o.decodePayload(e,this.socket.binaryType,function(e,n,i){if("opening"===t.readyState&&t.onOpen(),"close"===e.type)return t.onClose(),!1;t.onPacket(e)}),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState?this.poll():s('ignoring poll - transport state "%s"',this.readyState))},c.prototype.doClose=function(){var e=this;function t(){s("writing close packet"),e.write([{type:"close"}])}"open"===this.readyState?(s("transport open - closing"),t()):(s("transport not open - deferring close"),this.once("open",t))},c.prototype.write=function(e){var t=this;this.writable=!1;var n=function(){t.writable=!0,t.emit("drain")};o.encodePayload(e,this.supportsBinary,function(e){t.doWrite(e,n)})},c.prototype.uri=function(){var e=this.query||{},t=this.secure?"https":"http",n="";return!1!==this.timestampRequests&&(e[this.timestampParam]=u()),this.supportsBinary||e.sid||(e.b64=1),e=l.encode(e),this.port&&("https"===t&&443!==Number(this.port)||"http"===t&&80!==Number(this.port))&&(n=":"+this.port),e.length&&(e="?"+e),t+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+e}},Cl5A:function(e,t,n){var i=n("CUme"),l=n("Yvos");e.exports=a;var o,r=/\n/g,u=/\\n/g;function s(){}function a(e){i.call(this,e),this.query=this.query||{},o||(global.___eio||(global.___eio=[]),o=global.___eio),this.index=o.length;var t=this;o.push(function(e){t.onData(e)}),this.query.j=this.index,global.document&&global.addEventListener&&global.addEventListener("beforeunload",function(){t.script&&(t.script.onerror=s)},!1)}l(a,i),a.prototype.supportsBinary=!1,a.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),i.prototype.doClose.call(this)},a.prototype.doPoll=function(){var e=this,t=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),t.async=!0,t.src=this.uri(),t.onerror=function(t){e.onError("jsonp poll error",t)};var n=document.getElementsByTagName("script")[0];n?n.parentNode.insertBefore(t,n):(document.head||document.body).appendChild(t),this.script=t,"undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent)&&setTimeout(function(){var e=document.createElement("iframe");document.body.appendChild(e),document.body.removeChild(e)},100)},a.prototype.doWrite=function(e,t){var n=this;if(!this.form){var i,l=document.createElement("form"),o=document.createElement("textarea"),s=this.iframeId="eio_iframe_"+this.index;l.className="socketio",l.style.position="absolute",l.style.top="-1000px",l.style.left="-1000px",l.target=s,l.method="POST",l.setAttribute("accept-charset","utf-8"),o.name="d",l.appendChild(o),document.body.appendChild(l),this.form=l,this.area=o}function a(){c(),t()}function c(){if(n.iframe)try{n.form.removeChild(n.iframe)}catch(e){n.onError("jsonp polling iframe removal error",e)}try{i=document.createElement('<iframe src="javascript:0" name="'+n.iframeId+'">')}catch(e){(i=document.createElement("iframe")).name=n.iframeId,i.src="javascript:0"}i.id=n.iframeId,n.form.appendChild(i),n.iframe=i}this.form.action=this.uri(),c(),e=e.replace(u,"\\\n"),this.area.value=e.replace(r,"\\n");try{this.form.submit()}catch(p){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"===n.iframe.readyState&&a()}:this.iframe.onload=a}},"Dz+M":function(e,t,n){var i=n("mrSG").__extends;t.Action=function(e){function t(t,n){return e.call(this)||this}return i(t,e),t.prototype.schedule=function(e,t){return void 0===t&&(t=0),this},t}(n("zB/H").Subscription)},ENPf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("IKIk"),l=n("PrVB"),o=n("tjlA"),r=n("FDRY"),u=n("ZsMB");function s(e){return e.reduce(function(e,n){return"b"!==n.type?e:"SimpleBlock"!==n.name?e:t.ebmlBlock(n.data).frames.some(function(e){return"9d012a"===e.slice(3,6).toString("hex")})?e.concat(n):e},[])}function a(e){var n=c("VP8 ",e);return c("RIFF",m([new t.Buffer("WEBP","ascii"),n]))}function c(e,n){var i=new t.Buffer(4);return i.writeUInt32LE(n.byteLength,0),m([new t.Buffer(e.substr(0,4),"ascii"),i,n,new t.Buffer(n.byteLength%2==0?0:1)])}function p(e,t){for(var n=-1,i=0;i<t.length;i++){var l=t[i];if(l.name===e){if("m"!==l.type)return void t.splice(i,1);if(l.isEnd){if(-1==n)throw new Error("Detected "+e+" closing element before finding the start");return void t.splice(n,i-n+1)}n=i}}}function d(e,t){for(var n=[],i=-1,l=0;l<t.length;l++){var o=t[l];if(o.name===e){if("m"!==o.type){n.push(t[l]);break}if(o.isEnd){if(-1==i)throw new Error("Detected "+e+" closing element before finding the start");n=t.slice(i,l+1);break}i=l}}return n}function h(e){var t=new l.default;return e.reduce(function(e,n){return e.concat(t.encode([n]))},[]).reduce(function(e,t){return e+t.byteLength},0)}function f(e,n,i){var l=i.duration,o=i.clusterPtrs,r=i.cues,u=e.slice(0);if("number"==typeof l){var s=!1;u.forEach(function(e){"f"===e.type&&"Duration"===e.name&&(s=!0,e.data=b(l,8))}),s||g(u,"Info",[{name:"Duration",type:"f",data:b(l,8)}])}Array.isArray(r)&&g(u,"Cues",function(e,t){var n=[];return e.forEach(function(e){var i=e.CueTrack,l=e.CueClusterPosition,o=e.CueTime;n.push({name:"CuePoint",type:"m",isEnd:!1}),n.push({name:"CueTime",type:"u",data:v(o)}),n.push({name:"CueTrackPositions",type:"m",isEnd:!1}),n.push({name:"CueTrack",type:"u",data:v(i)}),n.push({name:"CueClusterPosition",type:"u",data:v(l+t)}),n.push({name:"CueTrackPositions",type:"m",isEnd:!0}),n.push({name:"CuePoint",type:"m",isEnd:!0})}),n}(r,n));var a=[];return Array.isArray(o)&&(console.warn("append cluster pointers to seekhead is deprecated. please use cues"),a=function(e,n){var i=[];return e.forEach(function(e){i.push({name:"Seek",type:"m",isEnd:!1}),i.push({name:"SeekID",type:"b",data:new t.Buffer([31,67,182,117])}),i.push({name:"SeekPosition",type:"u",data:v(e+n)}),i.push({name:"Seek",type:"m",isEnd:!0})}),i}(o,n)),g(u,"SeekHead",a,!0),u}function g(e,t,n,i){void 0===i&&(i=!1);for(var l=-1,o=0;o<e.length;o++){var r=e[o];if("m"===r.type&&r.name===t&&!1===r.isEnd){l=o;break}}l>=0?Array.prototype.splice.apply(e,[l+1,0].concat(n)):i?[].concat([{name:t,type:"m",isEnd:!1}],n,[{name:t,type:"m",isEnd:!0}]).reverse().forEach(function(t){e.unshift(t)}):(e.push({name:t,type:"m",isEnd:!1}),n.forEach(function(t){e.push(t)}),e.push({name:t,type:"m",isEnd:!0}))}function m(e){for(var n=0,i=0;n<e.length;++n)i+=e[n].length;var l=t.Buffer.allocUnsafe(i),o=0;for(n=0;n<e.length;++n){var r=e[n];r.copy(l,o),o+=r.length}return l}function v(e){for(var n=1;e>=Math.pow(2,8*n);n++);if(n>=7)return console.warn("7bit or more bigger uint not supported."),new i.Uint64BE(e).toBuffer();var l=new t.Buffer(n);return l.writeUIntBE(e,0,n),l}function y(e){for(var n=1;e>=Math.pow(2,8*n);n++);if(n>=7)return console.warn("7bit or more bigger uint not supported."),new i.Int64BE(e).toBuffer();var l=new t.Buffer(n);return l.writeIntBE(e,0,n),l}function b(e,n){var i;if(void 0===n&&(n=8),8===n)return(i=new t.Buffer(8)).writeDoubleBE(e,0),i;if(4===n)return(i=new t.Buffer(4)).writeFloatBE(e,0),i;throw new Error("float type bits must 4bytes or 8bytes")}t.Buffer=o.Buffer,t.readVint=r.readVint,t.writeVint=r.writeVint,t.ebmlBlock=u,t.readBlock=function(e){return t.ebmlBlock(new t.Buffer(e))},t.encodeTag=function(e,n,i){return void 0===i&&(i=!1),m([e,i?new t.Buffer("01ffffffffffffff","hex"):t.writeVint(n.length),n])},t.WebPFrameFilter=function(e){return s(e).reduce(function(e,n){return t.ebmlBlock(n.data).frames.reduce(function(e,t){var n=a(t),i=new Blob([n],{type:"image/webp"});return e.concat(i)},e)},[])},t.WebPBlockFilter=s,t.VP8BitStreamToRiffWebPBuffer=a,t.createRIFFChunk=c,t.makeMetadataSeekable=function(e,n,i){var o=d("EBML",e),r=h(o)+12,u=e[e.length-1].dataEnd-r,s=d("Info",e);p("Duration",s),s.splice(1,0,{name:"Duration",type:"f",data:b(n,8)});for(var a=h(s),c=d("Tracks",e),f=h(c),g=47,m=[],y=5+15*i.length,D=[],C=-1,S=function(e){var n=g,l=n+a,o=l+f,s=o+y-u;if((m=[]).push({name:"SeekHead",type:"m",isEnd:!1}),m.push({name:"Seek",type:"m",isEnd:!1}),m.push({name:"SeekID",type:"b",data:new t.Buffer([21,73,169,102])}),m.push({name:"SeekPosition",type:"u",data:v(n)}),m.push({name:"Seek",type:"m",isEnd:!0}),m.push({name:"Seek",type:"m",isEnd:!1}),m.push({name:"SeekID",type:"b",data:new t.Buffer([22,84,174,107])}),m.push({name:"SeekPosition",type:"u",data:v(l)}),m.push({name:"Seek",type:"m",isEnd:!0}),m.push({name:"Seek",type:"m",isEnd:!1}),m.push({name:"SeekID",type:"b",data:new t.Buffer([28,83,187,107])}),m.push({name:"SeekPosition",type:"u",data:v(o)}),m.push({name:"Seek",type:"m",isEnd:!0}),m.push({name:"SeekHead",type:"m",isEnd:!0}),g=h(m),(D=[]).push({name:"Cues",type:"m",isEnd:!1}),i.forEach(function(e){var t=e.CueTrack,n=e.CueClusterPosition,i=e.CueTime;D.push({name:"CuePoint",type:"m",isEnd:!1}),D.push({name:"CueTime",type:"u",data:v(i)}),D.push({name:"CueTrackPositions",type:"m",isEnd:!1}),D.push({name:"CueTrack",type:"u",data:v(t)}),n-=r,D.push({name:"CueClusterPosition",type:"u",data:v(n+=s)}),D.push({name:"CueTrackPositions",type:"m",isEnd:!0}),D.push({name:"CuePoint",type:"m",isEnd:!0})}),D.push({name:"Cues",type:"m",isEnd:!0}),y=h(D),C===s)return"break";if(C=s,9===e)throw new Error("Failed to converge to a stable metadata size")},_=0;_<10&&"break"!==S(_);_++);var w=[].concat.apply([],[o,{name:"Segment",type:"m",isEnd:!1,unknownSize:!0},m,s,c,D]);return(new l.default).encode(w)},t.removeElement=p,t.extractElement=d,t.putRefinedMetaData=function(e,n){Array.isArray(n.cueInfos)&&!Array.isArray(n.cues)&&(console.warn("putRefinedMetaData: info.cueInfos property is deprecated. please use info.cues"),n.cues=n.cueInfos);for(var i=[],o=[],r=0;r<e.length;r++){var u=e[r];if("m"===u.type&&"Segment"===u.name){if(i=e.slice(0,r),o=e.slice(r),u.unknownSize){o.shift();break}throw new Error("this metadata is not streaming webm file")}}if(!(o[o.length-1].dataEnd>0))throw new Error("metadata dataEnd has wrong number");var s,a=o[o.length-1].dataEnd,c=i[i.length-1].dataEnd,p=(new l.default).encode(i).byteLength-c,d=a-o[0].tagStart,h=new t.Buffer([24,83,128,103]),g=new t.Buffer("01ffffffffffffff","hex"),m=h.byteLength+g.byteLength,v=d;for(s=1;s<20;s++){var y=f(o,p+(c+m+v-a),n),b=(new l.default).encode(y).byteLength;if(b===v)return(new l.default).encode([].concat(i,[{type:"m",name:"Segment",isEnd:!1,unknownSize:!0}],y));v=b}throw new Error("unable to refine metadata, stable size could not be found in "+s+" iterations!")},t.concat=m,t.encodeValueToBuffer=function(e){var n=new t.Buffer(0);if("m"===e.type)return e;switch(e.type){case"u":n=v(e.value);break;case"i":n=y(e.value);break;case"f":n=b(e.value);break;case"s":n=new t.Buffer(e.value,"ascii");break;case"8":n=new t.Buffer(e.value,"utf8");break;case"b":n=e.value;break;case"d":n=new i.Int64BE(e.value.getTime().toString()).toBuffer()}return Object.assign({},e,{data:n})},t.createUIntBuffer=v,t.createIntBuffer=y,t.createFloatBuffer=b,t.convertEBMLDateToJSDate=function(e){return e instanceof Date?e:new Date(new Date("2001-01-01T00:00:00.000Z").getTime()+Number(e)/1e3/1e3)}},FDRY:function(e,t){e.exports={readVint:function(e,t){t=t||0;for(var n=1;n<=8&&!(e[t]>=Math.pow(2,8-n));n++);if(n>8)throw new Error("Unrepresentable length: "+n+" "+e.toString("hex",t,t+n));if(t+n>e.length)return null;for(var i=e[t]&(1<<8-n)-1,l=1;l<n;l++){if(7===l&&i>=Math.pow(2,45)&&e[t+7]>0)return{length:n,value:-1};i*=Math.pow(2,8),i+=e[t+l]}return{length:n,value:i}},writeVint:function(e){if(e<0||e>Math.pow(2,53))throw new Error("Unrepresentable value: "+e);for(var t=1;t<=8&&!(e<Math.pow(2,7*t)-1);t++);for(var n=new Buffer(t),i=1;i<=t;i++){var l=255&e;n[t-i]=l,e-=l,e/=Math.pow(2,8)}return n[0]=n[0]|1<<8-t,n}}},FWf1:function(e,t,n){var i=n("mrSG").__extends,l=n("pshJ"),o=n("GiSu"),r=n("zB/H"),u=n("p//D"),s=n("n3uD"),a=n("MkmW"),c=function(e){function t(n,i,l){var r=e.call(this)||this;switch(r.syncErrorValue=null,r.syncErrorThrown=!1,r.syncErrorThrowable=!1,r.isStopped=!1,r._parentSubscription=null,arguments.length){case 0:r.destination=o.empty;break;case 1:if(!n){r.destination=o.empty;break}if("object"==typeof n){n instanceof t?(r.syncErrorThrowable=n.syncErrorThrowable,r.destination=n,n.add(r)):(r.syncErrorThrowable=!0,r.destination=new p(r,n));break}default:r.syncErrorThrowable=!0,r.destination=new p(r,n,i,l)}return r}return i(t,e),t.prototype[u.rxSubscriber]=function(){return this},t.create=function(e,n,i){var l=new t(e,n,i);return l.syncErrorThrowable=!1,l},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this))},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},t.prototype._unsubscribeAndRecycle=function(){var e=this._parent,t=this._parents;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=e,this._parents=t,this._parentSubscription=null,this},t}(r.Subscription);t.Subscriber=c;var p=function(e){function t(t,n,i,r){var u,s=e.call(this)||this;s._parentSubscriber=t;var a=s;return l.isFunction(n)?u=n:n&&(u=n.next,i=n.error,r=n.complete,n!==o.empty&&(a=Object.create(n),l.isFunction(a.unsubscribe)&&s.add(a.unsubscribe.bind(a)),a.unsubscribe=s.unsubscribe.bind(s))),s._context=a,s._next=u,s._error=i,s._complete=r,s}return i(t,e),t.prototype.next=function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;s.config.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}},t.prototype.error=function(e){if(!this.isStopped){var t=this._parentSubscriber,n=s.config.useDeprecatedSynchronousErrorHandling;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):a.hostReportError(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;a.hostReportError(e)}}},t.prototype.complete=function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var n=function(){return e._complete.call(e._context)};s.config.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},t.prototype.__tryOrUnsub=function(e,t){try{e.call(this._context,t)}catch(n){if(this.unsubscribe(),s.config.useDeprecatedSynchronousErrorHandling)throw n;a.hostReportError(n)}},t.prototype.__tryOrSetError=function(e,t,n){if(!s.config.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(i){return s.config.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=i,e.syncErrorThrown=!0,!0):(a.hostReportError(i),!0)}return!1},t.prototype._unsubscribe=function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()},t}(c);t.SafeSubscriber=p},FiyT:function(e,t,n){var i=n("mrSG").__extends;t.SubjectSubscription=function(e){function t(t,n){var i=e.call(this)||this;return i.subject=t,i.subscriber=n,i.closed=!1,i}return i(t,e),t.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var e=this.subject,t=e.observers;if(this.subject=null,t&&0!==t.length&&!e.isStopped&&!e.closed){var n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}},t}(n("zB/H").Subscription)},GMZp:function(e,t,n){"use strict";t.isObject=function(e){return null!=e&&"object"==typeof e}},Gbct:function(e,t,n){var i=n("Wm4p"),l=n("cpc2");function o(e){this.path=e.path,this.hostname=e.hostname,this.port=e.port,this.secure=e.secure,this.query=e.query,this.timestampParam=e.timestampParam,this.timestampRequests=e.timestampRequests,this.readyState="",this.agent=e.agent||!1,this.socket=e.socket,this.enablesXDR=e.enablesXDR,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.forceNode=e.forceNode,this.extraHeaders=e.extraHeaders,this.localAddress=e.localAddress}e.exports=o,l(o.prototype),o.prototype.onError=function(e,t){var n=new Error(e);return n.type="TransportError",n.description=t,this.emit("error",n),this},o.prototype.open=function(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this},o.prototype.close=function(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this},o.prototype.send=function(e){if("open"!==this.readyState)throw new Error("Transport not open");this.write(e)},o.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},o.prototype.onData=function(e){var t=i.decodePacket(e,this.socket.binaryType);this.onPacket(t)},o.prototype.onPacket=function(e){this.emit("packet",e)},o.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},GiSu:function(e,t,n){"use strict";var i=n("n3uD"),l=n("MkmW");t.empty={closed:!0,next:function(e){},error:function(e){if(i.config.useDeprecatedSynchronousErrorHandling)throw e;l.hostReportError(e)},complete:function(){}}},Gyns:function(e,t,n){"use strict";var i={128:{name:"ChapterDisplay",level:4,type:"m",multiple:!0,minver:1,webm:!0,description:"Contains all possible strings to use for the chapter display."},131:{name:"TrackType",level:3,type:"u",mandatory:!0,minver:1,range:"1-254",description:"A set of track types coded on 8 bits (1: video, 2: audio, 3: complex, 0x10: logo, 0x11: subtitle, 0x12: buttons, 0x20: control)."},133:{name:"ChapString",cppname:"ChapterString",level:5,type:"8",mandatory:!0,minver:1,webm:!0,description:"Contains the string to use as the chapter atom."},134:{name:"CodecID",level:3,type:"s",mandatory:!0,minver:1,description:"An ID corresponding to the codec, see the codec page for more info."},136:{name:"FlagDefault",cppname:"TrackFlagDefault",level:3,type:"u",mandatory:!0,minver:1,default:1,range:"0-1",description:"Set if that track (audio, video or subs) SHOULD be active if no language found matches the user preference. (1 bit)"},137:{name:"ChapterTrackNumber",level:5,type:"u",mandatory:!0,multiple:!0,minver:1,webm:!1,range:"not 0",description:"UID of the Track to apply this chapter too. In the absense of a control track, choosing this chapter will select the listed Tracks and deselect unlisted tracks. Absense of this element indicates that the Chapter should be applied to any currently used Tracks."},145:{name:"ChapterTimeStart",level:4,type:"u",mandatory:!0,minver:1,webm:!0,description:"Timestamp of the start of Chapter (not scaled)."},146:{name:"ChapterTimeEnd",level:4,type:"u",minver:1,webm:!1,description:"Timestamp of the end of Chapter (timestamp excluded, not scaled)."},150:{name:"CueRefTime",level:5,type:"u",mandatory:!0,minver:2,webm:!1,description:"Timestamp of the referenced Block."},151:{name:"CueRefCluster",level:5,type:"u",mandatory:!0,webm:!1,description:"The Position of the Cluster containing the referenced Block."},152:{name:"ChapterFlagHidden",level:4,type:"u",mandatory:!0,minver:1,webm:!1,default:0,range:"0-1",description:"If a chapter is hidden (1), it should not be available to the user interface (but still to Control Tracks; see flag notes). (1 bit)"},16980:{name:"ContentCompAlgo",level:6,type:"u",mandatory:!0,minver:1,webm:!1,default:0,description:"The compression algorithm used. Algorithms that have been specified so far are: 0 - zlib,   3 - Header Stripping"},16981:{name:"ContentCompSettings",level:6,type:"b",minver:1,webm:!1,description:"Settings that might be needed by the decompressor. For Header Stripping (ContentCompAlgo=3), the bytes that were removed from the beggining of each frames of the track."},17026:{name:"DocType",level:1,type:"s",mandatory:!0,default:"matroska",minver:1,description:"A string that describes the type of document that follows this EBML header. 'matroska' in our case or 'webm' for webm files."},17029:{name:"DocTypeReadVersion",level:1,type:"u",mandatory:!0,default:1,minver:1,description:"The minimum DocType version an interpreter has to support to read this file."},17030:{name:"EBMLVersion",level:1,type:"u",mandatory:!0,default:1,minver:1,description:"The version of EBML parser used to create the file."},17031:{name:"DocTypeVersion",level:1,type:"u",mandatory:!0,default:1,minver:1,description:"The version of DocType interpreter used to create the file."},17476:{name:"SegmentFamily",level:2,type:"b",multiple:!0,minver:1,webm:!1,bytesize:16,description:"A randomly generated unique ID that all segments related to each other must use (128 bits)."},17505:{name:"DateUTC",level:2,type:"d",minver:1,description:"Date of the origin of timestamp (value 0), i.e. production date."},17540:{name:"TagDefault",level:4,type:"u",mandatory:!0,minver:1,webm:!1,default:1,range:"0-1",description:"Indication to know if this is the default/original language to use for the given tag. (1 bit)"},17541:{name:"TagBinary",level:4,type:"b",minver:1,webm:!1,description:"The values of the Tag if it is binary. Note that this cannot be used in the same SimpleTag as TagString."},17543:{name:"TagString",level:4,type:"8",minver:1,webm:!1,description:"The value of the Element."},17545:{name:"Duration",level:2,type:"f",minver:1,range:"> 0",description:"Duration of the segment (based on TimecodeScale)."},17816:{name:"ChapterFlagEnabled",level:4,type:"u",mandatory:!0,minver:1,webm:!1,default:1,range:"0-1",description:"Specify wether the chapter is enabled. It can be enabled/disabled by a Control Track. When disabled, the movie should skip all the content between the TimeStart and TimeEnd of this chapter (see flag notes). (1 bit)"},18016:{name:"FileMimeType",level:3,type:"s",mandatory:!0,minver:1,webm:!1,description:"MIME type of the file."},18017:{name:"FileUsedStartTime",level:3,type:"u",divx:!0,description:"DivX font extension"},18018:{name:"FileUsedEndTime",level:3,type:"u",divx:!0,description:"DivX font extension"},18037:{name:"FileReferral",level:3,type:"b",webm:!1,description:"A binary value that a track/codec can refer to when the attachment is needed."},20529:{name:"ContentEncodingOrder",level:5,type:"u",mandatory:!0,minver:1,webm:!1,default:0,description:"Tells when this modification was used during encoding/muxing starting with 0 and counting upwards. The decoder/demuxer has to start with the highest order number it finds and work its way down. This value has to be unique over all ContentEncodingOrder elements in the segment."},20530:{name:"ContentEncodingScope",level:5,type:"u",mandatory:!0,minver:1,webm:!1,default:1,range:"not 0",description:"A bit field that describes which elements have been modified in this way. Values (big endian) can be OR'ed. Possible values: 1 - all frame contents, 2 - the track's private data, 4 - the next ContentEncoding (next ContentEncodingOrder. Either the data inside ContentCompression and/or ContentEncryption)"},20531:{name:"ContentEncodingType",level:5,type:"u",mandatory:!0,minver:1,webm:!1,default:0,description:"A value describing what kind of transformation has been done. Possible values: 0 - compression, 1 - encryption"},20532:{name:"ContentCompression",level:5,type:"m",minver:1,webm:!1,description:"Settings describing the compression used. Must be present if the value of ContentEncodingType is 0 and absent otherwise. Each block must be decompressable even if no previous block is available in order not to prevent seeking."},20533:{name:"ContentEncryption",level:5,type:"m",minver:1,webm:!1,description:"Settings describing the encryption used. Must be present if the value of ContentEncodingType is 1 and absent otherwise."},21368:{name:"CueBlockNumber",level:4,type:"u",minver:1,default:1,range:"not 0",description:"Number of the Block in the specified Cluster."},22100:{name:"ChapterStringUID",level:4,type:"8",mandatory:!1,minver:3,webm:!0,description:"A unique string ID to identify the Chapter. Use for WebVTT cue identifier storage."},22337:{name:"WritingApp",level:2,type:"8",mandatory:!0,minver:1,description:'Writing application ("mkvmerge-0.3.3").'},22612:{name:"SilentTracks",cppname:"ClusterSilentTracks",level:2,type:"m",minver:1,webm:!1,description:"The list of tracks that are not used in that part of the stream. It is useful when using overlay tracks on seeking. Then you should decide what track to use."},25152:{name:"ContentEncoding",level:4,type:"m",mandatory:!0,multiple:!0,minver:1,webm:!1,description:"Settings for one content encoding like compression or encryption."},25188:{name:"BitDepth",cppname:"AudioBitDepth",level:4,type:"u",minver:1,range:"not 0",description:"Bits per sample, mostly used for PCM."},25906:{name:"SignedElement",level:3,type:"b",multiple:!0,webm:!1,description:"An element ID whose data will be used to compute the signature."},26148:{name:"TrackTranslate",level:3,type:"m",multiple:!0,minver:1,webm:!1,description:"The track identification for the given Chapter Codec."},26897:{name:"ChapProcessCommand",cppname:"ChapterProcessCommand",level:5,type:"m",multiple:!0,minver:1,webm:!1,description:"Contains all the commands associated to the Atom."},26914:{name:"ChapProcessTime",cppname:"ChapterProcessTime",level:6,type:"u",mandatory:!0,minver:1,webm:!1,description:"Defines when the process command should be handled (0: during the whole chapter, 1: before starting playback, 2: after playback of the chapter)."},26916:{name:"ChapterTranslate",level:2,type:"m",multiple:!0,minver:1,webm:!1,description:"A tuple of corresponding ID used by chapter codecs to represent this segment."},26931:{name:"ChapProcessData",cppname:"ChapterProcessData",level:6,type:"b",mandatory:!0,minver:1,webm:!1,description:"Contains the command information. The data should be interpreted depending on the ChapProcessCodecID value. For ChapProcessCodecID = 1, the data correspond to the binary DVD cell pre/post commands."},26948:{name:"ChapProcess",cppname:"ChapterProcess",level:4,type:"m",multiple:!0,minver:1,webm:!1,description:"Contains all the commands associated to the Atom."},26965:{name:"ChapProcessCodecID",cppname:"ChapterProcessCodecID",level:5,type:"u",mandatory:!0,minver:1,webm:!1,default:0,description:"Contains the type of the codec used for the processing. A value of 0 means native Matroska processing (to be defined), a value of 1 means the DVD command set is used. More codec IDs can be added later."},29555:{name:"Tag",level:2,type:"m",mandatory:!0,multiple:!0,minver:1,webm:!1,description:"Element containing elements specific to Tracks/Chapters."},29572:{name:"SegmentFilename",level:2,type:"8",minver:1,webm:!1,description:"A filename corresponding to this segment."},29766:{name:"AttachmentLink",cppname:"TrackAttachmentLink",level:3,type:"u",minver:1,webm:!1,range:"not 0",description:"The UID of an attachment that is used by this codec."},2459272:{name:"CodecName",level:3,type:"8",minver:1,description:"A human-readable string specifying the codec."},408125543:{name:"Segment",level:"0",type:"m",mandatory:!0,multiple:!0,minver:1,description:"This element contains all other top-level (level 1) elements. Typically a Matroska file is composed of 1 segment."},17530:{name:"TagLanguage",level:4,type:"s",mandatory:!0,minver:1,webm:!1,default:"und",description:"Specifies the language of the tag specified, in the Matroska languages form."},17827:{name:"TagName",level:4,type:"8",mandatory:!0,minver:1,webm:!1,description:"The name of the Tag that is going to be stored."},26568:{name:"SimpleTag",cppname:"TagSimple",level:3,recursive:"1",type:"m",mandatory:!0,multiple:!0,minver:1,webm:!1,description:"Contains general information about the target."},25542:{name:"TagAttachmentUID",level:4,type:"u",multiple:!0,minver:1,webm:!1,default:0,description:"A unique ID to identify the Attachment(s) the tags belong to. If the value is 0 at this level, the tags apply to all the attachments in the Segment."},25540:{name:"TagChapterUID",level:4,type:"u",multiple:!0,minver:1,webm:!1,default:0,description:"A unique ID to identify the Chapter(s) the tags belong to. If the value is 0 at this level, the tags apply to all chapters in the Segment."},25545:{name:"TagEditionUID",level:4,type:"u",multiple:!0,minver:1,webm:!1,default:0,description:"A unique ID to identify the EditionEntry(s) the tags belong to. If the value is 0 at this level, the tags apply to all editions in the Segment."},25541:{name:"TagTrackUID",level:4,type:"u",multiple:!0,minver:1,webm:!1,default:0,description:"A unique ID to identify the Track(s) the tags belong to. If the value is 0 at this level, the tags apply to all tracks in the Segment."},25546:{name:"TargetType",cppname:"TagTargetType",level:4,type:"s",minver:1,webm:!1,strong:"informational",description:'An  string that can be used to display the logical level of the target like "ALBUM", "TRACK", "MOVIE", "CHAPTER", etc (see TargetType).'},26826:{name:"TargetTypeValue",cppname:"TagTargetTypeValue",level:4,type:"u",minver:1,webm:!1,default:50,description:"A number to indicate the logical level of the target (see TargetType)."},25536:{name:"Targets",cppname:"TagTargets",level:3,type:"m",mandatory:!0,minver:1,webm:!1,description:"Contain all UIDs where the specified meta data apply. It is empty to describe everything in the segment."},307544935:{name:"Tags",level:1,type:"m",multiple:!0,minver:1,webm:!1,description:"Element containing elements specific to Tracks/Chapters. A list of valid tags can be found here."},17677:{name:"ChapProcessPrivate",cppname:"ChapterProcessPrivate",level:5,type:"b",minver:1,webm:!1,description:'Some optional data attached to the ChapProcessCodecID information. For ChapProcessCodecID = 1, it is the "DVD level" equivalent.'},17278:{name:"ChapCountry",cppname:"ChapterCountry",level:5,type:"s",multiple:!0,minver:1,webm:!1,description:"The countries corresponding to the string, same 2 octets as in Internet domains."},17276:{name:"ChapLanguage",cppname:"ChapterLanguage",level:5,type:"s",mandatory:!0,multiple:!0,minver:1,webm:!0,default:"eng",description:"The languages corresponding to the string, in the bibliographic ISO-639-2 form."},143:{name:"ChapterTrack",level:4,type:"m",minver:1,webm:!1,description:"List of tracks on which the chapter applies. If this element is not present, all tracks apply"},25539:{name:"ChapterPhysicalEquiv",level:4,type:"u",minver:1,webm:!1,description:'Specify the physical equivalent of this ChapterAtom like "DVD" (60) or "SIDE" (50), see complete list of values.'},28348:{name:"ChapterSegmentEditionUID",level:4,type:"u",minver:1,webm:!1,range:"not 0",description:"The EditionUID to play from the segment linked in ChapterSegmentUID."},28263:{name:"ChapterSegmentUID",level:4,type:"b",minver:1,webm:!1,range:">0",bytesize:16,description:"A segment to play in place of this chapter. Edition ChapterSegmentEditionUID should be used for this segment, otherwise no edition is used."},29636:{name:"ChapterUID",level:4,type:"u",mandatory:!0,minver:1,webm:!0,range:"not 0",description:"A unique ID to identify the Chapter."},182:{name:"ChapterAtom",level:3,recursive:"1",type:"m",mandatory:!0,multiple:!0,minver:1,webm:!0,description:"Contains the atom information to use as the chapter atom (apply to all tracks)."},17885:{name:"EditionFlagOrdered",level:3,type:"u",minver:1,webm:!1,default:0,range:"0-1",description:"Specify if the chapters can be defined multiple times and the order to play them is enforced. (1 bit)"},17883:{name:"EditionFlagDefault",level:3,type:"u",mandatory:!0,minver:1,webm:!1,default:0,range:"0-1",description:"If a flag is set (1) the edition should be used as the default one. (1 bit)"},17853:{name:"EditionFlagHidden",level:3,type:"u",mandatory:!0,minver:1,webm:!1,default:0,range:"0-1",description:"If an edition is hidden (1), it should not be available to the user interface (but still to Control Tracks; see flag notes). (1 bit)"},17852:{name:"EditionUID",level:3,type:"u",minver:1,webm:!1,range:"not 0",description:"A unique ID to identify the edition. It's useful for tagging an edition."},17849:{name:"EditionEntry",level:2,type:"m",mandatory:!0,multiple:!0,minver:1,webm:!0,description:"Contains all information about a segment edition."},272869232:{name:"Chapters",level:1,type:"m",minver:1,webm:!0,description:"A system to define basic menus and partition data. For more detailed information, look at the Chapters Explanation."},18094:{name:"FileUID",level:3,type:"u",mandatory:!0,minver:1,webm:!1,range:"not 0",description:"Unique ID representing the file, as random as possible."},18012:{name:"FileData",level:3,type:"b",mandatory:!0,minver:1,webm:!1,description:"The data of the file."},18030:{name:"FileName",level:3,type:"8",mandatory:!0,minver:1,webm:!1,description:"Filename of the attached file."},18046:{name:"FileDescription",level:3,type:"8",minver:1,webm:!1,description:"A human-friendly name for the attached file."},24999:{name:"AttachedFile",level:2,type:"m",mandatory:!0,multiple:!0,minver:1,webm:!1,description:"An attached file."},423732329:{name:"Attachments",level:1,type:"m",minver:1,webm:!1,description:"Contain attached files."},235:{name:"CueRefCodecState",level:5,type:"u",webm:!1,default:0,description:"The position of the Codec State corresponding to this referenced element. 0 means that the data is taken from the initial Track Entry."},21343:{name:"CueRefNumber",level:5,type:"u",webm:!1,default:1,range:"not 0",description:"Number of the referenced Block of Track X in the specified Cluster."},219:{name:"CueReference",level:4,type:"m",multiple:!0,minver:2,webm:!1,description:"The Clusters containing the required referenced Blocks."},234:{name:"CueCodecState",level:4,type:"u",minver:2,webm:!1,default:0,description:"The position of the Codec State corresponding to this Cue element. 0 means that the data is taken from the initial Track Entry."},178:{name:"CueDuration",level:4,type:"u",mandatory:!1,minver:4,webm:!1,description:"The duration of the block according to the segment time base. If missing the track's DefaultDuration does not apply and no duration information is available in terms of the cues."},240:{name:"CueRelativePosition",level:4,type:"u",mandatory:!1,minver:4,webm:!1,description:"The relative position of the referenced block inside the cluster with 0 being the first possible position for an element inside that cluster.",position:"clusterRelative"},241:{name:"CueClusterPosition",level:4,type:"u",mandatory:!0,minver:1,description:"The position of the Cluster containing the required Block.",position:"segment"},247:{name:"CueTrack",level:4,type:"u",mandatory:!0,minver:1,range:"not 0",description:"The track for which a position is given."},183:{name:"CueTrackPositions",level:3,type:"m",mandatory:!0,multiple:!0,minver:1,description:"Contain positions for different tracks corresponding to the timestamp."},179:{name:"CueTime",level:3,type:"u",mandatory:!0,minver:1,description:"Absolute timestamp according to the segment time base."},187:{name:"CuePoint",level:2,type:"m",mandatory:!0,multiple:!0,minver:1,description:"Contains all information relative to a seek point in the segment."},475249515:{name:"Cues",level:1,type:"m",minver:1,description:'A top-level element to speed seeking access. All entries are local to the segment. Should be mandatory for non "live" streams.'},18406:{name:"ContentSigHashAlgo",level:6,type:"u",minver:1,webm:!1,default:0,description:"The hash algorithm used for the signature. A value of '0' means that the contents have not been signed but only encrypted. Predefined values: 1 - SHA1-160 2 - MD5"},18405:{name:"ContentSigAlgo",level:6,type:"u",minver:1,webm:!1,default:0,description:"The algorithm used for the signature. A value of '0' means that the contents have not been signed but only encrypted. Predefined values: 1 - RSA"},18404:{name:"ContentSigKeyID",level:6,type:"b",minver:1,webm:!1,description:"This is the ID of the private key the data was signed with."},18403:{name:"ContentSignature",level:6,type:"b",minver:1,webm:!1,description:"A cryptographic signature of the contents."},18402:{name:"ContentEncKeyID",level:6,type:"b",minver:1,webm:!1,description:"For public key algorithms this is the ID of the public key the the data was encrypted with."},18401:{name:"ContentEncAlgo",level:6,type:"u",minver:1,webm:!1,default:0,description:"The encryption algorithm used. The value '0' means that the contents have not been encrypted but only signed. Predefined values: 1 - DES, 2 - 3DES, 3 - Twofish, 4 - Blowfish, 5 - AES"},28032:{name:"ContentEncodings",level:3,type:"m",minver:1,webm:!1,description:"Settings for several content encoding mechanisms like compression or encryption."},196:{name:"TrickMasterTrackSegmentUID",level:3,type:"b",divx:!0,bytesize:16,description:"DivX trick track extenstions"},199:{name:"TrickMasterTrackUID",level:3,type:"u",divx:!0,description:"DivX trick track extenstions"},198:{name:"TrickTrackFlag",level:3,type:"u",divx:!0,default:0,description:"DivX trick track extenstions"},193:{name:"TrickTrackSegmentUID",level:3,type:"b",divx:!0,bytesize:16,description:"DivX trick track extenstions"},192:{name:"TrickTrackUID",level:3,type:"u",divx:!0,description:"DivX trick track extenstions"},237:{name:"TrackJoinUID",level:5,type:"u",mandatory:!0,multiple:!0,minver:3,webm:!1,range:"not 0",description:"The trackUID number of a track whose blocks are used to create this virtual track."},233:{name:"TrackJoinBlocks",level:4,type:"m",minver:3,webm:!1,description:"Contains the list of all tracks whose Blocks need to be combined to create this virtual track"},230:{name:"TrackPlaneType",level:6,type:"u",mandatory:!0,minver:3,webm:!1,description:"The kind of plane this track corresponds to (0: left eye, 1: right eye, 2: background)."},229:{name:"TrackPlaneUID",level:6,type:"u",mandatory:!0,minver:3,webm:!1,range:"not 0",description:"The trackUID number of the track representing the plane."},228:{name:"TrackPlane",level:5,type:"m",mandatory:!0,multiple:!0,minver:3,webm:!1,description:"Contains a video plane track that need to be combined to create this 3D track"},227:{name:"TrackCombinePlanes",level:4,type:"m",minver:3,webm:!1,description:"Contains the list of all video plane tracks that need to be combined to create this 3D track"},226:{name:"TrackOperation",level:3,type:"m",minver:3,webm:!1,description:"Operation that needs to be applied on tracks to create this virtual track. For more details look at the Specification Notes on the subject."},32123:{name:"ChannelPositions",cppname:"AudioPosition",level:4,type:"b",webm:!1,description:"Table of horizontal angles for each successive channel, see appendix."},159:{name:"Channels",cppname:"AudioChannels",level:4,type:"u",mandatory:!0,minver:1,default:1,range:"not 0",description:"Numbers of channels in the track."},30901:{name:"OutputSamplingFrequency",cppname:"AudioOutputSamplingFreq",level:4,type:"f",minver:1,default:"Sampling Frequency",range:"> 0",description:"Real output sampling frequency in Hz (used for SBR techniques)."},181:{name:"SamplingFrequency",cppname:"AudioSamplingFreq",level:4,type:"f",mandatory:!0,minver:1,default:8e3,range:"> 0",description:"Sampling frequency in Hz."},225:{name:"Audio",cppname:"TrackAudio",level:3,type:"m",minver:1,description:"Audio settings."},2327523:{name:"FrameRate",cppname:"VideoFrameRate",level:4,type:"f",range:"> 0",strong:"Informational",description:"Number of frames per second.  only."},3126563:{name:"GammaValue",cppname:"VideoGamma",level:4,type:"f",webm:!1,range:"> 0",description:"Gamma Value."},3061028:{name:"ColourSpace",cppname:"VideoColourSpace",level:4,type:"b",minver:1,webm:!1,bytesize:4,description:"Same value as in AVI (32 bits)."},21683:{name:"AspectRatioType",cppname:"VideoAspectRatio",level:4,type:"u",minver:1,default:0,description:"Specify the possible modifications to the aspect ratio (0: free resizing, 1: keep aspect ratio, 2: fixed)."},21682:{name:"DisplayUnit",cppname:"VideoDisplayUnit",level:4,type:"u",minver:1,default:0,description:"How DisplayWidth & DisplayHeight should be interpreted (0: pixels, 1: centimeters, 2: inches, 3: Display Aspect Ratio)."},21690:{name:"DisplayHeight",cppname:"VideoDisplayHeight",level:4,type:"u",minver:1,default:"PixelHeight",range:"not 0",description:"Height of the video frames to display. The default value is only valid when DisplayUnit is 0."},21680:{name:"DisplayWidth",cppname:"VideoDisplayWidth",level:4,type:"u",minver:1,default:"PixelWidth",range:"not 0",description:"Width of the video frames to display. The default value is only valid when DisplayUnit is 0."},21725:{name:"PixelCropRight",cppname:"VideoPixelCropRight",level:4,type:"u",minver:1,default:0,description:"The number of video pixels to remove on the right of the image."},21708:{name:"PixelCropLeft",cppname:"VideoPixelCropLeft",level:4,type:"u",minver:1,default:0,description:"The number of video pixels to remove on the left of the image."},21691:{name:"PixelCropTop",cppname:"VideoPixelCropTop",level:4,type:"u",minver:1,default:0,description:"The number of video pixels to remove at the top of the image."},21674:{name:"PixelCropBottom",cppname:"VideoPixelCropBottom",level:4,type:"u",minver:1,default:0,description:"The number of video pixels to remove at the bottom of the image (for HDTV content)."},186:{name:"PixelHeight",cppname:"VideoPixelHeight",level:4,type:"u",mandatory:!0,minver:1,range:"not 0",description:"Height of the encoded video frames in pixels."},176:{name:"PixelWidth",cppname:"VideoPixelWidth",level:4,type:"u",mandatory:!0,minver:1,range:"not 0",description:"Width of the encoded video frames in pixels."},21433:{name:"OldStereoMode",level:4,type:"u",maxver:"0",webm:!1,divx:!1,description:"DEPRECATED, DO NOT USE. Bogus StereoMode value used in old versions of libmatroska. (0: mono, 1: right eye, 2: left eye, 3: both eyes)."},21440:{name:"AlphaMode",cppname:"VideoAlphaMode",level:4,type:"u",minver:3,webm:!0,default:0,description:"Alpha Video Mode. Presence of this element indicates that the BlockAdditional element could contain Alpha data."},21432:{name:"StereoMode",cppname:"VideoStereoMode",level:4,type:"u",minver:3,webm:!0,default:0,description:"Stereo-3D video mode (0: mono, 1: side by side (left eye is first), 2: top-bottom (right eye is first), 3: top-bottom (left eye is first), 4: checkboard (right is first), 5: checkboard (left is first), 6: row interleaved (right is first), 7: row interleaved (left is first), 8: column interleaved (right is first), 9: column interleaved (left is first), 10: anaglyph (cyan/red), 11: side by side (right eye is first), 12: anaglyph (green/magenta), 13 both eyes laced in one Block (left eye is first), 14 both eyes laced in one Block (right eye is first)) . There are some more details on 3D support in the Specification Notes."},154:{name:"FlagInterlaced",cppname:"VideoFlagInterlaced",level:4,type:"u",mandatory:!0,minver:2,webm:!0,default:0,range:"0-1",description:"Set if the video is interlaced. (1 bit)"},224:{name:"Video",cppname:"TrackVideo",level:3,type:"m",minver:1,description:"Video settings."},26277:{name:"TrackTranslateTrackID",level:4,type:"b",mandatory:!0,minver:1,webm:!1,description:"The binary value used to represent this track in the chapter codec data. The format depends on the ChapProcessCodecID used."},26303:{name:"TrackTranslateCodec",level:4,type:"u",mandatory:!0,minver:1,webm:!1,description:"The chapter codec using this ID (0: Matroska Script, 1: DVD-menu)."},26364:{name:"TrackTranslateEditionUID",level:4,type:"u",multiple:!0,minver:1,webm:!1,description:"Specify an edition UID on which this translation applies. When not specified, it means for all editions found in the segment."},22203:{name:"SeekPreRoll",level:3,type:"u",mandatory:!0,multiple:!1,default:0,minver:4,webm:!0,description:"After a discontinuity, SeekPreRoll is the duration in nanoseconds of the data the decoder must decode before the decoded data is valid."},22186:{name:"CodecDelay",level:3,type:"u",multiple:!1,default:0,minver:4,webm:!0,description:"CodecDelay is The codec-built-in delay in nanoseconds. This value must be subtracted from each block timestamp in order to get the actual timestamp. The value should be small so the muxing of tracks with the same actual timestamp are in the same Cluster."},28587:{name:"TrackOverlay",level:3,type:"u",multiple:!0,minver:1,webm:!1,description:"Specify that this track is an overlay track for the Track specified (in the u-integer). That means when this track has a gap (see SilentTracks) the overlay track should be used instead. The order of multiple TrackOverlay matters, the first one is the one that should be used. If not found it should be the second, etc."},170:{name:"CodecDecodeAll",level:3,type:"u",mandatory:!0,minver:2,webm:!1,default:1,range:"0-1",description:"The codec can decode potentially damaged data (1 bit)."},2536000:{name:"CodecDownloadURL",level:3,type:"s",multiple:!0,webm:!1,description:"A URL to download about the codec used."},3883072:{name:"CodecInfoURL",level:3,type:"s",multiple:!0,webm:!1,description:"A URL to find information about the codec used."},3839639:{name:"CodecSettings",level:3,type:"8",webm:!1,description:"A string describing the encoding setting used."},25506:{name:"CodecPrivate",level:3,type:"b",minver:1,description:"Private data only known to the codec."},2274716:{name:"Language",cppname:"TrackLanguage",level:3,type:"s",minver:1,default:"eng",description:"Specifies the language of the track in the Matroska languages form."},21358:{name:"Name",cppname:"TrackName",level:3,type:"8",minver:1,description:"A human-readable track name."},21998:{name:"MaxBlockAdditionID",level:3,type:"u",mandatory:!0,minver:1,webm:!1,default:0,description:"The maximum value of BlockAdditions for this track."},21375:{name:"TrackOffset",level:3,type:"i",webm:!1,default:0,description:"A value to add to the Block's Timestamp. This can be used to adjust the playback offset of a track."},2306383:{name:"TrackTimecodeScale",level:3,type:"f",mandatory:!0,minver:1,maxver:"3",webm:!1,default:1,range:"> 0",description:"DEPRECATED, DO NOT USE. The scale to apply on this track to work at normal speed in relation with other tracks (mostly used to adjust video speed when the audio length differs)."},2313850:{name:"DefaultDecodedFieldDuration",cppname:"TrackDefaultDecodedFieldDuration",level:3,type:"u",minver:4,range:"not 0",description:"The period in nanoseconds (not scaled by TimcodeScale)\nbetween two successive fields at the output of the decoding process (see the notes)"},2352003:{name:"DefaultDuration",cppname:"TrackDefaultDuration",level:3,type:"u",minver:1,range:"not 0",description:"Number of nanoseconds (not scaled via TimecodeScale) per frame ('frame' in the Matroska sense -- one element put into a (Simple)Block)."},28152:{name:"MaxCache",cppname:"TrackMaxCache",level:3,type:"u",minver:1,webm:!1,description:"The maximum cache size required to store referenced frames in and the current frame. 0 means no cache is needed."},28135:{name:"MinCache",cppname:"TrackMinCache",level:3,type:"u",mandatory:!0,minver:1,webm:!1,default:0,description:"The minimum number of frames a player should be able to cache during playback. If set to 0, the reference pseudo-cache system is not used."},156:{name:"FlagLacing",cppname:"TrackFlagLacing",level:3,type:"u",mandatory:!0,minver:1,default:1,range:"0-1",description:"Set if the track may contain blocks using lacing. (1 bit)"},21930:{name:"FlagForced",cppname:"TrackFlagForced",level:3,type:"u",mandatory:!0,minver:1,default:0,range:"0-1",description:"Set if that track MUST be active during playback. There can be many forced track for a kind (audio, video or subs), the player should select the one which language matches the user preference or the default + forced track. Overlay MAY happen between a forced and non-forced track of the same kind. (1 bit)"},185:{name:"FlagEnabled",cppname:"TrackFlagEnabled",level:3,type:"u",mandatory:!0,minver:2,webm:!0,default:1,range:"0-1",description:"Set if the track is usable. (1 bit)"},29637:{name:"TrackUID",level:3,type:"u",mandatory:!0,minver:1,range:"not 0",description:"A unique ID to identify the Track. This should be kept the same when making a direct stream copy of the Track to another file."},215:{name:"TrackNumber",level:3,type:"u",mandatory:!0,minver:1,range:"not 0",description:"The track number as used in the Block Header (using more than 127 tracks is not encouraged, though the design allows an unlimited number)."},174:{name:"TrackEntry",level:2,type:"m",mandatory:!0,multiple:!0,minver:1,description:"Describes a track with all elements."},374648427:{name:"Tracks",level:1,type:"m",multiple:!0,minver:1,description:"A top-level block of information with many tracks described."},175:{name:"EncryptedBlock",level:2,type:"b",multiple:!0,webm:!1,description:"Similar to EncryptedBlock Structure)"},202:{name:"ReferenceTimeCode",level:4,type:"u",multiple:!1,mandatory:!0,minver:0,webm:!1,divx:!0,description:"DivX trick track extenstions"},201:{name:"ReferenceOffset",level:4,type:"u",multiple:!1,mandatory:!0,minver:0,webm:!1,divx:!0,description:"DivX trick track extenstions"},200:{name:"ReferenceFrame",level:3,type:"m",multiple:!1,minver:0,webm:!1,divx:!0,description:"DivX trick track extenstions"},207:{name:"SliceDuration",level:5,type:"u",default:0,description:"The (scaled) duration to apply to the element."},206:{name:"Delay",cppname:"SliceDelay",level:5,type:"u",default:0,description:"The (scaled) delay to apply to the element."},203:{name:"BlockAdditionID",cppname:"SliceBlockAddID",level:5,type:"u",default:0,description:"The ID of the BlockAdditional element (0 is the main Block)."},205:{name:"FrameNumber",cppname:"SliceFrameNumber",level:5,type:"u",default:0,description:"The number of the frame to generate from this lace with this delay (allow you to generate many frames from the same Block/Frame)."},204:{name:"LaceNumber",cppname:"SliceLaceNumber",level:5,type:"u",minver:1,default:0,divx:!1,description:"The reverse number of the frame in the lace (0 is the last frame, 1 is the next to last, etc). While there are a few files in the wild with this element, it is no longer in use and has been deprecated. Being able to interpret this element is not required for playback."},232:{name:"TimeSlice",level:4,type:"m",multiple:!0,minver:1,divx:!1,description:"Contains extra time information about the data contained in the Block. While there are a few files in the wild with this element, it is no longer in use and has been deprecated. Being able to interpret this element is not required for playback."},142:{name:"Slices",level:3,type:"m",minver:1,divx:!1,description:"Contains slices description."},30114:{name:"DiscardPadding",level:3,type:"i",minver:4,webm:!0,description:"Duration in nanoseconds of the silent data added to the Block (padding at the end of the Block for positive value, at the beginning of the Block for negative value). The duration of DiscardPadding is not calculated in the duration of the TrackEntry and should be discarded during playback."},164:{name:"CodecState",level:3,type:"b",minver:2,webm:!1,description:"The new codec state to use. Data interpretation is private to the codec. This information should always be referenced by a seek entry."},253:{name:"ReferenceVirtual",level:3,type:"i",webm:!1,description:"Relative position of the data that should be in position of the virtual block."},251:{name:"ReferenceBlock",level:3,type:"i",multiple:!0,minver:1,description:"Timestamp of another frame used as a reference (ie: B or P frame). The timestamp is relative to the block it's attached to."},250:{name:"ReferencePriority",cppname:"FlagReferenced",level:3,type:"u",mandatory:!0,minver:1,webm:!1,default:0,description:"This frame is referenced and has the specified cache priority. In cache only a frame of the same or higher priority can replace this frame. A value of 0 means the frame is not referenced."},155:{name:"BlockDuration",level:3,type:"u",minver:1,default:"TrackDuration",description:'The duration of the Block (based on TimecodeScale). This element is mandatory when DefaultDuration is set for the track (but can be omitted as other default values). When not written and with no DefaultDuration, the value is assumed to be the difference between the timestamp of this Block and the timestamp of the next Block in "display" order (not coding order). This element can be useful at the end of a Track (as there is not other Block available), or when there is a break in a track like for subtitle tracks. When set to 0 that means the frame is not a keyframe.'},165:{name:"BlockAdditional",level:5,type:"b",mandatory:!0,minver:1,webm:!1,description:"Interpreted by the codec as it wishes (using the BlockAddID)."},238:{name:"BlockAddID",level:5,type:"u",mandatory:!0,minver:1,webm:!1,default:1,range:"not 0",description:"An ID to identify the BlockAdditional level."},166:{name:"BlockMore",level:4,type:"m",mandatory:!0,multiple:!0,minver:1,webm:!1,description:"Contain the BlockAdditional and some parameters."},30113:{name:"BlockAdditions",level:3,type:"m",minver:1,webm:!1,description:"Contain additional blocks to complete the main one. An EBML parser that has no knowledge of the Block structure could still see and use/skip these data."},162:{name:"BlockVirtual",level:3,type:"b",webm:!1,description:"A Block with no data. It must be stored in the stream at the place the real Block should be in display order. (see Block Virtual)"},161:{name:"Block",level:3,type:"b",mandatory:!0,minver:1,description:"Block containing the actual data to be rendered and a timestamp relative to the Cluster Timecode. (see Block Structure)"},160:{name:"BlockGroup",level:2,type:"m",multiple:!0,minver:1,description:"Basic container of information containing a single Block or BlockVirtual, and information specific to that Block/VirtualBlock."},163:{name:"SimpleBlock",level:2,type:"b",multiple:!0,minver:2,webm:!0,divx:!0,description:"Similar to SimpleBlock Structure"},171:{name:"PrevSize",cppname:"ClusterPrevSize",level:2,type:"u",minver:1,description:"Size of the previous Cluster, in octets. Can be useful for backward playing.",position:"prevCluster"},167:{name:"Position",cppname:"ClusterPosition",level:2,type:"u",minver:1,webm:!1,description:"The Position of the Cluster in the segment (0 in live broadcast streams). It might help to resynchronise offset on damaged streams.",position:"segment"},22743:{name:"SilentTrackNumber",cppname:"ClusterSilentTrackNumber",level:3,type:"u",multiple:!0,minver:1,webm:!1,description:"One of the track number that are not used from now on in the stream. It could change later if not specified as silent in a further Cluster."},231:{name:"Timecode",cppname:"ClusterTimecode",level:2,type:"u",mandatory:!0,minver:1,description:"Absolute timestamp of the cluster (based on TimecodeScale)."},524531317:{name:"Cluster",level:1,type:"m",multiple:!0,minver:1,description:"The lower level element containing the (monolithic) Block structure."},19840:{name:"MuxingApp",level:2,type:"8",mandatory:!0,minver:1,description:'Muxing application or library ("libmatroska-0.4.3").'},31657:{name:"Title",level:2,type:"8",minver:1,webm:!1,description:"General name of the segment."},2807730:{name:"TimecodeScaleDenominator",level:2,type:"u",mandatory:!0,minver:4,default:"1000000000",description:"Timestamp scale numerator, see TimecodeScale."},2807729:{name:"TimecodeScale",level:2,type:"u",mandatory:!0,minver:1,default:"1000000",description:"Timestamp scale in nanoseconds (1.000.000 means all timestamps in the segment are expressed in milliseconds)."},27045:{name:"ChapterTranslateID",level:3,type:"b",mandatory:!0,minver:1,webm:!1,description:"The binary value used to represent this segment in the chapter codec data. The format depends on the ChapProcessCodecID used."},27071:{name:"ChapterTranslateCodec",level:3,type:"u",mandatory:!0,minver:1,webm:!1,description:"The chapter codec using this ID (0: Matroska Script, 1: DVD-menu)."},27132:{name:"ChapterTranslateEditionUID",level:3,type:"u",multiple:!0,minver:1,webm:!1,description:"Specify an edition UID on which this correspondance applies. When not specified, it means for all editions found in the segment."},4096955:{name:"NextFilename",level:2,type:"8",minver:1,webm:!1,description:"An escaped filename corresponding to the next segment."},4110627:{name:"NextUID",level:2,type:"b",minver:1,webm:!1,bytesize:16,description:"A unique ID to identify the next chained segment (128 bits)."},3965867:{name:"PrevFilename",level:2,type:"8",minver:1,webm:!1,description:"An escaped filename corresponding to the previous segment."},3979555:{name:"PrevUID",level:2,type:"b",minver:1,webm:!1,bytesize:16,description:"A unique ID to identify the previous chained segment (128 bits)."},29604:{name:"SegmentUID",level:2,type:"b",minver:1,webm:!1,range:"not 0",bytesize:16,description:"A randomly generated unique ID to identify the current segment between many others (128 bits)."},357149030:{name:"Info",level:1,type:"m",mandatory:!0,multiple:!0,minver:1,description:"Contains miscellaneous general information and statistics on the file."},21420:{name:"SeekPosition",level:3,type:"u",mandatory:!0,minver:1,description:"The position of the element in the segment in octets (0 = first level 1 element).",position:"segment"},21419:{name:"SeekID",level:3,type:"b",mandatory:!0,minver:1,description:"The binary ID corresponding to the element name.",type2:"ebmlID"},19899:{name:"Seek",cppname:"SeekPoint",level:2,type:"m",mandatory:!0,multiple:!0,minver:1,description:"Contains a single seek entry to an EBML element."},290298740:{name:"SeekHead",cppname:"SeekHeader",level:1,type:"m",multiple:!0,minver:1,description:"Contains the position of other level 1 elements."},32379:{name:"SignatureElementList",level:2,type:"m",multiple:!0,webm:!1,i:"Cluster|Block|BlockAdditional",description:"A list consists of a number of consecutive elements that represent one case where data is used in signature. Ex:  means that the BlockAdditional of all Blocks in all Clusters is used for encryption."},32347:{name:"SignatureElements",level:1,type:"m",webm:!1,description:"Contains elements that will be used to compute the signature."},32437:{name:"Signature",level:1,type:"b",webm:!1,description:"The signature of the data (until a new."},32421:{name:"SignaturePublicKey",level:1,type:"b",webm:!1,description:"The public key to use with the algorithm (in the case of a PKI-based signature)."},32410:{name:"SignatureHash",level:1,type:"u",webm:!1,description:"Hash algorithm used (1=SHA1-160, 2=MD5)."},32394:{name:"SignatureAlgo",level:1,type:"u",webm:!1,description:"Signature algorithm used (1=RSA, 2=elliptic)."},458458727:{name:"SignatureSlot",level:-1,type:"m",multiple:!0,webm:!1,description:"Contain signature of some (coming) elements in the stream."},191:{name:"CRC-32",level:-1,type:"b",minver:1,webm:!1,description:"The CRC is computed on all the data of the Master element it's in. The CRC element should be the first in it's parent master for easier reading. All level 1 elements should include a CRC-32. The CRC in use is the IEEE CRC32 Little Endian",crc:!0},236:{name:"Void",level:-1,type:"b",minver:1,description:"Used to void damaged data, to avoid unexpected behaviors when using damaged data. The content is discarded. Also used to reserve space in a sub-element for later use."},17139:{name:"EBMLMaxSizeLength",level:1,type:"u",mandatory:!0,default:8,minver:1,description:"The maximum length of the sizes you'll find in this file (8 or less in Matroska). This does not override the element size indicated at the beginning of an element. Elements that have an indicated size which is larger than what is allowed by EBMLMaxSizeLength shall be considered invalid."},17138:{name:"EBMLMaxIDLength",level:1,type:"u",mandatory:!0,default:4,minver:1,description:"The maximum length of the IDs you'll find in this file (4 or less in Matroska)."},17143:{name:"EBMLReadVersion",level:1,type:"u",mandatory:!0,default:1,minver:1,description:"The minimum EBML version a parser has to support to read this file."},440786851:{name:"EBML",level:"0",type:"m",mandatory:!0,multiple:!0,minver:1,description:"Set the EBML characteristics of the data to follow. Each EBML document has to start with this."}},l={},o={byEbmlID:i,byName:l};for(var r in i)l[i[r].name.replace("-","_")]=parseInt(r,10);e.exports=o},H7XF:function(e,t,n){"use strict";t.byteLength=function(e){var t=a(e),n=t[1];return 3*(t[0]+n)/4-n},t.toByteArray=function(e){var t,n,i=a(e),r=i[0],u=i[1],s=new o(function(e,t,n){return 3*(t+n)/4-n}(0,r,u)),c=0,p=u>0?r-4:r;for(n=0;n<p;n+=4)t=l[e.charCodeAt(n)]<<18|l[e.charCodeAt(n+1)]<<12|l[e.charCodeAt(n+2)]<<6|l[e.charCodeAt(n+3)],s[c++]=t>>16&255,s[c++]=t>>8&255,s[c++]=255&t;return 2===u&&(t=l[e.charCodeAt(n)]<<2|l[e.charCodeAt(n+1)]>>4,s[c++]=255&t),1===u&&(t=l[e.charCodeAt(n)]<<10|l[e.charCodeAt(n+1)]<<4|l[e.charCodeAt(n+2)]>>2,s[c++]=t>>8&255,s[c++]=255&t),s},t.fromByteArray=function(e){for(var t,n=e.length,l=n%3,o=[],r=0,u=n-l;r<u;r+=16383)o.push(c(e,r,r+16383>u?u:r+16383));return 1===l?o.push(i[(t=e[n-1])>>2]+i[t<<4&63]+"=="):2===l&&o.push(i[(t=(e[n-2]<<8)+e[n-1])>>10]+i[t>>4&63]+i[t<<2&63]+"="),o.join("")};for(var i=[],l=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u=0,s=r.length;u<s;++u)i[u]=r[u],l[r.charCodeAt(u)]=u;function a(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function c(e,t,n){for(var l,o=[],r=t;r<n;r+=3)o.push(i[(l=(e[r]<<16&16711680)+(e[r+1]<<8&65280)+(255&e[r+2]))>>18&63]+i[l>>12&63]+i[l>>6&63]+i[63&l]);return o.join("")}l["-".charCodeAt(0)]=62,l["_".charCodeAt(0)]=63},HjK1:function(e,t,n){function i(){var e;try{e=t.storage.debug}catch(n){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e}(t=e.exports=n("lhf0")).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},t.formatArgs=function(e){var n=this.useColors;if(e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+t.humanize(this.diff),n){var i="color: "+this.color;e.splice(1,0,i,"color: inherit");var l=0,o=0;e[0].replace(/%[a-zA-Z%]/g,function(e){"%%"!==e&&(l++,"%c"===e&&(o=l))}),e.splice(o,0,i)}},t.save=function(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(n){}},t.load=i,t.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},t.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},t.enable(i())},IKIk:function(e,t,n){!function(e){var t,n="undefined",i=n!==typeof Buffer&&Buffer,l=n!==typeof Uint8Array&&Uint8Array,o=n!==typeof ArrayBuffer&&ArrayBuffer,r=[0,0,0,0,0,0,0,0],u=Array.isArray||function(e){return!!e&&"[object Array]"==Object.prototype.toString.call(e)},s=4294967296,a=16777216;function c(u,c,C){var S=c?0:4,_=c?4:0,w=c?0:3,x=c?1:2,F=c?2:1,E=c?3:0,k=c?v:b,A=c?y:D,T=O.prototype,I="is"+u,B="_"+I;return T.buffer=void 0,T.offset=0,T[B]=!0,T.toNumber=R,T.toString=function(e){var t=this.buffer,n=this.offset,i=P(t,n+S),l=P(t,n+_),o="",r=!C&&2147483648&i;for(r&&(i=~i,l=s-l),e=e||10;;){var u=i%e*s+l;if(i=Math.floor(i/e),l=Math.floor(u/e),o=(u%e).toString(e)+o,!i&&!l)break}return r&&(o="-"+o),o},T.toJSON=R,T.toArray=p,i&&(T.toBuffer=d),l&&(T.toArrayBuffer=h),O[I]=function(e){return!(!e||!e[B])},e[u]=O,O;function O(e,i,u,a){return this instanceof O?function(e,i,u,a,c){l&&o&&(i instanceof o&&(i=new l(i)),a instanceof o&&(a=new l(a))),i||u||a||t?(f(i,u)||(c=u,a=i,u=0,i=new(t||Array)(8)),e.buffer=i,e.offset=u|=0,n!==typeof a&&("string"==typeof a?function(e,t,n,i){var l=0,o=n.length,r=0,u=0;"-"===n[0]&&l++;for(var a=l;l<o;){var c=parseInt(n[l++],i);if(!(c>=0))break;u=u*i+c,r=r*i+Math.floor(u/s),u%=s}a&&(r=~r,u?u=s-u:r++),M(e,t+S,r),M(e,t+_,u)}(i,u,a,c||10):f(a,c)?g(i,u,a,c):"number"==typeof c?(M(i,u+S,a),M(i,u+_,c)):a>0?k(i,u,a):a<0?A(i,u,a):g(i,u,r,0))):e.buffer=m(r,0)}(this,e,i,u,a):new O(e,i,u,a)}function R(){var e=this.buffer,t=this.offset,n=P(e,t+S),i=P(e,t+_);return C||(n|=0),n?n*s+i:i}function M(e,t,n){e[t+E]=255&n,e[t+F]=255&(n>>=8),e[t+x]=255&(n>>=8),e[t+w]=255&(n>>=8)}function P(e,t){return e[t+w]*a+(e[t+x]<<16)+(e[t+F]<<8)+e[t+E]}}function p(e){var n=this.buffer,i=this.offset;return t=null,!1!==e&&0===i&&8===n.length&&u(n)?n:m(n,i)}function d(e){var n=this.buffer,l=this.offset;if(t=i,!1!==e&&0===l&&8===n.length&&Buffer.isBuffer(n))return n;var o=new i(8);return g(o,0,n,l),o}function h(e){var n=this.buffer,i=this.offset,r=n.buffer;if(t=l,!1!==e&&0===i&&r instanceof o&&8===r.byteLength)return r;var u=new l(8);return g(u,0,n,i),u.buffer}function f(e,t){var n=e&&e.length;return t|=0,n&&t+8<=n&&"string"!=typeof e[t]}function g(e,t,n,i){t|=0,i|=0;for(var l=0;l<8;l++)e[t++]=255&n[i++]}function m(e,t){return Array.prototype.slice.call(e,t,t+8)}function v(e,t,n){for(var i=t+8;i>t;)e[--i]=255&n,n/=256}function y(e,t,n){var i=t+8;for(n++;i>t;)e[--i]=255&-n^255,n/=256}function b(e,t,n){for(var i=t+8;t<i;)e[t++]=255&n,n/=256}function D(e,t,n){var i=t+8;for(n++;t<i;)e[t++]=255&-n^255,n/=256}c("Uint64BE",!0,!0),c("Int64BE",!0,!1),c("Uint64LE",!1,!0),c("Int64LE",!1,!1)}("string"!=typeof t.nodeName?t:this||{})},KFGy:function(e,t,n){var i=n("Vo14"),l=n("cpc2"),o=n("kSER"),r=n("2Dig"),u=n("QN7Q"),s=n("x7D4")("socket.io-client:socket"),a=n("TypT"),c=n("WLGk");e.exports=h;var p={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},d=l.prototype.emit;function h(e,t,n){this.io=e,this.nsp=t,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,this.flags={},n&&n.query&&(this.query=n.query),this.io.autoConnect&&this.open()}l(h.prototype),h.prototype.subEvents=function(){if(!this.subs){var e=this.io;this.subs=[r(e,"open",u(this,"onopen")),r(e,"packet",u(this,"onpacket")),r(e,"close",u(this,"onclose"))]}},h.prototype.open=h.prototype.connect=function(){return this.connected?this:(this.subEvents(),this.io.open(),"open"===this.io.readyState&&this.onopen(),this.emit("connecting"),this)},h.prototype.send=function(){var e=o(arguments);return e.unshift("message"),this.emit.apply(this,e),this},h.prototype.emit=function(e){if(p.hasOwnProperty(e))return d.apply(this,arguments),this;var t=o(arguments),n={type:(void 0!==this.flags.binary?this.flags.binary:c(t))?i.BINARY_EVENT:i.EVENT,data:t,options:{}};return n.options.compress=!this.flags||!1!==this.flags.compress,"function"==typeof t[t.length-1]&&(s("emitting packet with ack id %d",this.ids),this.acks[this.ids]=t.pop(),n.id=this.ids++),this.connected?this.packet(n):this.sendBuffer.push(n),this.flags={},this},h.prototype.packet=function(e){e.nsp=this.nsp,this.io.packet(e)},h.prototype.onopen=function(){if(s("transport is open - connecting"),"/"!==this.nsp)if(this.query){var e="object"==typeof this.query?a.encode(this.query):this.query;s("sending connect packet with query %s",e),this.packet({type:i.CONNECT,query:e})}else this.packet({type:i.CONNECT})},h.prototype.onclose=function(e){s("close (%s)",e),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",e)},h.prototype.onpacket=function(e){if(e.nsp===this.nsp||e.type===i.ERROR&&"/"===e.nsp)switch(e.type){case i.CONNECT:this.onconnect();break;case i.EVENT:case i.BINARY_EVENT:this.onevent(e);break;case i.ACK:case i.BINARY_ACK:this.onack(e);break;case i.DISCONNECT:this.ondisconnect();break;case i.ERROR:this.emit("error",e.data)}},h.prototype.onevent=function(e){var t=e.data||[];s("emitting event %j",t),null!=e.id&&(s("attaching ack callback to event"),t.push(this.ack(e.id))),this.connected?d.apply(this,t):this.receiveBuffer.push(t)},h.prototype.ack=function(e){var t=this,n=!1;return function(){if(!n){n=!0;var l=o(arguments);s("sending ack %j",l),t.packet({type:c(l)?i.BINARY_ACK:i.ACK,id:e,data:l})}}},h.prototype.onack=function(e){var t=this.acks[e.id];"function"==typeof t?(s("calling ack %s with %j",e.id,e.data),t.apply(this,e.data),delete this.acks[e.id]):s("bad ack %s",e.id)},h.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},h.prototype.emitBuffered=function(){var e;for(e=0;e<this.receiveBuffer.length;e++)d.apply(this,this.receiveBuffer[e]);for(this.receiveBuffer=[],e=0;e<this.sendBuffer.length;e++)this.packet(this.sendBuffer[e]);this.sendBuffer=[]},h.prototype.ondisconnect=function(){s("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},h.prototype.destroy=function(){if(this.subs){for(var e=0;e<this.subs.length;e++)this.subs[e].destroy();this.subs=null}this.io.destroy(this)},h.prototype.close=h.prototype.disconnect=function(){return this.connected&&(s("performing disconnect (%s)",this.nsp),this.packet({type:i.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},h.prototype.compress=function(e){return this.flags.compress=e,this},h.prototype.binary=function(e){return this.flags.binary=e,this}},LBXl:function(e,t,n){"use strict";function i(e){return Error.call(this),this.message=e?e.length+" errors occurred during unsubscription:\n"+e.map(function(e,t){return t+1+") "+e.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=e,this}i.prototype=Object.create(Error.prototype),t.UnsubscriptionError=i},MC6w:function(e,t,n){"use strict";var i,l=n("24jU");function o(){try{return i.apply(this,arguments)}catch(e){return l.errorObject.e=e,l.errorObject}}t.tryCatch=function(e){return i=e,o}},MkmW:function(e,t,n){"use strict";t.hostReportError=function(e){setTimeout(function(){throw e})}},Mxlh:function(e,t,n){"use strict";function i(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}i.prototype=Object.create(Error.prototype),t.ObjectUnsubscribedError=i},NTcF:function(e,t,n){var i=n("mrSG").__extends,l=n("ffpz");t.AsyncScheduler=function(e){function t(n,i){void 0===i&&(i=l.Scheduler.now);var o=e.call(this,n,function(){return t.delegate&&t.delegate!==o?t.delegate.now():i()})||this;return o.actions=[],o.active=!1,o.scheduled=void 0,o}return i(t,e),t.prototype.schedule=function(n,i,l){return void 0===i&&(i=0),t.delegate&&t.delegate!==this?t.delegate.schedule(n,i,l):e.prototype.schedule.call(this,n,i,l)},t.prototype.flush=function(e){var t=this.actions;if(this.active)t.push(e);else{var n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}},t}(l.Scheduler)},Nq7k:function(e,t,n){function i(e){var n;function i(){if(i.enabled){var e=i,l=+new Date;e.diff=l-(n||l),e.prev=n,e.curr=l,n=l;for(var o=new Array(arguments.length),r=0;r<o.length;r++)o[r]=arguments[r];o[0]=t.coerce(o[0]),"string"!=typeof o[0]&&o.unshift("%O");var u=0;o[0]=o[0].replace(/%([a-zA-Z%])/g,function(n,i){if("%%"===n)return n;u++;var l=t.formatters[i];return"function"==typeof l&&(n=l.call(e,o[u]),o.splice(u,1),u--),n}),t.formatArgs.call(e,o),(i.log||t.log||console.log.bind(console)).apply(e,o)}}return i.namespace=e,i.enabled=t.enabled(e),i.useColors=t.useColors(),i.color=function(e){var n,i=0;for(n in e)i=(i<<5)-i+e.charCodeAt(n),i|=0;return t.colors[Math.abs(i)%t.colors.length]}(e),i.destroy=l,"function"==typeof t.init&&t.init(i),t.instances.push(i),i}function l(){var e=t.instances.indexOf(this);return-1!==e&&(t.instances.splice(e,1),!0)}(t=e.exports=i.debug=i.default=i).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable("")},t.enable=function(e){var n;t.save(e),t.names=[],t.skips=[];var i=("string"==typeof e?e:"").split(/[\s,]+/),l=i.length;for(n=0;n<l;n++)i[n]&&("-"===(e=i[n].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")));for(n=0;n<t.instances.length;n++){var o=t.instances[n];o.enabled=t.enabled(o.namespace)}},t.enabled=function(e){if("*"===e[e.length-1])return!0;var n,i;for(n=0,i=t.skips.length;n<i;n++)if(t.skips[n].test(e))return!1;for(n=0,i=t.names.length;n<i;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n("uDUn"),t.instances=[],t.names=[],t.skips=[],t.formatters={}},OAkW:function(e,t,n){"use strict";t.subscribeToArray=function(e){return function(t){for(var n=0,i=e.length;n<i&&!t.closed;n++)t.next(e[n]);t.closed||t.complete()}}},PrVB:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("ENPf"),l=n("ENPf"),o=n("Gyns").byEbmlID;t.default=function(){function e(){this._schema=o,this._buffers=[],this._stack=[]}return e.prototype.encode=function(e){var t=this;return i.concat(e.reduce(function(e,n){return e.concat(t.encodeChunk(n))},[])).buffer},e.prototype.encodeChunk=function(e){return"m"===e.type?e.isEnd?this.endTag(e):this.startTag(e):this.writeTag(e),this.flush()},e.prototype.flush=function(){var e=this._buffers;return this._buffers=[],e},e.prototype.getSchemaInfo=function(e){for(var t=Object.keys(this._schema).map(Number),n=0;n<t.length;n++){var i=t[n];if(this._schema[i].name===e)return new l.Buffer(i.toString(16),"hex")}return null},e.prototype.writeTag=function(e){var t=e.name,n=this.getSchemaInfo(t),l=e.data;if(null==n)throw new Error("No schema entry found for "+t);var o=i.encodeTag(n,l);this._stack.length>0?this._stack[this._stack.length-1].children.push({tagId:n,elm:e,children:[],data:o}):this._buffers=this._buffers.concat(o)},e.prototype.startTag=function(e){var t=e.name,n=this.getSchemaInfo(t);if(null==n)throw new Error("No schema entry found for "+t);if(e.unknownSize){var o=i.encodeTag(n,new l.Buffer(0),e.unknownSize);this._buffers=this._buffers.concat(o)}else{var r={tagId:n,elm:e,children:[],data:null};this._stack.length>0&&this._stack[this._stack.length-1].children.push(r),this._stack.push(r)}},e.prototype.endTag=function(e){var t=this._stack.pop();if(null==t)throw new Error("EBML structure is broken");if(t.elm.name!==e.name)throw new Error("EBML structure is broken");var n=t.children.reduce(function(e,t){if(null===t.data)throw new Error("EBML structure is broken");return e.concat(t.data)},[]),l=i.concat(n);t.data="m"===t.elm.type?i.encodeTag(t.tagId,l,t.elm.unknownSize):i.encodeTag(t.tagId,l),this._stack.length<1&&(this._buffers=this._buffers.concat(t.data))},e}()},Q1FS:function(e,t,n){"use strict";var i=n("yx2s"),l=n("Xwq/"),o=n("zfKp"),r=n("9AGB"),u=n("n3uD");function s(e){if(e||(e=u.config.Promise||Promise),!e)throw new Error("no Promise impl found");return e}t.Observable=function(){function e(e){this._isScalar=!1,e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var i=this.operator,o=l.toSubscriber(e,t,n);if(i?i.call(o,this.source):o.add(this.source||u.config.useDeprecatedSynchronousErrorHandling&&!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),u.config.useDeprecatedSynchronousErrorHandling&&o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){u.config.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),i.canReportError(e)?e.error(t):console.warn(t)}},e.prototype.forEach=function(e,t){var n=this;return new(t=s(t))(function(t,i){var l;l=n.subscribe(function(t){try{e(t)}catch(n){i(n),l&&l.unsubscribe()}},i,t)})},e.prototype._subscribe=function(e){var t=this.source;return t&&t.subscribe(e)},e.prototype[o.observable]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 0===e.length?this:r.pipeFromArray(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=s(e))(function(e,n){var i;t.subscribe(function(e){return i=e},function(e){return n(e)},function(){return e(i)})})},e.create=function(t){return new e(t)},e}()},Q80o:function(e,t,n){function i(e){var n;function i(){if(i.enabled){var e=i,l=+new Date;e.diff=l-(n||l),e.prev=n,e.curr=l,n=l;for(var o=new Array(arguments.length),r=0;r<o.length;r++)o[r]=arguments[r];o[0]=t.coerce(o[0]),"string"!=typeof o[0]&&o.unshift("%O");var u=0;o[0]=o[0].replace(/%([a-zA-Z%])/g,function(n,i){if("%%"===n)return n;u++;var l=t.formatters[i];return"function"==typeof l&&(n=l.call(e,o[u]),o.splice(u,1),u--),n}),t.formatArgs.call(e,o),(i.log||t.log||console.log.bind(console)).apply(e,o)}}return i.namespace=e,i.enabled=t.enabled(e),i.useColors=t.useColors(),i.color=function(e){var n,i=0;for(n in e)i=(i<<5)-i+e.charCodeAt(n),i|=0;return t.colors[Math.abs(i)%t.colors.length]}(e),i.destroy=l,"function"==typeof t.init&&t.init(i),t.instances.push(i),i}function l(){var e=t.instances.indexOf(this);return-1!==e&&(t.instances.splice(e,1),!0)}(t=e.exports=i.debug=i.default=i).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable("")},t.enable=function(e){var n;t.save(e),t.names=[],t.skips=[];var i=("string"==typeof e?e:"").split(/[\s,]+/),l=i.length;for(n=0;n<l;n++)i[n]&&("-"===(e=i[n].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")));for(n=0;n<t.instances.length;n++){var o=t.instances[n];o.enabled=t.enabled(o.namespace)}},t.enabled=function(e){if("*"===e[e.length-1])return!0;var n,i;for(n=0,i=t.skips.length;n<i;n++)if(t.skips[n].test(e))return!1;for(n=0,i=t.names.length;n<i;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n("5LH7"),t.instances=[],t.names=[],t.skips=[],t.formatters={}},QN7Q:function(e,t){var n=[].slice;e.exports=function(e,t){if("string"==typeof t&&(t=e[t]),"function"!=typeof t)throw new Error("bind() requires a function");var i=n.call(arguments,2);return function(){return t.apply(e,i.concat(n.call(arguments)))}}},TypT:function(e,t){t.encode=function(e){var t="";for(var n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t},t.decode=function(e){for(var t={},n=e.split("&"),i=0,l=n.length;i<l;i++){var o=n[i].split("=");t[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return t}},USoT:function(e,t,n){var i=n("mrSG").__extends;Object.defineProperty(t,"__esModule",{value:!0});var l=n("+qE3"),o=n("ENPf");t.default=function(e){function t(){var t=e.call(this)||this;return t.logGroup="",t.hasLoggingStarted=!1,t.metadataloaded=!1,t.chunks=[],t.stack=[],t.segmentOffset=0,t.last2SimpleBlockVideoTrackTimecode=[0,0],t.last2SimpleBlockAudioTrackTimecode=[0,0],t.lastClusterTimecode=0,t.lastClusterPosition=0,t.timecodeScale=1e6,t.metadataSize=0,t.metadatas=[],t.cues=[],t.firstVideoBlockRead=!1,t.firstAudioBlockRead=!1,t.currentTrack={TrackNumber:-1,TrackType:-1,DefaultDuration:null,CodecDelay:null},t.trackTypes=[],t.trackDefaultDuration=[],t.trackCodecDelay=[],t.trackInfo={type:"nothing"},t.ended=!1,t.logging=!1,t.use_duration_every_simpleblock=!1,t.use_webp=!1,t.use_segment_info=!0,t.drop_default_duration=!0,t}return i(t,e),t.prototype.stop=function(){for(this.ended=!0,this.emit_segment_info();this.stack.length;)this.stack.pop(),this.logging&&console.groupEnd();this.logging&&this.hasLoggingStarted&&this.logGroup&&console.groupEnd()},t.prototype.emit_segment_info=function(){var e=this.chunks;if(this.chunks=[],this.metadataloaded){if(!this.use_segment_info)return;var t=this.duration,n=this.timecodeScale;this.emit("cluster",{timecode:this.lastClusterTimecode,data:e}),this.emit("duration",{timecodeScale:n,duration:t})}else{this.metadataloaded=!0,this.metadatas=e;var i=this.trackTypes.indexOf(1),l=this.trackTypes.indexOf(2);if(this.trackInfo=i>=0&&l>=0?{type:"both",trackNumber:i}:i>=0?{type:"video",trackNumber:i}:l>=0?{type:"audio",trackNumber:l}:{type:"nothing"},!this.use_segment_info)return;this.emit("metadata",{data:e,metadataSize:this.metadataSize})}},t.prototype.read=function(e){var t=this,n=!1;if(!this.ended){if("m"===e.type)if(e.isEnd)this.stack.pop();else{var i=this.stack[this.stack.length-1];if(null!=i&&i.level>=e.level){this.stack.pop(),this.logging&&console.groupEnd(),i.dataEnd=e.dataEnd,i.dataSize=e.dataEnd-i.dataStart,i.unknownSize=!1;var l=Object.assign({},i,{name:i.name,type:i.type,isEnd:!0});this.chunks.push(l)}this.stack.push(e)}if("m"===e.type&&"Segment"==e.name)0!=this.segmentOffset&&console.warn("Multiple segments detected!"),this.segmentOffset=e.dataStart,this.emit("segment_offset",this.segmentOffset);else if("b"===e.type&&"SimpleBlock"===e.name){var r=o.ebmlBlock(e.data),u=r.timecode,s=r.trackNumber,a=r.frames;if(1===this.trackTypes[s])this.firstVideoBlockRead||(this.firstVideoBlockRead=!0,("both"===this.trackInfo.type||"video"===this.trackInfo.type)&&(this.cues.push({CueTrack:s,CueClusterPosition:this.lastClusterPosition,CueTime:c=this.lastClusterTimecode+u}),this.emit("cue_info",{CueTrack:s,CueClusterPosition:this.lastClusterPosition,CueTime:this.lastClusterTimecode}),this.emit("cue",{CueTrack:s,CueClusterPosition:this.lastClusterPosition,CueTime:c}))),this.last2SimpleBlockVideoTrackTimecode=[this.last2SimpleBlockVideoTrackTimecode[1],u];else if(2===this.trackTypes[s]){var c;this.firstAudioBlockRead||(this.firstAudioBlockRead=!0,"audio"===this.trackInfo.type&&(this.cues.push({CueTrack:s,CueClusterPosition:this.lastClusterPosition,CueTime:c=this.lastClusterTimecode+u}),this.emit("cue_info",{CueTrack:s,CueClusterPosition:this.lastClusterPosition,CueTime:this.lastClusterTimecode}),this.emit("cue",{CueTrack:s,CueClusterPosition:this.lastClusterPosition,CueTime:c}))),this.last2SimpleBlockAudioTrackTimecode=[this.last2SimpleBlockAudioTrackTimecode[1],u]}this.use_duration_every_simpleblock&&this.emit("duration",{timecodeScale:this.timecodeScale,duration:this.duration}),this.use_webp&&a.forEach(function(e){if("9d012a"===e.slice(3,6).toString("hex")){var n=o.VP8BitStreamToRiffWebPBuffer(e),i=new Blob([n],{type:"image/webp"});t.emit("webp",{currentTime:t.duration,webp:i})}})}else"m"===e.type&&"Cluster"===e.name&&!1===e.isEnd?(this.firstVideoBlockRead=!1,this.firstAudioBlockRead=!1,this.emit_segment_info(),this.emit("cluster_ptr",e.tagStart),this.lastClusterPosition=e.tagStart):"u"===e.type&&"Timecode"===e.name?this.lastClusterTimecode=e.value:"u"===e.type&&"TimecodeScale"===e.name?this.timecodeScale=e.value:"m"===e.type&&"TrackEntry"===e.name?e.isEnd?(this.trackTypes[this.currentTrack.TrackNumber]=this.currentTrack.TrackType,this.trackDefaultDuration[this.currentTrack.TrackNumber]=this.currentTrack.DefaultDuration,this.trackCodecDelay[this.currentTrack.TrackNumber]=this.currentTrack.CodecDelay):this.currentTrack={TrackNumber:-1,TrackType:-1,DefaultDuration:null,CodecDelay:null}:"u"===e.type&&"TrackType"===e.name?this.currentTrack.TrackType=e.value:"u"===e.type&&"TrackNumber"===e.name?this.currentTrack.TrackNumber=e.value:"u"===e.type&&"CodecDelay"===e.name?this.currentTrack.CodecDelay=e.value:"u"===e.type&&"DefaultDuration"===e.name?this.drop_default_duration?(console.warn("DefaultDuration detected!, remove it"),n=!0):this.currentTrack.DefaultDuration=e.value:"unknown"===e.name&&console.warn(e);!this.metadataloaded&&e.dataEnd>0&&(this.metadataSize=e.dataEnd),n||this.chunks.push(e),this.logging&&this.put(e)}},Object.defineProperty(t.prototype,"duration",{get:function(){if("nothing"===this.trackInfo.type)return console.warn("no video, no audio track"),0;var e=0,t=0,n=0,i=this.trackDefaultDuration[this.trackInfo.trackNumber];if("number"==typeof i)e=i;else if("both"===this.trackInfo.type)this.last2SimpleBlockAudioTrackTimecode[1]>this.last2SimpleBlockVideoTrackTimecode[1]?(e=(this.last2SimpleBlockAudioTrackTimecode[1]-this.last2SimpleBlockAudioTrackTimecode[0])*this.timecodeScale,"number"==typeof(l=this.trackCodecDelay[this.trackTypes.indexOf(2)])&&(t=l),n=this.last2SimpleBlockAudioTrackTimecode[1]):(e=(this.last2SimpleBlockVideoTrackTimecode[1]-this.last2SimpleBlockVideoTrackTimecode[0])*this.timecodeScale,"number"==typeof(l=this.trackCodecDelay[this.trackTypes.indexOf(1)])&&(t=l),n=this.last2SimpleBlockVideoTrackTimecode[1]);else if("video"===this.trackInfo.type)e=(this.last2SimpleBlockVideoTrackTimecode[1]-this.last2SimpleBlockVideoTrackTimecode[0])*this.timecodeScale,"number"==typeof(l=this.trackCodecDelay[this.trackInfo.trackNumber])&&(t=l),n=this.last2SimpleBlockVideoTrackTimecode[1];else if("audio"===this.trackInfo.type){var l;e=(this.last2SimpleBlockAudioTrackTimecode[1]-this.last2SimpleBlockAudioTrackTimecode[0])*this.timecodeScale,"number"==typeof(l=this.trackCodecDelay[this.trackInfo.trackNumber])&&(t=l),n=this.last2SimpleBlockAudioTrackTimecode[1]}return Math.floor(((this.lastClusterTimecode+n)*this.timecodeScale+e-t)/this.timecodeScale)},enumerable:!0,configurable:!0}),t.prototype.addListener=function(t,n){return e.prototype.addListener.call(this,t,n)},t.prototype.put=function(e){this.hasLoggingStarted||(this.hasLoggingStarted=!0,this.logging&&this.logGroup&&console.groupCollapsed(this.logGroup)),"m"===e.type?e.isEnd?console.groupEnd():console.group(e.name+":"+e.tagStart):"b"===e.type?console.log(e.name,e.type):console.log(e.name,e.tagStart,e.type,e.value)},t}(l.EventEmitter)},Uxeu:function(e,t){var n=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,i=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];e.exports=function(e){var t=e,l=e.indexOf("["),o=e.indexOf("]");-1!=l&&-1!=o&&(e=e.substring(0,l)+e.substring(l,o).replace(/:/g,";")+e.substring(o,e.length));for(var r=n.exec(e||""),u={},s=14;s--;)u[i[s]]=r[s]||"";return-1!=l&&-1!=o&&(u.source=t,u.host=u.host.substring(1,u.host.length-1).replace(/;/g,":"),u.authority=u.authority.replace("[","").replace("]","").replace(/;/g,":"),u.ipv6uri=!0),u}},VKeD:function(e,t,n){"use strict";function i(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}t.getSymbolIterator=i,t.iterator=i(),t.$$iterator=t.iterator},VYWT:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("4dtt");t.Decoder=i.default;var l=n("PrVB");t.Encoder=l.default;var o=n("USoT");t.Reader=o.default;var r=n("ENPf");t.tools=r;var u=n("Z8AL").version;t.version=u},Vi6O:function(e,t,n){var i=n("mrSG").__extends;t.InnerSubscriber=function(e){function t(t,n,i){var l=e.call(this)||this;return l.parent=t,l.outerValue=n,l.outerIndex=i,l.index=0,l}return i(t,e),t.prototype._next=function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)},t.prototype._error=function(e){this.parent.notifyError(e,this),this.unsubscribe()},t.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},t}(n("FWf1").Subscriber)},Vo14:function(e,t,n){var i=n("5M3R")("socket.io-parser"),l=n("cpc2"),o=n("cD5x"),r=n("ojuT"),u=n("+SKG");function s(){}t.protocol=4,t.types=["CONNECT","DISCONNECT","EVENT","ACK","ERROR","BINARY_EVENT","BINARY_ACK"],t.CONNECT=0,t.DISCONNECT=1,t.EVENT=2,t.ACK=3,t.ERROR=4,t.BINARY_EVENT=5,t.BINARY_ACK=6,t.Encoder=s,t.Decoder=p;var a=t.ERROR+'"encode error"';function c(e){var n=""+e.type;if(t.BINARY_EVENT!==e.type&&t.BINARY_ACK!==e.type||(n+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(n+=e.nsp+","),null!=e.id&&(n+=e.id),null!=e.data){var l=function(e){try{return JSON.stringify(e)}catch(t){return!1}}(e.data);if(!1===l)return a;n+=l}return i("encoded %j as %s",e,n),n}function p(){this.reconstructor=null}function d(e){this.reconPack=e,this.buffers=[]}function h(e){return{type:t.ERROR,data:"parser error: "+e}}s.prototype.encode=function(e,n){i("encoding packet %j",e),t.BINARY_EVENT===e.type||t.BINARY_ACK===e.type?function(e,t){o.removeBlobs(e,function(e){var n=o.deconstructPacket(e),i=c(n.packet),l=n.buffers;l.unshift(i),t(l)})}(e,n):n([c(e)])},l(p.prototype),p.prototype.add=function(e){var n;if("string"==typeof e)n=function(e){var n=0,l={type:Number(e.charAt(0))};if(null==t.types[l.type])return h("unknown packet type "+l.type);if(t.BINARY_EVENT===l.type||t.BINARY_ACK===l.type){for(var o="";"-"!==e.charAt(++n)&&(o+=e.charAt(n),n!=e.length););if(o!=Number(o)||"-"!==e.charAt(n))throw new Error("Illegal attachments");l.attachments=Number(o)}if("/"===e.charAt(n+1))for(l.nsp="";++n&&","!==(s=e.charAt(n))&&(l.nsp+=s,n!==e.length););else l.nsp="/";var u=e.charAt(n+1);if(""!==u&&Number(u)==u){for(l.id="";++n;){var s;if(null==(s=e.charAt(n))||Number(s)!=s){--n;break}if(l.id+=e.charAt(n),n===e.length)break}l.id=Number(l.id)}if(e.charAt(++n)){var a=function(e){try{return JSON.parse(e)}catch(t){return!1}}(e.substr(n));if(!1===a||l.type!==t.ERROR&&!r(a))return h("invalid payload");l.data=a}return i("decoded %s as %j",e,l),l}(e),t.BINARY_EVENT===n.type||t.BINARY_ACK===n.type?(this.reconstructor=new d(n),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",n)):this.emit("decoded",n);else{if(!u(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");(n=this.reconstructor.takeBinaryData(e))&&(this.reconstructor=null,this.emit("decoded",n))}},p.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},d.prototype.takeBinaryData=function(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){var t=o.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null},d.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},WLGk:function(e,t,n){var i=n("6C75"),l=Object.prototype.toString,o="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===l.call(Blob),r="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===l.call(File);e.exports=function e(t){if(!t||"object"!=typeof t)return!1;if(i(t)){for(var n=0,l=t.length;n<l;n++)if(e(t[n]))return!0;return!1}if("function"==typeof Buffer&&Buffer.isBuffer&&Buffer.isBuffer(t)||"function"==typeof ArrayBuffer&&t instanceof ArrayBuffer||o&&t instanceof Blob||r&&t instanceof File)return!0;if(t.toJSON&&"function"==typeof t.toJSON&&1===arguments.length)return e(t.toJSON(),!0);for(var u in t)if(Object.prototype.hasOwnProperty.call(t,u)&&e(t[u]))return!0;return!1}},WiHW:function(e,t){var n=1e3,i=6e4,l=36e5,o=24*l;function r(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}e.exports=function(e,t){t=t||{};var u,s=typeof e;if("string"===s&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var r=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*r;case"days":case"day":case"d":return r*o;case"hours":case"hour":case"hrs":case"hr":case"h":return r*l;case"minutes":case"minute":case"mins":case"min":case"m":return r*i;case"seconds":case"second":case"secs":case"sec":case"s":return r*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}(e);if("number"===s&&!1===isNaN(e))return t.long?r(u=e,o,"day")||r(u,l,"hour")||r(u,i,"minute")||r(u,n,"second")||u+" ms":function(e){return e>=o?Math.round(e/o)+"d":e>=l?Math.round(e/l)+"h":e>=i?Math.round(e/i)+"m":e>=n?Math.round(e/n)+"s":e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},Wm4p:function(e,t,n){var i,l=n("dkv/"),o=n("WLGk"),r=n("ypnn"),u=n("zMFY"),s=n("oIG/");"undefined"!=typeof ArrayBuffer&&(i=n("g5Dd"));var a="undefined"!=typeof navigator&&/Android/i.test(navigator.userAgent),c="undefined"!=typeof navigator&&/PhantomJS/i.test(navigator.userAgent),p=a||c;t.protocol=3;var d=t.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},h=l(d),f={type:"error",data:"parser error"},g=n("14A5");function m(e,t,n){for(var i=new Array(e.length),l=u(e.length,n),o=function(e,n,l){t(n,function(t,n){i[e]=n,l(t,i)})},r=0;r<e.length;r++)o(r,e[r],l)}t.encodePacket=function(e,n,i,l){"function"==typeof n&&(l=n,n=!1),"function"==typeof i&&(l=i,i=null);var o=void 0===e.data?void 0:e.data.buffer||e.data;if("undefined"!=typeof ArrayBuffer&&o instanceof ArrayBuffer)return function(e,n,i){if(!n)return t.encodeBase64Packet(e,i);var l=e.data,o=new Uint8Array(l),r=new Uint8Array(1+l.byteLength);r[0]=d[e.type];for(var u=0;u<o.length;u++)r[u+1]=o[u];return i(r.buffer)}(e,n,l);if(void 0!==g&&o instanceof g)return function(e,n,i){if(!n)return t.encodeBase64Packet(e,i);if(p)return function(e,n,i){if(!n)return t.encodeBase64Packet(e,i);var l=new FileReader;return l.onload=function(){t.encodePacket({type:e.type,data:l.result},n,!0,i)},l.readAsArrayBuffer(e.data)}(e,n,i);var l=new Uint8Array(1);return l[0]=d[e.type],i(new g([l.buffer,e.data]))}(e,n,l);if(o&&o.base64)return function(e,n){return n("b"+t.packets[e.type]+e.data.data)}(e,l);var r=d[e.type];return void 0!==e.data&&(r+=i?s.encode(String(e.data),{strict:!1}):String(e.data)),l(""+r)},t.encodeBase64Packet=function(e,n){var i,l="b"+t.packets[e.type];if(void 0!==g&&e.data instanceof g){var o=new FileReader;return o.onload=function(){var e=o.result.split(",")[1];n(l+e)},o.readAsDataURL(e.data)}try{i=String.fromCharCode.apply(null,new Uint8Array(e.data))}catch(a){for(var r=new Uint8Array(e.data),u=new Array(r.length),s=0;s<r.length;s++)u[s]=r[s];i=String.fromCharCode.apply(null,u)}return l+=btoa(i),n(l)},t.decodePacket=function(e,n,i){if(void 0===e)return f;if("string"==typeof e){if("b"===e.charAt(0))return t.decodeBase64Packet(e.substr(1),n);if(i&&!1===(e=function(e){try{e=s.decode(e,{strict:!1})}catch(t){return!1}return e}(e)))return f;var l=e.charAt(0);return Number(l)==l&&h[l]?e.length>1?{type:h[l],data:e.substring(1)}:{type:h[l]}:f}l=new Uint8Array(e)[0];var o=r(e,1);return g&&"blob"===n&&(o=new g([o])),{type:h[l],data:o}},t.decodeBase64Packet=function(e,t){var n=h[e.charAt(0)];if(!i)return{type:n,data:{base64:!0,data:e.substr(1)}};var l=i.decode(e.substr(1));return"blob"===t&&g&&(l=new g([l])),{type:n,data:l}},t.encodePayload=function(e,n,i){"function"==typeof n&&(i=n,n=null);var l=o(e);return n&&l?g&&!p?t.encodePayloadAsBlob(e,i):t.encodePayloadAsArrayBuffer(e,i):e.length?void m(e,function(e,i){t.encodePacket(e,!!l&&n,!1,function(e){i(null,function(e){return e.length+":"+e}(e))})},function(e,t){return i(t.join(""))}):i("0:")},t.decodePayload=function(e,n,i){if("string"!=typeof e)return t.decodePayloadAsBinary(e,n,i);var l;if("function"==typeof n&&(i=n,n=null),""===e)return i(f,0,1);for(var o,r,u="",s=0,a=e.length;s<a;s++){var c=e.charAt(s);if(":"===c){if(""===u||u!=(o=Number(u)))return i(f,0,1);if(u!=(r=e.substr(s+1,o)).length)return i(f,0,1);if(r.length){if(l=t.decodePacket(r,n,!1),f.type===l.type&&f.data===l.data)return i(f,0,1);if(!1===i(l,s+o,a))return}s+=o,u=""}else u+=c}return""!==u?i(f,0,1):void 0},t.encodePayloadAsArrayBuffer=function(e,n){if(!e.length)return n(new ArrayBuffer(0));m(e,function(e,n){t.encodePacket(e,!0,!0,function(e){return n(null,e)})},function(e,t){var i=t.reduce(function(e,t){var n;return e+(n="string"==typeof t?t.length:t.byteLength).toString().length+n+2},0),l=new Uint8Array(i),o=0;return t.forEach(function(e){var t="string"==typeof e,n=e;if(t){for(var i=new Uint8Array(e.length),r=0;r<e.length;r++)i[r]=e.charCodeAt(r);n=i.buffer}l[o++]=t?0:1;var u=n.byteLength.toString();for(r=0;r<u.length;r++)l[o++]=parseInt(u[r]);for(l[o++]=255,i=new Uint8Array(n),r=0;r<i.length;r++)l[o++]=i[r]}),n(l.buffer)})},t.encodePayloadAsBlob=function(e,n){m(e,function(e,n){t.encodePacket(e,!0,!0,function(e){var t=new Uint8Array(1);if(t[0]=1,"string"==typeof e){for(var i=new Uint8Array(e.length),l=0;l<e.length;l++)i[l]=e.charCodeAt(l);e=i.buffer,t[0]=0}var o=(e instanceof ArrayBuffer?e.byteLength:e.size).toString(),r=new Uint8Array(o.length+1);for(l=0;l<o.length;l++)r[l]=parseInt(o[l]);if(r[o.length]=255,g){var u=new g([t.buffer,r.buffer,e]);n(null,u)}})},function(e,t){return n(new g(t))})},t.decodePayloadAsBinary=function(e,n,i){"function"==typeof n&&(i=n,n=null);for(var l=e,o=[];l.byteLength>0;){for(var u=new Uint8Array(l),s=0===u[0],a="",c=1;255!==u[c];c++){if(a.length>310)return i(f,0,1);a+=u[c]}l=r(l,2+a.length),a=parseInt(a);var p=r(l,0,a);if(s)try{p=String.fromCharCode.apply(null,new Uint8Array(p))}catch(g){var d=new Uint8Array(p);for(p="",c=0;c<d.length;c++)p+=String.fromCharCode(d[c])}o.push(p),l=r(l,a)}var h=o.length;o.forEach(function(e,l){i(t.decodePacket(e,n,!0),l,h)})}},"Xwq/":function(e,t,n){"use strict";var i=n("FWf1"),l=n("p//D"),o=n("GiSu");t.toSubscriber=function(e,t,n){if(e){if(e instanceof i.Subscriber)return e;if(e[l.rxSubscriber])return e[l.rxSubscriber]()}return e||t||n?new i.Subscriber(e,t,n):new i.Subscriber(o.empty)}},Y4kR:function(e,t,n){var i=n("mrSG").__extends;t.OuterSubscriber=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.notifyNext=function(e,t,n,i,l){this.destination.next(t)},t.prototype.notifyError=function(e,t){this.destination.error(e)},t.prototype.notifyComplete=function(e){this.destination.complete()},t}(n("FWf1").Subscriber)},Yvos:function(e,t){e.exports=function(e,t){var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},Z5tI:function(e,t,n){"use strict";var i=n("MkmW");t.subscribeToPromise=function(e){return function(t){return e.then(function(e){t.closed||(t.next(e),t.complete())},function(e){return t.error(e)}).then(null,i.hostReportError),t}}},Z8AL:function(e){e.exports={name:"ts-ebml",version:"2.0.2",description:"ebml decoder and encoder",scripts:{setup:"npm install -g http-server;",init:"npm run update; npm run mkdir; npm run build",update:"npm run reset; npm update",reset:"rm -rf node_modules",mkdir:"mkdir lib dist 2>/dev/null",clean:"rm -rf lib/* dist/* test/*.js; mkdir -p dist",build:"npm run clean   && tsc    -p .; npm run browserify",start:"http-server . -s & tsc -w -p .& watchify lib/example_seekable.js -o test/example_seekable.js",stop:"killall -- node */tsc -w -p",browserify:"browserify lib/index.js --standalone EBML -o dist/EBML.js",watchify:"watchify lib/index.js --standalone EBML -o dist/EBMl.js -v",test:"tsc; espower lib/test.js > lib/test.tmp; mv -f lib/test.tmp lib/test.js; browserify lib/test.js -o test/test.js",example:"tsc; browserify lib/example_seekable.js -o test/example_seekable.js",examples:"tsc; for file in `find lib -name 'example_*.js' -type f -printf '%f\\n'`; do browserify lib/$file -o test/$file; done",examples_bsd:"tsc; for file in `find lib -name 'example_*.js' -type f -print`; do browserify lib/$(basename $file) -o test/$(basename $file); done",check:"tsc -w --noEmit -p ./",lint:"tslint -c ./tslint.json --project ./tsconfig.json --type-check",doc:"typedoc --mode modules --out doc --disableOutputCheck"},repository:{type:"git",url:"git+https://github.com/legokichi/ts-ebml.git"},keywords:["ebml","webm","mkv","matrosika","webp"],author:"legokichi duckscallion",license:"MIT",bugs:{url:"https://github.com/legokichi/ts-ebml/issues"},homepage:"https://github.com/legokichi/ts-ebml#readme",dependencies:{buffer:"^5.0.7",commander:"^2.11.0",ebml:"^2.2.1","ebml-block":"^1.1.0",events:"^1.1.1","int64-buffer":"^0.1.9",matroska:"^2.2.3"},devDependencies:{"@types/commander":"^2.9.1","@types/qunit":"^2.0.31",browserify:"^13.1.0",empower:"^1.2.3","espower-cli":"^1.1.0","power-assert":"^1.4.4","power-assert-formatter":"^1.4.1","qunit-tap":"^1.5.1",qunitjs:"^2.4.0",tslint:"^3.15.1",typedoc:"^0.5.3",typescript:"^2.4.2",watchify:"^3.7.0"},bin:"./lib/cli.js",main:"./lib/index.js",typings:"./lib/index.d.ts"}},ZsMB:function(e,t,n){var i=n("gQQf");e.exports=function(e){var t={},n=new i(e);t.trackNumber=n.nextUIntV(),t.timecode=n.nextInt16BE();var l=n.nextUInt8();return t.invisible=!!(8&l),t.keyframe=!!(128&l),t.discardable=!!(1&l),t.frames=function(e,t){if(!t)return[e.nextBuffer()];var n,i,l=[],o=e.nextUInt8()+1;if(2===t){if(e.length%o!=0)throw new Error("Fixed-Size Lacing Error");for(i=e.length/o,n=0;n<o;n++)l.push(e.nextBuffer(i));return l}var r=[];if(1===t)for(n=0;n<o-1;n++){var u;i=0;do{i+=u=e.nextUInt8()}while(255===u);r.push(i)}else if(3===t)for(i=e.nextUIntV(),r.push(i),n=1;n<o-1;n++)i+=e.nextIntV(),r.push(i);for(n=0;n<o-1;n++)l.push(e.nextBuffer(r[n]));return l.push(e.nextBuffer()),l}(n,(6&l)>>1),t}},akSB:function(e,t,n){var i=n("AdPF"),l=n("0z79"),o=n("Cl5A"),r=n("CIKq");t.polling=function(e){var t=!1,n=!1,r=!1!==e.jsonp;if(global.location){var u="https:"===location.protocol,s=location.port;s||(s=u?443:80),t=e.hostname!==location.hostname||s!==e.port,n=e.secure!==u}if(e.xdomain=t,e.xscheme=n,"open"in new i(e)&&!e.forceJSONP)return new l(e);if(!r)throw new Error("JSONP disabled");return new o(e)},t.websocket=r},cD5x:function(e,t,n){var i=n("ojuT"),l=n("+SKG"),o=Object.prototype.toString,r="function"==typeof global.Blob||"[object BlobConstructor]"===o.call(global.Blob),u="function"==typeof global.File||"[object FileConstructor]"===o.call(global.File);t.deconstructPacket=function(e){var t=[],n=e;return n.data=function e(t,n){if(!t)return t;if(l(t)){var o={_placeholder:!0,num:n.length};return n.push(t),o}if(i(t)){for(var r=new Array(t.length),u=0;u<t.length;u++)r[u]=e(t[u],n);return r}if("object"==typeof t&&!(t instanceof Date)){for(var s in r={},t)r[s]=e(t[s],n);return r}return t}(e.data,t),n.attachments=t.length,{packet:n,buffers:t}},t.reconstructPacket=function(e,t){return e.data=function e(t,n){if(!t)return t;if(t&&t._placeholder)return n[t.num];if(i(t))for(var l=0;l<t.length;l++)t[l]=e(t[l],n);else if("object"==typeof t)for(var o in t)t[o]=e(t[o],n);return t}(e.data,t),e.attachments=void 0,e},t.removeBlobs=function(e,t){var n=0,o=e;!function e(s,a,c){if(!s)return s;if(r&&s instanceof Blob||u&&s instanceof File){n++;var p=new FileReader;p.onload=function(){c?c[a]=this.result:o=this.result,--n||t(o)},p.readAsArrayBuffer(s)}else if(i(s))for(var d=0;d<s.length;d++)e(s[d],d,s);else if("object"==typeof s&&!l(s))for(var h in s)e(s[h],h,s)}(o),n||t(o)}},cSoz:function(e,t,n){"use strict";var i=n("Vi6O"),l=n("6qA3");t.subscribeToResult=function(e,t,n,o,r){if(void 0===r&&(r=new i.InnerSubscriber(e,n,o)),!r.closed)return l.subscribeTo(t)(r)}},cpc2:function(e,t,n){function i(e){if(e)return function(e){for(var t in i.prototype)e[t]=i.prototype[t];return e}(e)}e.exports=i,i.prototype.on=i.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},i.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},i.prototype.off=i.prototype.removeListener=i.prototype.removeAllListeners=i.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,i=this._callbacks["$"+e];if(!i)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var l=0;l<i.length;l++)if((n=i[l])===t||n.fn===t){i.splice(l,1);break}return this},i.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks["$"+e];if(n)for(var i=0,l=(n=n.slice(0)).length;i<l;++i)n[i].apply(this,t);return this},i.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},i.prototype.hasListeners=function(e){return!!this.listeners(e).length}},crnd:function(e,t){function n(e){return Promise.resolve().then(function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t})}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="crnd"},dMDw:function(e,t,n){var i=n("mrSG").__extends,l=n("FWf1"),o=n("1pIY");t.debounceTime=function(e,t){return void 0===t&&(t=o.async),function(n){return n.lift(new r(e,t))}};var r=function(){function e(e,t){this.dueTime=e,this.scheduler=t}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.dueTime,this.scheduler))},e}(),u=function(e){function t(t,n,i){var l=e.call(this,t)||this;return l.dueTime=n,l.scheduler=i,l.debouncedSubscription=null,l.lastValue=null,l.hasValue=!1,l}return i(t,e),t.prototype._next=function(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(s,this.dueTime,this))},t.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},t.prototype.debouncedNext=function(){if(this.clearDebounce(),this.hasValue){var e=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(e)}},t.prototype.clearDebounce=function(){var e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)},t}(l.Subscriber);function s(e){e.debouncedNext()}},"dkv/":function(e,t){e.exports=Object.keys||function(e){var t=[],n=Object.prototype.hasOwnProperty;for(var i in e)n.call(e,i)&&t.push(i);return t}},ds6q:function(e,t,n){var i=n("mrSG").__extends,l=n("Q1FS"),o=n("FWf1"),r=n("zB/H"),u=n("Mxlh"),s=n("FiyT"),a=n("p//D"),c=function(e){function t(t){var n=e.call(this,t)||this;return n.destination=t,n}return i(t,e),t}(o.Subscriber);t.SubjectSubscriber=c;var p=function(e){function t(){var t=e.call(this)||this;return t.observers=[],t.closed=!1,t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return i(t,e),t.prototype[a.rxSubscriber]=function(){return new c(this)},t.prototype.lift=function(e){var t=new d(this,this);return t.operator=e,t},t.prototype.next=function(e){if(this.closed)throw new u.ObjectUnsubscribedError;if(!this.isStopped)for(var t=this.observers,n=t.length,i=t.slice(),l=0;l<n;l++)i[l].next(e)},t.prototype.error=function(e){if(this.closed)throw new u.ObjectUnsubscribedError;this.hasError=!0,this.thrownError=e,this.isStopped=!0;for(var t=this.observers,n=t.length,i=t.slice(),l=0;l<n;l++)i[l].error(e);this.observers.length=0},t.prototype.complete=function(){if(this.closed)throw new u.ObjectUnsubscribedError;this.isStopped=!0;for(var e=this.observers,t=e.length,n=e.slice(),i=0;i<t;i++)n[i].complete();this.observers.length=0},t.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},t.prototype._trySubscribe=function(t){if(this.closed)throw new u.ObjectUnsubscribedError;return e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){if(this.closed)throw new u.ObjectUnsubscribedError;return this.hasError?(e.error(this.thrownError),r.Subscription.EMPTY):this.isStopped?(e.complete(),r.Subscription.EMPTY):(this.observers.push(e),new s.SubjectSubscription(this,e))},t.prototype.asObservable=function(){var e=new l.Observable;return e.source=this,e},t.create=function(e,t){return new d(e,t)},t}(l.Observable);t.Subject=p;var d=function(e){function t(t,n){var i=e.call(this)||this;return i.destination=t,i.source=n,i}return i(t,e),t.prototype.next=function(e){var t=this.destination;t&&t.next&&t.next(e)},t.prototype.error=function(e){var t=this.destination;t&&t.error&&this.destination.error(e)},t.prototype.complete=function(){var e=this.destination;e&&e.complete&&this.destination.complete()},t.prototype._subscribe=function(e){return this.source?this.source.subscribe(e):r.Subscription.EMPTY},t}(p);t.AnonymousSubject=d},eOtv:function(e,t,n){var i=n("lKxJ"),l=n("KFGy"),o=n("cpc2"),r=n("Vo14"),u=n("2Dig"),s=n("QN7Q"),a=n("x7D4")("socket.io-client:manager"),c=n("7jRU"),p=n("C2QD"),d=Object.prototype.hasOwnProperty;function h(e,t){if(!(this instanceof h))return new h(e,t);e&&"object"==typeof e&&(t=e,e=void 0),(t=t||{}).path=t.path||"/socket.io",this.nsps={},this.subs=[],this.opts=t,this.reconnection(!1!==t.reconnection),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(t.randomizationFactor||.5),this.backoff=new p({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this.readyState="closed",this.uri=e,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[];var n=t.parser||r;this.encoder=new n.Encoder,this.decoder=new n.Decoder,this.autoConnect=!1!==t.autoConnect,this.autoConnect&&this.open()}e.exports=h,h.prototype.emitAll=function(){for(var e in this.emit.apply(this,arguments),this.nsps)d.call(this.nsps,e)&&this.nsps[e].emit.apply(this.nsps[e],arguments)},h.prototype.updateSocketIds=function(){for(var e in this.nsps)d.call(this.nsps,e)&&(this.nsps[e].id=this.generateId(e))},h.prototype.generateId=function(e){return("/"===e?"":e+"#")+this.engine.id},o(h.prototype),h.prototype.reconnection=function(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection},h.prototype.reconnectionAttempts=function(e){return arguments.length?(this._reconnectionAttempts=e,this):this._reconnectionAttempts},h.prototype.reconnectionDelay=function(e){return arguments.length?(this._reconnectionDelay=e,this.backoff&&this.backoff.setMin(e),this):this._reconnectionDelay},h.prototype.randomizationFactor=function(e){return arguments.length?(this._randomizationFactor=e,this.backoff&&this.backoff.setJitter(e),this):this._randomizationFactor},h.prototype.reconnectionDelayMax=function(e){return arguments.length?(this._reconnectionDelayMax=e,this.backoff&&this.backoff.setMax(e),this):this._reconnectionDelayMax},h.prototype.timeout=function(e){return arguments.length?(this._timeout=e,this):this._timeout},h.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},h.prototype.open=h.prototype.connect=function(e,t){if(a("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;a("opening %s",this.uri),this.engine=i(this.uri,this.opts);var n=this.engine,l=this;this.readyState="opening",this.skipReconnect=!1;var o=u(n,"open",function(){l.onopen(),e&&e()}),r=u(n,"error",function(t){if(a("connect_error"),l.cleanup(),l.readyState="closed",l.emitAll("connect_error",t),e){var n=new Error("Connection error");n.data=t,e(n)}else l.maybeReconnectOnOpen()});if(!1!==this._timeout){var s=this._timeout;a("connect attempt will timeout after %d",s);var c=setTimeout(function(){a("connect attempt timed out after %d",s),o.destroy(),n.close(),n.emit("error","timeout"),l.emitAll("connect_timeout",s)},s);this.subs.push({destroy:function(){clearTimeout(c)}})}return this.subs.push(o),this.subs.push(r),this},h.prototype.onopen=function(){a("open"),this.cleanup(),this.readyState="open",this.emit("open");var e=this.engine;this.subs.push(u(e,"data",s(this,"ondata"))),this.subs.push(u(e,"ping",s(this,"onping"))),this.subs.push(u(e,"pong",s(this,"onpong"))),this.subs.push(u(e,"error",s(this,"onerror"))),this.subs.push(u(e,"close",s(this,"onclose"))),this.subs.push(u(this.decoder,"decoded",s(this,"ondecoded")))},h.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")},h.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)},h.prototype.ondata=function(e){this.decoder.add(e)},h.prototype.ondecoded=function(e){this.emit("packet",e)},h.prototype.onerror=function(e){a("error",e),this.emitAll("error",e)},h.prototype.socket=function(e,t){var n=this.nsps[e];if(!n){n=new l(this,e,t),this.nsps[e]=n;var i=this;n.on("connecting",o),n.on("connect",function(){n.id=i.generateId(e)}),this.autoConnect&&o()}function o(){~c(i.connecting,n)||i.connecting.push(n)}return n},h.prototype.destroy=function(e){var t=c(this.connecting,e);~t&&this.connecting.splice(t,1),this.connecting.length||this.close()},h.prototype.packet=function(e){a("writing packet %j",e);var t=this;e.query&&0===e.type&&(e.nsp+="?"+e.query),t.encoding?t.packetBuffer.push(e):(t.encoding=!0,this.encoder.encode(e,function(n){for(var i=0;i<n.length;i++)t.engine.write(n[i],e.options);t.encoding=!1,t.processPacketQueue()}))},h.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var e=this.packetBuffer.shift();this.packet(e)}},h.prototype.cleanup=function(){a("cleanup");for(var e=this.subs.length,t=0;t<e;t++)this.subs.shift().destroy();this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},h.prototype.close=h.prototype.disconnect=function(){a("disconnect"),this.skipReconnect=!0,this.reconnecting=!1,"opening"===this.readyState&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},h.prototype.onclose=function(e){a("onclose"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",e),this._reconnection&&!this.skipReconnect&&this.reconnect()},h.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var e=this;if(this.backoff.attempts>=this._reconnectionAttempts)a("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var t=this.backoff.duration();a("will wait %dms before reconnect attempt",t),this.reconnecting=!0;var n=setTimeout(function(){e.skipReconnect||(a("attempting reconnect"),e.emitAll("reconnect_attempt",e.backoff.attempts),e.emitAll("reconnecting",e.backoff.attempts),e.skipReconnect||e.open(function(t){t?(a("reconnect attempt error"),e.reconnecting=!1,e.reconnect(),e.emitAll("reconnect_error",t.data)):(a("reconnect success"),e.onreconnect())}))},t);this.subs.push({destroy:function(){clearTimeout(n)}})}},h.prototype.onreconnect=function(){var e=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",e)}},ffpz:function(e,t,n){"use strict";t.Scheduler=function(){function e(t,n){void 0===n&&(n=e.now),this.SchedulerAction=t,this.now=n}return e.prototype.schedule=function(e,t,n){return void 0===t&&(t=0),new this.SchedulerAction(this,e).schedule(n,t)},e.now=function(){return Date.now()},e}()},g5Dd:function(e,t){!function(){"use strict";for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=new Uint8Array(256),i=0;i<e.length;i++)n[e.charCodeAt(i)]=i;t.encode=function(t){var n,i=new Uint8Array(t),l=i.length,o="";for(n=0;n<l;n+=3)o+=e[i[n]>>2],o+=e[(3&i[n])<<4|i[n+1]>>4],o+=e[(15&i[n+1])<<2|i[n+2]>>6],o+=e[63&i[n+2]];return l%3==2?o=o.substring(0,o.length-1)+"=":l%3==1&&(o=o.substring(0,o.length-2)+"=="),o},t.decode=function(e){var t,i,l,o,r,u=.75*e.length,s=e.length,a=0;"="===e[e.length-1]&&(u--,"="===e[e.length-2]&&u--);var c=new ArrayBuffer(u),p=new Uint8Array(c);for(t=0;t<s;t+=4)i=n[e.charCodeAt(t)],l=n[e.charCodeAt(t+1)],o=n[e.charCodeAt(t+2)],r=n[e.charCodeAt(t+3)],p[a++]=i<<2|l>>4,p[a++]=(15&l)<<4|o>>2,p[a++]=(3&o)<<6|63&r;return c}}()},gFX4:function(e,t,n){var i=n("zJ60"),l=n("Vo14"),o=n("eOtv"),r=n("x7D4")("socket.io-client");e.exports=t=s;var u=t.managers={};function s(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var n,l=i(e),s=l.source,a=l.id;return t.forceNew||t["force new connection"]||!1===t.multiplex||u[a]&&l.path in u[a].nsps?(r("ignoring socket cache for %s",s),n=o(s,t)):(u[a]||(r("new io instance for %s",s),u[a]=o(s,t)),n=u[a]),l.query&&!t.query&&(t.query=l.query),n.socket(l.path,t)}t.protocol=l.protocol,t.connect=s,t.Manager=n("eOtv"),t.Socket=n("KFGy")},gQQf:function(e,t,n){var i=n("6oVD");function l(e){this.buffer=e,this.offset=0}l.prototype.nextInt16BE=function(){var e=this.buffer.readInt16BE(this.offset);return this.offset+=2,e},l.prototype.nextUInt8=function(){var e=this.buffer.readUInt8(this.offset);return this.offset+=1,e},l.prototype.nextUIntV=function(){var e=i(this.buffer,this.offset);return this.offset+=e.length,e.value},l.prototype.nextIntV=function(){var e=i(this.buffer,this.offset,!0);return this.offset+=e.length,e.value},l.prototype.nextBuffer=function(e){var t=e?this.buffer.slice(this.offset,this.offset+e):this.buffer.slice(this.offset);return this.offset+=e||this.length,t},Object.defineProperty(l.prototype,"length",{get:function(){return this.buffer.length-this.offset}}),e.exports=l},"hqy+":function(e){e.exports={competitorStockLink:"https://blauda.co.ke/compare-request/1",countryCode:"256",customerComments:"Hello World",customerEmail:"ahsan@test.com",customerID:"33",customerName:"Ahsan Jawaid",customerPhone:"26533545",destinationCountry:"Kenya",destinationPort:"Mombasa",vehicle_body:"1",vehicle_color:"Black",vehicle_make:"MERCEDES BENZ",vehicle_model:"290",vehicle_month:"",vehicle_year:"2015"}},kSER:function(e,t){e.exports=function(e,t){for(var n=[],i=(t=t||0)||0;i<e.length;i++)n[i-t]=e[i];return n}},"kVK+":function(e,t){t.read=function(e,t,n,i,l){var o,r,u=8*l-i-1,s=(1<<u)-1,a=s>>1,c=-7,p=n?l-1:0,d=n?-1:1,h=e[t+p];for(p+=d,o=h&(1<<-c)-1,h>>=-c,c+=u;c>0;o=256*o+e[t+p],p+=d,c-=8);for(r=o&(1<<-c)-1,o>>=-c,c+=i;c>0;r=256*r+e[t+p],p+=d,c-=8);if(0===o)o=1-a;else{if(o===s)return r?NaN:1/0*(h?-1:1);r+=Math.pow(2,i),o-=a}return(h?-1:1)*r*Math.pow(2,o-i)},t.write=function(e,t,n,i,l,o){var r,u,s,a=8*o-l-1,c=(1<<a)-1,p=c>>1,d=23===l?Math.pow(2,-24)-Math.pow(2,-77):0,h=i?0:o-1,f=i?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(u=isNaN(t)?1:0,r=c):(r=Math.floor(Math.log(t)/Math.LN2),t*(s=Math.pow(2,-r))<1&&(r--,s*=2),(t+=r+p>=1?d/s:d*Math.pow(2,1-p))*s>=2&&(r++,s/=2),r+p>=c?(u=0,r=c):r+p>=1?(u=(t*s-1)*Math.pow(2,l),r+=p):(u=t*Math.pow(2,p-1)*Math.pow(2,l),r=0));l>=8;e[n+h]=255&u,h+=f,u/=256,l-=8);for(r=r<<l|u,a+=l;a>0;e[n+h]=255&r,h+=f,r/=256,a-=8);e[n+h-f]|=128*g}},lKxJ:function(e,t,n){e.exports=n("2pII"),e.exports.parser=n("Wm4p")},lhf0:function(e,t,n){function i(e){var n;function i(){if(i.enabled){var e=i,l=+new Date;e.diff=l-(n||l),e.prev=n,e.curr=l,n=l;for(var o=new Array(arguments.length),r=0;r<o.length;r++)o[r]=arguments[r];o[0]=t.coerce(o[0]),"string"!=typeof o[0]&&o.unshift("%O");var u=0;o[0]=o[0].replace(/%([a-zA-Z%])/g,function(n,i){if("%%"===n)return n;u++;var l=t.formatters[i];return"function"==typeof l&&(n=l.call(e,o[u]),o.splice(u,1),u--),n}),t.formatArgs.call(e,o),(i.log||t.log||console.log.bind(console)).apply(e,o)}}return i.namespace=e,i.enabled=t.enabled(e),i.useColors=t.useColors(),i.color=function(e){var n,i=0;for(n in e)i=(i<<5)-i+e.charCodeAt(n),i|=0;return t.colors[Math.abs(i)%t.colors.length]}(e),i.destroy=l,"function"==typeof t.init&&t.init(i),t.instances.push(i),i}function l(){var e=t.instances.indexOf(this);return-1!==e&&(t.instances.splice(e,1),!0)}(t=e.exports=i.debug=i.default=i).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable("")},t.enable=function(e){var n;t.save(e),t.names=[],t.skips=[];var i=("string"==typeof e?e:"").split(/[\s,]+/),l=i.length;for(n=0;n<l;n++)i[n]&&("-"===(e=i[n].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")));for(n=0;n<t.instances.length;n++){var o=t.instances[n];o.enabled=t.enabled(o.namespace)}},t.enabled=function(e){if("*"===e[e.length-1])return!0;var n,i;for(n=0,i=t.skips.length;n<i;n++)if(t.skips[n].test(e))return!1;for(n=0,i=t.names.length;n<i;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n("WiHW"),t.instances=[],t.names=[],t.skips=[],t.formatters={}},mbIT:function(e,t,n){"use strict";t.isArray=Array.isArray||function(e){return e&&"number"==typeof e.length}},mkMP:function(e){e.exports={Smileys:["&#x1F603","&#x1F604","&#x1F601","&#x1F606","&#x1F605","&#x1F602","&#x1F642","&#x1F609","&#x1F60A","&#x1F607","&#x1F60D","&#x1F618","&#x1F617","&#x1F61A","&#x1F619","&#x1F60B","&#x1F61B","&#x1F61C","&#x1F61D","&#x1F610","&#x1F611","&#x1F636","&#x1F60F","&#x1F612","&#x1F62C","&#x1F60C","&#x1F614","&#x1F62A","&#x1F634","&#x1F637","&#x1F635","&#x1F60E","&#x1F615","&#x1F61F","&#x1F641","&#x1F62E","&#x1F62F","&#x1F632","&#x1F633","&#x1F626","&#x1F627","&#x1F628","&#x1F630","&#x1F625","&#x1F622","&#x1F62D","&#x1F631","&#x1F616","&#x1F623","&#x1F61E","&#x1F613","&#x1F629","&#x1F62B","&#x1F624","&#x1F621","&#x1F620","&#x1F608","&#x1F47F","&#x1F480","&#x2620","&#x1F4A9","&#x1F479","&#x1F47A","&#x1F47B","&#x1F47D","&#x1F47E","&#x1F63A","&#x1F638","&#x1F639","&#x1F63B","&#x1F63C","&#x1F63D","&#x1F640","&#x1F63F","&#x1F63E","&#x1F648","&#x1F649","&#x1F64A"],People:["&#x1F48B","&#x1F48C","&#x1F498","&#x1F49D","&#x1F496","&#x1F497","&#x1F493","&#x1F49E","&#x1F495","&#x1F49F","&#x2763","&#x1F494","&#x2764","&#x1F49B","&#x1F49A","&#x1F499","&#x1F49C","&#x1F4A2","&#x1F4A5","&#x1F4AB","&#x1F4A6","&#x1F4A8","&#x1F573","&#x1F4A3","&#x1F4AC","&#x1F441","&#x1F5E8","&#x1F5E8","&#x1F5EF","&#x1F4AD","&#x1F4A4","&#x1F44B","&#x1F590","&#x270B","&#x1F596","&#x1F44C","&#x270C","&#x1F448","&#x1F449","&#x1F446","&#x1F595","&#x1F447","&#x261D","&#x1F44D","&#x1F44E","&#x270A","&#x1F44A","&#x1F44F","&#x1F64C","&#x1F450","&#x1F64F","&#x1F485","&#x1F4AA","&#x1F442","&#x1F443","&#x1F440","&#x1F441","&#x1F445","&#x1F444","&#x1F476","&#x1F466","&#x1F467","&#x1F471","&#x1F468","&#x1F471","&#x1F468","&#x1F468","&#x1F468","&#x1F468","&#x1F469","&#x1F471","&#x1F469","&#x1F469","&#x1F469","&#x1F469","&#x1F474","&#x1F475","&#x1F64D","&#x1F64D","&#x1F64D","&#x2640","&#x1F64E","&#x1F64E","&#x1F64E","&#x1F645","&#x1F645","&#x2642","&#x1F645","&#x1F646","&#x1F646","&#x1F646","&#x1F481","&#x1F481","&#x1F481","&#x1F64B","&#x1F64B","&#x1F64B","&#x1F647","&#x1F647","&#x1F647","&#x1F468","&#x2695","&#x1F469","&#x2695","&#x1F468","&#x1F393","&#x1F469","&#x1F393","&#x1F468","&#x1F3EB","&#x1F469","&#x1F3EB","&#x1F468","&#x2696","&#x1F469","&#x2696","&#x1F468","&#x1F33E","&#x1F469","&#x1F33E","&#x1F468","&#x1F373","&#x1F469","&#x1F373","&#x1F468","&#x1F527","&#x1F469","&#x1F527","&#x1F468","&#x1F3ED","&#x1F469","&#x1F3ED","&#x1F468","&#x1F4BC","&#x1F469","&#x1F4BC","&#x1F468","&#x1F52C","&#x1F469","&#x1F52C","&#x1F468","&#x1F4BB","&#x1F469","&#x1F4BB","&#x1F468","&#x1F3A4","&#x1F469","&#x1F3A4","&#x1F468","&#x1F3A8","&#x1F469","&#x1F3A8","&#x1F468","&#x2708","&#x1F469","&#x2708","&#x1F468","&#x1F680","&#x1F469","&#x1F680","&#x1F468","&#x1F692","&#x1F469","&#x1F692","&#x1F46E","&#x1F46E","&#x1F46E","&#x1F575","&#x1F575","&#x1F575","&#x1F482","&#x1F482","&#x1F482","&#x1F477","&#x1F477","&#x1F477","&#x1F478","&#x1F473","&#x1F473","&#x1F473","&#x1F472","&#x1F470","&#x1F47C","&#x1F385","&#x1F486","&#x1F486","&#x1F486","&#x1F487","&#x1F487","&#x1F487","&#x1F6B6","&#x1F6B6","&#x1F6B6","&#x1F3C3","&#x1F3C3","&#x1F3C3","&#x1F483","&#x1F574","&#x1F46F","&#x1F46F","&#x1F46F","&#x1F3C7","&#x26F7","&#x1F3C2","&#x1F3CC","&#x1F3CC","&#x1F3CC","&#x1F3C4","&#x1F3C4","&#x1F3C4","&#x1F6A3","&#x1F6A3","&#x1F6A3","&#x1F3CA","&#x1F3CA","&#x1F3CA","&#x26F9","&#x26F9","&#x26F9","&#x1F3CB","&#x1F3CB","&#x1F3CB","&#x1F6B4","&#x1F6B4","&#x1F6B4","&#x1F6B5","&#x1F6B5","&#x1F6B5","&#x1F6C0","&#x1F6CC","&#x1F46D","&#x1F46B","&#x1F46C","&#x1F48F","&#x1F469","&#x2764","&#x1F48B","&#x1F468","&#x1F468","&#x2764","&#x1F48B","&#x1F468","&#x1F469","&#x2764","&#x1F48B","&#x1F469","&#x1F491","&#x1F469","&#x2764","&#x1F468","&#x1F468","&#x2764","&#x1F468","&#x1F469","&#x2764","&#x1F469","&#x1F46A","&#x1F468","&#x1F469","&#x1F466","&#x1F468","&#x1F469","&#x1F467","&#x1F468","&#x1F469","&#x1F467","&#x1F466","&#x1F468","&#x1F469","&#x1F466","&#x1F466","&#x1F468","&#x1F469","&#x1F467","&#x1F467","&#x1F468","&#x1F468","&#x1F466","&#x1F468","&#x1F468","&#x1F467","&#x1F468","&#x1F468","&#x1F467","&#x1F466","&#x1F468","&#x1F468","&#x1F466","&#x1F466","&#x1F468","&#x1F468","&#x1F467","&#x1F467","&#x1F469","&#x1F469","&#x1F466","&#x1F469","&#x1F469","&#x1F467","&#x1F469","&#x1F469","&#x1F467","&#x1F466","&#x1F469","&#x1F469","&#x1F466","&#x1F466","&#x1F469","&#x1F469","&#x1F467","&#x1F467","&#x1F468","&#x1F466","&#x1F468","&#x1F466","&#x1F466","&#x1F468","&#x1F467","&#x1F468","&#x1F467","&#x1F466","&#x1F468","&#x1F467","&#x1F467","&#x1F469","&#x1F466","&#x1F469","&#x1F466","&#x1F466","&#x1F469","&#x1F467","&#x1F469","&#x1F467","&#x1F466","&#x1F469","&#x1F467","&#x1F467","&#x1F5E3","&#x1F464","&#x1F465","&#x1F463"],Animals:["&#x1F435","&#x1F412","&#x1F490","&#x1F338","&#x1F4AE","&#x1F3F5","&#x1F339","&#x1F33A","&#x1F33B","&#x1F33C","&#x1F337","&#x1F331","&#x1F332","&#x1F333","&#x1F334","&#x1F335","&#x1F33E","&#x1F33F","&#x2618","&#x1F340","&#x1F341","&#x1F342","&#x1F436","&#x1F415","&#x1F429","&#x1F43A","&#x1F431","&#x1F408","&#x1F42F","&#x1F405","&#x1F406","&#x1F434","&#x1F40E","&#x1F42E","&#x1F402","&#x1F403","&#x1F404","&#x1F437","&#x1F416","&#x1F417","&#x1F43D","&#x1F40F","&#x1F411","&#x1F410","&#x1F42A","&#x1F42B","&#x1F418","&#x1F42D","&#x1F401","&#x1F400","&#x1F439","&#x1F430","&#x1F407","&#x1F43F","&#x1F43B","&#x1F428","&#x1F43C","&#x1F43E","&#x1F414","&#x1F413","&#x1F423","&#x1F424","&#x1F425","&#x1F426","&#x1F427","&#x1F54A","&#x1F438","&#x1F40A","&#x1F422","&#x1F40D","&#x1F432","&#x1F409","&#x1F433","&#x1F40B","&#x1F42C","&#x1F41F","&#x1F420","&#x1F421","&#x1F419","&#x1F41A","&#x1F40C","&#x1F41B","&#x1F41C","&#x1F41D","&#x1F41E","&#x1F577","&#x1F578","&#x1F311","&#x1F312","&#x1F313","&#x1F314","&#x1F315","&#x1F316","&#x1F317","&#x1F318","&#x1F319","&#x1F31A","&#x1F31B","&#x1F31C","&#x1F321","&#x2600","&#x1F31D","&#x1F31E","&#x2B50","&#x1F31F","&#x1F320","&#x2601","&#x26C5","&#x26C8","&#x1F324","&#x1F325","&#x1F326","&#x1F327","&#x1F328","&#x1F329","&#x1F32A","&#x1F32B","&#x1F32C","&#x1F300","&#x1F308","&#x1F302","&#x2602","&#x2614","&#x26F1","&#x26A1","&#x2744","&#x2603","&#x26C4","&#x2604","&#x1F525","&#x1F4A7","&#x1F30A","&#x1F383","&#x1F384","&#x1F386","&#x1F387","&#x2728","&#x1F388","&#x1F389","&#x1F38A","&#x1F38B","&#x1F38D","&#x1F38E","&#x1F38F","&#x1F390","&#x1F391"],Food:["&#x1F343","&#x1F347","&#x1F348","&#x1F349","&#x1F34A","&#x1F34B","&#x1F34C","&#x1F34D","&#x1F34E","&#x1F34F","&#x1F350","&#x1F351","&#x1F352","&#x1F353","&#x1F345","&#x1F346","&#x1F33D","&#x1F336","&#x1F344","&#x1F330","&#x1F35E","&#x1F356","&#x1F357","&#x1F354","&#x1F35F","&#x1F355","&#x1F373","&#x1F372","&#x1F371","&#x1F358","&#x1F359","&#x1F35A","&#x1F35B","&#x1F35C","&#x1F35D","&#x1F360","&#x1F362","&#x1F363","&#x1F364","&#x1F365","&#x1F361","&#x1F366","&#x1F367","&#x1F368","&#x1F369","&#x1F36A","&#x1F382","&#x1F370","&#x1F36B","&#x1F36C","&#x1F36D","&#x1F36E","&#x1F36F","&#x1F37C","&#x2615","&#x1F375","&#x1F376","&#x1F377","&#x1F378","&#x1F379","&#x1F37A","&#x1F37B","&#x1F37D","&#x1F374","&#x1F52A"],Places:["&#x1F30D","&#x1F30E","&#x1F30F","&#x1F310","&#x1F5FA","&#x1F5FE","&#x1F3D4","&#x26F0","&#x1F30B","&#x1F5FB","&#x1F3D5","&#x1F3D6","&#x1F3DC","&#x1F3DD","&#x1F3DE","&#x1F3DF","&#x1F3DB","&#x1F3D7","&#x1F3D8","&#x1F3DA","&#x1F3E0","&#x1F3E1","&#x1F3E2","&#x1F3E3","&#x1F3E4","&#x1F3E5","&#x1F3E6","&#x1F3E8","&#x1F3E9","&#x1F3EA","&#x1F3EB","&#x1F3EC","&#x1F3ED","&#x1F3EF","&#x1F3F0","&#x1F492","&#x1F5FC","&#x1F5FD","&#x26EA","&#x26E9","&#x26F2","&#x26FA","&#x1F301","&#x1F303","&#x1F3D9","&#x1F304","&#x1F305","&#x1F306","&#x1F307","&#x1F309","&#x2668","&#x1F30C","&#x1F3A0","&#x1F3A1","&#x1F3A2","&#x1F488","&#x1F3AA","&#x1F682","&#x1F683","&#x1F684","&#x1F685","&#x1F686","&#x1F687","&#x1F688","&#x1F689","&#x1F68A","&#x1F69D","&#x1F69E","&#x1F68B","&#x1F68C","&#x1F68D","&#x1F68E","&#x1F690","&#x1F691","&#x1F692","&#x1F693","&#x1F694","&#x1F695","&#x1F696","&#x1F697","&#x1F698","&#x1F699","&#x1F69A","&#x1F69B","&#x1F69C","&#x1F3CE","&#x1F3CD","&#x1F6B2","&#x1F68F","&#x1F6E3","&#x1F6E4","&#x1F6E2","&#x26FD","&#x1F6A8","&#x1F6A5","&#x1F6A6","&#x1F6A7","&#x2693","&#x26F5","&#x1F6A4","&#x1F6F3","&#x26F4","&#x1F6E5","&#x1F6A2","&#x2708","&#x1F6E9","&#x1F6EB","&#x1F6EC","&#x1F4BA","&#x1F681","&#x1F69F","&#x1F6A0","&#x1F6A1","&#x1F6F0","&#x1F680"],Clothing:["&#x1F3AD","&#x1F5BC","&#x1F3A8","&#x1F453","&#x1F576","&#x1F454","&#x1F455","&#x1F456","&#x1F457","&#x1F458","&#x1F459","&#x1F45A","&#x1F45B","&#x1F45C","&#x1F45D","&#x1F6CD","&#x1F392","&#x1F45E","&#x1F45F","&#x1F460","&#x1F461","&#x1F462","&#x1F451","&#x1F452","&#x1F3A9","&#x1F393","&#x26D1","&#x1F484","&#x1F48D","&#x1F48E"],Activities:["&#x1F486","&#x1F487","&#x1F6B6","&#x1F3C3","&#x1F483","&#x1F574","&#x1F46F","&#x1F3C7","&#x26F7","&#x1F3C2","&#x1F3CC","&#x1F3C4","&#x1F6A3","&#x1F3CA","&#x26F9","&#x1F3CB","&#x1F6B4","&#x1F6B5","&#x1F6C0","&#x1F6CC"],Objects:["&#x231B","&#x23F3","&#x231A","&#x23F0","&#x23F1","&#x23F2","&#x1F570","&#x1F55B","&#x1F567","&#x1F550","&#x1F55C","&#x1F551","&#x1F55D","&#x1F552","&#x1F55E","&#x1F553","&#x1F55F","&#x1F554","&#x1F560","&#x1F555","&#x1F561","&#x1F556","&#x1F562","&#x1F557","&#x1F563","&#x1F558","&#x1F564","&#x1F559","&#x1F565","&#x1F55A","&#x1F566","&#x1F507","&#x1F508","&#x1F509","&#x1F50A","&#x1F4E2","&#x1F4E3","&#x1F4EF","&#x1F514","&#x1F515","&#x1F3BC","&#x1F3B5","&#x1F3B6","&#x1F399","&#x1F39A","&#x1F39B","&#x1F3A4","&#x1F3A7","&#x1F4FB","&#x1F3B7","&#x1F3B8","&#x1F3B9","&#x1F3BA","&#x1F3BB","&#x1F941","&#x1F4F1","&#x1F4F2","&#x260E","&#x1F4DE","&#x1F4DF","&#x1F4E0","&#x1F50B","&#x1F50C","&#x1F4BB","&#x1F5A5","&#x1F5A8","&#x2328","&#x1F5B1","&#x1F5B2","&#x1F4BD","&#x1F4BE","&#x1F4BF","&#x1F4C0","&#x1F3A5","&#x1F39E","&#x1F4FD","&#x1F3AC","&#x1F4FA","&#x1F4F7","&#x1F4F8","&#x1F4F9","&#x1F4FC","&#x1F50D","&#x1F50E","&#x1F56F","&#x1F4A1","&#x1F526","&#x1F3EE","&#x1F4D4","&#x1F4D5","&#x1F4D6","&#x1F4D7","&#x1F4D8","&#x1F4D9","&#x1F4DA","&#x1F4D3","&#x1F4D2","&#x1F4C3","&#x1F4DC","&#x1F4C4","&#x1F4F0","&#x1F5DE","&#x1F4D1","&#x1F516","&#x1F3F7","&#x1F4B0","&#x1F4B4","&#x1F4B5","&#x1F4B6","&#x1F4B7","&#x1F4B8","&#x1F4B3","&#x1F4B9","&#x1F4B1","&#x1F4B2","&#x2709","&#x1F4E7","&#x1F4E8","&#x1F4E9","&#x1F4E4","&#x1F4E5","&#x1F4E6","&#x1F4EB","&#x1F4EA","&#x1F4EC","&#x1F4ED","&#x1F4EE","&#x1F5F3","&#x270F","&#x2712","&#x1F58B","&#x1F58A","&#x1F58C","&#x1F58D","&#x1F4DD","&#x1F4BC","&#x1F4C1","&#x1F4C2","&#x1F5C2","&#x1F4C5","&#x1F4C6","&#x1F5D2","&#x1F5D3","&#x1F4C7","&#x1F4C8","&#x1F4C9","&#x1F4CA","&#x1F4CB","&#x1F4CC","&#x1F4CD","&#x1F4CE","&#x1F587","&#x1F4CF","&#x1F4D0","&#x2702","&#x1F5C3","&#x1F5C4","&#x1F5D1","&#x1F512","&#x1F513","&#x1F50F","&#x1F510","&#x1F511","&#x1F5DD","&#x1F528","&#x26CF","&#x2692","&#x1F6E0","&#x1F5E1","&#x2694","&#x1F52B","&#x1F6E1","&#x1F527","&#x1F529","&#x2699","&#x1F5DC","&#x2696","&#x1F517","&#x26D3","&#x2697","&#x1F52C","&#x1F52D","&#x1F4E1","&#x1F489","&#x1F48A","&#x1F6AA","&#x1F6CF","&#x1F6CB","&#x1F6BD","&#x1F6BF","&#x1F6C1","&#x1F6AC","&#x26B0","&#x26B1","&#x1F5FF","&#x1F3E7","&#x1F6AE","&#x1F6B0","&#x267F","&#x1F6B9","&#x1F6BA","&#x1F6BB","&#x1F6BC","&#x1F6BE","&#x1F6C2","&#x1F6C3","&#x1F6C4","&#x1F6C5","&#x26A0","&#x1F6B8","&#x26D4","&#x1F6AB","&#x1F6B3","&#x1F6AD","&#x1F6AF","&#x1F6B1","&#x1F6B7","&#x1F4F5","&#x1F51E","&#x2622","&#x2623","&#x2B06","&#x2197","&#x27A1","&#x2198","&#x2B07","&#x2199","&#x2B05","&#x2196","&#x2195","&#x2194","&#x21A9","&#x21AA","&#x2934","&#x2935","&#x1F503","&#x1F504","&#x1F519","&#x1F51A","&#x1F51B","&#x1F51C","&#x1F51D","&#x269B","&#x1F549","&#x2721","&#x2638","&#x262F","&#x271D","&#x2626","&#x262A","&#x262E","&#x1F52F","&#x2648","&#x2649","&#x264A","&#x264B","&#x264C","&#x264D","&#x264E","&#x264F","&#x2650","&#x2651","&#x2652","&#x2653","&#x26CE","&#x1F500","&#x1F501","&#x1F502","&#x25B6","&#x23E9","&#x23ED","&#x23EF","&#x25C0","&#x23EA","&#x23EE","&#x1F53C","&#x23EB","&#x1F53D","&#x23EC","&#x23F8","&#x23F9","&#x23FA","&#x23CF","&#x1F3A6","&#x1F505","&#x1F506","&#x1F4F6","&#x1F4F3","&#x1F4F4","&#x2695","&#x267E","&#x267B","&#x269C","&#x1F531","&#x1F4DB","&#x1F530","&#x2B55","&#x2705","&#x2611","&#x2714","&#x2716","&#x274C","&#x274E","&#x2795","&#x2796","&#x2797","&#x27B0","&#x27BF","&#x303D","&#x2733","&#x2734","&#x2747","&#x203C","&#x2049","&#x2753","&#x2754","&#x2755","&#x2757","&#x3030","&#x00A9","&#x00AE","&#x2122","&#x0023","&#x20E3","&#x002A","&#x20E3","&#x0030","&#x20E3","&#x0031","&#x20E3","&#x0032","&#x20E3","&#x0033","&#x20E3","&#x0034","&#x20E3","&#x0035","&#x20E3","&#x0036","&#x20E3","&#x0037","&#x20E3","&#x0038","&#x20E3","&#x0039","&#x20E3","&#x1F51F","&#x1F520","&#x1F521","&#x1F522","&#x1F523","&#x1F524","&#x1F170","&#x1F18E","&#x1F171","&#x1F191","&#x1F192","&#x1F193","&#x2139","&#x1F194","&#x24C2","&#x1F195","&#x1F196","&#x1F17E","&#x1F197","&#x1F17F","&#x1F198","&#x1F199","&#x1F19A","&#x1F201","&#x1F202","&#x1F237","&#x1F236","&#x1F22F","&#x1F250","&#x1F239","&#x1F21A","&#x1F232","&#x1F251","&#x1F238","&#x1F234","&#x1F233","&#x3297","&#x3299","&#x1F23A","&#x1F235","&#x1F534","&#x1F535","&#x26AA","&#x26AB","&#x2B1C","&#x2B1B","&#x25FC","&#x25FB","&#x25FD","&#x25FE","&#x25AB","&#x25AA","&#x1F536","&#x1F537","&#x1F538","&#x1F539","&#x1F53A","&#x1F53B","&#x1F4A0","&#x1F518","&#x1F532","&#x1F533","&#x2640","&#x2642"],Sports:["&#x1F396","&#x1F3C6","&#x1F3C5","&#x26BD","&#x26BE","&#x1F3C0","&#x1F3C8","&#x1F3C9","&#x1F3BE","&#x1F3B3","&#x26F3","&#x26F8","&#x1F3A3","&#x1F3BD","&#x1F3BF","&#x1F3AF","&#x1F3B1","&#x1F52E","&#x1F3AE","&#x1F579","&#x1F3B0","&#x1F3B2","&#x2660","&#x2665","&#x2666","&#x2663","&#x265F","&#x1F0CF","&#x1F004"]}},mrSG:function(e,t,n){"use strict";n.r(t),n.d(t,"__extends",function(){return l}),n.d(t,"__assign",function(){return o}),n.d(t,"__rest",function(){return r}),n.d(t,"__decorate",function(){return u}),n.d(t,"__param",function(){return s}),n.d(t,"__metadata",function(){return a}),n.d(t,"__awaiter",function(){return c}),n.d(t,"__generator",function(){return p}),n.d(t,"__exportStar",function(){return d}),n.d(t,"__values",function(){return h}),n.d(t,"__read",function(){return f}),n.d(t,"__spread",function(){return g}),n.d(t,"__spreadArrays",function(){return m}),n.d(t,"__await",function(){return v}),n.d(t,"__asyncGenerator",function(){return y}),n.d(t,"__asyncDelegator",function(){return b}),n.d(t,"__asyncValues",function(){return D}),n.d(t,"__makeTemplateObject",function(){return C}),n.d(t,"__importStar",function(){return S}),n.d(t,"__importDefault",function(){return _});var i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function l(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return(o=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var l in t=arguments[n])Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l]);return e}).apply(this,arguments)};function r(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(i=Object.getOwnPropertySymbols(e);l<i.length;l++)t.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(e,i[l])&&(n[i[l]]=e[i[l]])}return n}function u(e,t,n,i){var l,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var u=e.length-1;u>=0;u--)(l=e[u])&&(r=(o<3?l(r):o>3?l(t,n,r):l(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r}function s(e,t){return function(n,i){t(n,i,e)}}function a(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function c(e,t,n,i){return new(n||(n=Promise))(function(l,o){function r(e){try{s(i.next(e))}catch(t){o(t)}}function u(e){try{s(i.throw(e))}catch(t){o(t)}}function s(e){e.done?l(e.value):new n(function(t){t(e.value)}).then(r,u)}s((i=i.apply(e,t||[])).next())})}function p(e,t){var n,i,l,o,r={label:0,sent:function(){if(1&l[0])throw l[1];return l[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(o){return function(u){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(l=2&o[0]?i.return:o[0]?i.throw||((l=i.return)&&l.call(i),0):i.next)&&!(l=l.call(i,o[1])).done)return l;switch(i=0,l&&(o=[2&o[0],l.value]),o[0]){case 0:case 1:l=o;break;case 4:return r.label++,{value:o[1],done:!1};case 5:r.label++,i=o[1],o=[0];continue;case 7:o=r.ops.pop(),r.trys.pop();continue;default:if(!(l=(l=r.trys).length>0&&l[l.length-1])&&(6===o[0]||2===o[0])){r=0;continue}if(3===o[0]&&(!l||o[1]>l[0]&&o[1]<l[3])){r.label=o[1];break}if(6===o[0]&&r.label<l[1]){r.label=l[1],l=o;break}if(l&&r.label<l[2]){r.label=l[2],r.ops.push(o);break}l[2]&&r.ops.pop(),r.trys.pop();continue}o=t.call(e,r)}catch(u){o=[6,u],i=0}finally{n=l=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}}function d(e,t){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}function h(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}function f(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,l,o=n.call(e),r=[];try{for(;(void 0===t||t-- >0)&&!(i=o.next()).done;)r.push(i.value)}catch(u){l={error:u}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(l)throw l.error}}return r}function g(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(f(arguments[t]));return e}function m(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var i=Array(e),l=0;for(t=0;t<n;t++)for(var o=arguments[t],r=0,u=o.length;r<u;r++,l++)i[l]=o[r];return i}function v(e){return this instanceof v?(this.v=e,this):new v(e)}function y(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,l=n.apply(e,t||[]),o=[];return i={},r("next"),r("throw"),r("return"),i[Symbol.asyncIterator]=function(){return this},i;function r(e){l[e]&&(i[e]=function(t){return new Promise(function(n,i){o.push([e,t,n,i])>1||u(e,t)})})}function u(e,t){try{(n=l[e](t)).value instanceof v?Promise.resolve(n.value.v).then(s,a):c(o[0][2],n)}catch(i){c(o[0][3],i)}var n}function s(e){u("next",e)}function a(e){u("throw",e)}function c(e,t){e(t),o.shift(),o.length&&u(o[0][0],o[0][1])}}function b(e){var t,n;return t={},i("next"),i("throw",function(e){throw e}),i("return"),t[Symbol.iterator]=function(){return this},t;function i(i,l){t[i]=e[i]?function(t){return(n=!n)?{value:v(e[i](t)),done:"return"===i}:l?l(t):t}:l}}function D(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=h(e),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(n){t[n]=e[n]&&function(t){return new Promise(function(i,l){!function(e,t,n,i){Promise.resolve(i).then(function(t){e({value:t,done:n})},t)}(i,l,(t=e[n](t)).done,t.value)})}}}function C(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function S(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function _(e){return e&&e.__esModule?e:{default:e}}},n3uD:function(e,t,n){"use strict";var i=!1;t.config={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){i=e},get useDeprecatedSynchronousErrorHandling(){return i}}},"oIG/":function(e,t){var n,i,l,o=String.fromCharCode;function r(e){for(var t,n,i=[],l=0,o=e.length;l<o;)(t=e.charCodeAt(l++))>=55296&&t<=56319&&l<o?56320==(64512&(n=e.charCodeAt(l++)))?i.push(((1023&t)<<10)+(1023&n)+65536):(i.push(t),l--):i.push(t);return i}function u(e,t){if(e>=55296&&e<=57343){if(t)throw Error("Lone surrogate U+"+e.toString(16).toUpperCase()+" is not a scalar value");return!1}return!0}function s(e,t){return o(e>>t&63|128)}function a(e,t){if(0==(4294967168&e))return o(e);var n="";return 0==(4294965248&e)?n=o(e>>6&31|192):0==(4294901760&e)?(u(e,t)||(e=65533),n=o(e>>12&15|224),n+=s(e,6)):0==(4292870144&e)&&(n=o(e>>18&7|240),n+=s(e,12),n+=s(e,6)),n+o(63&e|128)}function c(){if(l>=i)throw Error("Invalid byte index");var e=255&n[l];if(l++,128==(192&e))return 63&e;throw Error("Invalid continuation byte")}function p(e){var t,o;if(l>i)throw Error("Invalid byte index");if(l==i)return!1;if(t=255&n[l],l++,0==(128&t))return t;if(192==(224&t)){if((o=(31&t)<<6|c())>=128)return o;throw Error("Invalid continuation byte")}if(224==(240&t)){if((o=(15&t)<<12|c()<<6|c())>=2048)return u(o,e)?o:65533;throw Error("Invalid continuation byte")}if(240==(248&t)&&(o=(7&t)<<18|c()<<12|c()<<6|c())>=65536&&o<=1114111)return o;throw Error("Invalid UTF-8 detected")}e.exports={version:"2.1.2",encode:function(e,t){for(var n=!1!==(t=t||{}).strict,i=r(e),l=i.length,o=-1,u="";++o<l;)u+=a(i[o],n);return u},decode:function(e,t){var u=!1!==(t=t||{}).strict;n=r(e),i=n.length,l=0;for(var s,a=[];!1!==(s=p(u));)a.push(s);return function(e){for(var t,n=e.length,i=-1,l="";++i<n;)(t=e[i])>65535&&(l+=o((t-=65536)>>>10&1023|55296),t=56320|1023&t),l+=o(t);return l}(a)}}},ojuT:function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},ozli:function(e,t,n){"use strict";var i=n("zfKp");t.subscribeToObservable=function(e){return function(t){var n=e[i.observable]();if("function"!=typeof n.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(t)}}},"p//D":function(e,t,n){"use strict";t.rxSubscriber="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random(),t.$$rxSubscriber=t.rxSubscriber},poJ0:function(e,t,n){"use strict";var i=n("VKeD");t.subscribeToIterable=function(e){return function(t){for(var n=e[i.iterator]();;){var l=n.next();if(l.done){t.complete();break}if(t.next(l.value),t.closed)break}return"function"==typeof n.return&&t.add(function(){n.return&&n.return()}),t}}},pshJ:function(e,t,n){"use strict";t.isFunction=function(e){return"function"==typeof e}},q3Kh:function(e,t,n){var i=n("mrSG").__extends,l=n("FWf1");t.map=function(e,t){return function(n){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new o(e,t))}};var o=function(){function e(e,t){this.project=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new r(e,this.project,this.thisArg))},e}();t.MapOperator=o;var r=function(e){function t(t,n,i){var l=e.call(this,t)||this;return l.project=n,l.count=0,l.thisArg=i||l,l}return i(t,e),t.prototype._next=function(e){var t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(t)},t}(l.Subscriber)},qe5e:function(e,t,n){"use strict";var i,l;function o(e,t){if(!e)throw"First parameter is required.";t=new r(e,t=t||{type:"video"});var n=this;function i(n){n&&(t.initCallback=function(){n(),n=t.initCallback=null});var i=new u(e,t);(d=new i(e,t)).record(),p("recording"),t.disableLogs||console.log("Initialized recorderType:",d.constructor.name,"for output-type:",t.type)}function l(e){if(e=e||function(){},d){if("paused"===n.state)return n.resumeRecording(),void setTimeout(function(){l(e)},1);"recording"===n.state||t.disableLogs||console.warn('Recording state should be: "recording", however current state is: ',n.state),t.disableLogs||console.log("Stopped recording "+t.type+" stream."),"gif"!==t.type?d.stop(i):(d.stop(),i()),p("stopped")}else g();function i(i){if(d){Object.keys(d).forEach(function(e){"function"!=typeof d[e]&&(n[e]=d[e])});var l=d.blob;if(!l){if(!i)throw"Recording failed.";d.blob=l=i}if(l&&!t.disableLogs&&console.log(l.type,"->",D(l.size)),e){var o;try{o=h.createObjectURL(l)}catch(r){}"function"==typeof e.call?e.call(n,o):e(o)}t.autoWriteToDisk&&a(function(e){var n={};n[t.type+"Blob"]=e,B.Store(n)})}else"function"==typeof e.call?e.call(n,""):e("")}}function s(e){postMessage((new FileReaderSync).readAsDataURL(e))}function a(e,n){if(!e)throw"Pass a callback function over getDataURL.";var i=n?n.blob:(d||{}).blob;if(!i)return t.disableLogs||console.warn("Blob encoder did not finish its job yet."),void setTimeout(function(){a(e,n)},1e3);if("undefined"==typeof Worker||navigator.mozGetUserMedia){var l=new FileReader;l.readAsDataURL(i),l.onload=function(t){e(t.target.result)}}else{var o=function(e){try{var t=h.createObjectURL(new Blob([e.toString(),"this.onmessage =  function (eee) {"+e.name+"(eee.data);}"],{type:"application/javascript"})),n=new Worker(t);return h.revokeObjectURL(t),n}catch(i){}}(s);o.onmessage=function(t){e(t.data)},o.postMessage(i)}}function c(e){e=e||0,"paused"!==n.state?"stopped"!==n.state&&(e>=n.recordingDuration?l(n.onRecordingStopped):(e+=1e3,setTimeout(function(){c(e)},1e3))):setTimeout(function(){c(e)},1e3)}function p(e){n&&(n.state=e,"function"==typeof n.onStateChanged.call?n.onStateChanged.call(n,e):n.onStateChanged(e))}var d,f='It seems that recorder is destroyed or "startRecording" is not invoked for '+t.type+" recorder.";function g(){!0!==t.disableLogs&&console.warn(f)}var m={startRecording:function(l){return t.disableLogs||console.log("RecordRTC version: ",n.version),l&&(t=new r(e,l)),t.disableLogs||console.log("started recording "+t.type+" stream."),d?(d.clearRecordedData(),d.record(),p("recording"),n.recordingDuration&&c(),n):(i(function(){n.recordingDuration&&c()}),n)},stopRecording:l,pauseRecording:function(){d?"recording"===n.state?(p("paused"),d.pause(),t.disableLogs||console.log("Paused recording.")):t.disableLogs||console.warn("Unable to pause the recording. Recording state: ",n.state):g()},resumeRecording:function(){d?"paused"===n.state?(p("recording"),d.resume(),t.disableLogs||console.log("Resumed recording.")):t.disableLogs||console.warn("Unable to resume the recording. Recording state: ",n.state):g()},initRecorder:i,setRecordingDuration:function(e,t){if(void 0===e)throw"recordingDuration is required.";if("number"!=typeof e)throw"recordingDuration must be a number.";return n.recordingDuration=e,n.onRecordingStopped=t||function(){},{onRecordingStopped:function(e){n.onRecordingStopped=e}}},clearRecordedData:function(){d?(d.clearRecordedData(),t.disableLogs||console.log("Cleared old recorded data.")):g()},getBlob:function(){if(d)return d.blob;g()},getDataURL:a,toURL:function(){if(d)return h.createObjectURL(d.blob);g()},getInternalRecorder:function(){return d},save:function(e){d?C(d.blob,e):g()},getFromDisk:function(e){d?o.getFromDisk(t.type,e):g()},setAdvertisementArray:function(e){t.advertisement=[];for(var n=e.length,i=0;i<n;i++)t.advertisement.push({duration:i,image:e[i]})},blob:null,bufferSize:0,sampleRate:0,buffer:null,reset:function(){"recording"!==n.state||t.disableLogs||console.warn("Stop an active recorder."),d&&"function"==typeof d.clearRecordedData&&d.clearRecordedData(),d=null,p("inactive"),n.blob=null},onStateChanged:function(e){t.disableLogs||console.log("Recorder state changed:",e)},state:"inactive",getState:function(){return n.state},destroy:function(){var e=t.disableLogs;t={disableLogs:!0},n.reset(),p("destroyed"),m=n=null,x.AudioContextConstructor&&(x.AudioContextConstructor.close(),x.AudioContextConstructor=null),t.disableLogs=e,t.disableLogs||console.log("RecordRTC is destroyed.")},version:"5.5.8"};if(!this)return n=m,m;for(var v in m)this[v]=m[v];return n=this,m}function r(e,t){return t.recorderType||t.type||(t.audio&&t.video?t.type="video":t.audio&&!t.video&&(t.type="audio")),t.recorderType&&!t.type&&(t.recorderType===T||t.recorderType===A||t.recorderType===P?t.type="video":t.recorderType===O?t.type="gif":t.recorderType===k?t.type="audio":t.recorderType===E&&(_(e,"audio").length&&_(e,"video").length?t.type="video":!_(e,"audio").length&&_(e,"video").length?t.type="video":_(e,"audio").length&&!_(e,"video").length&&(t.type="audio"))),"undefined"!=typeof MediaRecorder&&"requestData"in MediaRecorder.prototype&&(t.mimeType||(t.mimeType="video/webm"),t.type||(t.type=t.mimeType.split("/")[0])),t.type||(t.mimeType&&(t.type=t.mimeType.split("/")[0]),t.type||(t.type="audio")),t}function u(e,t){var n;return(v||f||g)&&(n=k),"undefined"!=typeof MediaRecorder&&"requestData"in MediaRecorder.prototype&&!v&&(n=E),"video"===t.type&&(v||g)&&(n=T,"undefined"!=typeof ReadableStream&&(n=P)),"gif"===t.type&&(n=O),"canvas"===t.type&&(n=A),F()&&n!==A&&n!==O&&"undefined"!=typeof MediaRecorder&&"requestData"in MediaRecorder.prototype&&(_(e,"video").length||_(e,"audio").length)&&("audio"===t.type?"function"==typeof MediaRecorder.isTypeSupported&&MediaRecorder.isTypeSupported("audio/webm")&&(n=E):"function"==typeof MediaRecorder.isTypeSupported&&MediaRecorder.isTypeSupported("video/webm")&&(n=E)),e instanceof Array&&e.length&&(n=M),t.recorderType&&(n=t.recorderType),!t.disableLogs&&n&&n.name&&console.log("Using recorderType:",n.name||n.constructor.name),!n&&y&&(n=E),n}function s(e){this.addStream=function(t){t&&(e=t)},this.mediaType={audio:!0,video:!0},this.startRecording=function(){var t,n=this.mediaType,i=this.mimeType||{audio:null,video:null,gif:null};if("function"!=typeof n.audio&&F()&&!_(e,"audio").length&&(n.audio=!1),"function"!=typeof n.video&&F()&&!_(e,"video").length&&(n.video=!1),"function"!=typeof n.gif&&F()&&!_(e,"video").length&&(n.gif=!1),!n.audio&&!n.video&&!n.gif)throw"MediaStream must have either audio or video tracks.";if(n.audio&&(t=null,"function"==typeof n.audio&&(t=n.audio),this.audioRecorder=new o(e,{type:"audio",bufferSize:this.bufferSize,sampleRate:this.sampleRate,numberOfAudioChannels:this.numberOfAudioChannels||2,disableLogs:this.disableLogs,recorderType:t,mimeType:i.audio,timeSlice:this.timeSlice,onTimeStamp:this.onTimeStamp}),n.video||this.audioRecorder.startRecording()),n.video){t=null,"function"==typeof n.video&&(t=n.video);var l=e;if(F()&&n.audio&&"function"==typeof n.audio){var r=_(e,"video")[0];m?((l=new b).addTrack(r),t&&t===T&&(t=E)):(l=new b).addTrack(r)}this.videoRecorder=new o(l,{type:"video",video:this.video,canvas:this.canvas,frameInterval:this.frameInterval||10,disableLogs:this.disableLogs,recorderType:t,mimeType:i.video,timeSlice:this.timeSlice,onTimeStamp:this.onTimeStamp,workerPath:this.workerPath,webAssemblyPath:this.webAssemblyPath,frameRate:this.frameRate,bitrate:this.bitrate}),n.audio||this.videoRecorder.startRecording()}if(n.audio&&n.video){var u=this,s=!0===F();n.audio instanceof k&&n.video?s=!1:!0!==n.audio&&!0!==n.video&&n.audio!==n.video&&(s=!1),!0===s?(u.audioRecorder=null,u.videoRecorder.startRecording()):u.videoRecorder.initRecorder(function(){u.audioRecorder.initRecorder(function(){u.videoRecorder.startRecording(),u.audioRecorder.startRecording()})})}n.gif&&(t=null,"function"==typeof n.gif&&(t=n.gif),this.gifRecorder=new o(e,{type:"gif",frameRate:this.frameRate||200,quality:this.quality||10,disableLogs:this.disableLogs,recorderType:t,mimeType:i.gif}),this.gifRecorder.startRecording())},this.stopRecording=function(e){e=e||function(){},this.audioRecorder&&this.audioRecorder.stopRecording(function(t){e(t,"audio")}),this.videoRecorder&&this.videoRecorder.stopRecording(function(t){e(t,"video")}),this.gifRecorder&&this.gifRecorder.stopRecording(function(t){e(t,"gif")})},this.pauseRecording=function(){this.audioRecorder&&this.audioRecorder.pauseRecording(),this.videoRecorder&&this.videoRecorder.pauseRecording(),this.gifRecorder&&this.gifRecorder.pauseRecording()},this.resumeRecording=function(){this.audioRecorder&&this.audioRecorder.resumeRecording(),this.videoRecorder&&this.videoRecorder.resumeRecording(),this.gifRecorder&&this.gifRecorder.resumeRecording()},this.getBlob=function(e){var t={};return this.audioRecorder&&(t.audio=this.audioRecorder.getBlob()),this.videoRecorder&&(t.video=this.videoRecorder.getBlob()),this.gifRecorder&&(t.gif=this.gifRecorder.getBlob()),e&&e(t),t},this.destroy=function(){this.audioRecorder&&(this.audioRecorder.destroy(),this.audioRecorder=null),this.videoRecorder&&(this.videoRecorder.destroy(),this.videoRecorder=null),this.gifRecorder&&(this.gifRecorder.destroy(),this.gifRecorder=null)},this.getDataURL=function(e){function t(e,t){if("undefined"!=typeof Worker){var n=function(e){var t,n=h.createObjectURL(new Blob([e.toString(),"this.onmessage =  function (eee) {"+e.name+"(eee.data);}"],{type:"application/javascript"})),i=new Worker(n);if(void 0!==h)t=h;else{if("undefined"==typeof webkitURL)throw"Neither URL nor webkitURL detected.";t=webkitURL}return t.revokeObjectURL(n),i}(function(e){postMessage((new FileReaderSync).readAsDataURL(e))});n.onmessage=function(e){t(e.data)},n.postMessage(e)}else{var i=new FileReader;i.readAsDataURL(e),i.onload=function(e){t(e.target.result)}}}this.getBlob(function(n){n.audio&&n.video?t(n.audio,function(i){t(n.video,function(t){e({audio:i,video:t})})}):n.audio?t(n.audio,function(t){e({audio:t})}):n.video&&t(n.video,function(t){e({video:t})})})},this.writeToDisk=function(){o.writeToDisk({audio:this.audioRecorder,video:this.videoRecorder,gif:this.gifRecorder})},this.save=function(e){(e=e||{audio:!0,video:!0,gif:!0}).audio&&this.audioRecorder&&this.audioRecorder.save("string"==typeof e.audio?e.audio:""),e.video&&this.videoRecorder&&this.videoRecorder.save("string"==typeof e.video?e.video:""),e.gif&&this.gifRecorder&&this.gifRecorder.save("string"==typeof e.gif?e.gif:"")}}o.version="5.5.8",e.exports=o,void 0===(i=(function(){return o}).apply(t,[]))||(e.exports=i),o.getFromDisk=function(e,t){if(!t)throw"callback is mandatory.";console.log("Getting recorded "+("all"===e?"blobs":e+" blob ")+" from disk!"),B.Fetch(function(n,i){"all"!==e&&i===e+"Blob"&&t&&t(n),"all"===e&&t&&t(n,i.replace("Blob",""))})},o.writeToDisk=function(e){console.log("Writing recorded blob(s) to disk!"),(e=e||{}).audio&&e.video&&e.gif?e.audio.getDataURL(function(t){e.video.getDataURL(function(n){e.gif.getDataURL(function(e){B.Store({audioBlob:t,videoBlob:n,gifBlob:e})})})}):e.audio&&e.video?e.audio.getDataURL(function(t){e.video.getDataURL(function(e){B.Store({audioBlob:t,videoBlob:e})})}):e.audio&&e.gif?e.audio.getDataURL(function(t){e.gif.getDataURL(function(e){B.Store({audioBlob:t,gifBlob:e})})}):e.video&&e.gif?e.video.getDataURL(function(t){e.gif.getDataURL(function(e){B.Store({videoBlob:t,gifBlob:e})})}):e.audio?e.audio.getDataURL(function(e){B.Store({audioBlob:e})}):e.video?e.video.getDataURL(function(e){B.Store({videoBlob:e})}):e.gif&&e.gif.getDataURL(function(e){B.Store({gifBlob:e})})},s.getFromDisk=o.getFromDisk,s.writeToDisk=o.writeToDisk,o.MRecordRTC=s,(l="undefined"!=typeof global?global:null)&&"undefined"==typeof window&&"undefined"!=typeof global&&(global.navigator={userAgent:"Fake/5.0 (FakeOS) AppleWebKit/123 (KHTML, like Gecko) Fake/12.3.4567.89 Fake/123.45",getUserMedia:function(){}},global.console||(global.console={}),void 0!==global.console.log&&void 0!==global.console.error||(global.console.error=global.console.log=global.console.log||function(){console.log(arguments)}),"undefined"==typeof document&&(l.document={documentElement:{appendChild:function(){return""}}},document.createElement=document.captureStream=document.mozCaptureStream=function(){var e={getContext:function(){return e},play:function(){},pause:function(){},drawImage:function(){},toDataURL:function(){return""},style:{}};return e},l.HTMLVideoElement=function(){}),"undefined"==typeof location&&(l.location={protocol:"file:",href:"",hash:""}),"undefined"==typeof screen&&(l.screen={width:0,height:0}),void 0===h&&(l.URL={createObjectURL:function(){return""},revokeObjectURL:function(){return""}}),l.window=global);var a=window.requestAnimationFrame;if(void 0===a)if("undefined"!=typeof webkitRequestAnimationFrame)a=webkitRequestAnimationFrame;else if("undefined"!=typeof mozRequestAnimationFrame)a=mozRequestAnimationFrame;else if("undefined"!=typeof msRequestAnimationFrame)a=msRequestAnimationFrame;else if(void 0===a){var c=0;a=function(e,t){var n=(new Date).getTime(),i=Math.max(0,16-(n-c)),l=setTimeout(function(){e(n+i)},i);return c=n+i,l}}var p=window.cancelAnimationFrame;void 0===p&&("undefined"!=typeof webkitCancelAnimationFrame?p=webkitCancelAnimationFrame:"undefined"!=typeof mozCancelAnimationFrame?p=mozCancelAnimationFrame:"undefined"!=typeof msCancelAnimationFrame?p=msCancelAnimationFrame:void 0===p&&(p=function(e){clearTimeout(e)}));var d=window.AudioContext;void 0===d&&("undefined"!=typeof webkitAudioContext&&(d=webkitAudioContext),"undefined"!=typeof mozAudioContext&&(d=mozAudioContext));var h=window.URL;void 0===h&&"undefined"!=typeof webkitURL&&(h=webkitURL),"undefined"!=typeof navigator&&void 0===navigator.getUserMedia&&(void 0!==navigator.webkitGetUserMedia&&(navigator.getUserMedia=navigator.webkitGetUserMedia),void 0!==navigator.mozGetUserMedia&&(navigator.getUserMedia=navigator.mozGetUserMedia));var f=!(-1===navigator.userAgent.indexOf("Edge")||!navigator.msSaveBlob&&!navigator.msSaveOrOpenBlob),g=!!window.opera||-1!==navigator.userAgent.indexOf("OPR/"),m=navigator.userAgent.toLowerCase().indexOf("firefox")>-1&&"netscape"in window&&/ rv:/.test(navigator.userAgent),v=!g&&!f&&!!navigator.webkitGetUserMedia||S()||-1!==navigator.userAgent.toLowerCase().indexOf("chrome/"),y=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);y&&!v&&-1!==navigator.userAgent.indexOf("CriOS")&&(y=!1,v=!0);var b=window.MediaStream;function D(e){if(0===e)return"0 Bytes";var t=parseInt(Math.floor(Math.log(e)/Math.log(1e3)),10);return(e/Math.pow(1e3,t)).toPrecision(3)+" "+["Bytes","KB","MB","GB","TB"][t]}function C(e,t){if(!e)throw"Blob object is required.";if(!e.type)try{e.type="video/webm"}catch(r){}var n=(e.type||"video/webm").split("/")[1];if(t&&-1!==t.indexOf(".")){var i=t.split(".");t=i[0],n=i[1]}var l=(t||Math.round(9999999999*Math.random())+888888888)+"."+n;if(void 0!==navigator.msSaveOrOpenBlob)return navigator.msSaveOrOpenBlob(e,l);if(void 0!==navigator.msSaveBlob)return navigator.msSaveBlob(e,l);var o=document.createElement("a");o.href=h.createObjectURL(e),o.download=l,o.style="display:none;opacity:0;color:transparent;",(document.body||document.documentElement).appendChild(o),"function"==typeof o.click?o.click():(o.target="_blank",o.dispatchEvent(new MouseEvent("click",{view:window,bubbles:!0,cancelable:!0}))),h.revokeObjectURL(o.href)}function S(){return"undefined"!=typeof window&&"object"==typeof window.process&&"renderer"===window.process.type||!("undefined"==typeof process||"object"!=typeof process.versions||!process.versions.electron)||"object"==typeof navigator&&"string"==typeof navigator.userAgent&&navigator.userAgent.indexOf("Electron")>=0}function _(e,t){return e&&e.getTracks?e.getTracks().filter(function(e){return e.kind===(t||"audio")}):[]}function w(e,t){"srcObject"in t?t.srcObject=e:"mozSrcObject"in t?t.mozSrcObject=e:t.srcObject=e}void 0===b&&"undefined"!=typeof webkitMediaStream&&(b=webkitMediaStream),void 0!==b&&void 0===b.prototype.stop&&(b.prototype.stop=function(){this.getTracks().forEach(function(e){e.stop()})}),o.invokeSaveAsDialog=C,o.getTracks=_,o.getSeekableBlob=function(e,t){if("undefined"==typeof EBML)throw new Error("Please link: https://cdn.webrtc-experiment.com/EBML.js");var n=new EBML.Reader,i=new EBML.Decoder,l=EBML.tools,o=new FileReader;o.onload=function(e){i.decode(this.result).forEach(function(e){n.read(e)}),n.stop();var o=l.makeMetadataSeekable(n.metadatas,n.duration,n.cues),r=this.result.slice(n.metadataSize),u=new Blob([o,r],{type:"video/webm"});t(u)},o.readAsArrayBuffer(e)},o.bytesToSize=D,o.isElectron=S;var x={};function F(){if(m||y||f)return!0;navigator;var e,t,n=navigator.userAgent,i=""+parseFloat(navigator.appVersion),l=parseInt(navigator.appVersion,10);return(v||g)&&(e=n.indexOf("Chrome"),i=n.substring(e+7)),-1!==(t=i.indexOf(";"))&&(i=i.substring(0,t)),-1!==(t=i.indexOf(" "))&&(i=i.substring(0,t)),l=parseInt(""+i,10),isNaN(l)&&(i=""+parseFloat(navigator.appVersion),l=parseInt(navigator.appVersion,10)),l>=49}function E(e,t){var n,i=this;if(void 0===e)throw'First argument "MediaStream" is required.';if("undefined"==typeof MediaRecorder)throw"Your browser does not support the Media Recorder API. Please try other modules e.g. WhammyRecorder or StereoAudioRecorder.";"audio"===(t=t||{mimeType:"video/webm"}).type&&(_(e,"video").length&&_(e,"audio").length&&(navigator.mozGetUserMedia?(n=new b).addTrack(_(e,"audio")[0]):n=new b(_(e,"audio")),e=n),t.mimeType&&-1!==t.mimeType.toString().toLowerCase().indexOf("audio")||(t.mimeType=v?"audio/webm":"audio/ogg"),t.mimeType&&"audio/ogg"!==t.mimeType.toString().toLowerCase()&&navigator.mozGetUserMedia&&(t.mimeType="audio/ogg"));var l,o=[];function r(){i.timestamps.push((new Date).getTime()),"function"==typeof t.onTimeStamp&&t.onTimeStamp(i.timestamps[i.timestamps.length-1],i.timestamps)}function u(e){return l&&l.mimeType?l.mimeType:e.mimeType||"video/webm"}function s(){o=[],l=null,i.timestamps=[]}this.getArrayOfBlobs=function(){return o},this.record=function(){i.blob=null,i.clearRecordedData(),i.timestamps=[],a=[],o=[];var n=t;t.disableLogs||console.log("Passing following config over MediaRecorder API.",n),l&&(l=null),v&&!F()&&(n="video/vp8"),"function"==typeof MediaRecorder.isTypeSupported&&n.mimeType&&(MediaRecorder.isTypeSupported(n.mimeType)||(t.disableLogs||console.warn("MediaRecorder API seems unable to record mimeType:",n.mimeType),n.mimeType="audio"===t.type?"audio/webm":"video/webm"));try{l=new MediaRecorder(e,n),t.mimeType=n.mimeType}catch(s){l=new MediaRecorder(e)}n.mimeType&&!MediaRecorder.isTypeSupported&&"canRecordMimeType"in l&&!1===l.canRecordMimeType(n.mimeType)&&(t.disableLogs||console.warn("MediaRecorder API seems unable to record mimeType:",n.mimeType)),l.ondataavailable=function(e){if(e.data&&a.push("ondataavailable: "+D(e.data.size)),"number"!=typeof t.timeSlice)!e.data||!e.data.size||e.data.size<100||i.blob?i.recordingCallback&&(i.recordingCallback(new Blob([],{type:u(n)})),i.recordingCallback=null):(i.blob=t.getNativeBlob?e.data:new Blob([e.data],{type:u(n)}),i.recordingCallback&&(i.recordingCallback(i.blob),i.recordingCallback=null));else if(e.data&&e.data.size&&e.data.size>100&&(o.push(e.data),r(),"function"==typeof t.ondataavailable)){var l=t.getNativeBlob?e.data:new Blob([e.data],{type:u(n)});t.ondataavailable(l)}},l.onstart=function(){a.push("started")},l.onpause=function(){a.push("paused")},l.onresume=function(){a.push("resumed")},l.onstop=function(){a.push("stopped")},l.onerror=function(e){e&&(e.name||(e.name="UnknownError"),a.push("error: "+e),t.disableLogs||(-1!==e.name.toString().toLowerCase().indexOf("invalidstate")?console.error("The MediaRecorder is not in a state in which the proposed operation is allowed to be executed.",e):-1!==e.name.toString().toLowerCase().indexOf("notsupported")?console.error("MIME type (",n.mimeType,") is not supported.",e):-1!==e.name.toString().toLowerCase().indexOf("security")?console.error("MediaRecorder security error",e):"OutOfMemory"===e.name?console.error("The UA has exhaused the available memory. User agents SHOULD provide as much additional information as possible in the message attribute.",e):"IllegalStreamModification"===e.name?console.error("A modification to the stream has occurred that makes it impossible to continue recording. An example would be the addition of a Track while recording is occurring. User agents SHOULD provide as much additional information as possible in the message attribute.",e):"OtherRecordingError"===e.name?console.error("Used for an fatal error other than those listed above. User agents SHOULD provide as much additional information as possible in the message attribute.",e):"GenericError"===e.name?console.error("The UA cannot provide the codec or recording option that has been requested.",e):console.error("MediaRecorder Error",e)),function(e){if(!i.manuallyStopped&&l&&"inactive"===l.state)return delete t.timeslice,void l.start(6e5);setTimeout(void 0,1e3)}(),"inactive"!==l.state&&"stopped"!==l.state&&l.stop())},"number"==typeof t.timeSlice?(r(),l.start(t.timeSlice)):l.start(36e5),t.initCallback&&t.initCallback()},this.timestamps=[],this.stop=function(e){e=e||function(){},i.manuallyStopped=!0,l&&(this.recordingCallback=e,"recording"===l.state&&l.stop(),"number"==typeof t.timeSlice&&setTimeout(function(){i.blob=new Blob(o,{type:u(t)}),i.recordingCallback(i.blob)},100))},this.pause=function(){l&&"recording"===l.state&&l.pause()},this.resume=function(){l&&"paused"===l.state&&l.resume()},this.clearRecordedData=function(){l&&"recording"===l.state&&i.stop(s),s()},this.getInternalRecorder=function(){return l},this.blob=null,this.getState=function(){return l&&l.state||"inactive"};var a=[];this.getAllStates=function(){return a},void 0===t.checkForInactiveTracks&&(t.checkForInactiveTracks=!1),i=this,function n(){if(l&&!1!==t.checkForInactiveTracks)return!1===function(){if("active"in e){if(!e.active)return!1}else if("ended"in e&&e.ended)return!1;return!0}()?(t.disableLogs||console.log("MediaStream seems stopped."),void i.stop()):void setTimeout(n,1e3)}(),this.name="MediaStreamRecorder",this.toString=function(){return this.name}}function k(e,t){if(!_(e,"audio").length)throw"Your stream has no audio tracks.";var n,i=this,l=[],o=[],r=!1,u=0,s=2,a=(t=t||{}).desiredSampRate;function c(){if(!1===t.checkForInactiveTracks)return!0;if("active"in e){if(!e.active)return!1}else if("ended"in e&&e.ended)return!1;return!0}function p(e,t){function n(e,t){var n,i=e.numberOfAudioChannels,l=e.leftBuffers.slice(0),o=e.rightBuffers.slice(0),r=e.sampleRate,u=e.internalInterleavedLength,s=e.desiredSampRate;function a(e,t,n){var i=Math.round(e.length*(t/n)),l=[],o=Number((e.length-1)/(i-1));l[0]=e[0];for(var r=1;r<i-1;r++){var u=r*o,s=Number(Math.floor(u)).toFixed(),a=Number(Math.ceil(u)).toFixed();l[r]=c(e[s],e[a],u-s)}return l[i-1]=e[e.length-1],l}function c(e,t,n){return e+(t-e)*n}function p(e,t){for(var n=new Float64Array(t),i=0,l=e.length,o=0;o<l;o++){var r=e[o];n.set(r,i),i+=r.length}return n}function d(e,t,n){for(var i=n.length,l=0;l<i;l++)e.setUint8(t+l,n.charCodeAt(l))}2===i&&(l=p(l,u),o=p(o,u),s&&(l=a(l,s,r),o=a(o,s,r))),1===i&&(l=p(l,u),s&&(l=a(l,s,r))),s&&(r=s),2===i&&(n=function(e,t){for(var n=e.length+t.length,i=new Float64Array(n),l=0,o=0;o<n;)i[o++]=e[l],i[o++]=t[l],l++;return i}(l,o)),1===i&&(n=l);var h=n.length,f=new ArrayBuffer(44+2*h),g=new DataView(f);d(g,0,"RIFF"),g.setUint32(4,36+2*h,!0),d(g,8,"WAVE"),d(g,12,"fmt "),g.setUint32(16,16,!0),g.setUint16(20,1,!0),g.setUint16(22,i,!0),g.setUint32(24,r,!0),g.setUint32(28,2*r,!0),g.setUint16(32,2*i,!0),g.setUint16(34,16,!0),d(g,36,"data"),g.setUint32(40,2*h,!0);for(var m=h,v=44,y=0;y<m;y++)g.setInt16(v,32767*n[y],!0),v+=2;if(t)return t({buffer:f,view:g});postMessage({buffer:f,view:g})}if(e.noWorker)n(e,function(e){t(e.buffer,e.view)});else{var i,l,o,r=(i=n,l=h.createObjectURL(new Blob([i.toString(),";this.onmessage =  function (eee) {"+i.name+"(eee.data);}"],{type:"application/javascript"})),(o=new Worker(l)).workerURL=l,o);r.onmessage=function(e){t(e.data.buffer,e.data.view),h.revokeObjectURL(r.workerURL),r.terminate()},r.postMessage(e)}}if(!0===t.leftChannel&&(s=1),1===t.numberOfAudioChannels&&(s=1),(!s||s<1)&&(s=2),t.disableLogs||console.log("StereoAudioRecorder is set to record number of channels: "+s),void 0===t.checkForInactiveTracks&&(t.checkForInactiveTracks=!0),this.record=function(){if(!1===c())throw"Please make sure MediaStream is active.";D(),S=b=!1,r=!0,void 0!==t.timeSlice&&x()},this.stop=function(e){e=e||function(){},r=!1,p({desiredSampRate:a,sampleRate:y,numberOfAudioChannels:s,internalInterleavedLength:u,leftBuffers:l,rightBuffers:1===s?[]:o,noWorker:t.noWorker},function(t,n){i.blob=new Blob([n],{type:"audio/wav"}),i.buffer=new ArrayBuffer(n.buffer.byteLength),i.view=n,i.sampleRate=a||y,i.bufferSize=v,i.length=u,S=!1,e&&e(i.blob)})},void 0===d)var d={AudioContextConstructor:null,AudioContext:window.AudioContext||window.webkitAudioContext};d.AudioContextConstructor||(d.AudioContextConstructor=new d.AudioContext);var f=d.AudioContextConstructor,g=f.createMediaStreamSource(e),m=[0,256,512,1024,2048,4096,8192,16384],v=void 0===t.bufferSize?4096:t.bufferSize;if(-1===m.indexOf(v)&&(t.disableLogs||console.log("Legal values for buffer-size are "+JSON.stringify(m,null,"\t"))),f.createJavaScriptNode)n=f.createJavaScriptNode(v,s,s);else{if(!f.createScriptProcessor)throw"WebAudio API has no support on this browser.";n=f.createScriptProcessor(v,s,s)}g.connect(n),t.bufferSize||(v=n.bufferSize);var y=void 0!==t.sampleRate?t.sampleRate:f.sampleRate||44100;(y<22050||y>96e3)&&(t.disableLogs||console.log("sample-rate must be under range 22050 and 96000.")),t.disableLogs||t.desiredSampRate&&console.log("Desired sample-rate: "+t.desiredSampRate);var b=!1;function D(){o=[],u=0,S=!1,r=!1,b=!1,f=null,i.leftchannel=l=[],i.rightchannel=o,i.numberOfAudioChannels=s,i.desiredSampRate=a,i.sampleRate=y,i.recordingLength=u,w={left:[],right:[],recordingLength:0}}function C(){n&&(n.onaudioprocess=null,n.disconnect(),n=null),g&&(g.disconnect(),g=null),D()}this.pause=function(){b=!0},this.resume=function(){if(!1===c())throw"Please make sure MediaStream is active.";if(!r)return t.disableLogs||console.log("Seems recording has been restarted."),void this.record();b=!1},this.clearRecordedData=function(){t.checkForInactiveTracks=!1,r&&this.stop(C),C()},this.name="StereoAudioRecorder",this.toString=function(){return this.name};var S=!1;n.onaudioprocess=function(e){if(!b)if(!1===c()&&(t.disableLogs||console.log("MediaStream seems stopped."),n.disconnect(),r=!1),r){S||(S=!0,t.onAudioProcessStarted&&t.onAudioProcessStarted(),t.initCallback&&t.initCallback());var a=e.inputBuffer.getChannelData(0),p=new Float32Array(a);if(l.push(p),2===s){var d=e.inputBuffer.getChannelData(1),h=new Float32Array(d);o.push(h)}i.recordingLength=u+=v,void 0!==t.timeSlice&&(w.recordingLength+=v,w.left.push(p),2===s&&w.right.push(h))}else g&&(g.disconnect(),g=null)},n.connect(f.createMediaStreamDestination?f.createMediaStreamDestination():f.destination),this.leftchannel=l,this.rightchannel=o,this.numberOfAudioChannels=s,this.desiredSampRate=a,this.sampleRate=y,i.recordingLength=u;var w={left:[],right:[],recordingLength:0};function x(){r&&"function"==typeof t.ondataavailable&&void 0!==t.timeSlice&&(w.left.length?(p({desiredSampRate:a,sampleRate:y,numberOfAudioChannels:s,internalInterleavedLength:w.recordingLength,leftBuffers:w.left,rightBuffers:1===s?[]:w.right},function(e,n){var i=new Blob([n],{type:"audio/wav"});t.ondataavailable(i),setTimeout(x,t.timeSlice)}),w={left:[],right:[],recordingLength:0}):setTimeout(x,t.timeSlice))}}function A(e,t){if("undefined"==typeof html2canvas)throw"Please link: https://cdn.webrtc-experiment.com/screenshot.js";(t=t||{}).frameInterval||(t.frameInterval=10);var n=!1;["captureStream","mozCaptureStream","webkitCaptureStream"].forEach(function(e){e in document.createElement("canvas")&&(n=!0)});var i,l,o,r=!(!window.webkitRTCPeerConnection&&!window.webkitGetUserMedia||!window.chrome),u=50,s=navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./);if(r&&s&&s[2]&&(u=parseInt(s[2],10)),r&&u<52&&(n=!1),t.useWhammyRecorder&&(n=!1),n)if(t.disableLogs||console.log("Your browser supports both MediRecorder API and canvas.captureStream!"),e instanceof HTMLCanvasElement)i=e;else{if(!(e instanceof CanvasRenderingContext2D))throw"Please pass either HTMLCanvasElement or CanvasRenderingContext2D.";i=e.canvas}else navigator.mozGetUserMedia&&(t.disableLogs||console.error("Canvas recording is NOT supported in Firefox."));this.record=function(){if(o=!0,n&&!t.useWhammyRecorder){var e;"captureStream"in i?e=i.captureStream(25):"mozCaptureStream"in i?e=i.mozCaptureStream(25):"webkitCaptureStream"in i&&(e=i.webkitCaptureStream(25));try{var r=new b;r.addTrack(_(e,"video")[0]),e=r}catch(u){}if(!e)throw"captureStream API are NOT available.";(l=new E(e,{mimeType:t.mimeType||"video/webm"})).record()}else h.frames=[],d=(new Date).getTime(),p();t.initCallback&&t.initCallback()},this.getWebPImages=function(n){if("canvas"===e.nodeName.toLowerCase()){var i=h.frames.length;h.frames.forEach(function(e,n){var l=i-n;t.disableLogs||console.log(l+"/"+i+" frames remaining"),t.onEncodingCallback&&t.onEncodingCallback(l,i);var o=e.image.toDataURL("image/webp",1);h.frames[n].image=o}),t.disableLogs||console.log("Generating WebM"),n()}else n()},this.stop=function(e){o=!1;var i=this;n&&l?l.stop(e):this.getWebPImages(function(){h.compile(function(n){t.disableLogs||console.log("Recording finished!"),i.blob=n,i.blob.forEach&&(i.blob=new Blob([],{type:"video/webm"})),e&&e(i.blob),h.frames=[]})})};var a=!1;function c(){h.frames=[],o=!1,a=!1}function p(){if(a)return d=(new Date).getTime(),setTimeout(p,500);if("canvas"===e.nodeName.toLowerCase()){var n=(new Date).getTime()-d;return d=(new Date).getTime(),h.frames.push({image:(i=document.createElement("canvas"),l=i.getContext("2d"),i.width=e.width,i.height=e.height,l.drawImage(e,0,0),i),duration:n}),void(o&&setTimeout(p,t.frameInterval))}var i,l;html2canvas(e,{grabMouse:void 0===t.showMousePointer||t.showMousePointer,onrendered:function(e){var n=(new Date).getTime()-d;if(!n)return setTimeout(p,t.frameInterval);d=(new Date).getTime(),h.frames.push({image:e.toDataURL("image/webp",1),duration:n}),o&&setTimeout(p,t.frameInterval)}})}this.pause=function(){a=!0,l instanceof E&&l.pause()},this.resume=function(){a=!1,l instanceof E?l.resume():o||this.record()},this.clearRecordedData=function(){o&&this.stop(c),c()},this.name="CanvasRecorder",this.toString=function(){return this.name};var d=(new Date).getTime(),h=new I.Video(100)}function T(e,t){function n(e){e=void 0!==e?e:10;var t=(new Date).getTime()-u;return t?l?(u=(new Date).getTime(),setTimeout(n,100)):(u=(new Date).getTime(),r.paused&&r.play(),c.drawImage(r,0,0,a.width,a.height),s.frames.push({duration:t,image:a.toDataURL("image/webp")}),void(i||setTimeout(n,e,e))):setTimeout(n,e,e)}(t=t||{}).frameInterval||(t.frameInterval=10),t.disableLogs||console.log("Using frames-interval:",t.frameInterval),this.record=function(){t.width||(t.width=320),t.height||(t.height=240),t.video||(t.video={width:t.width,height:t.height}),t.canvas||(t.canvas={width:t.width,height:t.height}),a.width=t.canvas.width||320,a.height=t.canvas.height||240,c=a.getContext("2d"),t.video&&t.video instanceof HTMLVideoElement?(r=t.video.cloneNode(),t.initCallback&&t.initCallback()):(r=document.createElement("video"),w(e,r),r.onloadedmetadata=function(){t.initCallback&&t.initCallback()},r.width=t.video.width,r.height=t.video.height),r.muted=!0,r.play(),u=(new Date).getTime(),s=new I.Video,t.disableLogs||(console.log("canvas resolutions",a.width,"*",a.height),console.log("video width/height",r.width||a.width,"*",r.height||a.height)),n(t.frameInterval)};var i=!1;this.stop=function(e){e=e||function(){},i=!0;var n=this;setTimeout(function(){!function(e,t,n,i,l){var o=document.createElement("canvas");o.width=a.width,o.height=a.height;var r,u,s,c=o.getContext("2d"),p=[],d=e.length,h=Math.sqrt(Math.pow(255,2)+Math.pow(255,2)+Math.pow(255,2)),f=!1;u=-1,s=(r={length:d,functionToLoop:function(t,n){var i,l,o,r=function(){!f&&o-i<=0*o||(f=!0,p.push(e[n])),t()};if(f)r();else{var u=new Image;u.onload=function(){c.drawImage(u,0,0,a.width,a.height);var e=c.getImageData(0,0,a.width,a.height);i=0,l=e.data.length,o=e.data.length/4;for(var t=0;t<l;t+=4){var n={r:e.data[t],g:e.data[t+1],b:e.data[t+2]};Math.sqrt(Math.pow(n.r-0,2)+Math.pow(n.g-0,2)+Math.pow(n.b-0,2))<=0*h&&i++}r()},u.src=e[n].image}},callback:function(){(p=p.concat(e.slice(d))).length<=0&&p.push(e[e.length-1]),l(p)}}).length,function e(){++u!==s?setTimeout(function(){r.functionToLoop(e,u)},1):r.callback()}()}(s.frames,0,0,0,function(i){s.frames=i,t.advertisement&&t.advertisement.length&&(s.frames=t.advertisement.concat(s.frames)),s.compile(function(t){n.blob=t,n.blob.forEach&&(n.blob=new Blob([],{type:"video/webm"})),e&&e(n.blob)})})},10)};var l=!1;function o(){s.frames=[],i=!0,l=!1}this.pause=function(){l=!0},this.resume=function(){l=!1,i&&this.record()},this.clearRecordedData=function(){i||this.stop(o),o()},this.name="WhammyRecorder",this.toString=function(){return this.name};var r,u,s,a=document.createElement("canvas"),c=a.getContext("2d")}void 0!==d?x.AudioContext=d:"undefined"!=typeof webkitAudioContext&&(x.AudioContext=webkitAudioContext),o.Storage=x,o.MediaStreamRecorder=E,o.StereoAudioRecorder=k,o.CanvasRecorder=A,o.WhammyRecorder=T;var I=function(){function e(e){this.frames=[],this.duration=e||1,this.quality=.8}function t(e){function t(e,t,n){return[{data:e,id:231}].concat(n.map(function(e){var n=function(e){var t=0;if(e.keyframe&&(t|=128),e.invisible&&(t|=8),e.lacing&&(t|=e.lacing<<1),e.discardable&&(t|=1),e.trackNum>127)throw"TrackNumber > 127 not supported";return[128|e.trackNum,e.timecode>>8,255&e.timecode,t].map(function(e){return String.fromCharCode(e)}).join("")+e.frame}({discardable:0,frame:e.data.slice(4),invisible:0,keyframe:1,lacing:0,trackNum:1,timecode:Math.round(t)});return t+=e.duration,{data:n,id:163}}))}function n(e){for(var t=[];e>0;)t.push(255&e),e>>=8;return new Uint8Array(t.reverse())}function i(e){var t=[];e=(e.length%8?new Array(9-e.length%8).join("0"):"")+e;for(var n=0;n<e.length;n+=8)t.push(parseInt(e.substr(n,8),2));return new Uint8Array(t)}function l(e,t){return parseInt(e.substr(t+4,4).split("").map(function(e){var t=e.charCodeAt(0).toString(2);return new Array(8-t.length+1).join("0")+t}).join(""),2)}var o=new function(e){var l=function(e){if(e[0]){for(var t=e[0].width,n=e[0].height,i=e[0].duration,l=1;l<e.length;l++)i+=e[l].duration;return{duration:i,width:t,height:n}}postMessage({error:"Something went wrong. Maybe WebP format is not supported in the current browser."})}(e);if(!l)return[];for(var o,r=[{id:440786851,data:[{data:1,id:17030},{data:1,id:17143},{data:4,id:17138},{data:8,id:17139},{data:"webm",id:17026},{data:2,id:17031},{data:2,id:17029}]},{id:408125543,data:[{id:357149030,data:[{data:1e6,id:2807729},{data:"whammy",id:19840},{data:"whammy",id:22337},{data:(o=l.duration,[].slice.call(new Uint8Array(new Float64Array([o]).buffer),0).map(function(e){return String.fromCharCode(e)}).reverse().join("")),id:17545}]},{id:374648427,data:[{id:174,data:[{data:1,id:215},{data:1,id:29637},{data:0,id:156},{data:"und",id:2274716},{data:"V_VP8",id:134},{data:"VP8",id:2459272},{data:1,id:131},{id:224,data:[{data:l.width,id:176},{data:l.height,id:186}]}]}]}]}],u=0,s=0;u<e.length;){var a=[],c=0;do{a.push(e[u]),c+=e[u].duration,u++}while(u<e.length&&c<3e4);var p={id:524531317,data:t(s,0,a)};r[1].data.push(p),s+=c}return function e(t){for(var l=[],o=0;o<t.length;o++){var r=t[o].data;"object"==typeof r&&(r=e(r)),"number"==typeof r&&(r=i(r.toString(2))),"string"==typeof r&&(r=new Uint8Array(r.split("").map(function(e){return e.charCodeAt(0)})));var u=r.size||r.byteLength||r.length,s=Math.ceil(Math.ceil(Math.log(u)/Math.log(2))/8),a=u.toString(2),c=new Array(7*s+7+1-a.length).join("0")+a,p=new Array(s).join("0")+"1"+c;l.push(n(t[o].id)),l.push(i(p)),l.push(r)}return new Blob(l,{type:"video/webm"})}(r)}(e.map(function(e){var t=function(e){for(var t=e.RIFF[0].WEBP[0],n=t.indexOf("\x9d\x01*"),i=0,l=[];i<4;i++)l[i]=t.charCodeAt(n+3+i);return{width:16383&(l[1]<<8|l[0]),height:16383&(l[3]<<8|l[2]),data:t,riff:e}}(function e(t){for(var n=0,i={};n<t.length;){var o=t.substr(n,4),r=l(t,n),u=t.substr(n+4+4,r);n+=8+r,i[o]=i[o]||[],i[o].push("RIFF"===o||"LIST"===o?e(u):u)}return i}(atob(e.image.slice(23))));return t.duration=e.duration,t}));postMessage(o)}return e.prototype.add=function(e,t){if("canvas"in e&&(e=e.canvas),"toDataURL"in e&&(e=e.toDataURL("image/webp",this.quality)),!/^data:image\/webp;base64,/gi.test(e))throw"Input must be formatted properly as a base64 encoded DataURI of type image/webp";this.frames.push({image:e,duration:t||this.duration})},e.prototype.compile=function(e){var n,i,l,o=(n=t,i=h.createObjectURL(new Blob([n.toString(),"this.onmessage =  function (eee) {"+n.name+"(eee.data);}"],{type:"application/javascript"})),l=new Worker(i),h.revokeObjectURL(i),l);o.onmessage=function(t){t.data.error?console.error(t.data.error):e(t.data)},o.postMessage(this.frames)},{Video:e}}();o.Whammy=I;var B={init:function(){var e=this;if("undefined"!=typeof indexedDB&&void 0!==indexedDB.open){var t,n=this.dbName||location.href.replace(/\/|:|#|%|\.|\[|\]/g,""),i=indexedDB.open(n,1);i.onerror=e.onError,i.onsuccess=function(){(t=i.result).onerror=e.onError,t.setVersion&&1!==t.version?t.setVersion(1).onsuccess=function(){l(t),o()}:o()},i.onupgradeneeded=function(e){l(e.target.result)}}else console.error("IndexedDB API are not available in this browser.");function l(t){t.createObjectStore(e.dataStoreName)}function o(){var n=t.transaction([e.dataStoreName],"readwrite");function i(t){n.objectStore(e.dataStoreName).get(t).onsuccess=function(n){e.callback&&e.callback(n.target.result,t)}}e.videoBlob&&n.objectStore(e.dataStoreName).put(e.videoBlob,"videoBlob"),e.gifBlob&&n.objectStore(e.dataStoreName).put(e.gifBlob,"gifBlob"),e.audioBlob&&n.objectStore(e.dataStoreName).put(e.audioBlob,"audioBlob"),i("audioBlob"),i("videoBlob"),i("gifBlob")}},Fetch:function(e){return this.callback=e,this.init(),this},Store:function(e){return this.audioBlob=e.audioBlob,this.videoBlob=e.videoBlob,this.gifBlob=e.gifBlob,this.init(),this},onError:function(e){console.error(JSON.stringify(e,null,"\t"))},dataStoreName:"recordRTC",dbName:null};function O(e,t){if("undefined"==typeof GIFEncoder){var n=document.createElement("script");n.src="https://cdn.webrtc-experiment.com/gif-recorder.js",(document.body||document.documentElement).appendChild(n)}t=t||{};var i=e instanceof CanvasRenderingContext2D||e instanceof HTMLCanvasElement;this.record=function(){"undefined"!=typeof GIFEncoder&&u?(i||(t.width||(t.width=s.offsetWidth||320),t.height||(t.height=s.offsetHeight||240),t.video||(t.video={width:t.width,height:t.height}),t.canvas||(t.canvas={width:t.width,height:t.height}),o.width=t.canvas.width||320,o.height=t.canvas.height||240,s.width=t.video.width||320,s.height=t.video.height||240),(d=new GIFEncoder).setRepeat(0),d.setDelay(t.frameRate||200),d.setQuality(t.quality||10),d.start(),"function"==typeof t.onGifRecordingStarted&&t.onGifRecordingStarted(),Date.now(),h=a(function e(n){if(!0!==f.clearedRecordedData){if(l)return setTimeout(function(){e(n)},100);h=a(e),void 0===typeof c&&(c=n),n-c<90||(!i&&s.paused&&s.play(),i||r.drawImage(s,0,0,o.width,o.height),t.onGifPreview&&t.onGifPreview(o.toDataURL("image/png")),d.addFrame(r),c=n)}}),t.initCallback&&t.initCallback()):setTimeout(f.record,1e3)},this.stop=function(e){e=e||function(){},h&&p(h),Date.now(),this.blob=new Blob([new Uint8Array(d.stream().bin)],{type:"image/gif"}),e(this.blob),d.stream().bin=[]};var l=!1;this.pause=function(){l=!0},this.resume=function(){l=!1},this.clearRecordedData=function(){f.clearedRecordedData=!0,d&&(d.stream().bin=[])},this.name="GifRecorder",this.toString=function(){return this.name};var o=document.createElement("canvas"),r=o.getContext("2d");i&&(e instanceof CanvasRenderingContext2D?o=(r=e).canvas:e instanceof HTMLCanvasElement&&(r=e.getContext("2d"),o=e));var u=!0;if(!i){var s=document.createElement("video");s.muted=!0,s.autoplay=!0,u=!1,s.onloadedmetadata=function(){u=!0},w(e,s),s.play()}var c,d,h=null,f=this}function R(e,t){"undefined"!=typeof global&&global,t=t||"multi-streams-mixer";var n=[],i=!1,l=document.createElement("canvas"),o=l.getContext("2d");l.style.opacity=0,l.style.position="absolute",l.style.zIndex=-1,l.style.top="-1000em",l.style.left="-1000em",l.className=t,(document.body||document.documentElement).appendChild(l),this.disableLogs=!1,this.frameInterval=10,this.width=360,this.height=240,this.useGainNode=!0;var r=this,u=window.AudioContext;void 0===u&&("undefined"!=typeof webkitAudioContext&&(u=webkitAudioContext),"undefined"!=typeof mozAudioContext&&(u=mozAudioContext));var s=window.URL;void 0===s&&"undefined"!=typeof webkitURL&&(s=webkitURL),"undefined"!=typeof navigator&&void 0===navigator.getUserMedia&&(void 0!==navigator.webkitGetUserMedia&&(navigator.getUserMedia=navigator.webkitGetUserMedia),void 0!==navigator.mozGetUserMedia&&(navigator.getUserMedia=navigator.mozGetUserMedia));var a=window.MediaStream;void 0===a&&"undefined"!=typeof webkitMediaStream&&(a=webkitMediaStream),void 0!==a&&void 0===a.prototype.stop&&(a.prototype.stop=function(){this.getTracks().forEach(function(e){e.stop()})});var c={};function p(){if(!i){var e=n.length,t=!1,o=[];if(n.forEach(function(e){e.stream||(e.stream={}),e.stream.fullcanvas?t=e:o.push(e)}),t)l.width=t.stream.width,l.height=t.stream.height;else if(o.length){l.width=e>1?2*o[0].width:o[0].width;var u=1;3!==e&&4!==e||(u=2),5!==e&&6!==e||(u=3),7!==e&&8!==e||(u=4),9!==e&&10!==e||(u=5),l.height=o[0].height*u}else l.width=r.width||360,l.height=r.height||240;t&&t instanceof HTMLVideoElement&&d(t),o.forEach(function(e,t){d(e,t)}),setTimeout(p,r.frameInterval)}}function d(e,t){if(!i){var n=0,l=0,r=e.width,u=e.height;1===t&&(n=e.width),2===t&&(l=e.height),3===t&&(n=e.width,l=e.height),4===t&&(l=2*e.height),5===t&&(n=e.width,l=2*e.height),6===t&&(l=3*e.height),7===t&&(n=e.width,l=3*e.height),void 0!==e.stream.left&&(n=e.stream.left),void 0!==e.stream.top&&(l=e.stream.top),void 0!==e.stream.width&&(r=e.stream.width),void 0!==e.stream.height&&(u=e.stream.height),o.drawImage(e,n,l,r,u),"function"==typeof e.stream.onRender&&e.stream.onRender(o,n,l,r,u,t)}}function h(e){var n=document.createElement("video");return function(e,t){"srcObject"in t?t.srcObject=e:"mozSrcObject"in t?t.mozSrcObject=e:t.srcObject=e}(e,n),n.className=t,n.muted=!0,n.volume=0,n.width=e.width||r.width||360,n.height=e.height||r.height||240,n.play(),n}function f(t){n=[],(t=t||e).forEach(function(e){if(e.getTracks().filter(function(e){return"video"===e.kind}).length){var t=h(e);t.stream=e,n.push(t)}})}void 0!==u?c.AudioContext=u:"undefined"!=typeof webkitAudioContext&&(c.AudioContext=webkitAudioContext),this.startDrawingFrames=function(){p()},this.appendStreams=function(t){if(!t)throw"First parameter is required.";t instanceof Array||(t=[t]),t.forEach(function(t){var i=new a;if(t.getTracks().filter(function(e){return"video"===e.kind}).length){var l=h(t);l.stream=t,n.push(l),i.addTrack(t.getTracks().filter(function(e){return"video"===e.kind})[0])}if(t.getTracks().filter(function(e){return"audio"===e.kind}).length){var o=r.audioContext.createMediaStreamSource(t);r.audioDestination=r.audioContext.createMediaStreamDestination(),o.connect(r.audioDestination),i.addTrack(r.audioDestination.stream.getTracks().filter(function(e){return"audio"===e.kind})[0])}e.push(i)})},this.releaseStreams=function(){n=[],i=!0,r.gainNode&&(r.gainNode.disconnect(),r.gainNode=null),r.audioSources.length&&(r.audioSources.forEach(function(e){e.disconnect()}),r.audioSources=[]),r.audioDestination&&(r.audioDestination.disconnect(),r.audioDestination=null),r.audioContext&&r.audioContext.close(),r.audioContext=null,o.clearRect(0,0,l.width,l.height),l.stream&&(l.stream.stop(),l.stream=null)},this.resetVideoStreams=function(e){!e||e instanceof Array||(e=[e]),f(e)},this.name="MultiStreamsMixer",this.toString=function(){return this.name},this.getMixedStream=function(){i=!1;var t=function(){var e;f(),"captureStream"in l?e=l.captureStream():"mozCaptureStream"in l?e=l.mozCaptureStream():r.disableLogs||console.error("Upgrade to latest Chrome or otherwise enable this flag: chrome://flags/#enable-experimental-web-platform-features");var t=new a;return e.getTracks().filter(function(e){return"video"===e.kind}).forEach(function(e){t.addTrack(e)}),l.stream=t,t}(),n=function(){c.AudioContextConstructor||(c.AudioContextConstructor=new c.AudioContext),r.audioContext=c.AudioContextConstructor,r.audioSources=[],!0===r.useGainNode&&(r.gainNode=r.audioContext.createGain(),r.gainNode.connect(r.audioContext.destination),r.gainNode.gain.value=0);var t=0;if(e.forEach(function(e){if(e.getTracks().filter(function(e){return"audio"===e.kind}).length){t++;var n=r.audioContext.createMediaStreamSource(e);!0===r.useGainNode&&n.connect(r.gainNode),r.audioSources.push(n)}}),t)return r.audioDestination=r.audioContext.createMediaStreamDestination(),r.audioSources.forEach(function(e){e.connect(r.audioDestination)}),r.audioDestination.stream}();return n&&n.getTracks().filter(function(e){return"audio"===e.kind}).forEach(function(e){t.addTrack(e)}),e.forEach(function(e){}),t}}function M(e,t){e=e||[];var n,i,l=this;(t=t||{elementClass:"multi-streams-mixer",mimeType:"video/webm",video:{width:360,height:240}}).frameInterval||(t.frameInterval=10),t.video||(t.video={}),t.video.width||(t.video.width=360),t.video.height||(t.video.height=240),this.record=function(){var l;n=new R(e,t.elementClass||"multi-streams-mixer"),(l=[],e.forEach(function(e){_(e,"video").forEach(function(e){l.push(e)})}),l).length&&(n.frameInterval=t.frameInterval||10,n.width=t.video.width||360,n.height=t.video.height||240,n.startDrawingFrames()),t.previewStream&&"function"==typeof t.previewStream&&t.previewStream(n.getMixedStream()),(i=new E(n.getMixedStream(),t)).record()},this.stop=function(e){i&&i.stop(function(t){l.blob=t,e(t),l.clearRecordedData()})},this.pause=function(){i&&i.pause()},this.resume=function(){i&&i.resume()},this.clearRecordedData=function(){i&&(i.clearRecordedData(),i=null),n&&(n.releaseStreams(),n=null)},this.addStreams=function(l){if(!l)throw"First parameter is required.";l instanceof Array||(l=[l]),e.concat(l),i&&n&&(n.appendStreams(l),t.previewStream&&"function"==typeof t.previewStream&&t.previewStream(n.getMixedStream()))},this.resetVideoStreams=function(e){n&&(!e||e instanceof Array||(e=[e]),n.resetVideoStreams(e))},this.getMixer=function(e){return n},this.name="MultiStreamRecorder",this.toString=function(){return this.name}}function P(e,t){function n(){return new ReadableStream({start:function(n){var i=document.createElement("canvas"),l=document.createElement("video");l.srcObject=e,l.onplaying=function(){i.width=t.width,i.height=t.height;var e=i.getContext("2d"),o=1e3/t.frameRate;setTimeout(function i(){e.drawImage(l,0,0),n.enqueue(e.getImageData(0,0,t.width,t.height)),setTimeout(i,o)},o)},l.play()}})}var i,l;"undefined"!=typeof ReadableStream&&"undefined"!=typeof WritableStream||console.error("Following polyfill is strongly recommended: https://unpkg.com/@mattiasbuelens/web-streams-polyfill/dist/polyfill.min.js"),(t=t||{}).width=t.width||640,t.height=t.height||480,t.frameRate=t.frameRate||30,t.bitrate=t.bitrate||1200,this.record=function(){o=[],l=!1,this.blob=null,function e(r,u){if(t.workerPath||u){if(!t.workerPath&&u instanceof ArrayBuffer){var s=new Blob([u],{type:"text/javascript"});t.workerPath=h.createObjectURL(s)}t.workerPath||console.error("workerPath parameter is missing."),(i=new Worker(t.workerPath)).postMessage(t.webAssemblyPath||"https://unpkg.com/webm-wasm@latest/dist/webm-wasm.wasm"),i.addEventListener("message",function(e){"READY"===e.data?(i.postMessage({width:t.width,height:t.height,bitrate:t.bitrate||1200,timebaseDen:t.frameRate||30,realtime:!0}),n().pipeTo(new WritableStream({write:function(e){i&&i.postMessage(e.data.buffer,[e.data.buffer])}}))):e.data&&(l||o.push(e.data))})}else fetch("https://unpkg.com/webm-wasm@latest/dist/webm-worker.js").then(function(t){t.arrayBuffer().then(function(t){e(r,t)})})}(e),"function"==typeof t.initCallback&&t.initCallback()},this.pause=function(){l=!0},this.resume=function(){l=!1};var o=[];this.stop=function(e){i&&(i.postMessage(null),i.terminate(),i=null),this.blob=new Blob(o,{type:"video/webm"}),e(this.blob)},this.name="WebAssemblyRecorder",this.toString=function(){return this.name},this.clearRecordedData=function(){o=[],l=!1,this.blob=null},this.blob=null}o.DiskStorage=B,o.GifRecorder=O,o.MultiStreamRecorder=M,o.RecordRTCPromisesHandler=function(e,t){if(!this)throw'Use "new RecordRTCPromisesHandler()"';if(void 0===e)throw'First argument "MediaStream" is required.';var n=this;n.recordRTC=new o(e,t),this.startRecording=function(){return new Promise(function(e,t){try{n.recordRTC.startRecording(),e()}catch(i){t(i)}})},this.stopRecording=function(){return new Promise(function(e,t){try{n.recordRTC.stopRecording(function(i){n.blob=n.recordRTC.getBlob(),n.blob&&n.blob.size?e(i):t("Empty blob.",n.blob)})}catch(i){t(i)}})},this.pauseRecording=function(){return new Promise(function(e,t){try{n.recordRTC.pauseRecording(),e()}catch(i){t(i)}})},this.resumeRecording=function(){return new Promise(function(e,t){try{n.recordRTC.resumeRecording(),e()}catch(i){t(i)}})},this.getDataURL=function(e){return new Promise(function(e,t){try{n.recordRTC.getDataURL(function(t){e(t)})}catch(i){t(i)}})},this.getBlob=function(){return new Promise(function(e,t){try{e(n.recordRTC.getBlob())}catch(i){t(i)}})},this.getInternalRecorder=function(){return new Promise(function(e,t){try{e(n.recordRTC.getInternalRecorder())}catch(i){t(i)}})},this.reset=function(){return new Promise(function(e,t){try{e(n.recordRTC.reset())}catch(i){t(i)}})},this.destroy=function(){return new Promise(function(e,t){try{e(n.recordRTC.destroy())}catch(i){t(i)}})},this.getState=function(){return new Promise(function(e,t){try{e(n.recordRTC.getState())}catch(i){t(i)}})},this.blob=null,this.version="5.5.8"},o.WebAssemblyRecorder=P},tjlA:function(e,t,n){"use strict";var i=n("H7XF"),l=n("kVK+"),o="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=s,t.SlowBuffer=function(e){return+e!=e&&(e=0),s.alloc(+e)},t.INSPECT_MAX_BYTES=50;var r=2147483647;function u(e){if(e>r)throw new RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return Object.setPrototypeOf(t,s.prototype),t}function s(e,t,n){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return p(e)}return a(e,t,n)}function a(e,t,n){if("string"==typeof e)return function(e,t){if("string"==typeof t&&""!==t||(t="utf8"),!s.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var n=0|f(e,t),i=u(n),l=i.write(e,t);return l!==n&&(i=i.slice(0,l)),i}(e,t);if(ArrayBuffer.isView(e))return d(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(V(e,ArrayBuffer)||e&&V(e.buffer,ArrayBuffer))return function(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');var i;return i=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),Object.setPrototypeOf(i,s.prototype),i}(e,t,n);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');var i=e.valueOf&&e.valueOf();if(null!=i&&i!==e)return s.from(i,t,n);var l=function(e){if(s.isBuffer(e)){var t=0|h(e.length),n=u(t);return 0===n.length?n:(e.copy(n,0,0,t),n)}return void 0!==e.length?"number"!=typeof e.length||$(e.length)?u(0):d(e):"Buffer"===e.type&&Array.isArray(e.data)?d(e.data):void 0}(e);if(l)return l;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return s.from(e[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function c(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function p(e){return c(e),u(e<0?0:0|h(e))}function d(e){for(var t=e.length<0?0:0|h(e.length),n=u(t),i=0;i<t;i+=1)n[i]=255&e[i];return n}function h(e){if(e>=r)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r.toString(16)+" bytes");return 0|e}function f(e,t){if(s.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||V(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var n=e.length,i=arguments.length>2&&!0===arguments[2];if(!i&&0===n)return 0;for(var l=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return j(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return N(e).length;default:if(l)return i?-1:j(e).length;t=(""+t).toLowerCase(),l=!0}}function g(e,t,n){var i=e[t];e[t]=e[n],e[n]=i}function m(e,t,n,i,l){if(0===e.length)return-1;if("string"==typeof n?(i=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),$(n=+n)&&(n=l?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(l)return-1;n=e.length-1}else if(n<0){if(!l)return-1;n=0}if("string"==typeof t&&(t=s.from(t,i)),s.isBuffer(t))return 0===t.length?-1:v(e,t,n,i,l);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?l?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):v(e,[t],n,i,l);throw new TypeError("val must be string, number or Buffer")}function v(e,t,n,i,l){var o,r=1,u=e.length,s=t.length;if(void 0!==i&&("ucs2"===(i=String(i).toLowerCase())||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(e.length<2||t.length<2)return-1;r=2,u/=2,s/=2,n/=2}function a(e,t){return 1===r?e[t]:e.readUInt16BE(t*r)}if(l){var c=-1;for(o=n;o<u;o++)if(a(e,o)===a(t,-1===c?0:o-c)){if(-1===c&&(c=o),o-c+1===s)return c*r}else-1!==c&&(o-=o-c),c=-1}else for(n+s>u&&(n=u-s),o=n;o>=0;o--){for(var p=!0,d=0;d<s;d++)if(a(e,o+d)!==a(t,d)){p=!1;break}if(p)return o}return-1}function y(e,t,n,i){n=Number(n)||0;var l=e.length-n;i?(i=Number(i))>l&&(i=l):i=l;var o=t.length;i>o/2&&(i=o/2);for(var r=0;r<i;++r){var u=parseInt(t.substr(2*r,2),16);if($(u))return r;e[n+r]=u}return r}function b(e,t,n,i){return L(j(t,e.length-n),e,n,i)}function D(e,t,n,i){return L(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,i)}function C(e,t,n,i){return D(e,t,n,i)}function S(e,t,n,i){return L(N(t),e,n,i)}function _(e,t,n,i){return L(function(e,t){for(var n,i,l=[],o=0;o<e.length&&!((t-=2)<0);++o)i=(n=e.charCodeAt(o))>>8,l.push(n%256),l.push(i);return l}(t,e.length-n),e,n,i)}function w(e,t,n){return i.fromByteArray(0===t&&n===e.length?e:e.slice(t,n))}function x(e,t,n){n=Math.min(e.length,n);for(var i=[],l=t;l<n;){var o,r,u,s,a=e[l],c=null,p=a>239?4:a>223?3:a>191?2:1;if(l+p<=n)switch(p){case 1:a<128&&(c=a);break;case 2:128==(192&(o=e[l+1]))&&(s=(31&a)<<6|63&o)>127&&(c=s);break;case 3:r=e[l+2],128==(192&(o=e[l+1]))&&128==(192&r)&&(s=(15&a)<<12|(63&o)<<6|63&r)>2047&&(s<55296||s>57343)&&(c=s);break;case 4:r=e[l+2],u=e[l+3],128==(192&(o=e[l+1]))&&128==(192&r)&&128==(192&u)&&(s=(15&a)<<18|(63&o)<<12|(63&r)<<6|63&u)>65535&&s<1114112&&(c=s)}null===c?(c=65533,p=1):c>65535&&(i.push((c-=65536)>>>10&1023|55296),c=56320|1023&c),i.push(c),l+=p}return function(e){var t=e.length;if(t<=F)return String.fromCharCode.apply(String,e);for(var n="",i=0;i<t;)n+=String.fromCharCode.apply(String,e.slice(i,i+=F));return n}(i)}t.kMaxLength=r,(s.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(n){return!1}}())||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(s.prototype,"parent",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.buffer}}),Object.defineProperty(s.prototype,"offset",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.byteOffset}}),"undefined"!=typeof Symbol&&null!=Symbol.species&&s[Symbol.species]===s&&Object.defineProperty(s,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),s.poolSize=8192,s.from=function(e,t,n){return a(e,t,n)},Object.setPrototypeOf(s.prototype,Uint8Array.prototype),Object.setPrototypeOf(s,Uint8Array),s.alloc=function(e,t,n){return function(e,t,n){return c(e),e<=0?u(e):void 0!==t?"string"==typeof n?u(e).fill(t,n):u(e).fill(t):u(e)}(e,t,n)},s.allocUnsafe=function(e){return p(e)},s.allocUnsafeSlow=function(e){return p(e)},s.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==s.prototype},s.compare=function(e,t){if(V(e,Uint8Array)&&(e=s.from(e,e.offset,e.byteLength)),V(t,Uint8Array)&&(t=s.from(t,t.offset,t.byteLength)),!s.isBuffer(e)||!s.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var n=e.length,i=t.length,l=0,o=Math.min(n,i);l<o;++l)if(e[l]!==t[l]){n=e[l],i=t[l];break}return n<i?-1:i<n?1:0},s.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return s.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var i=s.allocUnsafe(t),l=0;for(n=0;n<e.length;++n){var o=e[n];if(V(o,Uint8Array)&&(o=s.from(o)),!s.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(i,l),l+=o.length}return i},s.byteLength=f,s.prototype._isBuffer=!0,s.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)g(this,t,t+1);return this},s.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},s.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},s.prototype.toLocaleString=s.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?x(this,0,e):(function(e,t,n){var i=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return A(this,t,n);case"utf8":case"utf-8":return x(this,t,n);case"ascii":return E(this,t,n);case"latin1":case"binary":return k(this,t,n);case"base64":return w(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,t,n);default:if(i)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),i=!0}}).apply(this,arguments)},s.prototype.equals=function(e){if(!s.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===s.compare(this,e)},s.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(e+=" ... "),"<Buffer "+e+">"},o&&(s.prototype[o]=s.prototype.inspect),s.prototype.compare=function(e,t,n,i,l){if(V(e,Uint8Array)&&(e=s.from(e,e.offset,e.byteLength)),!s.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===i&&(i=0),void 0===l&&(l=this.length),t<0||n>e.length||i<0||l>this.length)throw new RangeError("out of range index");if(i>=l&&t>=n)return 0;if(i>=l)return-1;if(t>=n)return 1;if(this===e)return 0;for(var o=(l>>>=0)-(i>>>=0),r=(n>>>=0)-(t>>>=0),u=Math.min(o,r),a=this.slice(i,l),c=e.slice(t,n),p=0;p<u;++p)if(a[p]!==c[p]){o=a[p],r=c[p];break}return o<r?-1:r<o?1:0},s.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},s.prototype.indexOf=function(e,t,n){return m(this,e,t,n,!0)},s.prototype.lastIndexOf=function(e,t,n){return m(this,e,t,n,!1)},s.prototype.write=function(e,t,n,i){if(void 0===t)i="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)i=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===i&&(i="utf8")):(i=n,n=void 0)}var l=this.length-t;if((void 0===n||n>l)&&(n=l),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var o=!1;;)switch(i){case"hex":return y(this,e,t,n);case"utf8":case"utf-8":return b(this,e,t,n);case"ascii":return D(this,e,t,n);case"latin1":case"binary":return C(this,e,t,n);case"base64":return S(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),o=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var F=4096;function E(e,t,n){var i="";n=Math.min(e.length,n);for(var l=t;l<n;++l)i+=String.fromCharCode(127&e[l]);return i}function k(e,t,n){var i="";n=Math.min(e.length,n);for(var l=t;l<n;++l)i+=String.fromCharCode(e[l]);return i}function A(e,t,n){var i=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>i)&&(n=i);for(var l="",o=t;o<n;++o)l+=U[e[o]];return l}function T(e,t,n){for(var i=e.slice(t,n),l="",o=0;o<i.length;o+=2)l+=String.fromCharCode(i[o]+256*i[o+1]);return l}function I(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function B(e,t,n,i,l,o){if(!s.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>l||t<o)throw new RangeError('"value" argument is out of bounds');if(n+i>e.length)throw new RangeError("Index out of range")}function O(e,t,n,i,l,o){if(n+i>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function R(e,t,n,i,o){return t=+t,n>>>=0,o||O(e,0,n,4),l.write(e,t,n,i,23,4),n+4}function M(e,t,n,i,o){return t=+t,n>>>=0,o||O(e,0,n,8),l.write(e,t,n,i,52,8),n+8}s.prototype.slice=function(e,t){var n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);var i=this.subarray(e,t);return Object.setPrototypeOf(i,s.prototype),i},s.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||I(e,t,this.length);for(var i=this[e],l=1,o=0;++o<t&&(l*=256);)i+=this[e+o]*l;return i},s.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||I(e,t,this.length);for(var i=this[e+--t],l=1;t>0&&(l*=256);)i+=this[e+--t]*l;return i},s.prototype.readUInt8=function(e,t){return e>>>=0,t||I(e,1,this.length),this[e]},s.prototype.readUInt16LE=function(e,t){return e>>>=0,t||I(e,2,this.length),this[e]|this[e+1]<<8},s.prototype.readUInt16BE=function(e,t){return e>>>=0,t||I(e,2,this.length),this[e]<<8|this[e+1]},s.prototype.readUInt32LE=function(e,t){return e>>>=0,t||I(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},s.prototype.readUInt32BE=function(e,t){return e>>>=0,t||I(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},s.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||I(e,t,this.length);for(var i=this[e],l=1,o=0;++o<t&&(l*=256);)i+=this[e+o]*l;return i>=(l*=128)&&(i-=Math.pow(2,8*t)),i},s.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||I(e,t,this.length);for(var i=t,l=1,o=this[e+--i];i>0&&(l*=256);)o+=this[e+--i]*l;return o>=(l*=128)&&(o-=Math.pow(2,8*t)),o},s.prototype.readInt8=function(e,t){return e>>>=0,t||I(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},s.prototype.readInt16LE=function(e,t){e>>>=0,t||I(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},s.prototype.readInt16BE=function(e,t){e>>>=0,t||I(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},s.prototype.readInt32LE=function(e,t){return e>>>=0,t||I(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},s.prototype.readInt32BE=function(e,t){return e>>>=0,t||I(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},s.prototype.readFloatLE=function(e,t){return e>>>=0,t||I(e,4,this.length),l.read(this,e,!0,23,4)},s.prototype.readFloatBE=function(e,t){return e>>>=0,t||I(e,4,this.length),l.read(this,e,!1,23,4)},s.prototype.readDoubleLE=function(e,t){return e>>>=0,t||I(e,8,this.length),l.read(this,e,!0,52,8)},s.prototype.readDoubleBE=function(e,t){return e>>>=0,t||I(e,8,this.length),l.read(this,e,!1,52,8)},s.prototype.writeUIntLE=function(e,t,n,i){e=+e,t>>>=0,n>>>=0,i||B(this,e,t,n,Math.pow(2,8*n)-1,0);var l=1,o=0;for(this[t]=255&e;++o<n&&(l*=256);)this[t+o]=e/l&255;return t+n},s.prototype.writeUIntBE=function(e,t,n,i){e=+e,t>>>=0,n>>>=0,i||B(this,e,t,n,Math.pow(2,8*n)-1,0);var l=n-1,o=1;for(this[t+l]=255&e;--l>=0&&(o*=256);)this[t+l]=e/o&255;return t+n},s.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||B(this,e,t,1,255,0),this[t]=255&e,t+1},s.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||B(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},s.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||B(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},s.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||B(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},s.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||B(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},s.prototype.writeIntLE=function(e,t,n,i){if(e=+e,t>>>=0,!i){var l=Math.pow(2,8*n-1);B(this,e,t,n,l-1,-l)}var o=0,r=1,u=0;for(this[t]=255&e;++o<n&&(r*=256);)e<0&&0===u&&0!==this[t+o-1]&&(u=1),this[t+o]=(e/r>>0)-u&255;return t+n},s.prototype.writeIntBE=function(e,t,n,i){if(e=+e,t>>>=0,!i){var l=Math.pow(2,8*n-1);B(this,e,t,n,l-1,-l)}var o=n-1,r=1,u=0;for(this[t+o]=255&e;--o>=0&&(r*=256);)e<0&&0===u&&0!==this[t+o+1]&&(u=1),this[t+o]=(e/r>>0)-u&255;return t+n},s.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||B(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},s.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||B(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},s.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||B(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},s.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||B(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},s.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||B(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},s.prototype.writeFloatLE=function(e,t,n){return R(this,e,t,!0,n)},s.prototype.writeFloatBE=function(e,t,n){return R(this,e,t,!1,n)},s.prototype.writeDoubleLE=function(e,t,n){return M(this,e,t,!0,n)},s.prototype.writeDoubleBE=function(e,t,n){return M(this,e,t,!1,n)},s.prototype.copy=function(e,t,n,i){if(!s.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),i||0===i||(i=this.length),t>=e.length&&(t=e.length),t||(t=0),i>0&&i<n&&(i=n),i===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-t<i-n&&(i=e.length-t+n);var l=i-n;if(this===e&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(t,n,i);else if(this===e&&n<t&&t<i)for(var o=l-1;o>=0;--o)e[o+t]=this[o+n];else Uint8Array.prototype.set.call(e,this.subarray(n,i),t);return l},s.prototype.fill=function(e,t,n,i){if("string"==typeof e){if("string"==typeof t?(i=t,t=0,n=this.length):"string"==typeof n&&(i=n,n=this.length),void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!s.isEncoding(i))throw new TypeError("Unknown encoding: "+i);if(1===e.length){var l=e.charCodeAt(0);("utf8"===i&&l<128||"latin1"===i)&&(e=l)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(o=t;o<n;++o)this[o]=e;else{var r=s.isBuffer(e)?e:s.from(e,i),u=r.length;if(0===u)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<n-t;++o)this[o+t]=r[o%u]}return this};var P=/[^+\/0-9A-Za-z-_]/g;function j(e,t){var n;t=t||1/0;for(var i=e.length,l=null,o=[],r=0;r<i;++r){if((n=e.charCodeAt(r))>55295&&n<57344){if(!l){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(r+1===i){(t-=3)>-1&&o.push(239,191,189);continue}l=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),l=n;continue}n=65536+(l-55296<<10|n-56320)}else l&&(t-=3)>-1&&o.push(239,191,189);if(l=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function N(e){return i.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(P,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function L(e,t,n,i){for(var l=0;l<i&&!(l+n>=t.length||l>=e.length);++l)t[l+n]=e[l];return l}function V(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function $(e){return e!=e}var U=function(){for(var e=new Array(256),t=0;t<16;++t)for(var n=16*t,i=0;i<16;++i)e[n+i]="0123456789abcdef"[t]+"0123456789abcdef"[i];return e}()},uDUn:function(e,t){var n=1e3,i=6e4,l=36e5,o=24*l;function r(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}e.exports=function(e,t){t=t||{};var u,s=typeof e;if("string"===s&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var r=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*r;case"days":case"day":case"d":return r*o;case"hours":case"hour":case"hrs":case"hr":case"h":return r*l;case"minutes":case"minute":case"mins":case"min":case"m":return r*i;case"seconds":case"second":case"secs":case"sec":case"s":return r*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}(e);if("number"===s&&!1===isNaN(e))return t.long?r(u=e,o,"day")||r(u,l,"hour")||r(u,i,"minute")||r(u,n,"second")||u+" ms":function(e){return e>=o?Math.round(e/o)+"d":e>=l?Math.round(e/l)+"h":e>=i?Math.round(e/i)+"m":e>=n?Math.round(e/n)+"s":e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},w5QO:function(e,t,n){"use strict";t.noop=function(){}},wVMs:function(e,t,n){var i=n("mrSG").__extends,l=n("Q1FS"),o=n("mbIT"),r=n("81cv"),u=n("cSoz"),s=n("Y4kR"),a=n("q3Kh");t.forkJoin=function e(){for(var t,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return"function"==typeof n[n.length-1]&&(t=n.pop()),1===n.length&&o.isArray(n[0])&&(n=n[0]),0===n.length?r.EMPTY:t?e(n).pipe(a.map(function(e){return t.apply(void 0,e)})):new l.Observable(function(e){return new c(e,n)})};var c=function(e){function t(t,n){var i=e.call(this,t)||this;i.sources=n,i.completed=0,i.haveValues=0;var l=n.length;i.values=new Array(l);for(var o=0;o<l;o++){var r=u.subscribeToResult(i,n[o],null,o);r&&i.add(r)}return i}return i(t,e),t.prototype.notifyNext=function(e,t,n,i,l){this.values[n]=t,l._hasValue||(l._hasValue=!0,this.haveValues++)},t.prototype.notifyComplete=function(e){var t=this.destination,n=this.haveValues,i=this.values,l=i.length;e._hasValue?(this.completed++,this.completed===l&&(n===l&&t.next(i),t.complete())):t.complete()},t}(s.OuterSubscriber)},x7D4:function(e,t,n){function i(){var e;try{e=t.storage.debug}catch(n){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e}(t=e.exports=n("Q80o")).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},t.formatArgs=function(e){var n=this.useColors;if(e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+t.humanize(this.diff),n){var i="color: "+this.color;e.splice(1,0,i,"color: inherit");var l=0,o=0;e[0].replace(/%[a-zA-Z%]/g,function(e){"%%"!==e&&(l++,"%c"===e&&(o=l))}),e.splice(o,0,i)}},t.save=function(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(n){}},t.load=i,t.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},t.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},t.enable(i())},yRPT:function(e,t,n){"use strict";t.isArrayLike=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e}},yeub:function(e,t){try{e.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(n){e.exports=!1}},ypnn:function(e,t){e.exports=function(e,t,n){var i=e.byteLength;if(t=t||0,n=n||i,e.slice)return e.slice(t,n);if(t<0&&(t+=i),n<0&&(n+=i),n>i&&(n=i),t>=i||t>=n||0===i)return new ArrayBuffer(0);for(var l=new Uint8Array(e),o=new Uint8Array(n-t),r=t,u=0;r<n;r++,u++)o[u]=l[r];return o.buffer}},yx2s:function(e,t,n){"use strict";var i=n("FWf1");t.canReportError=function(e){for(;e;){var t=e.destination;if(e.closed||e.isStopped)return!1;e=t&&t instanceof i.Subscriber?t:null}return!0}},"zB/H":function(e,t,n){"use strict";var i=n("mbIT"),l=n("GMZp"),o=n("pshJ"),r=n("MC6w"),u=n("24jU"),s=n("LBXl");function a(e){return e.reduce(function(e,t){return e.concat(t instanceof s.UnsubscriptionError?t.errors:t)},[])}t.Subscription=function(){function e(e){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,e&&(this._unsubscribe=e)}var t;return e.prototype.unsubscribe=function(){var e,t=!1;if(!this.closed){var n=this._parent,c=this._parents,p=this._unsubscribe,d=this._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var h=-1,f=c?c.length:0;n;)n.remove(this),n=++h<f&&c[h]||null;if(o.isFunction(p)&&r.tryCatch(p).call(this)===u.errorObject&&(t=!0,e=e||(u.errorObject.e instanceof s.UnsubscriptionError?a(u.errorObject.e.errors):[u.errorObject.e])),i.isArray(d))for(h=-1,f=d.length;++h<f;){var g=d[h];if(l.isObject(g)&&r.tryCatch(g.unsubscribe).call(g)===u.errorObject){t=!0,e=e||[];var m=u.errorObject.e;m instanceof s.UnsubscriptionError?e=e.concat(a(m.errors)):e.push(m)}}if(t)throw new s.UnsubscriptionError(e)}},e.prototype.add=function(t){if(!t||t===e.EMPTY)return e.EMPTY;if(t===this)return this;var n=t;switch(typeof t){case"function":n=new e(t);case"object":if(n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if("function"!=typeof n._addParent){var i=n;(n=new e)._subscriptions=[i]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}return(this._subscriptions||(this._subscriptions=[])).push(n),n._addParent(this),n},e.prototype.remove=function(e){var t=this._subscriptions;if(t){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}},e.prototype._addParent=function(e){var t=this._parent,n=this._parents;t&&t!==e?n?-1===n.indexOf(e)&&n.push(e):this._parents=[e]:this._parent=e},e.EMPTY=((t=new e).closed=!0,t),e}()},zJ60:function(e,t,n){var i=n("Uxeu"),l=n("x7D4")("socket.io-client:url");e.exports=function(e,t){var n=e;t=t||global.location,null==e&&(e=t.protocol+"//"+t.host),"string"==typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?t.protocol+e:t.host+e),/^(https?|wss?):\/\//.test(e)||(l("protocol-less url %s",e),e=void 0!==t?t.protocol+"//"+e:"https://"+e),l("parse %s",e),n=i(e)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";var o=-1!==n.host.indexOf(":")?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+o+":"+n.port,n.href=n.protocol+"://"+o+(t&&t.port===n.port?"":":"+n.port),n}},zMFY:function(e,t){function n(){}e.exports=function(e,t,i){var l=!1;return i=i||n,o.count=e,0===e?t():o;function o(e,n){if(o.count<=0)throw new Error("after called too many times");--o.count,e?(l=!0,t(e),t=i):0!==o.count||l||t(null,n)}}},zUnb:function(e,t,n){"use strict";n.r(t);var i=n("mrSG"),l=Array.isArray||function(e){return e&&"number"==typeof e.length};function o(e){return null!=e&&"object"==typeof e}function r(e){return"function"==typeof e}var u,s={e:{}};function a(){try{return u.apply(this,arguments)}catch(e){return s.e=e,s}}function c(e){return u=e,a}function p(e){return Error.call(this),this.message=e?e.length+" errors occurred during unsubscription:\n"+e.map(function(e,t){return t+1+") "+e.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=e,this}p.prototype=Object.create(Error.prototype);var d=p,h=function(){function e(e){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,e&&(this._unsubscribe=e)}var t;return e.prototype.unsubscribe=function(){var e,t=!1;if(!this.closed){var n=this._parent,i=this._parents,u=this._unsubscribe,a=this._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var p=-1,h=i?i.length:0;n;)n.remove(this),n=++p<h&&i[p]||null;if(r(u)&&c(u).call(this)===s&&(t=!0,e=e||(s.e instanceof d?f(s.e.errors):[s.e])),l(a))for(p=-1,h=a.length;++p<h;){var g=a[p];if(o(g)&&c(g.unsubscribe).call(g)===s){t=!0,e=e||[];var m=s.e;m instanceof d?e=e.concat(f(m.errors)):e.push(m)}}if(t)throw new d(e)}},e.prototype.add=function(t){if(!t||t===e.EMPTY)return e.EMPTY;if(t===this)return this;var n=t;switch(typeof t){case"function":n=new e(t);case"object":if(n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if("function"!=typeof n._addParent){var i=n;(n=new e)._subscriptions=[i]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}return(this._subscriptions||(this._subscriptions=[])).push(n),n._addParent(this),n},e.prototype.remove=function(e){var t=this._subscriptions;if(t){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}},e.prototype._addParent=function(e){var t=this._parent,n=this._parents;t&&t!==e?n?-1===n.indexOf(e)&&n.push(e):this._parents=[e]:this._parent=e},e.EMPTY=((t=new e).closed=!0,t),e}();function f(e){return e.reduce(function(e,t){return e.concat(t instanceof d?t.errors:t)},[])}var g=!1,m={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){g=e},get useDeprecatedSynchronousErrorHandling(){return g}};function v(e){setTimeout(function(){throw e})}var y={closed:!0,next:function(e){},error:function(e){if(m.useDeprecatedSynchronousErrorHandling)throw e;v(e)},complete:function(){}},b="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random(),D=function(e){function t(n,i,l){var o=e.call(this)||this;switch(o.syncErrorValue=null,o.syncErrorThrown=!1,o.syncErrorThrowable=!1,o.isStopped=!1,o._parentSubscription=null,arguments.length){case 0:o.destination=y;break;case 1:if(!n){o.destination=y;break}if("object"==typeof n){n instanceof t?(o.syncErrorThrowable=n.syncErrorThrowable,o.destination=n,n.add(o)):(o.syncErrorThrowable=!0,o.destination=new C(o,n));break}default:o.syncErrorThrowable=!0,o.destination=new C(o,n,i,l)}return o}return i.__extends(t,e),t.prototype[b]=function(){return this},t.create=function(e,n,i){var l=new t(e,n,i);return l.syncErrorThrowable=!1,l},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this))},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},t.prototype._unsubscribeAndRecycle=function(){var e=this._parent,t=this._parents;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=e,this._parents=t,this._parentSubscription=null,this},t}(h),C=function(e){function t(t,n,i,l){var o,u=e.call(this)||this;u._parentSubscriber=t;var s=u;return r(n)?o=n:n&&(o=n.next,i=n.error,l=n.complete,n!==y&&(r((s=Object.create(n)).unsubscribe)&&u.add(s.unsubscribe.bind(s)),s.unsubscribe=u.unsubscribe.bind(u))),u._context=s,u._next=o,u._error=i,u._complete=l,u}return i.__extends(t,e),t.prototype.next=function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;m.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}},t.prototype.error=function(e){if(!this.isStopped){var t=this._parentSubscriber,n=m.useDeprecatedSynchronousErrorHandling;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):v(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;v(e)}}},t.prototype.complete=function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var n=function(){return e._complete.call(e._context)};m.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},t.prototype.__tryOrUnsub=function(e,t){try{e.call(this._context,t)}catch(n){if(this.unsubscribe(),m.useDeprecatedSynchronousErrorHandling)throw n;v(n)}},t.prototype.__tryOrSetError=function(e,t,n){if(!m.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(i){return m.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=i,e.syncErrorThrown=!0,!0):(v(i),!0)}return!1},t.prototype._unsubscribe=function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()},t}(D),S="function"==typeof Symbol&&Symbol.observable||"@@observable";var _=function(){function e(e){this._isScalar=!1,e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var i=this.operator,l=function(e,t,n){if(e){if(e instanceof D)return e;if(e[b])return e[b]()}return e||t||n?new D(e,t,n):new D(y)}(e,t,n);if(i?i.call(l,this.source):l.add(this.source||m.useDeprecatedSynchronousErrorHandling&&!l.syncErrorThrowable?this._subscribe(l):this._trySubscribe(l)),m.useDeprecatedSynchronousErrorHandling&&l.syncErrorThrowable&&(l.syncErrorThrowable=!1,l.syncErrorThrown))throw l.syncErrorValue;return l},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){m.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),function(e){for(;e;){var t=e.destination;if(e.closed||e.isStopped)return!1;e=t&&t instanceof D?t:null}return!0}(e)?e.error(t):console.warn(t)}},e.prototype.forEach=function(e,t){var n=this;return new(t=w(t))(function(t,i){var l;l=n.subscribe(function(t){try{e(t)}catch(n){i(n),l&&l.unsubscribe()}},i,t)})},e.prototype._subscribe=function(e){var t=this.source;return t&&t.subscribe(e)},e.prototype[S]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 0===e.length?this:((n=e)?1===n.length?n[0]:function(e){return n.reduce(function(e,t){return t(e)},e)}:function(){})(this);var n},e.prototype.toPromise=function(e){var t=this;return new(e=w(e))(function(e,n){var i;t.subscribe(function(e){return i=e},function(e){return n(e)},function(){return e(i)})})},e.create=function(t){return new e(t)},e}();function w(e){if(e||(e=m.Promise||Promise),!e)throw new Error("no Promise impl found");return e}function x(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}x.prototype=Object.create(Error.prototype);var F=x,E=function(e){function t(t,n){var i=e.call(this)||this;return i.subject=t,i.subscriber=n,i.closed=!1,i}return i.__extends(t,e),t.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var e=this.subject,t=e.observers;if(this.subject=null,t&&0!==t.length&&!e.isStopped&&!e.closed){var n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}},t}(h),k=function(e){function t(t){var n=e.call(this,t)||this;return n.destination=t,n}return i.__extends(t,e),t}(D),A=function(e){function t(){var t=e.call(this)||this;return t.observers=[],t.closed=!1,t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return i.__extends(t,e),t.prototype[b]=function(){return new k(this)},t.prototype.lift=function(e){var t=new T(this,this);return t.operator=e,t},t.prototype.next=function(e){if(this.closed)throw new F;if(!this.isStopped)for(var t=this.observers,n=t.length,i=t.slice(),l=0;l<n;l++)i[l].next(e)},t.prototype.error=function(e){if(this.closed)throw new F;this.hasError=!0,this.thrownError=e,this.isStopped=!0;for(var t=this.observers,n=t.length,i=t.slice(),l=0;l<n;l++)i[l].error(e);this.observers.length=0},t.prototype.complete=function(){if(this.closed)throw new F;this.isStopped=!0;for(var e=this.observers,t=e.length,n=e.slice(),i=0;i<t;i++)n[i].complete();this.observers.length=0},t.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},t.prototype._trySubscribe=function(t){if(this.closed)throw new F;return e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){if(this.closed)throw new F;return this.hasError?(e.error(this.thrownError),h.EMPTY):this.isStopped?(e.complete(),h.EMPTY):(this.observers.push(e),new E(this,e))},t.prototype.asObservable=function(){var e=new _;return e.source=this,e},t.create=function(e,t){return new T(e,t)},t}(_),T=function(e){function t(t,n){var i=e.call(this)||this;return i.destination=t,i.source=n,i}return i.__extends(t,e),t.prototype.next=function(e){var t=this.destination;t&&t.next&&t.next(e)},t.prototype.error=function(e){var t=this.destination;t&&t.error&&this.destination.error(e)},t.prototype.complete=function(){var e=this.destination;e&&e.complete&&this.destination.complete()},t.prototype._subscribe=function(e){return this.source?this.source.subscribe(e):h.EMPTY},t}(A);function I(e){return e&&"function"==typeof e.schedule}var B=function(e){function t(t,n,i){var l=e.call(this)||this;return l.parent=t,l.outerValue=n,l.outerIndex=i,l.index=0,l}return i.__extends(t,e),t.prototype._next=function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)},t.prototype._error=function(e){this.parent.notifyError(e,this),this.unsubscribe()},t.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},t}(D),O=function(e){return function(t){for(var n=0,i=e.length;n<i&&!t.closed;n++)t.next(e[n]);t.closed||t.complete()}},R=function(e){return function(t){return e.then(function(e){t.closed||(t.next(e),t.complete())},function(e){return t.error(e)}).then(null,v),t}};function M(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}var P=M(),j=function(e){return function(t){for(var n=e[P]();;){var i=n.next();if(i.done){t.complete();break}if(t.next(i.value),t.closed)break}return"function"==typeof n.return&&t.add(function(){n.return&&n.return()}),t}},N=function(e){return function(t){var n=e[S]();if("function"!=typeof n.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(t)}},L=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e};function V(e){return e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}var $=function(e){if(e instanceof _)return function(t){return e._isScalar?(t.next(e.value),void t.complete()):e.subscribe(t)};if(e&&"function"==typeof e[S])return N(e);if(L(e))return O(e);if(V(e))return R(e);if(e&&"function"==typeof e[P])return j(e);var t=o(e)?"an invalid object":"'"+e+"'";throw new TypeError("You provided "+t+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")};function U(e,t,n,i,l){if(void 0===l&&(l=new B(e,n,i)),!l.closed)return $(t)(l)}var H=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.notifyNext=function(e,t,n,i,l){this.destination.next(t)},t.prototype.notifyError=function(e,t){this.destination.error(e)},t.prototype.notifyComplete=function(e){this.destination.complete()},t}(D);function z(e,t){return function(n){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new G(e,t))}}var G=function(){function e(e,t){this.project=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new q(e,this.project,this.thisArg))},e}(),q=function(e){function t(t,n,i){var l=e.call(this,t)||this;return l.project=n,l.count=0,l.thisArg=i||l,l}return i.__extends(t,e),t.prototype._next=function(e){var t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(t)},t}(D);function W(e,t){return new _(t?function(n){var i=new h,l=0;return i.add(t.schedule(function(){l!==e.length?(n.next(e[l++]),n.closed||i.add(this.schedule())):n.complete()})),i}:O(e))}function J(e,t){if(!t)return e instanceof _?e:new _($(e));if(null!=e){if(function(e){return e&&"function"==typeof e[S]}(e))return function(e,t){return new _(t?function(n){var i=new h;return i.add(t.schedule(function(){var l=e[S]();i.add(l.subscribe({next:function(e){i.add(t.schedule(function(){return n.next(e)}))},error:function(e){i.add(t.schedule(function(){return n.error(e)}))},complete:function(){i.add(t.schedule(function(){return n.complete()}))}}))})),i}:N(e))}(e,t);if(V(e))return function(e,t){return new _(t?function(n){var i=new h;return i.add(t.schedule(function(){return e.then(function(e){i.add(t.schedule(function(){n.next(e),i.add(t.schedule(function(){return n.complete()}))}))},function(e){i.add(t.schedule(function(){return n.error(e)}))})})),i}:R(e))}(e,t);if(L(e))return W(e,t);if(function(e){return e&&"function"==typeof e[P]}(e)||"string"==typeof e)return function(e,t){if(!e)throw new Error("Iterable cannot be null");return new _(t?function(n){var i,l=new h;return l.add(function(){i&&"function"==typeof i.return&&i.return()}),l.add(t.schedule(function(){i=e[P](),l.add(t.schedule(function(){if(!n.closed){var e,t;try{var l=i.next();e=l.value,t=l.done}catch(o){return void n.error(o)}t?n.complete():(n.next(e),this.schedule())}}))})),l}:j(e))}(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}var K=function(){function e(e,t){void 0===t&&(t=Number.POSITIVE_INFINITY),this.project=e,this.concurrent=t}return e.prototype.call=function(e,t){return t.subscribe(new Q(e,this.project,this.concurrent))},e}(),Q=function(e){function t(t,n,i){void 0===i&&(i=Number.POSITIVE_INFINITY);var l=e.call(this,t)||this;return l.project=n,l.concurrent=i,l.hasCompleted=!1,l.buffer=[],l.active=0,l.index=0,l}return i.__extends(t,e),t.prototype._next=function(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)},t.prototype._tryNext=function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(i){return void this.destination.error(i)}this.active++,this._innerSub(t,e,n)},t.prototype._innerSub=function(e,t,n){var i=new B(this,void 0,void 0);this.destination.add(i),U(this,e,t,n,i)},t.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()},t.prototype.notifyNext=function(e,t,n,i,l){this.destination.next(t)},t.prototype.notifyComplete=function(e){var t=this.buffer;this.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},t}(H);function Z(e){return e}function X(e){return void 0===e&&(e=Number.POSITIVE_INFINITY),function e(t,n,i){return void 0===i&&(i=Number.POSITIVE_INFINITY),"function"==typeof n?function(l){return l.pipe(e(function(e,i){return J(t(e,i)).pipe(z(function(t,l){return n(e,t,i,l)}))},i))}:("number"==typeof n&&(i=n),function(e){return e.lift(new K(t,i))})}(Z,e)}function Y(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Number.POSITIVE_INFINITY,i=null,l=e[e.length-1];return I(l)?(i=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(n=e.pop())):"number"==typeof l&&(n=e.pop()),null===i&&1===e.length&&e[0]instanceof _?e[0]:X(n)(W(e,i))}function ee(){return function(e){return e.lift(new te(e))}}var te=function(){function e(e){this.connectable=e}return e.prototype.call=function(e,t){var n=this.connectable;n._refCount++;var i=new ne(e,n),l=t.subscribe(i);return i.closed||(i.connection=n.connect()),l},e}(),ne=function(e){function t(t,n){var i=e.call(this,t)||this;return i.connectable=n,i}return i.__extends(t,e),t.prototype._unsubscribe=function(){var e=this.connectable;if(e){this.connectable=null;var t=e._refCount;if(t<=0)this.connection=null;else if(e._refCount=t-1,t>1)this.connection=null;else{var n=this.connection,i=e._connection;this.connection=null,!i||n&&i!==n||i.unsubscribe()}}else this.connection=null},t}(D),ie=function(e){function t(t,n){var i=e.call(this)||this;return i.source=t,i.subjectFactory=n,i._refCount=0,i._isComplete=!1,i}return i.__extends(t,e),t.prototype._subscribe=function(e){return this.getSubject().subscribe(e)},t.prototype.getSubject=function(){var e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject},t.prototype.connect=function(){var e=this._connection;return e||(this._isComplete=!1,(e=this._connection=new h).add(this.source.subscribe(new oe(this.getSubject(),this))),e.closed?(this._connection=null,e=h.EMPTY):this._connection=e),e},t.prototype.refCount=function(){return ee()(this)},t}(_).prototype,le={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:ie._subscribe},_isComplete:{value:ie._isComplete,writable:!0},getSubject:{value:ie.getSubject},connect:{value:ie.connect},refCount:{value:ie.refCount}},oe=function(e){function t(t,n){var i=e.call(this,t)||this;return i.connectable=n,i}return i.__extends(t,e),t.prototype._error=function(t){this._unsubscribe(),e.prototype._error.call(this,t)},t.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){var e=this.connectable;if(e){this.connectable=null;var t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}},t}(k);function re(){return new A}function ue(e){for(var t in e)if(e[t]===ue)return t;throw Error("Could not find renamed property on target object.")}var se=ue({ngComponentDef:ue}),ae=ue({ngInjectableDef:ue}),ce=ue({ngInjectorDef:ue}),pe=ue({ngModuleDef:ue}),de=ue({__NG_ELEMENT_ID__:ue});function he(e){return{providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function fe(e){return e&&e.hasOwnProperty(ae)?e[ae]:null}function ge(e){return e&&e.hasOwnProperty(ce)?e[ce]:null}var me=function(){function e(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.ngInjectableDef=void 0!==t?he({providedIn:t.providedIn||"root",factory:t.factory}):void 0}return e.prototype.toString=function(){return"InjectionToken "+this._desc},e}(),ve="__parameters__";function ye(e,t,n){var l=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(e){var l=e.apply(void 0,Object(i.__spread)(t));for(var o in l)this[o]=l[o]}}}(t);function o(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(this instanceof o)return l.apply(this,t),this;var r=new((e=o).bind.apply(e,Object(i.__spread)([void 0],t)));return u.annotation=r,u;function u(e,t,n){for(var i=e.hasOwnProperty(ve)?e[ve]:Object.defineProperty(e,ve,{value:[]})[ve];i.length<=n;)i.push(null);return(i[n]=i[n]||[]).push(r),e}}return n&&(o.prototype=Object.create(n.prototype)),o.prototype.ngMetadataName=e,o.annotationCls=o,o}var be="undefined"!=typeof window&&window,De="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Ce="undefined"!=typeof global&&global||be||De,Se=Promise.resolve(0),_e=null;function we(){if(!_e){var e=Ce.Symbol;if(e&&e.iterator)_e=e.iterator;else for(var t=Object.getOwnPropertyNames(Map.prototype),n=0;n<t.length;++n){var i=t[n];"entries"!==i&&"size"!==i&&Map.prototype[i]===Map.prototype.entries&&(_e=i)}}return _e}function xe(e){"undefined"==typeof Zone?Se.then(function(){e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}function Fe(e,t){return e===t||"number"==typeof e&&"number"==typeof t&&isNaN(e)&&isNaN(t)}function Ee(e){if("string"==typeof e)return e;if(e instanceof Array)return"["+e.map(Ee).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return""+e.overriddenName;if(e.name)return""+e.name;var t=e.toString();if(null==t)return""+t;var n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}var ke=ue({__forward_ref__:ue});function Ae(e){return e.__forward_ref__=Ae,e.toString=function(){return Ee(this())},e}function Te(e){var t=e;return"function"==typeof t&&t.hasOwnProperty(ke)&&t.__forward_ref__===Ae?t():e}var Ie=function(e){return e[e.Emulated=0]="Emulated",e[e.Native=1]="Native",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}({}),Be=0,Oe=1,Re=2,Me=3,Pe=5,je=6,Ne=7,Le=8,Ve=9,$e=10,Ue=11,He=12,ze=13,Ge=15,qe=17,We=18,Je=0,Ke=1,Qe=6,Ze=8,Xe="__ngContext__",Ye=8,et=8,tt=9,nt=-1,it=function(){return function(e,t,n){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=n}}(),lt=it.prototype;function ot(e){return"function"==typeof e?e.name||e:"string"==typeof e?e:null==e?"":"object"==typeof e&&"function"==typeof e.type?e.type.name||e.type:""+e}function rt(e){for(;Array.isArray(e);)e=e[Pe];return e}function ut(e,t){return rt(t[e.index])}function st(e,t){var n=t[e];return n.length>=We?n:n[Pe]}function at(e){return null!==e.template}function ct(e){return e[Xe]}function pt(e){var t=ct(e);return t?Array.isArray(t)?t:t.lView:null}function dt(e){return 32767&e}function ht(e,t){for(var n=e>>16,i=t;n>0;)i=i[qe],n--;return i}var ft=("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Ce);function gt(e){for(var t=e[je];t&&2===t.type;)t=(e=e[qe])[je];return e}var mt,vt,yt,bt,Dt=ye("Inject",function(e){return{token:e}}),Ct=ye("Optional"),St=ye("Self"),_t=ye("SkipSelf"),wt=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}({}),xt=void 0;function Ft(e){var t=xt;return xt=e,t}function Et(e){var t=mt;return mt=e,t}function kt(e,t){return void 0===t&&(t=wt.Default),(mt||function(e,t){if(void 0===t&&(t=wt.Default),void 0===xt)throw new Error("inject() must be called from an injection context");return null===xt?At(e,void 0,t):xt.get(e,t&wt.Optional?null:void 0,t)})(e,t)}function At(e,t,n){var i=fe(e);if(i&&"root"==i.providedIn)return void 0===i.value?i.value=i.factory():i.value;if(n&wt.Optional)return null;if(void 0!==t)return t;throw new Error("Injector: NOT_FOUND ["+Ee(e)+"]")}function Tt(e){for(var t=[],n=0;n<e.length;n++){var i=e[n];if(Array.isArray(i)){if(0===i.length)throw new Error("Arguments array must have arguments.");for(var l=void 0,o=wt.Default,r=0;r<i.length;r++){var u=i[r];u instanceof Ct||"Optional"===u.ngMetadataName?o|=wt.Optional:u instanceof _t||"SkipSelf"===u.ngMetadataName?o|=wt.SkipSelf:u instanceof St||"Self"===u.ngMetadataName?o|=wt.Self:l=u instanceof Dt?u.token:u}t.push(kt(l,o))}else t.push(kt(i))}return t}function It(e,t,n){e.afterContentInit&&(t.contentHooks||(t.contentHooks=[])).push(n,e.afterContentInit),e.afterContentChecked&&((t.contentHooks||(t.contentHooks=[])).push(n,e.afterContentChecked),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,e.afterContentChecked))}function Bt(e,t,n){e.afterViewInit&&(t.viewHooks||(t.viewHooks=[])).push(n,e.afterViewInit),e.afterViewChecked&&((t.viewHooks||(t.viewHooks=[])).push(n,e.afterViewChecked),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,e.afterViewChecked))}function Ot(e,t,n){null!=e.onDestroy&&(t.destroyHooks||(t.destroyHooks=[])).push(n,e.onDestroy)}function Rt(e,t,n,i){if(!i){var l=2&e[Oe]?t:n;l&&Mt(e,l)}}function Mt(e,t){for(var n=0;n<t.length;n+=2)t[n+1].call(e[t[n]])}function Pt(){return bt}function jt(){return vt}function Nt(e){vt=e}function Lt(e,t){vt=e,bt=t}function Vt(){return yt}function $t(e){yt=e}function Ut(e){return void 0===e&&(e=bt),1==(1&e[Oe])}var Ht=!1;function zt(){return Ht}function Gt(e){Ht=e}var qt=!0;function Wt(){return qt}function Jt(e){qt=e}function Kt(e,t){var n=bt;e&&(qt=e[Be].firstTemplatePass);return vt=t,yt=!0,bt=e,n}function Qt(e){var t=bt[Be];Ut(bt)?bt[Oe]&=-2:(Rt(bt,t.viewHooks,t.viewCheckHooks,Ht),bt[Oe]&=-11,bt[Oe]|=32,bt[Ne]=t.bindingStartIndex),Kt(e,null)}var Zt=!0;function Xt(e){var t=Zt;return Zt=e,t}var Yt=255,en=0;function tn(e,t){e.push(0,0,0,0,0,0,0,0,t)}function nn(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null==t[e.injectorIndex+et]?-1:e.injectorIndex}function ln(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;for(var n=t[je],i=1;n&&-1===n.injectorIndex;)n=(t=t[qe])?t[je]:null,i++;return n?n.injectorIndex|i<<16:-1}var on={};function rn(e,t,n,i,l,o){var r=t[Be],u=r.data[e+Ye],s=function(e,t,n,i,l){for(var o=e.providerIndexes,r=t[Be].data,u=65535&o,s=e.directiveStart,a=o>>16,c=l?u+a:e.directiveEnd,p=i?u:u+a;p<c;p++){var d=r[p];if(p<s&&n===d||p>=s&&d.type===n)return p}if(l){var h=r[s];if(h&&at(h)&&h.type===n)return s}return null}(u,t,n,null==i?function(e){return 1==(1&e.flags)}(u)&&Zt:i!=r&&3===u.type,l&wt.Host&&o===u);return null!==s?un(r.data,t,s,u):on}function un(e,t,n,i){var l,o=t[n];if(null!=(l=o)&&"object"==typeof l&&Object.getPrototypeOf(l)==lt){var r=o;if(r.resolving)throw new Error("Circular dep for "+ot(e[n]));var u=Xt(r.canSeeViewProviders);r.resolving=!0;var s=void 0;r.injectImpl&&(s=Et(r.injectImpl));var a=jt(),c=Pt();Lt(i,t);try{o=t[n]=r.factory(null,e,t,i)}finally{r.injectImpl&&Et(s),Xt(u),r.resolving=!1,Lt(a,c)}}return o}function sn(e,t,n){var i=64&e,l=32&e;return!!((128&e?i?l?n[t+7]:n[t+6]:l?n[t+5]:n[t+4]:i?l?n[t+3]:n[t+2]:l?n[t+1]:n[t])&1<<e)}function an(e,t){return!(e&wt.Self||e&wt.Host&&t)}var cn=function(){function e(e,t){this._tNode=e,this._lView=t}return e.prototype.get=function(e,t){return function(e,t,n,i,l){if(void 0===i&&(i=wt.Default),e){var o=function(e){if("string"==typeof e)return e.charCodeAt(0)||0;var t=e[de];return"number"==typeof t?t&Yt:t}(n);if("function"==typeof o){var r=jt(),u=Pt();Lt(e,t);try{var s=o();if(null!=s||i&wt.Optional)return s;throw new Error("No provider for "+ot(n)+"!")}finally{Lt(r,u)}}else if("number"==typeof o){var a=null,c=nn(e,t),p=nt,d=i&wt.Host?gt(t)[je]:null;for((-1===c||i&wt.SkipSelf)&&(p=-1===c?ln(e,t):t[c+et],an(i,!1)?(a=t[Be],c=dt(p),t=ht(p,t)):c=-1);-1!==c;){p=t[c+et];var h=t[Be];if(sn(o,c,h.data)){var f=rn(c,t,n,a,i,d);if(f!==on)return f}an(i,t[Be].data[c+Ye]===d)&&sn(o,c,t)?(a=h,c=dt(p),t=ht(p,t)):c=-1}}}if(i&wt.Optional&&void 0===l&&(l=null),0==(i&(wt.Self|wt.Host))){var g=t[$e];return g?g.get(n,l,i&wt.Optional):At(n,l,i&wt.Optional)}if(i&wt.Optional)return l;throw new Error("NodeInjector: NOT_FOUND ["+ot(n)+"]")}(this._tNode,this._lView,e,void 0,t)},e}();function pn(e,t){e[Xe]=t}var dn=/([A-Z])/g;function hn(e){try{return null!=e?e.toString().slice(0,30):e}catch(t){return"[ERROR] Exception while trying to serialize the value"}}function fn(e,t){var n=vn(e),i=vn(t);return n&&i?function(e,t,n){for(var i=e[we()](),l=t[we()]();;){var o=i.next(),r=l.next();if(o.done&&r.done)return!0;if(o.done||r.done)return!1;if(!n(o.value,r.value))return!1}}(e,t,fn):!(n||!e||"object"!=typeof e&&"function"!=typeof e||i||!t||"object"!=typeof t&&"function"!=typeof t)||Fe(e,t)}var gn=function(){function e(e){this.wrapped=e}return e.wrap=function(t){return new e(t)},e.unwrap=function(t){return e.isWrapped(t)?t.wrapped:t},e.isWrapped=function(t){return t instanceof e},e}(),mn=function(){function e(e,t,n){this.previousValue=e,this.currentValue=t,this.firstChange=n}return e.prototype.isFirstChange=function(){return this.firstChange},e}();function vn(e){return!!yn(e)&&(Array.isArray(e)||!(e instanceof Map)&&we()in e)}function yn(e){return null!==e&&("function"==typeof e||"object"==typeof e)}var bn={},Dn="ngProjectAs";function Cn(e){return!!e.listen}var Sn={createRenderer:function(e,t){return document}},_n=[];function wn(e,t,n,i,l){0===e?Cn(t)?t.insertBefore(n,i,l):n.insertBefore(i,l,!0):1===e?Cn(t)?t.removeChild(n,i):n.removeChild(i):2===e&&t.destroyNode(i)}function xn(e){var t=e[Be].childIndex;return-1===t?null:e[t]}function Fn(e,t){var n;return e.length>=We&&(n=e[je])&&2===n.type?function(t,n){if(-1===t.index){var i=e[Ge];return i>-1?e[Re][i]:null}return e[Re][t.parent.index]}(n):e[Re]===t?null:e[Re]}function En(e){if(e.length>=We){var t=e;!function(e){var t,n=e[Be];null!=n&&null!=(t=n.destroyHooks)&&Mt(e,t)}(t),(l=(i=t)[Be]&&i[Be].pipeDestroyHooks)&&Mt(i,l),function(e){var t=e[Be].cleanup;if(null!=t){for(var n=e[Le],i=0;i<t.length-1;i+=2)if("string"==typeof t[i]){var l=n[t[i+2]],o=rt(e[t[i+1]]),r=t[i+3];"boolean"==typeof r?o.removeEventListener(t[i],l,r):r>=0?n[r]():n[-r].unsubscribe(),i+=2}else"number"==typeof t[i]?(0,n[t[i]])():t[i].call(n[t[i+1]]);e[Le]=null}}(t);var n=t[je];n&&3===n.type&&Cn(t[He])&&t[He].destroy()}var i,l}var kn="@",An=Promise.resolve(null);function Tn(e){var t=e[Be];if(t.firstTemplatePass=!1,Jt(!1),!Ut(e)){var n=zt();(function(e,t,n){!n&&32&e[Oe]&&(Rt(e,t.initHooks,t.checkHooks,n),e[Oe]&=-33)})(e,t,n),function(e){for(var t=xn(e);null!==t;t=t[Me])if(t.length<We&&-1===t[Je])for(var n=t,i=0;i<n[Ke].length;i++){var l=n[Ke][i];On(l,l[Be],l[Ve])}}(e),function(e){if(null!=e.contentQueries)for(var t=0;t<e.contentQueries.length;t+=2){var n=e.contentQueries[t];e.data[n].contentQueriesRefresh(n-We,e.contentQueries[t+1])}}(t),Rt(e,t.contentHooks,t.contentCheckHooks,n),function(e,t){if(e.expandoInstructions)for(var n=t[Ne]=e.expandoStartIndex,i=-1,l=-1,o=0;o<e.expandoInstructions.length;o++){var r=e.expandoInstructions[o];if("number"==typeof r)if(r<=0){l=-r;var u=e.expandoInstructions[++o];i=n+=tt+u}else n+=r;else null!==r&&(t[Ne]=n,r(2,rt(t[i]),l)),i++}}(t,e)}!function(e){if(null!=e)for(var t=0;t<e.length;t++)void 0,void 0,16==(16&(n=st(e[t],Pt()))[Oe])&&12&n[Oe]&&(function(e){for(var t=e[Be],n=e.length;n<t.blueprint.length;n++)e[n]=t.blueprint[n]}(n),Hn(n,n[Ve]));var n}(t.components)}function In(e,t,n,i,l,o,r,u){var s=t.blueprint.slice();return s[Oe]=51|i,s[Re]=s[qe]=e,s[Ve]=n,s[Ue]=l||e&&e[Ue],s[He]=o||e&&e[He],s[ze]=r||e&&e[ze]||null,s[$e]=u||e&&e[$e]||null,s}function Bn(e,t,n,i,l){var o=Pt(),r=o[Be],u=e+We;o[u]=n;var s=r.data[u];null==s&&(s=r.data[u]=Ln(o,t,u,i,l,null));var a=jt(),c=Vt();return a&&(!c||null!=a.child||null===s.parent&&2!==a.type?c||(a.next=s):a.child=s),null==r.firstChild&&(r.firstChild=s),Nt(s),$t(!0),s}function On(e,t,n){var i,l=Vt(),o=jt();if($t(!0),Nt(null),128&e[Oe])Vn(function(e){for(var t=Array.isArray(e)?e:pt(e);t&&!(128&t[Oe]);)t=t[Re];return t}(e)[Ve]);else try{$t(!0),Nt(null),i=Kt(e,e[je]),jn(),t.template(Mn(e),n),e[Be].firstTemplatePass=!1,Jt(!1),Tn(e)}finally{Qt(i),$t(l),Nt(o)}}function Rn(e,t,n){var i=e[Ue],l=Kt(e,e[je]),o=!zt();try{o&&i.begin&&i.begin(),Ut(e)&&(n&&(jn(),n(1,t)),Tn(e),e[Oe]&=-2),n&&n(2,t),Tn(e)}finally{o&&i.end&&i.end(),Qt(l)}}function Mn(e){return Ut(e)?1:2}var Pn=null;function jn(){Pn=null}function Nn(e,t,n,i,l,o,r){var u=We+n,s=u+i,a=function(e,t){var n=new Array(t).fill(null,0,e).fill(bn,e);return n[Ge]=-1,n[Ne]=e,n}(u,s);return a[Be]={id:e,blueprint:a,template:t,viewQuery:r,node:null,data:a.slice(),childIndex:-1,bindingStartIndex:u,expandoStartIndex:s,expandoInstructions:null,firstTemplatePass:!0,initHooks:null,checkHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,pipeDestroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof l?l():l,pipeRegistry:"function"==typeof o?o():o,firstChild:null}}function Ln(e,t,n,i,l,o){var r=jt(),u=Vt()?r:r&&r.parent,s=u&&e&&u!==e[je]?u:null;return{type:t,index:n,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,flags:0,providerIndexes:0,tagName:i,attrs:l,localNames:null,initialInputs:void 0,inputs:void 0,outputs:void 0,tViews:o,next:null,child:null,parent:s,detached:null,stylingTemplate:null,projection:null}}function Vn(e){for(var t=0;t<e.components.length;t++){var n=e.components[t];Rn(pt(n),n)}}function $n(e,t){var n=e[Ue];n.begin&&n.begin(),Ut(e)&&Hn(e,t),Hn(e,t),n.end&&n.end()}function Un(e){Vn(e[Ve])}function Hn(e,t){var n=e[Be],i=Kt(e,e[je]),l=n.template,o=n.viewQuery;try{jn(),function(t,n,i){t&&Ut(e)&&t(1,i)}(o,0,t),l(Mn(e),t),Tn(e),function(t,n,i){t&&!Ut(e)&&t(2,i)}(o,0,t)}finally{Qt(i)}}var zn=An;function Gn(e,t,n,i,l,o){yt=!1,vt=null;var r,u=n[Be],s=In(n,(r=t.template).ngPrivateData||(r.ngPrivateData=Nn(-1,r,t.consts,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery)),null,t.onPush?8:4,i,l,o),a=Bn(0,3,e,null,null);return u.firstTemplatePass&&(function(e,t,n){var i="string"!=typeof n?n[de]:n.charCodeAt(0)||0;null==i&&(i=n[de]=en++);var l=i&Yt,o=1<<l,r=64&l,u=32&l,s=t.data;128&l?r?u?s[e+7]|=o:s[e+6]|=o:u?s[e+5]|=o:s[e+4]|=o:r?u?s[e+3]|=o:s[e+2]|=o:u?s[e+1]|=o:s[e]|=o}(function(e,t){var n=nn(e,t);if(-1!==n)return n;var i=t[Be];i.firstTemplatePass&&(e.injectorIndex=t.length,tn(i.data,e),tn(t,null),tn(i.blueprint,null));var l=ln(e,t),o=dt(l),r=ht(l,t),u=e.injectorIndex;if(l!==nt)for(var s=r[Be].data,a=0;a<8;a++)t[u+a]=r[o+a]|s[o+a];return t[u+et]=l,u}(a,n),n[Be],t.type),a.flags=1,function(e,t,n){e.flags=1&e.flags,e.directiveStart=t,e.directiveEnd=t+1,e.providerIndexes=t}(a,n.length),function(e){var t=Pt()[Be];(t.components||(t.components=[])).push(e.index)}(a)),s[Pe]=n[We],s[je]=a,n[We]=s}function qn(e,t,n,i,l){var o=n[Be],r=function(e,t,n){var i=jt();e.firstTemplatePass&&(n.providersResolver&&n.providersResolver(n),function(e,t,n){var l=-(i.index-We),o=e.data.length-(65535&i.providerIndexes);(e.expandoInstructions||(e.expandoInstructions=[])).push(l,o,1)}(e),function(e,t,n,i){e.data.push(n);var l=new it(i,at(n),null);e.blueprint.push(l),t.push(l)}(e,t,n,n.factory));var l=un(e.data,t,t.length-1,i);return function(e,t,n,i){var l=ut(t,e);pn(n,e),l&&pn(l,e),null!=i.attributes&&3==t.type&&function(e,t){for(var n=Pt()[He],i=Cn(n),l=0;l<t.length;){var o=t[l++];if("number"==typeof o){if(0!==o)break;var r=t[l++],u=t[l++],s=t[l++];i?n.setAttribute(e,u,s,r):e.setAttributeNS(r,u,s)}else s=t[l++],o!==Dn&&(o[0]===kn?i&&n.setProperty(e,o,s):i?n.setAttribute(e,o,s):e.setAttribute(o,s))}}(l,i.attributes)}(t,i,l,n),l}(o,n,t);if(i.components.push(r),e[Ve]=r,l&&l.forEach(function(e){return e(r,t)}),o.firstTemplatePass&&t.hostBindings){var u=jt();t.hostBindings(1,r,u.index-We)}return r}function Wn(e,t){return{components:[],scheduler:e||ft,clean:zn,playerHandler:t||null,flags:0}}function Jn(e,t){var n,i,l,o,r=pt(e)[Be],u=r.data.length-1;n=u,l=t.doCheck,o=r,(i=t.onInit)&&(o.initHooks||(o.initHooks=[])).push(n,i),l&&((o.initHooks||(o.initHooks=[])).push(n,l),(o.checkHooks||(o.checkHooks=[])).push(n,l)),function(e,t){if(e.firstTemplatePass)for(var n=t.directiveStart,i=t.directiveEnd;n<i;n++){var l=e.data[n];It(l,e,n),Bt(l,e,n),Ot(l,e,n)}}(r,{directiveStart:u,directiveEnd:u+1})}function Kn(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]}var Qn="__source",Zn=new Object,Xn=Zn,Yn=new me("INJECTOR"),ei=function(){function e(){}return e.prototype.get=function(e,t){if(void 0===t&&(t=Zn),t===Zn)throw new Error("NullInjectorError: No provider for "+Ee(e)+"!");return t},e}(),ti=function(){function e(){}return e.create=function(e,t){return Array.isArray(e)?new pi(e,t):new pi(e.providers,e.parent,e.name||null)},e.THROW_IF_NOT_FOUND=Zn,e.NULL=new ei,e.ngInjectableDef=he({providedIn:"any",factory:function(){return kt(Yn)}}),e.__NG_ELEMENT_ID__=function(){return ni()},e}(),ni=Kn,ii=function(e){return e},li=[],oi=ii,ri=function(){return Array.prototype.slice.call(arguments)},ui=ue({provide:String,useValue:ue}),si=ti.NULL,ai=/\n/gm,ci="\u0275",pi=function(){function e(e,t,n){void 0===t&&(t=si),void 0===n&&(n=null),this.parent=t,this.source=n;var i=this._records=new Map;i.set(ti,{token:ti,fn:ii,deps:li,value:this,useNew:!1}),i.set(Yn,{token:Yn,fn:ii,deps:li,value:this,useNew:!1}),function e(t,n){if(n)if((n=Te(n))instanceof Array)for(var i=0;i<n.length;i++)e(t,n[i]);else{if("function"==typeof n)throw fi("Function/Class not supported",n);if(!n||"object"!=typeof n||!n.provide)throw fi("Unexpected provider",n);var l=Te(n.provide),o=function(e){var t=function(e){var t=li,n=e.deps;if(n&&n.length){t=[];for(var i=0;i<n.length;i++){var l=6;if((s=Te(n[i]))instanceof Array)for(var o=0,r=s;o<r.length;o++){var u=r[o];u instanceof Ct||u==Ct?l|=1:u instanceof _t||u==_t?l&=-3:u instanceof St||u==St?l&=-5:s=u instanceof Dt?u.token:Te(u)}t.push({token:s,options:l})}}else if(e.useExisting){var s;t=[{token:s=Te(e.useExisting),options:6}]}else if(!(n||ui in e))throw fi("'deps' required",e);return t}(e),n=ii,i=li,l=!1,o=Te(e.provide);if(ui in e)i=e.useValue;else if(e.useFactory)n=e.useFactory;else if(e.useExisting);else if(e.useClass)l=!0,n=Te(e.useClass);else{if("function"!=typeof o)throw fi("StaticProvider does not have [useValue|useFactory|useExisting|useClass] or [provide] is not newable",e);l=!0,n=o}return{deps:t,fn:n,useNew:l,value:i}}(n);if(!0===n.multi){var r=t.get(l);if(r){if(r.fn!==ri)throw di(l)}else t.set(l,r={token:n.provide,deps:[],useNew:!1,fn:ri,value:li});r.deps.push({token:l=n,options:6})}var u=t.get(l);if(u&&u.fn==ri)throw di(l);t.set(l,o)}}(i,e)}return e.prototype.get=function(e,t,n){void 0===n&&(n=wt.Default);var l=this._records.get(e);try{return function e(t,n,l,o,r,u){try{return function(t,n,l,o,r,u){var s,a;if(!n||u&wt.SkipSelf)u&wt.Self||(a=o.get(t,r,wt.Default));else{if((a=n.value)==oi)throw Error(ci+"Circular dependency");if(a===li){n.value=oi;var c=n.useNew,p=n.fn,d=n.deps,h=li;if(d.length){h=[];for(var f=0;f<d.length;f++){var g=d[f],m=g.options,v=2&m?l.get(g.token):void 0;h.push(e(g.token,v,l,v||4&m?o:si,1&m?null:ti.THROW_IF_NOT_FOUND,wt.Default))}}n.value=a=c?new((s=p).bind.apply(s,Object(i.__spread)([void 0],h))):p.apply(void 0,h)}}return a}(t,n,l,o,r,u)}catch(s){throw s instanceof Error||(s=new Error(s)),(s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(t),n&&n.value==oi&&(n.value=li),s}}(e,l,this._records,this.parent,t,n)}catch(r){var o=r.ngTempTokenPath;throw e[Qn]&&o.unshift(e[Qn]),r.message=hi("\n"+r.message,o,this.source),r.ngTokenPath=o,r.ngTempTokenPath=null,r}},e.prototype.toString=function(){var e=[];return this._records.forEach(function(t,n){return e.push(Ee(n))}),"StaticInjector["+e.join(", ")+"]"},e}();function di(e){return fi("Cannot mix multi providers and regular providers",e)}function hi(e,t,n){void 0===n&&(n=null),e=e&&"\n"===e.charAt(0)&&e.charAt(1)==ci?e.substr(2):e;var i=Ee(t);if(t instanceof Array)i=t.map(Ee).join(" -> ");else if("object"==typeof t){var l=[];for(var o in t)if(t.hasOwnProperty(o)){var r=t[o];l.push(o+":"+("string"==typeof r?JSON.stringify(r):Ee(r)))}i="{"+l.join(", ")+"}"}return"StaticInjectorError"+(n?"("+n+")":"")+"["+i+"]: "+e.replace(ai,"\n  ")}function fi(e,t){return new Error(hi(e,t))}var gi=new me("The presence of this token marks an injector as being the root injector."),mi={},vi={},yi=[],bi=void 0;function Di(){return void 0===bi&&(bi=new ei),bi}var Ci=function(){function e(e,t,n){var i=this;this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this.destroyed=!1;var l=[];wi([e],function(e){return i.processInjectorType(e,[],l)}),t&&wi(t,function(n){return i.processProvider(n,e,t)}),this.records.set(Yn,_i(void 0,this)),this.isRootInjector=this.records.has(gi),this.injectorDefTypes.forEach(function(e){return i.get(e)})}return e.prototype.destroy=function(){this.assertNotDestroyed(),this.destroyed=!0;try{this.onDestroy.forEach(function(e){return e.ngOnDestroy()})}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}},e.prototype.get=function(e,t,n){void 0===t&&(t=Xn),void 0===n&&(n=wt.Default),this.assertNotDestroyed();var i,l=Ft(this);try{if(!(n&wt.SkipSelf)){var o=this.records.get(e);if(void 0===o){var r=("function"==typeof(i=e)||"object"==typeof i&&i instanceof me)&&fe(e);r&&this.injectableDefInScope(r)&&(o=_i(Si(e),mi),this.records.set(e,o))}if(void 0!==o)return this.hydrate(e,o)}return(n&wt.Self?Di():this.parent).get(e,t)}finally{Ft(l)}},e.prototype.assertNotDestroyed=function(){if(this.destroyed)throw new Error("Injector has already been destroyed.")},e.prototype.processInjectorType=function(e,t,n){var i=this;if(e=Te(e)){var l=ge(e),o=null==l&&e.ngModule||void 0,r=void 0===o?e:o,u=-1!==n.indexOf(r),s=void 0!==o&&e.providers||yi;if(void 0!==o&&(l=ge(o)),null!=l){if(this.injectorDefTypes.add(r),this.records.set(r,_i(l.factory,mi)),null!=l.imports&&!u){n.push(r);try{wi(l.imports,function(e){return i.processInjectorType(e,t,n)})}finally{}}var a=l.providers;if(null!=a&&!u){var c=e;wi(a,function(e){return i.processProvider(e,c,a)})}var p=e.ngModule;wi(s,function(e){return i.processProvider(e,p,s)})}}},e.prototype.processProvider=function(e,t,n){var l=Fi(e=Te(e))?e:Te(e&&e.provide),o=function(e,t,n){var l=function(e,t,n){var l,o=void 0;if(Fi(e))return Si(Te(e));if(xi(e))o=function(){return Te(e.useValue)};else if((l=e)&&l.useExisting)o=function(){return kt(Te(e.useExisting))};else if(e&&e.useFactory)o=function(){return e.useFactory.apply(e,Object(i.__spread)(Tt(e.deps||[])))};else{var r=Te(e&&(e.useClass||e.provide));if(!r){var u="";throw t&&n&&(u=" - only instances of Provider and Type are allowed, got: ["+n.map(function(t){return t==e?"?"+e+"?":"..."}).join(", ")+"]"),new Error("Invalid provider for the NgModule '"+Ee(t)+"'"+u)}if(!e.deps)return Si(r);o=function(){return new(r.bind.apply(r,Object(i.__spread)([void 0],Tt(e.deps))))}}return o}(e,t,n);return xi(e)?_i(void 0,e.useValue):_i(l,mi)}(e,t,n);if(Fi(e)||!0!==e.multi){var r=this.records.get(l);if(r&&void 0!==r.multi)throw new Error("Mixed multi-provider for "+Ee(l))}else{var u=this.records.get(l);if(u){if(void 0===u.multi)throw new Error("Mixed multi-provider for "+l+".")}else(u=_i(void 0,mi,!0)).factory=function(){return Tt(u.multi)},this.records.set(l,u);l=e,u.multi.push(e)}this.records.set(l,o)},e.prototype.hydrate=function(e,t){if(t.value===vi)throw new Error("Cannot instantiate cyclic dependency! "+Ee(e));var n;return t.value===mi&&(t.value=vi,t.value=t.factory()),"object"==typeof t.value&&t.value&&"object"==typeof(n=t.value)&&null!=n&&n.ngOnDestroy&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(t.value),t.value},e.prototype.injectableDefInScope=function(e){return!!e.providedIn&&("string"==typeof e.providedIn?"any"===e.providedIn||"root"===e.providedIn&&this.isRootInjector:this.injectorDefTypes.has(e.providedIn))},e}();function Si(e){var t=fe(e);if(null===t){var n=ge(e);if(null!==n)return n.factory;if(e instanceof me)throw new Error("Token "+Ee(e)+" is missing an ngInjectableDef definition.");if(e instanceof Function){var i=e.length;if(i>0){var l=new Array(i).fill("?");throw new Error("Can't resolve all parameters for "+Ee(e)+": ("+l.join(", ")+").")}return function(){return new e}}throw new Error("unreachable")}return t.factory}function _i(e,t,n){return void 0===n&&(n=!1),{factory:e,value:t,multi:n?[]:void 0}}function wi(e,t){e.forEach(function(e){return Array.isArray(e)?wi(e,t):t(e)})}function xi(e){return e&&"object"==typeof e&&ui in e}function Fi(e){return"function"==typeof e}var Ei=function(){return function(){}}(),ki=function(){return function(){}}();function Ai(e){var t=Error("No component factory found for "+Ee(e)+". Did you add it to @NgModule.entryComponents?");return t[Ii]=e,t}var Ti,Ii="ngComponent",Bi=function(){function e(){}return e.prototype.resolveComponentFactory=function(e){throw Ai(e)},e}(),Oi=function(){function e(){}return e.NULL=new Bi,e}(),Ri=function(){function e(e,t,n){this._parent=t,this._ngModule=n,this._factories=new Map;for(var i=0;i<e.length;i++){var l=e[i];this._factories.set(l.componentType,l)}}return e.prototype.resolveComponentFactory=function(e){var t=this._factories.get(e);if(!t&&this._parent&&(t=this._parent.resolveComponentFactory(e)),!t)throw Ai(e);return new Mi(t,this._ngModule)},e}(),Mi=function(e){function t(t,n){var i=e.call(this)||this;return i.factory=t,i.ngModule=n,i.selector=t.selector,i.componentType=t.componentType,i.ngContentSelectors=t.ngContentSelectors,i.inputs=t.inputs,i.outputs=t.outputs,i}return Object(i.__extends)(t,e),t.prototype.create=function(e,t,n,i){return this.factory.create(e,t,n,i||this.ngModule)},t}(ki),Pi=function(){return function(){}}(),ji=function(){return function(){}}(),Ni=function(e){function t(t){var n=e.call(this,t,null,-1)||this;return n._view=t,n}return Object(i.__extends)(t,e),t.prototype.detectChanges=function(){Un(this._view)},t.prototype.checkNoChanges=function(){!function(e){Gt(!0);try{Un(e)}finally{Gt(!1)}}(this._view)},Object.defineProperty(t.prototype,"context",{get:function(){return null},enumerable:!0,configurable:!0}),t}(function(){function e(e,t,n){this._context=t,this._componentIndex=n,this._appRef=null,this._viewContainerRef=null,this._tViewNode=null,this._lView=e}return Object.defineProperty(e.prototype,"rootNodes",{get:function(){return null==this._lView[Pe]?function e(t,n,i){for(var l=n.child;l;)i.push(ut(l,t)),4===l.type&&e(t,l,i),l=l.next;return i}(this._lView,this._lView[je],[]):[]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"context",{get:function(){return this._context?this._context:this._lookUpContext()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"destroyed",{get:function(){return 64==(64&this._lView[Oe])},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){var e=this._viewContainerRef.indexOf(this);e>-1&&this._viewContainerRef.detach(e),this._viewContainerRef=null}var t,n;Cn(n=(t=this._lView)[He])&&n.destroyNode&&function(e,n,i,l,o){for(var r=t[Be].node,u=-1,s=t,a=r.child;a;){var c=null;if(3===a.type){wn(2,i,null,ut(a,s),o);var p=s[a.index];g=p,Array.isArray(g)&&g.length===Ze&&wn(2,i,null,p[Qe],o)}else if(0===a.type){var d=s[a.index];wn(2,i,null,d[Qe],o),d[Ke].length&&(c=(s=d[Ke][0])[Be].node,o=d[Qe])}else if(1===a.type){var h=gt(s),f=h[je].projection[a.projection];_n[++u]=a,_n[++u]=s,f&&(c=(s=h[Re])[Be].data[f.index])}else c=a.child;if(null===c)for(null===a.next&&2&a.flags&&(s=_n[u--],a=_n[u--]),c=a.next;!c;){if(null===(a=a.parent||s[Be].node)||a===r)return null;0===a.type&&(o=(s=s[Re])[a.index][Qe]),c=2===a.type&&s[Me]?(s=s[Me])[Be].node:a.next}a=c}var g}(0,0,n),function(e){if(-1===e[Be].childIndex)return En(e);for(var t=xn(e);t;){var n=null;if(t.length>=We?t[Be].childIndex>-1&&(n=xn(t)):t[Ke].length&&(n=t[Ke][0]),null==n){for(;t&&!t[Me]&&t!==e;)En(t),t=Fn(t,e);En(t||e),n=t&&t[Me]}t=n}}(t),t[Oe]|=64},e.prototype.onDestroy=function(e){var t,n;n=e,function(e){return e[Le]||(e[Le]=[])}(t=this._lView).push(n),t[Be].firstTemplatePass&&function(e){return e[Be].cleanup||(e[Be].cleanup=[])}(t).push(t[Le].length-1,null)},e.prototype.markForCheck=function(){!function(e){for(;e&&!(128&e[Oe]);)e[Oe]|=8,e=e[Re];var t,n,i;e[Oe]|=8,i=0===(t=e[Ve]).flags,t.flags|=1,i&&t.clean==An&&(t.clean=new Promise(function(e){return n=e}),t.scheduler(function(){if(1&t.flags&&(t.flags&=-2,Vn(t)),2&t.flags){t.flags&=-3;var e=t.playerHandler;e&&e.flushPlayers()}t.clean=An,n(null)}))}(this._lView)},e.prototype.detach=function(){this._lView[Oe]&=-17},e.prototype.reattach=function(){this._lView[Oe]|=16},e.prototype.detectChanges=function(){$n(this._lView,this.context)},e.prototype.checkNoChanges=function(){!function(e){Gt(!0);try{!function(e){$n(function(e){var t,n=ct(e);if(Array.isArray(n)){var i=function(e,t){var n=e[Be].components;if(n)for(var i=0;i<n.length;i++){var l=n[i];if(st(l,e)[Ve]===t)return l}else if(st(We,e)[Ve]===t)return We;return-1}(n,e);(l=function(e,t,n){return{lView:e,nodeIndex:t,native:n,component:void 0,directives:void 0,localRefs:void 0}}(n,i,(t=st(i,n))[Pe])).component=e,pn(e,l),pn(l.native,l)}else{var l;t=st((l=n).nodeIndex,l.lView)}return t}(e),e)}(e)}finally{Gt(!1)}}(this.context)},e.prototype.attachToViewContainerRef=function(e){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=e},e.prototype.detachFromAppRef=function(){this._appRef=null},e.prototype.attachToAppRef=function(e){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e},e.prototype._lookUpContext=function(){return this._context=this._lView[Re][this._componentIndex]},e}()),Li=function(){function e(e){this.nativeElement=e}return e.__NG_ELEMENT_ID__=function(){return Vi(e)},e}(),Vi=Kn,$i=function(){return function(){}}(),Ui=function(){return function(){}}(),Hi=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}({}),zi=function(){function e(){}return e.__NG_ELEMENT_ID__=function(){return Gi()},e}(),Gi=Kn,qi=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}({}),Wi=function(){return function(){}}(),Ji=new(function(){return function(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}())("7.2.15"),Ki=function(e){function t(t){var n=e.call(this)||this;return n.ngModule=t,n}return Object(i.__extends)(t,e),t.prototype.resolveComponentFactory=function(e){return new el(e[se]||null,this.ngModule)},t}(Oi);function Qi(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}var Zi=new me("ROOT_CONTEXT_TOKEN",{providedIn:"root",factory:function(){return Wn(kt(Xi))}}),Xi=new me("SCHEDULER_TOKEN",{providedIn:"root",factory:function(){return ft}}),Yi={},el=function(e){function t(t,n){var i=e.call(this)||this;return i.componentDef=t,i.ngModule=n,i.componentType=t.type,i.selector=t.selectors[0][0],i.ngContentSelectors=[],i}return Object(i.__extends)(t,e),Object.defineProperty(t.prototype,"inputs",{get:function(){return Qi(this.componentDef.inputs)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"outputs",{get:function(){return Qi(this.componentDef.outputs)},enumerable:!0,configurable:!0}),t.prototype.create=function(e,t,n,l){var o,r,u,s,a=void 0===n,c=(l=l||this.ngModule)?function(e,t){return{get:function(n,i){var l=e.get(n,Yi);return l!==Yi||i===Yi?l:t.get(n,i)}}}(e,l.injector):e,p=c.get(Ui,Sn),d=c.get(Wi,null),h=a?(u=this.selector,Cn(s=p.createRenderer(null,this.componentDef)||Pt()[He])?s.createElement(u,Pn):null===Pn?s.createElement(u):s.createElementNS(Pn,u)):(o=n,r=p.createRenderer(null,null),"string"==typeof o?Cn(r)?r.selectRootElement(o):r.querySelector(o):o),f=this.componentDef.onPush?136:132,g=a?Wn():c.get(Zi),m=p.createRenderer(h,this.componentDef);n&&h&&(Cn(m)?m.setAttribute(h,"ng-version",Ji.full):h.setAttribute("ng-version",Ji.full));var v,y,b=In(null,Nn(-1,null,1,0,null,null,null),g,f,p,m,d,c),D=Kt(b,null);try{p.begin&&p.begin();var C=Gn(h,this.componentDef,b,p,m);if(y=b[Be].data[0+We],t)for(var S=0,_=b[Be],w=y.projection=[],x=0;x<t.length;x++){for(var F=t[x],E=null,k=null,A=0;A<F.length;A++){_.firstTemplatePass&&(_.expandoStartIndex++,_.blueprint.splice(++S+We,0,null),_.data.splice(S+We,0,null),b.splice(S+We,0,null));var T=Bn(S,3,F[A],null,null);k?k.next=T:E=T,k=T}w.push(E)}v=qn(C,this.componentDef,b,g,[Jn]),function(e,t,n){var i=e[Be],l=Wt();e[14]?e[14][Me]=n:l&&(i.childIndex=t),e[14]=n}(b,We,C),Tn(b)}finally{Qt(D),p.end&&p.end()}var I=new tl(this.componentType,v,function(e,t,n){return Ti||(Ti=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.__extends)(t,e),t}(Li)),new Ti(ut(t,n))}(0,y,b),b,y);return a&&(I.hostView._tViewNode.child=y),I},t}(ki),tl=function(e){function t(t,n,i,l,o){var r,u=e.call(this)||this;return u.location=i,u._rootLView=l,u._tNode=o,u.destroyCbs=[],u.instance=n,u.hostView=u.changeDetectorRef=new Ni(l),u.hostView._tViewNode=(-1,null==(r=l)[Be].node&&(r[Be].node=Ln(r,2,-1,null,null,null)),r[je]=r[Be].node),u.componentType=t,u}return Object(i.__extends)(t,e),Object.defineProperty(t.prototype,"injector",{get:function(){return new cn(this._tNode,this._rootLView)},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){this.destroyCbs.forEach(function(e){return e()}),this.destroyCbs=null,this.hostView.destroy()},t.prototype.onDestroy=function(e){this.destroyCbs.push(e)},t}(Ei),nl=!0,il=!1;function ll(){return il=!0,nl}var ol=function(){function e(e){if(this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),this.inertBodyElement=this.inertDocument.body,null==this.inertBodyElement){var t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t),this.inertBodyElement=this.inertDocument.createElement("body"),t.appendChild(this.inertBodyElement)}this.inertBodyElement.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',!this.inertBodyElement.querySelector||this.inertBodyElement.querySelector("svg")?(this.inertBodyElement.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',this.getInertBodyElement=this.inertBodyElement.querySelector&&this.inertBodyElement.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(e){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}return e.prototype.getInertBodyElement_XHR=function(e){e="<body><remove></remove>"+e+"</body>";try{e=encodeURI(e)}catch(i){return null}var t=new XMLHttpRequest;t.responseType="document",t.open("GET","data:text/html;charset=utf-8,"+e,!1),t.send(void 0);var n=t.response.body;return n.removeChild(n.firstChild),n},e.prototype.getInertBodyElement_DOMParser=function(e){e="<body><remove></remove>"+e+"</body>";try{var t=(new window.DOMParser).parseFromString(e,"text/html").body;return t.removeChild(t.firstChild),t}catch(n){return null}},e.prototype.getInertBodyElement_InertDocument=function(e){var t=this.inertDocument.createElement("template");return"content"in t?(t.innerHTML=e,t):(this.inertBodyElement.innerHTML=e,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(this.inertBodyElement),this.inertBodyElement)},e.prototype.stripCustomNsAttrs=function(e){for(var t=e.attributes,n=t.length-1;0<n;n--){var i=t.item(n).name;"xmlns:ns1"!==i&&0!==i.indexOf("ns1:")||e.removeAttribute(i)}for(var l=e.firstChild;l;)l.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(l),l=l.nextSibling},e}(),rl=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:\/?#]*(?:[\/?#]|$))/gi,ul=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function sl(e){return(e=String(e)).match(rl)||e.match(ul)?e:(ll()&&console.warn("WARNING: sanitizing unsafe URL value "+e+" (see http://g.co/ng/security#xss)"),"unsafe:"+e)}function al(e){var t,n,l={};try{for(var o=Object(i.__values)(e.split(",")),r=o.next();!r.done;r=o.next())l[r.value]=!0}catch(u){t={error:u}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return l}function cl(){for(var e,t,n=[],l=0;l<arguments.length;l++)n[l]=arguments[l];var o={};try{for(var r=Object(i.__values)(n),u=r.next();!u.done;u=r.next()){var s=u.value;for(var a in s)s.hasOwnProperty(a)&&(o[a]=!0)}}catch(c){e={error:c}}finally{try{u&&!u.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}return o}var pl,dl=al("area,br,col,hr,img,wbr"),hl=al("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),fl=al("rp,rt"),gl=cl(fl,hl),ml=cl(dl,cl(hl,al("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),cl(fl,al("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),gl),vl=al("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),yl=al("srcset"),bl=cl(vl,yl,al("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width")),Dl=al("script,style,template"),Cl=function(){function e(){this.sanitizedSomething=!1,this.buf=[]}return e.prototype.sanitizeChildren=function(e){for(var t=e.firstChild,n=!0;t;)if(t.nodeType===Node.ELEMENT_NODE?n=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,n&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);var i=this.checkClobberedElement(t,t.nextSibling);if(i){t=i;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")},e.prototype.startElement=function(e){var t,n=e.nodeName.toLowerCase();if(!ml.hasOwnProperty(n))return this.sanitizedSomething=!0,!Dl.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);for(var i=e.attributes,l=0;l<i.length;l++){var o=i.item(l),r=o.name,u=r.toLowerCase();if(bl.hasOwnProperty(u)){var s=o.value;vl[u]&&(s=sl(s)),yl[u]&&(t=s,s=(t=String(t)).split(",").map(function(e){return sl(e.trim())}).join(", ")),this.buf.push(" ",r,'="',wl(s),'"')}else this.sanitizedSomething=!0}return this.buf.push(">"),!0},e.prototype.endElement=function(e){var t=e.nodeName.toLowerCase();ml.hasOwnProperty(t)&&!dl.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))},e.prototype.chars=function(e){this.buf.push(wl(e))},e.prototype.checkClobberedElement=function(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+e.outerHTML);return t},e}(),Sl=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,_l=/([^\#-~ |!])/g;function wl(e){return e.replace(/&/g,"&amp;").replace(Sl,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(_l,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function xl(e){return"content"in e&&function(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var Fl={provide:Oi,useClass:Ki,deps:[Pi]},El=function(e){function t(t,n){var i=e.call(this)||this;i._parent=n,i._bootstrapComponents=[],i.injector=i,i.destroyCbs=[];var l=function(e,n){var i=t[pe]||null;return i}();return i._bootstrapComponents=l.bootstrap,i._r3Injector=function(e,t,n){return void 0===t&&(t=null),void 0===n&&(n=null),t=t||Di(),new Ci(e,n,t)}(t,n,[{provide:Pi,useValue:i},Fl]),i.instance=i.get(t),i}return Object(i.__extends)(t,e),t.prototype.get=function(e,t,n){return void 0===t&&(t=ti.THROW_IF_NOT_FOUND),void 0===n&&(n=wt.Default),e===ti||e===Pi||e===Yn?this:this._r3Injector.get(e,t,n)},Object.defineProperty(t.prototype,"componentFactoryResolver",{get:function(){return this.get(Oi)},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){this.destroyCbs.forEach(function(e){return e()}),this.destroyCbs=null},t.prototype.onDestroy=function(e){this.destroyCbs.push(e)},t}(Pi);!function(e){function t(t){var n=e.call(this)||this;return n.moduleType=t,n}Object(i.__extends)(t,e),t.prototype.create=function(e){return new El(this.moduleType,e)}}(ji);var kl=function(e){function t(t){void 0===t&&(t=!1);var n=e.call(this)||this;return n.__isAsync=t,n}return Object(i.__extends)(t,e),t.prototype.emit=function(t){e.prototype.next.call(this,t)},t.prototype.subscribe=function(t,n,i){var l,o=function(e){return null},r=function(){return null};t&&"object"==typeof t?(l=this.__isAsync?function(e){setTimeout(function(){return t.next(e)})}:function(e){t.next(e)},t.error&&(o=this.__isAsync?function(e){setTimeout(function(){return t.error(e)})}:function(e){t.error(e)}),t.complete&&(r=this.__isAsync?function(){setTimeout(function(){return t.complete()})}:function(){t.complete()})):(l=this.__isAsync?function(e){setTimeout(function(){return t(e)})}:function(e){t(e)},n&&(o=this.__isAsync?function(e){setTimeout(function(){return n(e)})}:function(e){n(e)}),i&&(r=this.__isAsync?function(){setTimeout(function(){return i()})}:function(){i()}));var u=e.prototype.subscribe.call(this,l,o,r);return t instanceof h&&t.add(u),u},t}(A),Al=function(){function e(){}return e.__NG_ELEMENT_ID__=function(){return Tl(e,Li)},e}(),Tl=Kn,Il=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:calc|attr))\\([-0-9.%, #a-zA-Z]+\\))$","g"),Bl=/^url\(([^)]+)\)$/,Ol="ngDebugContext",Rl="ngOriginalError",Ml="ngErrorLogger";function Pl(e){return e[Ol]}function jl(e){return e[Rl]}function Nl(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];e.error.apply(e,Object(i.__spread)(t))}var Ll=function(){function e(){this._console=console}return e.prototype.handleError=function(e){var t=this._findOriginalError(e),n=this._findContext(e),i=function(e){return e[Ml]||Nl}(e);i(this._console,"ERROR",e),t&&i(this._console,"ORIGINAL ERROR",t),n&&i(this._console,"ERROR CONTEXT",n)},e.prototype._findContext=function(e){return e?Pl(e)?Pl(e):this._findContext(jl(e)):null},e.prototype._findOriginalError=function(e){for(var t=jl(e);t&&jl(t);)t=jl(t);return t},e}();function Vl(e){return!!e&&"function"==typeof e.then}function $l(e){return!!e&&"function"==typeof e.subscribe}var Ul=new me("Application Initializer"),Hl=function(){function e(e){var t=this;this.appInits=e,this.initialized=!1,this.done=!1,this.donePromise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return e.prototype.runInitializers=function(){var e=this;if(!this.initialized){var t=[],n=function(){e.done=!0,e.resolve()};if(this.appInits)for(var i=0;i<this.appInits.length;i++){var l=this.appInits[i]();Vl(l)&&t.push(l)}Promise.all(t).then(function(){n()}).catch(function(t){e.reject(t)}),0===t.length&&n(),this.initialized=!0}},e}(),zl=new me("AppId");function Gl(){return""+ql()+ql()+ql()}function ql(){return String.fromCharCode(97+Math.floor(25*Math.random()))}var Wl=new me("Platform Initializer"),Jl=new me("Platform ID"),Kl=new me("appBootstrapListener"),Ql=function(){function e(){}return e.prototype.log=function(e){console.log(e)},e.prototype.warn=function(e){console.warn(e)},e}();function Zl(){throw new Error("Runtime compiler is not loaded")}var Xl,Yl,eo=Zl,to=Zl,no=Zl,io=Zl,lo=function(){function e(){this.compileModuleSync=eo,this.compileModuleAsync=to,this.compileModuleAndAllComponentsSync=no,this.compileModuleAndAllComponentsAsync=io}return e.prototype.clearCache=function(){},e.prototype.clearCacheFor=function(e){},e.prototype.getModuleId=function(e){},e}(),oo=function(){return function(){}}();function ro(){var e=Ce.wtf;return!(!e||!(Xl=e.trace)||(Yl=Xl.events,0))}var uo=ro();function so(e,t){return null}var ao=uo?function(e,t){return void 0===t&&(t=null),Yl.createScope(e,t)}:function(e,t){return so},co=uo?function(e,t){return Xl.leaveScope(e,t),t}:function(e,t){return t},po=function(){function e(e){var t,n=e.enableLongStackTrace,i=void 0!==n&&n;if(this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new kl(!1),this.onMicrotaskEmpty=new kl(!1),this.onStable=new kl(!1),this.onError=new kl(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),(t=this)._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:function(e,n,i,l,o,r){try{return mo(t),e.invokeTask(i,l,o,r)}finally{vo(t)}},onInvoke:function(e,n,i,l,o,r,u){try{return mo(t),e.invoke(i,l,o,r,u)}finally{vo(t)}},onHasTask:function(e,n,i,l){e.hasTask(i,l),n===i&&("microTask"==l.change?(t.hasPendingMicrotasks=l.microTask,go(t)):"macroTask"==l.change&&(t.hasPendingMacrotasks=l.macroTask))},onHandleError:function(e,n,i,l){return e.handleError(i,l),t.runOutsideAngular(function(){return t.onError.emit(l)}),!1}})}return e.isInAngularZone=function(){return!0===Zone.current.get("isAngularZone")},e.assertInAngularZone=function(){if(!e.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")},e.assertNotInAngularZone=function(){if(e.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")},e.prototype.run=function(e,t,n){return this._inner.run(e,t,n)},e.prototype.runTask=function(e,t,n,i){var l=this._inner,o=l.scheduleEventTask("NgZoneEvent: "+i,e,fo,ho,ho);try{return l.runTask(o,t,n)}finally{l.cancelTask(o)}},e.prototype.runGuarded=function(e,t,n){return this._inner.runGuarded(e,t,n)},e.prototype.runOutsideAngular=function(e){return this._outer.run(e)},e}();function ho(){}var fo={};function go(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(function(){return e.onStable.emit(null)})}finally{e.isStable=!0}}}function mo(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function vo(e){e._nesting--,go(e)}var yo,bo=function(){function e(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new kl,this.onMicrotaskEmpty=new kl,this.onStable=new kl,this.onError=new kl}return e.prototype.run=function(e){return e()},e.prototype.runGuarded=function(e){return e()},e.prototype.runOutsideAngular=function(e){return e()},e.prototype.runTask=function(e){return e()},e}(),Do=function(){function e(e){var t=this;this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(function(){t.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}return e.prototype._watchAngularEvents=function(){var e=this;this._ngZone.onUnstable.subscribe({next:function(){e._didWork=!0,e._isZoneStable=!1}}),this._ngZone.runOutsideAngular(function(){e._ngZone.onStable.subscribe({next:function(){po.assertNotInAngularZone(),xe(function(){e._isZoneStable=!0,e._runCallbacksIfReady()})}})})},e.prototype.increasePendingRequestCount=function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount},e.prototype.decreasePendingRequestCount=function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount},e.prototype.isStable=function(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks},e.prototype._runCallbacksIfReady=function(){var e=this;if(this.isStable())xe(function(){for(;0!==e._callbacks.length;){var t=e._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(e._didWork)}e._didWork=!1});else{var t=this.getPendingTasks();this._callbacks=this._callbacks.filter(function(e){return!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)}),this._didWork=!0}},e.prototype.getPendingTasks=function(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(function(e){return{source:e.source,creationLocation:e.creationLocation,data:e.data}}):[]},e.prototype.addCallback=function(e,t,n){var i=this,l=-1;t&&t>0&&(l=setTimeout(function(){i._callbacks=i._callbacks.filter(function(e){return e.timeoutId!==l}),e(i._didWork,i.getPendingTasks())},t)),this._callbacks.push({doneCb:e,timeoutId:l,updateCb:n})},e.prototype.whenStable=function(e,t,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(e,t,n),this._runCallbacksIfReady()},e.prototype.getPendingRequestCount=function(){return this._pendingCount},e.prototype.findProviders=function(e,t,n){return[]},e}(),Co=function(){function e(){this._applications=new Map,So.addToWindow(this)}return e.prototype.registerApplication=function(e,t){this._applications.set(e,t)},e.prototype.unregisterApplication=function(e){this._applications.delete(e)},e.prototype.unregisterAllApplications=function(){this._applications.clear()},e.prototype.getTestability=function(e){return this._applications.get(e)||null},e.prototype.getAllTestabilities=function(){return Array.from(this._applications.values())},e.prototype.getAllRootElements=function(){return Array.from(this._applications.keys())},e.prototype.findTestabilityInTree=function(e,t){return void 0===t&&(t=!0),So.findTestabilityInTree(this,e,t)},Object(i.__decorate)([Object(i.__metadata)("design:paramtypes",[])],e)}(),So=new(function(){function e(){}return e.prototype.addToWindow=function(e){},e.prototype.findTestabilityInTree=function(e,t,n){return null},e}()),_o=new me("AllowMultipleToken"),wo=function(){return function(e,t){this.name=e,this.token=t}}();function xo(e,t,n){void 0===n&&(n=[]);var i="Platform: "+t,l=new me(i);return function(t){void 0===t&&(t=[]);var o=Fo();if(!o||o.injector.get(_o,!1))if(e)e(n.concat(t).concat({provide:l,useValue:!0}));else{var r=n.concat(t).concat({provide:l,useValue:!0});!function(e){if(yo&&!yo.destroyed&&!yo.injector.get(_o,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");yo=e.get(Eo);var t=e.get(Wl,null);t&&t.forEach(function(e){return e()})}(ti.create({providers:r,name:i}))}return function(e){var t=Fo();if(!t)throw new Error("No platform exists!");if(!t.injector.get(e,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}(l)}}function Fo(){return yo&&!yo.destroyed?yo:null}var Eo=function(){function e(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return e.prototype.bootstrapModuleFactory=function(e,t){var n,i=this,l="noop"===(n=t?t.ngZone:void 0)?new bo:("zone.js"===n?void 0:n)||new po({enableLongStackTrace:ll()}),o=[{provide:po,useValue:l}];return l.run(function(){var t=ti.create({providers:o,parent:i.injector,name:e.moduleType.name}),n=e.create(t),r=n.injector.get(Ll,null);if(!r)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.onDestroy(function(){return To(i._modules,n)}),l.runOutsideAngular(function(){return l.onError.subscribe({next:function(e){r.handleError(e)}})}),function(e,t,l){try{var o=((r=n.injector.get(Hl)).runInitializers(),r.donePromise.then(function(){return i._moduleDoBootstrap(n),n}));return Vl(o)?o.catch(function(n){throw t.runOutsideAngular(function(){return e.handleError(n)}),n}):o}catch(u){throw t.runOutsideAngular(function(){return e.handleError(u)}),u}var r}(r,l)})},e.prototype.bootstrapModule=function(e,t){var n=this;void 0===t&&(t=[]);var i=ko({},t);return function(e,t,n){return e.get(oo).createCompiler([t]).compileModuleAsync(n)}(this.injector,i,e).then(function(e){return n.bootstrapModuleFactory(e,i)})},e.prototype._moduleDoBootstrap=function(e){var t=e.injector.get(Ao);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(function(e){return t.bootstrap(e)});else{if(!e.instance.ngDoBootstrap)throw new Error("The module "+Ee(e.instance.constructor)+' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.');e.instance.ngDoBootstrap(t)}this._modules.push(e)},e.prototype.onDestroy=function(e){this._destroyListeners.push(e)},Object.defineProperty(e.prototype,"injector",{get:function(){return this._injector},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(function(e){return e.destroy()}),this._destroyListeners.forEach(function(e){return e()}),this._destroyed=!0},Object.defineProperty(e.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!0,configurable:!0}),e}();function ko(e,t){return Array.isArray(t)?t.reduce(ko,e):Object(i.__assign)({},e,t)}var Ao=function(){function e(e,t,n,i,l,o){var r=this;this._zone=e,this._console=t,this._injector=n,this._exceptionHandler=i,this._componentFactoryResolver=l,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=ll(),this._zone.onMicrotaskEmpty.subscribe({next:function(){r._zone.run(function(){r.tick()})}});var u=new _(function(e){r._stable=r._zone.isStable&&!r._zone.hasPendingMacrotasks&&!r._zone.hasPendingMicrotasks,r._zone.runOutsideAngular(function(){e.next(r._stable),e.complete()})}),s=new _(function(e){var t;r._zone.runOutsideAngular(function(){t=r._zone.onStable.subscribe(function(){po.assertNotInAngularZone(),xe(function(){r._stable||r._zone.hasPendingMacrotasks||r._zone.hasPendingMicrotasks||(r._stable=!0,e.next(!0))})})});var n=r._zone.onUnstable.subscribe(function(){po.assertInAngularZone(),r._stable&&(r._stable=!1,r._zone.runOutsideAngular(function(){e.next(!1)}))});return function(){t.unsubscribe(),n.unsubscribe()}});this.isStable=Y(u,s.pipe(function(e){return ee()((t=re,function(e){var n;n="function"==typeof t?t:function(){return t};var i=Object.create(e,le);return i.source=e,i.subjectFactory=n,i})(e));var t}))}var t;return t=e,e.prototype.bootstrap=function(e,t){var n,i=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");n=e instanceof ki?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(n.componentType);var l=n instanceof Mi?null:this._injector.get(Pi),o=n.create(ti.NULL,[],t||n.selector,l);o.onDestroy(function(){i._unloadComponent(o)});var r=o.injector.get(Do,null);return r&&o.injector.get(Co).registerApplication(o.location.nativeElement,r),this._loadComponent(o),ll()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),o},e.prototype.tick=function(){var e=this;if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");var n=t._tickScope();try{this._runningTick=!0,this._views.forEach(function(e){return e.detectChanges()}),this._enforceNoNewChanges&&this._views.forEach(function(e){return e.checkNoChanges()})}catch(i){this._zone.runOutsideAngular(function(){return e._exceptionHandler.handleError(i)})}finally{this._runningTick=!1,co(n)}},e.prototype.attachView=function(e){var t=e;this._views.push(t),t.attachToAppRef(this)},e.prototype.detachView=function(e){var t=e;To(this._views,t),t.detachFromAppRef()},e.prototype._loadComponent=function(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(Kl,[]).concat(this._bootstrapListeners).forEach(function(t){return t(e)})},e.prototype._unloadComponent=function(e){this.detachView(e.hostView),To(this.components,e)},e.prototype.ngOnDestroy=function(){this._views.slice().forEach(function(e){return e.destroy()})},Object.defineProperty(e.prototype,"viewCount",{get:function(){return this._views.length},enumerable:!0,configurable:!0}),e._tickScope=ao("ApplicationRef#tick()"),e}();function To(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)}var Io,Bo=function(){function e(){this.dirty=!0,this._results=[],this.changes=new kl,this.length=0}return e.prototype.map=function(e){return this._results.map(e)},e.prototype.filter=function(e){return this._results.filter(e)},e.prototype.find=function(e){return this._results.find(e)},e.prototype.reduce=function(e,t){return this._results.reduce(e,t)},e.prototype.forEach=function(e){this._results.forEach(e)},e.prototype.some=function(e){return this._results.some(e)},e.prototype.toArray=function(){return this._results.slice()},e.prototype[we()]=function(){return this._results[we()]()},e.prototype.toString=function(){return this._results.toString()},e.prototype.reset=function(e){this._results=function e(t){return t.reduce(function(t,n){var i=Array.isArray(n)?e(n):n;return t.concat(i)},[])}(e),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]},e.prototype.notifyOnChanges=function(){this.changes.emit(this)},e.prototype.setDirty=function(){this.dirty=!0},e.prototype.destroy=function(){this.changes.complete(),this.changes.unsubscribe()},e}(),Oo=function(){function e(){}return e.__NG_ELEMENT_ID__=function(){return Ro(e,Li)},e}(),Ro=Kn,Mo=function(){function e(){}return e.__NG_ELEMENT_ID__=function(){return Po()},e}(),Po=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]},jo=(Io=Mo,Object(i.__extends)(function(){return null!==Io&&Io.apply(this,arguments)||this},Io),function(){return function(e,t){this.name=e,this.callback=t}}()),No=function(){function e(e,t,n){this.listeners=[],this.parent=null,this._debugContext=n,this.nativeNode=e,t&&t instanceof Lo&&t.addChild(this)}return Object.defineProperty(e.prototype,"injector",{get:function(){return this._debugContext.injector},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"componentInstance",{get:function(){return this._debugContext.component},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"context",{get:function(){return this._debugContext.context},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"references",{get:function(){return this._debugContext.references},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"providerTokens",{get:function(){return this._debugContext.providerTokens},enumerable:!0,configurable:!0}),e}(),Lo=function(e){function t(t,n,i){var l=e.call(this,t,n,i)||this;return l.properties={},l.attributes={},l.classes={},l.styles={},l.childNodes=[],l.nativeElement=t,l}return Object(i.__extends)(t,e),t.prototype.addChild=function(e){e&&(this.childNodes.push(e),e.parent=this)},t.prototype.removeChild=function(e){var t=this.childNodes.indexOf(e);-1!==t&&(e.parent=null,this.childNodes.splice(t,1))},t.prototype.insertChildrenAfter=function(e,t){var n,l=this,o=this.childNodes.indexOf(e);-1!==o&&((n=this.childNodes).splice.apply(n,Object(i.__spread)([o+1,0],t)),t.forEach(function(t){t.parent&&t.parent.removeChild(t),e.parent=l}))},t.prototype.insertBefore=function(e,t){var n=this.childNodes.indexOf(e);-1===n?this.addChild(t):(t.parent&&t.parent.removeChild(t),t.parent=this,this.childNodes.splice(n,0,t))},t.prototype.query=function(e){return this.queryAll(e)[0]||null},t.prototype.queryAll=function(e){var t=[];return function e(t,n,i){t.childNodes.forEach(function(t){t instanceof Lo&&(n(t)&&i.push(t),e(t,n,i))})}(this,e,t),t},t.prototype.queryAllNodes=function(e){var t=[];return function e(t,n,i){t instanceof Lo&&t.childNodes.forEach(function(t){n(t)&&i.push(t),t instanceof Lo&&e(t,n,i)})}(this,e,t),t},Object.defineProperty(t.prototype,"children",{get:function(){return this.childNodes.filter(function(e){return e instanceof t})},enumerable:!0,configurable:!0}),t.prototype.triggerEventHandler=function(e,t){this.listeners.forEach(function(n){n.name==e&&n.callback(t)})},t}(No),Vo=new Map,$o=function(e){return Vo.get(e)||null};function Uo(e){Vo.set(e.nativeNode,e)}var Ho=function(){function e(){}return e.prototype.supports=function(e){return vn(e)},e.prototype.create=function(e){return new Go(e)},e}(),zo=function(e,t){return t},Go=function(){function e(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||zo}return e.prototype.forEachItem=function(e){var t;for(t=this._itHead;null!==t;t=t._next)e(t)},e.prototype.forEachOperation=function(e){for(var t=this._itHead,n=this._removalsHead,i=0,l=null;t||n;){var o=!n||t&&t.currentIndex<Ko(n,i,l)?t:n,r=Ko(o,i,l),u=o.currentIndex;if(o===n)i--,n=n._nextRemoved;else if(t=t._next,null==o.previousIndex)i++;else{l||(l=[]);var s=r-i,a=u-i;if(s!=a){for(var c=0;c<s;c++){var p=c<l.length?l[c]:l[c]=0,d=p+c;a<=d&&d<s&&(l[c]=p+1)}l[o.previousIndex]=a-s}}r!==u&&e(o,r,u)}},e.prototype.forEachPreviousItem=function(e){var t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)},e.prototype.forEachAddedItem=function(e){var t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)},e.prototype.forEachMovedItem=function(e){var t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)},e.prototype.forEachRemovedItem=function(e){var t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)},e.prototype.forEachIdentityChange=function(e){var t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)},e.prototype.diff=function(e){if(null==e&&(e=[]),!vn(e))throw new Error("Error trying to diff '"+Ee(e)+"'. Only arrays and iterables are allowed");return this.check(e)?this:null},e.prototype.onDestroy=function(){},e.prototype.check=function(e){var t=this;this._reset();var n,i,l,o=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(var u=0;u<this.length;u++)l=this._trackByFn(u,i=e[u]),null!==o&&Fe(o.trackById,l)?(r&&(o=this._verifyReinsertion(o,i,l,u)),Fe(o.item,i)||this._addIdentityChange(o,i)):(o=this._mismatch(o,i,l,u),r=!0),o=o._next}else n=0,function(e,t){if(Array.isArray(e))for(var n=0;n<e.length;n++)t(e[n]);else for(var i=e[we()](),l=void 0;!(l=i.next()).done;)t(l.value)}(e,function(e){l=t._trackByFn(n,e),null!==o&&Fe(o.trackById,l)?(r&&(o=t._verifyReinsertion(o,e,l,n)),Fe(o.item,e)||t._addIdentityChange(o,e)):(o=t._mismatch(o,e,l,n),r=!0),o=o._next,n++}),this.length=n;return this._truncate(o),this.collection=e,this.isDirty},Object.defineProperty(e.prototype,"isDirty",{get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead},enumerable:!0,configurable:!0}),e.prototype._reset=function(){if(this.isDirty){var e=void 0,t=void 0;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=t)e.previousIndex=e.currentIndex,t=e._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}},e.prototype._mismatch=function(e,t,n,i){var l;return null===e?l=this._itTail:(l=e._prev,this._remove(e)),null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(n,i))?(Fe(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,l,i)):null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Fe(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,l,i)):e=this._addAfter(new qo(t,n),l,i),e},e.prototype._verifyReinsertion=function(e,t,n,i){var l=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==l?e=this._reinsertAfter(l,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e},e.prototype._truncate=function(e){for(;null!==e;){var t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)},e.prototype._reinsertAfter=function(e,t,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);var i=e._prevRemoved,l=e._nextRemoved;return null===i?this._removalsHead=l:i._nextRemoved=l,null===l?this._removalsTail=i:l._prevRemoved=i,this._insertAfter(e,t,n),this._addToMoves(e,n),e},e.prototype._moveAfter=function(e,t,n){return this._unlink(e),this._insertAfter(e,t,n),this._addToMoves(e,n),e},e.prototype._addAfter=function(e,t,n){return this._insertAfter(e,t,n),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e},e.prototype._insertAfter=function(e,t,n){var i=null===t?this._itHead:t._next;return e._next=i,e._prev=t,null===i?this._itTail=e:i._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new Jo),this._linkedRecords.put(e),e.currentIndex=n,e},e.prototype._remove=function(e){return this._addToRemovals(this._unlink(e))},e.prototype._unlink=function(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);var t=e._prev,n=e._next;return null===t?this._itHead=n:t._next=n,null===n?this._itTail=t:n._prev=t,e},e.prototype._addToMoves=function(e,t){return e.previousIndex===t?e:(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e,e)},e.prototype._addToRemovals=function(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Jo),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e},e.prototype._addIdentityChange=function(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e},e}(),qo=function(){return function(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}(),Wo=function(){function e(){this._head=null,this._tail=null}return e.prototype.add=function(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)},e.prototype.get=function(e,t){var n;for(n=this._head;null!==n;n=n._nextDup)if((null===t||t<=n.currentIndex)&&Fe(n.trackById,e))return n;return null},e.prototype.remove=function(e){var t=e._prevDup,n=e._nextDup;return null===t?this._head=n:t._nextDup=n,null===n?this._tail=t:n._prevDup=t,null===this._head},e}(),Jo=function(){function e(){this.map=new Map}return e.prototype.put=function(e){var t=e.trackById,n=this.map.get(t);n||(n=new Wo,this.map.set(t,n)),n.add(e)},e.prototype.get=function(e,t){var n=this.map.get(e);return n?n.get(e,t):null},e.prototype.remove=function(e){var t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e},Object.defineProperty(e.prototype,"isEmpty",{get:function(){return 0===this.map.size},enumerable:!0,configurable:!0}),e.prototype.clear=function(){this.map.clear()},e}();function Ko(e,t,n){var i=e.previousIndex;if(null===i)return i;var l=0;return n&&i<n.length&&(l=n[i]),i+t+l}var Qo=function(){function e(){}return e.prototype.supports=function(e){return e instanceof Map||yn(e)},e.prototype.create=function(){return new Zo},e}(),Zo=function(){function e(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return Object.defineProperty(e.prototype,"isDirty",{get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead},enumerable:!0,configurable:!0}),e.prototype.forEachItem=function(e){var t;for(t=this._mapHead;null!==t;t=t._next)e(t)},e.prototype.forEachPreviousItem=function(e){var t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)},e.prototype.forEachChangedItem=function(e){var t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)},e.prototype.forEachAddedItem=function(e){var t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)},e.prototype.forEachRemovedItem=function(e){var t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)},e.prototype.diff=function(e){if(e){if(!(e instanceof Map||yn(e)))throw new Error("Error trying to diff '"+Ee(e)+"'. Only maps and objects are allowed")}else e=new Map;return this.check(e)?this:null},e.prototype.onDestroy=function(){},e.prototype.check=function(e){var t=this;this._reset();var n=this._mapHead;if(this._appendAfter=null,this._forEach(e,function(e,i){if(n&&n.key===i)t._maybeAddToChanges(n,e),t._appendAfter=n,n=n._next;else{var l=t._getOrCreateRecordForKey(i,e);n=t._insertBeforeOrAppend(n,l)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(var i=n;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty},e.prototype._insertBeforeOrAppend=function(e,t){if(e){var n=e._prev;return t._next=e,t._prev=n,e._prev=t,n&&(n._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null},e.prototype._getOrCreateRecordForKey=function(e,t){if(this._records.has(e)){var n=this._records.get(e);this._maybeAddToChanges(n,t);var i=n._prev,l=n._next;return i&&(i._next=l),l&&(l._prev=i),n._next=null,n._prev=null,n}var o=new Xo(e);return this._records.set(e,o),o.currentValue=t,this._addToAdditions(o),o},e.prototype._reset=function(){if(this.isDirty){var e=void 0;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}},e.prototype._maybeAddToChanges=function(e,t){Fe(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))},e.prototype._addToAdditions=function(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)},e.prototype._addToChanges=function(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)},e.prototype._forEach=function(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(function(n){return t(e[n],n)})},e}(),Xo=function(){return function(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}(),Yo=function(){function e(e){this.factories=e}return e.create=function(t,n){if(null!=n){var i=n.factories.slice();t=t.concat(i)}return new e(t)},e.extend=function(t){return{provide:e,useFactory:function(n){if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return e.create(t,n)},deps:[[e,new _t,new Ct]]}},e.prototype.find=function(e){var t,n=this.factories.find(function(t){return t.supports(e)});if(null!=n)return n;throw new Error("Cannot find a differ supporting object '"+e+"' of type '"+((t=e).name||typeof t)+"'")},e.ngInjectableDef=he({providedIn:"root",factory:function(){return new e([new Ho])}}),e}(),er=function(){function e(e){this.factories=e}return e.create=function(t,n){if(n){var i=n.factories.slice();t=t.concat(i)}return new e(t)},e.extend=function(t){return{provide:e,useFactory:function(n){if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return e.create(t,n)},deps:[[e,new _t,new Ct]]}},e.prototype.find=function(e){var t=this.factories.find(function(t){return t.supports(e)});if(t)return t;throw new Error("Cannot find a differ supporting object '"+e+"'")},e.ngInjectableDef=he({providedIn:"root",factory:function(){return new e([new Qo])}}),e}(),tr=[new Qo],nr=new Yo([new Ho]),ir=new er(tr),lr=xo(null,"core",[{provide:Jl,useValue:"unknown"},{provide:Eo,deps:[ti]},{provide:Co,deps:[]},{provide:Ql,deps:[]}]),or=new me("LocaleId");function rr(){return nr}function ur(){return ir}function sr(e){return e||"en-US"}var ar=function(){return function(e){}}();function cr(e,t,n){var i=e.state,l=1792&i;return l===t?(e.state=-1793&i|n,e.initIndex=-1,!0):l===n}function pr(e,t,n){return(1792&e.state)===t&&e.initIndex<=n&&(e.initIndex=n+1,!0)}function dr(e,t){return e.nodes[t]}function hr(e,t){return e.nodes[t]}function fr(e,t){return e.nodes[t]}function gr(e,t){return e.nodes[t]}function mr(e,t){return e.nodes[t]}var vr={setCurrentNode:void 0,createRootView:void 0,createEmbeddedView:void 0,createComponentView:void 0,createNgModuleRef:void 0,overrideProvider:void 0,overrideComponentView:void 0,clearOverrides:void 0,checkAndUpdateView:void 0,checkNoChangesView:void 0,destroyView:void 0,resolveDep:void 0,createDebugContext:void 0,handleEvent:void 0,updateDirectives:void 0,updateRenderer:void 0,dirtyParentQueries:void 0};function yr(e,t,n,i){var l="ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value: '"+t+"'. Current value: '"+n+"'.";return i&&(l+=" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook ?"),function(e,t){var n=new Error(e);return br(n,t),n}(l,e)}function br(e,t){e[Ol]=t,e[Ml]=t.logError.bind(t)}function Dr(e){return new Error("ViewDestroyedError: Attempt to use a destroyed view: "+e)}var Cr=function(){},Sr=new Map;function _r(e){var t=Sr.get(e);return t||(t=Ee(e)+"_"+Sr.size,Sr.set(e,t)),t}function wr(e,t,n,i){if(gn.isWrapped(i)){i=gn.unwrap(i);var l=e.def.nodes[t].bindingIndex+n,o=gn.unwrap(e.oldValues[l]);e.oldValues[l]=new gn(o)}return i}var xr="$$undefined",Fr="$$empty";function Er(e){return{id:xr,styles:e.styles,encapsulation:e.encapsulation,data:e.data}}var kr=0;function Ar(e,t,n,i){return!(!(2&e.state)&&Fe(e.oldValues[t.bindingIndex+n],i))}function Tr(e,t,n,i){return!!Ar(e,t,n,i)&&(e.oldValues[t.bindingIndex+n]=i,!0)}function Ir(e,t,n,i){var l=e.oldValues[t.bindingIndex+n];if(1&e.state||!fn(l,i)){var o=t.bindings[n].name;throw yr(vr.createDebugContext(e,t.nodeIndex),o+": "+l,o+": "+i,0!=(1&e.state))}}function Br(e){for(var t=e;t;)2&t.def.flags&&(t.state|=8),t=t.viewContainerParent||t.parent}function Or(e,t){for(var n=e;n&&n!==t;)n.state|=64,n=n.viewContainerParent||n.parent}function Rr(e,t,n,i){try{return Br(33554432&e.def.nodes[t].flags?hr(e,t).componentView:e),vr.handleEvent(e,t,n,i)}catch(l){e.root.errorHandler.handleError(l)}}function Mr(e){return e.parent?hr(e.parent,e.parentNodeDef.nodeIndex):null}function Pr(e){return e.parent?e.parentNodeDef.parent:null}function jr(e,t){switch(201347067&t.flags){case 1:return hr(e,t.nodeIndex).renderElement;case 2:return dr(e,t.nodeIndex).renderText}}function Nr(e){return!!e.parent&&!!(32768&e.parentNodeDef.flags)}function Lr(e){return!(!e.parent||32768&e.parentNodeDef.flags)}function Vr(e){return 1<<e%32}function $r(e){var t={},n=0,l={};return e&&e.forEach(function(e){var o=Object(i.__read)(e,2),r=o[0],u=o[1];"number"==typeof r?(t[r]=u,n|=Vr(r)):l[r]=u}),{matchedQueries:t,references:l,matchedQueryIds:n}}function Ur(e,t){return e.map(function(e){var n,l,o;return Array.isArray(e)?(o=(n=Object(i.__read)(e,2))[0],l=n[1]):(o=0,l=e),l&&("function"==typeof l||"object"==typeof l)&&t&&Object.defineProperty(l,Qn,{value:t,configurable:!0}),{flags:o,token:l,tokenKey:_r(l)}})}function Hr(e,t,n){var i=n.renderParent;return i?0==(1&i.flags)||0==(33554432&i.flags)||i.element.componentRendererType&&i.element.componentRendererType.encapsulation===Ie.Native?hr(e,n.renderParent.nodeIndex).renderElement:void 0:t}var zr=new WeakMap;function Gr(e){var t=zr.get(e);return t||((t=e(function(){return Cr})).factory=e,zr.set(e,t)),t}function qr(e,t,n,i,l){3===t&&(n=e.renderer.parentNode(jr(e,e.def.lastRenderRootNode))),Wr(e,t,0,e.def.nodes.length-1,n,i,l)}function Wr(e,t,n,i,l,o,r){for(var u=n;u<=i;u++){var s=e.def.nodes[u];11&s.flags&&Kr(e,s,t,l,o,r),u+=s.childCount}}function Jr(e,t,n,i,l,o){for(var r=e;r&&!Nr(r);)r=r.parent;for(var u=r.parent,s=Pr(r),a=s.nodeIndex+s.childCount,c=s.nodeIndex+1;c<=a;c++){var p=u.def.nodes[c];p.ngContentIndex===t&&Kr(u,p,n,i,l,o),c+=p.childCount}if(!u.parent){var d=e.root.projectableNodes[t];if(d)for(c=0;c<d.length;c++)Qr(e,d[c],n,i,l,o)}}function Kr(e,t,n,i,l,o){if(8&t.flags)Jr(e,t.ngContent.index,n,i,l,o);else{var r=jr(e,t);if(3===n&&33554432&t.flags&&48&t.bindingFlags?(16&t.bindingFlags&&Qr(e,r,n,i,l,o),32&t.bindingFlags&&Qr(hr(e,t.nodeIndex).componentView,r,n,i,l,o)):Qr(e,r,n,i,l,o),16777216&t.flags)for(var u=hr(e,t.nodeIndex).viewContainer._embeddedViews,s=0;s<u.length;s++)qr(u[s],n,i,l,o);1&t.flags&&!t.element.name&&Wr(e,n,t.nodeIndex+1,t.nodeIndex+t.childCount,i,l,o)}}function Qr(e,t,n,i,l,o){var r=e.renderer;switch(n){case 1:r.appendChild(i,t);break;case 2:r.insertBefore(i,t,l);break;case 3:r.removeChild(i,t);break;case 0:o.push(t)}}var Zr=/^:([^:]+):(.+)$/;function Xr(e){if(":"===e[0]){var t=e.match(Zr);return[t[1],t[2]]}return["",e]}function Yr(e){for(var t=0,n=0;n<e.length;n++)t|=e[n].flags;return t}function eu(e,t,n,i,l,o,r,u,s,a,c,p,d,h,f,g,m,v,y,b){switch(e){case 1:return t+tu(n)+i;case 2:return t+tu(n)+i+tu(l)+o;case 3:return t+tu(n)+i+tu(l)+o+tu(r)+u;case 4:return t+tu(n)+i+tu(l)+o+tu(r)+u+tu(s)+a;case 5:return t+tu(n)+i+tu(l)+o+tu(r)+u+tu(s)+a+tu(c)+p;case 6:return t+tu(n)+i+tu(l)+o+tu(r)+u+tu(s)+a+tu(c)+p+tu(d)+h;case 7:return t+tu(n)+i+tu(l)+o+tu(r)+u+tu(s)+a+tu(c)+p+tu(d)+h+tu(f)+g;case 8:return t+tu(n)+i+tu(l)+o+tu(r)+u+tu(s)+a+tu(c)+p+tu(d)+h+tu(f)+g+tu(m)+v;case 9:return t+tu(n)+i+tu(l)+o+tu(r)+u+tu(s)+a+tu(c)+p+tu(d)+h+tu(f)+g+tu(m)+v+tu(y)+b;default:throw new Error("Does not support more than 9 expressions")}}function tu(e){return null!=e?e.toString():""}var nu={};function iu(e,t,n,i,l,o){e|=1;var r=$r(t);return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,flags:e,checkIndex:-1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:r.matchedQueries,matchedQueryIds:r.matchedQueryIds,references:r.references,ngContentIndex:n,childCount:i,bindings:[],bindingFlags:0,outputs:[],element:{ns:null,name:null,attrs:null,template:o?Gr(o):null,componentProvider:null,componentView:null,componentRendererType:null,publicProviders:null,allProviders:null,handleEvent:l||Cr},provider:null,text:null,query:null,ngContent:null}}function lu(e,t,n,l,o,r,u,s,a,c,p,d){var h;void 0===u&&(u=[]),c||(c=Cr);var f=$r(n),g=f.matchedQueries,m=f.references,v=f.matchedQueryIds,y=null,b=null;r&&(y=(h=Object(i.__read)(Xr(r),2))[0],b=h[1]),s=s||[];for(var D=new Array(s.length),C=0;C<s.length;C++){var S=Object(i.__read)(s[C],3),_=S[0],w=S[1],x=S[2],F=Object(i.__read)(Xr(w),2),E=F[0],k=F[1],A=void 0,T=void 0;switch(15&_){case 4:T=x;break;case 1:case 8:A=x}D[C]={flags:_,ns:E,name:k,nonMinifiedName:k,securityContext:A,suffix:T}}a=a||[];var I=new Array(a.length);for(C=0;C<a.length;C++){var B=Object(i.__read)(a[C],2);I[C]={type:0,target:B[0],eventName:B[1],propName:null}}var O=(u=u||[]).map(function(e){var t=Object(i.__read)(e,2),n=t[0],l=t[1],o=Object(i.__read)(Xr(n),2);return[o[0],o[1],l]});return d=function(e){if(e&&e.id===xr){var t=null!=e.encapsulation&&e.encapsulation!==Ie.None||e.styles.length||Object.keys(e.data).length;e.id=t?"c"+kr++:Fr}return e&&e.id===Fr&&(e=null),e||null}(d),p&&(t|=33554432),{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:t|=1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:g,matchedQueryIds:v,references:m,ngContentIndex:l,childCount:o,bindings:D,bindingFlags:Yr(D),outputs:I,element:{ns:y,name:b,attrs:O,template:null,componentProvider:null,componentView:p||null,componentRendererType:d,publicProviders:null,allProviders:null,handleEvent:c||Cr},provider:null,text:null,query:null,ngContent:null}}function ou(e,t,n){var l,o=n.element,r=e.root.selectorOrNode,u=e.renderer;if(e.parent||!r){l=o.name?u.createElement(o.name,o.ns):u.createComment("");var s=Hr(e,t,n);s&&u.appendChild(s,l)}else l=u.selectRootElement(r,!!o.componentRendererType&&o.componentRendererType.encapsulation===Ie.ShadowDom);if(o.attrs)for(var a=0;a<o.attrs.length;a++){var c=Object(i.__read)(o.attrs[a],3);u.setAttribute(l,c[1],c[2],c[0])}return l}function ru(e,t,n,i){for(var l=0;l<n.outputs.length;l++){var o=n.outputs[l],r=uu(e,n.nodeIndex,(p=o.eventName,(c=o.target)?c+":"+p:p)),u=o.target,s=e;"component"===o.target&&(u=null,s=t);var a=s.renderer.listen(u||i,o.eventName,r);e.disposables[n.outputIndex+l]=a}var c,p}function uu(e,t,n){return function(i){return Rr(e,t,n,i)}}function su(e,t,n,i){if(!Tr(e,t,n,i))return!1;var l=t.bindings[n],o=hr(e,t.nodeIndex),r=o.renderElement,u=l.name;switch(15&l.flags){case 1:!function(e,t,n,i,l,o){var r=t.securityContext,u=r?e.root.sanitizer.sanitize(r,o):o;u=null!=u?u.toString():null;var s=e.renderer;null!=o?s.setAttribute(n,l,u,i):s.removeAttribute(n,l,i)}(e,l,r,l.ns,u,i);break;case 2:!function(e,t,n,i){var l=e.renderer;i?l.addClass(t,n):l.removeClass(t,n)}(e,r,u,i);break;case 4:!function(e,t,n,i,l){var o=e.root.sanitizer.sanitize(qi.STYLE,l);if(null!=o){o=o.toString();var r=t.suffix;null!=r&&(o+=r)}else o=null;var u=e.renderer;null!=o?u.setStyle(n,i,o):u.removeStyle(n,i)}(e,l,r,u,i);break;case 8:!function(e,t,n,i,l){var o=t.securityContext,r=o?e.root.sanitizer.sanitize(o,l):l;e.renderer.setProperty(n,i,r)}(33554432&t.flags&&32&l.flags?o.componentView:e,l,r,u,i)}return!0}var au=new Object,cu=_r(ti),pu=_r(Yn),du=_r(Pi);function hu(e,t,n,i){return n=Te(n),{index:-1,deps:Ur(i,Ee(t)),flags:e,token:t,value:n}}function fu(e,t,n){void 0===n&&(n=ti.THROW_IF_NOT_FOUND);var i,l,o=Ft(e);try{if(8&t.flags)return t.token;if(2&t.flags&&(n=null),1&t.flags)return e._parent.get(t.token,n);var r=t.tokenKey;switch(r){case cu:case pu:case du:return e}var u,s=e._def.providersByKey[r];if(s){var a=e._providers[s.index];return void 0===a&&(a=e._providers[s.index]=gu(e,s)),a===au?void 0:a}if((u=fe(t.token))&&(i=e,null!=(l=u).providedIn&&(function(e,t){return e._def.modules.indexOf(l.providedIn)>-1}(i)||"root"===l.providedIn&&i._def.isRoot))){var c=e._providers.length;return e._def.providersByKey[t.tokenKey]={flags:5120,value:u.factory,deps:[],index:c,token:t.token},e._providers[c]=au,e._providers[c]=gu(e,e._def.providersByKey[t.tokenKey])}return 4&t.flags?n:e._parent.get(t.token,n)}finally{Ft(o)}}function gu(e,t){var n;switch(201347067&t.flags){case 512:n=function(e,t,n){var l=n.length;switch(l){case 0:return new t;case 1:return new t(fu(e,n[0]));case 2:return new t(fu(e,n[0]),fu(e,n[1]));case 3:return new t(fu(e,n[0]),fu(e,n[1]),fu(e,n[2]));default:for(var o=new Array(l),r=0;r<l;r++)o[r]=fu(e,n[r]);return new(t.bind.apply(t,Object(i.__spread)([void 0],o)))}}(e,t.value,t.deps);break;case 1024:n=function(e,t,n){var l=n.length;switch(l){case 0:return t();case 1:return t(fu(e,n[0]));case 2:return t(fu(e,n[0]),fu(e,n[1]));case 3:return t(fu(e,n[0]),fu(e,n[1]),fu(e,n[2]));default:for(var o=Array(l),r=0;r<l;r++)o[r]=fu(e,n[r]);return t.apply(void 0,Object(i.__spread)(o))}}(e,t.value,t.deps);break;case 2048:n=fu(e,t.deps[0]);break;case 256:n=t.value}return n===au||null==n||"object"!=typeof n||131072&t.flags||"function"!=typeof n.ngOnDestroy||(t.flags|=131072),void 0===n?au:n}function mu(e,t){var n=e.viewContainer._embeddedViews;if((null==t||t>=n.length)&&(t=n.length-1),t<0)return null;var i=n[t];return i.viewContainerParent=null,Du(n,t),vr.dirtyParentQueries(i),yu(i),i}function vu(e,t,n){var i=t?jr(t,t.def.lastRenderRootNode):e.renderElement,l=n.renderer.parentNode(i),o=n.renderer.nextSibling(i);qr(n,2,l,o,void 0)}function yu(e){qr(e,3,null,null,void 0)}function bu(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Du(e,t){t>=e.length-1?e.pop():e.splice(t,1)}var Cu=new Object;function Su(e,t,n,i,l,o){return new _u(e,t,n,i,l,o)}var _u=function(e){function t(t,n,i,l,o,r){var u=e.call(this)||this;return u.selector=t,u.componentType=n,u._inputs=l,u._outputs=o,u.ngContentSelectors=r,u.viewDefFactory=i,u}return Object(i.__extends)(t,e),Object.defineProperty(t.prototype,"inputs",{get:function(){var e=[],t=this._inputs;for(var n in t)e.push({propName:n,templateName:t[n]});return e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"outputs",{get:function(){var e=[];for(var t in this._outputs)e.push({propName:t,templateName:this._outputs[t]});return e},enumerable:!0,configurable:!0}),t.prototype.create=function(e,t,n,i){if(!i)throw new Error("ngModule should be provided");var l=Gr(this.viewDefFactory),o=l.nodes[0].element.componentProvider.nodeIndex,r=vr.createRootView(e,t||[],n,l,i,Cu),u=fr(r,o).instance;return n&&r.renderer.setAttribute(hr(r,0).renderElement,"ng-version",Ji.full),new wu(r,new ku(r),u)},t}(ki),wu=function(e){function t(t,n,i){var l=e.call(this)||this;return l._view=t,l._viewRef=n,l._component=i,l._elDef=l._view.def.nodes[0],l.hostView=n,l.changeDetectorRef=n,l.instance=i,l}return Object(i.__extends)(t,e),Object.defineProperty(t.prototype,"location",{get:function(){return new Li(hr(this._view,this._elDef.nodeIndex).renderElement)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"injector",{get:function(){return new Bu(this._view,this._elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"componentType",{get:function(){return this._component.constructor},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){this._viewRef.destroy()},t.prototype.onDestroy=function(e){this._viewRef.onDestroy(e)},t}(Ei);function xu(e,t,n){return new Fu(e,t,n)}var Fu=function(){function e(e,t,n){this._view=e,this._elDef=t,this._data=n,this._embeddedViews=[]}return Object.defineProperty(e.prototype,"element",{get:function(){return new Li(this._data.renderElement)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"injector",{get:function(){return new Bu(this._view,this._elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parentInjector",{get:function(){for(var e=this._view,t=this._elDef.parent;!t&&e;)t=Pr(e),e=e.parent;return e?new Bu(e,t):new Bu(this._view,null)},enumerable:!0,configurable:!0}),e.prototype.clear=function(){for(var e=this._embeddedViews.length-1;e>=0;e--){var t=mu(this._data,e);vr.destroyView(t)}},e.prototype.get=function(e){var t=this._embeddedViews[e];if(t){var n=new ku(t);return n.attachToViewContainerRef(this),n}return null},Object.defineProperty(e.prototype,"length",{get:function(){return this._embeddedViews.length},enumerable:!0,configurable:!0}),e.prototype.createEmbeddedView=function(e,t,n){var i=e.createEmbeddedView(t||{});return this.insert(i,n),i},e.prototype.createComponent=function(e,t,n,i,l){var o=n||this.parentInjector;l||e instanceof Mi||(l=o.get(Pi));var r=e.create(o,i,void 0,l);return this.insert(r.hostView,t),r},e.prototype.insert=function(e,t){if(e.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");var n,i,l,o,r=e;return o=(n=this._data).viewContainer._embeddedViews,null==(i=t)&&(i=o.length),(l=r._view).viewContainerParent=this._view,bu(o,i,l),function(e,t){var n=Mr(t);if(n&&n!==e&&!(16&t.state)){t.state|=16;var i=n.template._projectedViews;i||(i=n.template._projectedViews=[]),i.push(t),function(e,n){if(!(4&n.flags)){t.parent.def.nodeFlags|=4,n.flags|=4;for(var i=n.parent;i;)i.childFlags|=4,i=i.parent}}(0,t.parentNodeDef)}}(n,l),vr.dirtyParentQueries(l),vu(n,i>0?o[i-1]:null,l),r.attachToViewContainerRef(this),e},e.prototype.move=function(e,t){if(e.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");var n,i,l,o,r,u=this._embeddedViews.indexOf(e._view);return l=t,r=(o=(n=this._data).viewContainer._embeddedViews)[i=u],Du(o,i),null==l&&(l=o.length),bu(o,l,r),vr.dirtyParentQueries(r),yu(r),vu(n,l>0?o[l-1]:null,r),e},e.prototype.indexOf=function(e){return this._embeddedViews.indexOf(e._view)},e.prototype.remove=function(e){var t=mu(this._data,e);t&&vr.destroyView(t)},e.prototype.detach=function(e){var t=mu(this._data,e);return t?new ku(t):null},e}();function Eu(e){return new ku(e)}var ku=function(){function e(e){this._view=e,this._viewContainerRef=null,this._appRef=null}return Object.defineProperty(e.prototype,"rootNodes",{get:function(){return qr(this._view,0,void 0,void 0,e=[]),e;var e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"context",{get:function(){return this._view.context},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"destroyed",{get:function(){return 0!=(128&this._view.state)},enumerable:!0,configurable:!0}),e.prototype.markForCheck=function(){Br(this._view)},e.prototype.detach=function(){this._view.state&=-5},e.prototype.detectChanges=function(){var e=this._view.root.rendererFactory;e.begin&&e.begin();try{vr.checkAndUpdateView(this._view)}finally{e.end&&e.end()}},e.prototype.checkNoChanges=function(){vr.checkNoChangesView(this._view)},e.prototype.reattach=function(){this._view.state|=4},e.prototype.onDestroy=function(e){this._view.disposables||(this._view.disposables=[]),this._view.disposables.push(e)},e.prototype.destroy=function(){this._appRef?this._appRef.detachView(this):this._viewContainerRef&&this._viewContainerRef.detach(this._viewContainerRef.indexOf(this)),vr.destroyView(this._view)},e.prototype.detachFromAppRef=function(){this._appRef=null,yu(this._view),vr.dirtyParentQueries(this._view)},e.prototype.attachToAppRef=function(e){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e},e.prototype.attachToViewContainerRef=function(e){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=e},e}();function Au(e,t){return new Tu(e,t)}var Tu=function(e){function t(t,n){var i=e.call(this)||this;return i._parentView=t,i._def=n,i}return Object(i.__extends)(t,e),t.prototype.createEmbeddedView=function(e){return new ku(vr.createEmbeddedView(this._parentView,this._def,this._def.element.template,e))},Object.defineProperty(t.prototype,"elementRef",{get:function(){return new Li(hr(this._parentView,this._def.nodeIndex).renderElement)},enumerable:!0,configurable:!0}),t}(Al);function Iu(e,t){return new Bu(e,t)}var Bu=function(){function e(e,t){this.view=e,this.elDef=t}return e.prototype.get=function(e,t){return void 0===t&&(t=ti.THROW_IF_NOT_FOUND),vr.resolveDep(this.view,this.elDef,!!this.elDef&&0!=(33554432&this.elDef.flags),{flags:0,token:e,tokenKey:_r(e)},t)},e}();function Ou(e,t){var n=e.def.nodes[t];if(1&n.flags){var i=hr(e,n.nodeIndex);return n.element.template?i.template:i.renderElement}if(2&n.flags)return dr(e,n.nodeIndex).renderText;if(20240&n.flags)return fr(e,n.nodeIndex).instance;throw new Error("Illegal state: read nodeValue for node index "+t)}function Ru(e){return new Mu(e.renderer)}var Mu=function(){function e(e){this.delegate=e}return e.prototype.selectRootElement=function(e){return this.delegate.selectRootElement(e)},e.prototype.createElement=function(e,t){var n=Object(i.__read)(Xr(t),2),l=this.delegate.createElement(n[1],n[0]);return e&&this.delegate.appendChild(e,l),l},e.prototype.createViewRoot=function(e){return e},e.prototype.createTemplateAnchor=function(e){var t=this.delegate.createComment("");return e&&this.delegate.appendChild(e,t),t},e.prototype.createText=function(e,t){var n=this.delegate.createText(t);return e&&this.delegate.appendChild(e,n),n},e.prototype.projectNodes=function(e,t){for(var n=0;n<t.length;n++)this.delegate.appendChild(e,t[n])},e.prototype.attachViewAfter=function(e,t){for(var n=this.delegate.parentNode(e),i=this.delegate.nextSibling(e),l=0;l<t.length;l++)this.delegate.insertBefore(n,t[l],i)},e.prototype.detachView=function(e){for(var t=0;t<e.length;t++){var n=e[t],i=this.delegate.parentNode(n);this.delegate.removeChild(i,n)}},e.prototype.destroyView=function(e,t){for(var n=0;n<t.length;n++)this.delegate.destroyNode(t[n])},e.prototype.listen=function(e,t,n){return this.delegate.listen(e,t,n)},e.prototype.listenGlobal=function(e,t,n){return this.delegate.listen(e,t,n)},e.prototype.setElementProperty=function(e,t,n){this.delegate.setProperty(e,t,n)},e.prototype.setElementAttribute=function(e,t,n){var l=Object(i.__read)(Xr(t),2),o=l[0],r=l[1];null!=n?this.delegate.setAttribute(e,r,n,o):this.delegate.removeAttribute(e,r,o)},e.prototype.setBindingDebugInfo=function(e,t,n){},e.prototype.setElementClass=function(e,t,n){n?this.delegate.addClass(e,t):this.delegate.removeClass(e,t)},e.prototype.setElementStyle=function(e,t,n){null!=n?this.delegate.setStyle(e,t,n):this.delegate.removeStyle(e,t)},e.prototype.invokeElementMethod=function(e,t,n){e[t].apply(e,n)},e.prototype.setText=function(e,t){this.delegate.setValue(e,t)},e.prototype.animate=function(){throw new Error("Renderer.animate is no longer supported!")},e}();function Pu(e,t,n,i){return new ju(e,t,n,i)}var ju=function(){function e(e,t,n,i){this._moduleType=e,this._parent=t,this._bootstrapComponents=n,this._def=i,this._destroyListeners=[],this._destroyed=!1,this.injector=this,function(e){for(var t=e._def,n=e._providers=new Array(t.providers.length),i=0;i<t.providers.length;i++){var l=t.providers[i];4096&l.flags||void 0===n[i]&&(n[i]=gu(e,l))}}(this)}return e.prototype.get=function(e,t,n){void 0===t&&(t=ti.THROW_IF_NOT_FOUND),void 0===n&&(n=wt.Default);var i=0;return n&wt.SkipSelf?i|=1:n&wt.Self&&(i|=4),fu(this,{token:e,tokenKey:_r(e),flags:i},t)},Object.defineProperty(e.prototype,"instance",{get:function(){return this.get(this._moduleType)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"componentFactoryResolver",{get:function(){return this.get(Oi)},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){if(this._destroyed)throw new Error("The ng module "+Ee(this.instance.constructor)+" has already been destroyed.");this._destroyed=!0,function(e,t){for(var n=e._def,i=new Set,l=0;l<n.providers.length;l++)if(131072&n.providers[l].flags){var o=e._providers[l];if(o&&o!==au){var r=o.ngOnDestroy;"function"!=typeof r||i.has(o)||(r.apply(o),i.add(o))}}}(this),this._destroyListeners.forEach(function(e){return e()})},e.prototype.onDestroy=function(e){this._destroyListeners.push(e)},e}(),Nu=_r($i),Lu=_r(zi),Vu=_r(Li),$u=_r(Oo),Uu=_r(Al),Hu=_r(Mo),zu=_r(ti),Gu=_r(Yn);function qu(e,t,n,l,o,r,u,s){var a=[];if(u)for(var c in u){var p=Object(i.__read)(u[c],2);a[p[0]]={flags:8,name:c,nonMinifiedName:p[1],ns:null,securityContext:null,suffix:null}}var d=[];if(s)for(var h in s)d.push({type:1,propName:h,target:null,eventName:s[h]});return Ku(e,t|=16384,n,l,o,o,r,a,d)}function Wu(e,t,n){return Ku(-1,e|=16,null,0,t,t,n)}function Ju(e,t,n,i,l){return Ku(-1,e,t,0,n,i,l)}function Ku(e,t,n,i,l,o,r,u,s){var a=$r(n),c=a.matchedQueries,p=a.references,d=a.matchedQueryIds;s||(s=[]),u||(u=[]),o=Te(o);var h=Ur(r,Ee(l));return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:c,matchedQueryIds:d,references:p,ngContentIndex:-1,childCount:i,bindings:u,bindingFlags:Yr(u),outputs:s,element:null,provider:{token:l,value:o,deps:h},text:null,query:null,ngContent:null}}function Qu(e,t){return es(e,t)}function Zu(e,t){for(var n=e;n.parent&&!Nr(n);)n=n.parent;return ts(n.parent,Pr(n),!0,t.provider.value,t.provider.deps)}function Xu(e,t){var n=ts(e,t.parent,(32768&t.flags)>0,t.provider.value,t.provider.deps);if(t.outputs.length)for(var i=0;i<t.outputs.length;i++){var l=t.outputs[i],o=n[l.propName];if(!$l(o))throw new Error("@Output "+l.propName+" not initialized in '"+n.constructor.name+"'.");var r=o.subscribe(Yu(e,t.parent.nodeIndex,l.eventName));e.disposables[t.outputIndex+i]=r.unsubscribe.bind(r)}return n}function Yu(e,t,n){return function(i){return Rr(e,t,n,i)}}function es(e,t){var n=(8192&t.flags)>0,l=t.provider;switch(201347067&t.flags){case 512:return ts(e,t.parent,n,l.value,l.deps);case 1024:return function(e,t,n,l,o){var r=o.length;switch(r){case 0:return l();case 1:return l(is(e,t,n,o[0]));case 2:return l(is(e,t,n,o[0]),is(e,t,n,o[1]));case 3:return l(is(e,t,n,o[0]),is(e,t,n,o[1]),is(e,t,n,o[2]));default:for(var u=Array(r),s=0;s<r;s++)u[s]=is(e,t,n,o[s]);return l.apply(void 0,Object(i.__spread)(u))}}(e,t.parent,n,l.value,l.deps);case 2048:return is(e,t.parent,n,l.deps[0]);case 256:return l.value}}function ts(e,t,n,l,o){var r=o.length;switch(r){case 0:return new l;case 1:return new l(is(e,t,n,o[0]));case 2:return new l(is(e,t,n,o[0]),is(e,t,n,o[1]));case 3:return new l(is(e,t,n,o[0]),is(e,t,n,o[1]),is(e,t,n,o[2]));default:for(var u=new Array(r),s=0;s<r;s++)u[s]=is(e,t,n,o[s]);return new(l.bind.apply(l,Object(i.__spread)([void 0],u)))}}var ns={};function is(e,t,n,i,l){if(void 0===l&&(l=ti.THROW_IF_NOT_FOUND),8&i.flags)return i.token;var o=e;2&i.flags&&(l=null);var r=i.tokenKey;r===Hu&&(n=!(!t||!t.element.componentView)),t&&1&i.flags&&(n=!1,t=t.parent);for(var u=e;u;){if(t)switch(r){case Nu:return Ru(ls(u,t,n));case Lu:return ls(u,t,n).renderer;case Vu:return new Li(hr(u,t.nodeIndex).renderElement);case $u:return hr(u,t.nodeIndex).viewContainer;case Uu:if(t.element.template)return hr(u,t.nodeIndex).template;break;case Hu:return Eu(ls(u,t,n));case zu:case Gu:return Iu(u,t);default:var s=(n?t.element.allProviders:t.element.publicProviders)[r];if(s){var a=fr(u,s.nodeIndex);return a||(a={instance:es(u,s)},u.nodes[s.nodeIndex]=a),a.instance}}n=Nr(u),t=Pr(u),u=u.parent,4&i.flags&&(u=null)}var c=o.root.injector.get(i.token,ns);return c!==ns||l===ns?c:o.root.ngModule.injector.get(i.token,l)}function ls(e,t,n){var i;if(n)i=hr(e,t.nodeIndex).componentView;else for(i=e;i.parent&&!Nr(i);)i=i.parent;return i}function os(e,t,n,i,l,o){if(32768&n.flags){var r=hr(e,n.parent.nodeIndex).componentView;2&r.def.flags&&(r.state|=8)}if(t.instance[n.bindings[i].name]=l,524288&n.flags){o=o||{};var u=gn.unwrap(e.oldValues[n.bindingIndex+i]);o[n.bindings[i].nonMinifiedName]=new mn(u,l,0!=(2&e.state))}return e.oldValues[n.bindingIndex+i]=l,o}function rs(e,t){if(e.def.nodeFlags&t)for(var n=e.def.nodes,i=0,l=0;l<n.length;l++){var o=n[l],r=o.parent;for(!r&&o.flags&t&&ss(e,l,o.flags&t,i++),0==(o.childFlags&t)&&(l+=o.childCount);r&&1&r.flags&&l===r.nodeIndex+r.childCount;)r.directChildFlags&t&&(i=us(e,r,t,i)),r=r.parent}}function us(e,t,n,i){for(var l=t.nodeIndex+1;l<=t.nodeIndex+t.childCount;l++){var o=e.def.nodes[l];o.flags&n&&ss(e,l,o.flags&n,i++),l+=o.childCount}return i}function ss(e,t,n,i){var l=fr(e,t);if(l){var o=l.instance;o&&(vr.setCurrentNode(e,t),1048576&n&&pr(e,512,i)&&o.ngAfterContentInit(),2097152&n&&o.ngAfterContentChecked(),4194304&n&&pr(e,768,i)&&o.ngAfterViewInit(),8388608&n&&o.ngAfterViewChecked(),131072&n&&o.ngOnDestroy())}}function as(e,t,n){var i=[];for(var l in n)i.push({propName:l,bindingType:n[l]});return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:e,childFlags:0,directChildFlags:0,childMatchedQueries:0,ngContentIndex:-1,matchedQueries:{},matchedQueryIds:0,references:{},childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:{id:t,filterId:Vr(t),bindings:i},ngContent:null}}function cs(e){for(var t=e.def.nodeMatchedQueries;e.parent&&Lr(e);){var n=e.parentNodeDef;e=e.parent;for(var i=n.nodeIndex+n.childCount,l=0;l<=i;l++)67108864&(o=e.def.nodes[l]).flags&&536870912&o.flags&&(o.query.filterId&t)===o.query.filterId&&mr(e,l).setDirty(),!(1&o.flags&&l+o.childCount<n.nodeIndex)&&67108864&o.childFlags&&536870912&o.childFlags||(l+=o.childCount)}if(134217728&e.def.nodeFlags)for(l=0;l<e.def.nodes.length;l++){var o;134217728&(o=e.def.nodes[l]).flags&&536870912&o.flags&&mr(e,l).setDirty(),l+=o.childCount}}function ps(e,t){var n=mr(e,t.nodeIndex);if(n.dirty){var i,l=void 0;if(67108864&t.flags){var o=t.parent.parent;l=ds(e,o.nodeIndex,o.nodeIndex+o.childCount,t.query,[]),i=fr(e,t.parent.nodeIndex).instance}else 134217728&t.flags&&(l=ds(e,0,e.def.nodes.length-1,t.query,[]),i=e.component);n.reset(l);for(var r=t.query.bindings,u=!1,s=0;s<r.length;s++){var a=r[s],c=void 0;switch(a.bindingType){case 0:c=n.first;break;case 1:c=n,u=!0}i[a.propName]=c}u&&n.notifyOnChanges()}}function ds(e,t,n,i,l){for(var o=t;o<=n;o++){var r=e.def.nodes[o],u=r.matchedQueries[i.id];if(null!=u&&l.push(hs(e,r,u)),1&r.flags&&r.element.template&&(r.element.template.nodeMatchedQueries&i.filterId)===i.filterId){var s=hr(e,o);if((r.childMatchedQueries&i.filterId)===i.filterId&&(ds(e,o+1,o+r.childCount,i,l),o+=r.childCount),16777216&r.flags)for(var a=s.viewContainer._embeddedViews,c=0;c<a.length;c++){var p=a[c],d=Mr(p);d&&d===s&&ds(p,0,p.def.nodes.length-1,i,l)}var h=s.template._projectedViews;if(h)for(c=0;c<h.length;c++){var f=h[c];ds(f,0,f.def.nodes.length-1,i,l)}}(r.childMatchedQueries&i.filterId)!==i.filterId&&(o+=r.childCount)}return l}function hs(e,t,n){if(null!=n)switch(n){case 1:return hr(e,t.nodeIndex).renderElement;case 0:return new Li(hr(e,t.nodeIndex).renderElement);case 2:return hr(e,t.nodeIndex).template;case 3:return hr(e,t.nodeIndex).viewContainer;case 4:return fr(e,t.nodeIndex).instance}}function fs(e,t,n){var i=Hr(e,t,n);i&&Jr(e,n.ngContent.index,1,i,null,void 0)}function gs(e,t){return vs(128,e,new Array(t+1))}function ms(e,t){for(var n=Object.keys(t),i=n.length,l=new Array(i),o=0;o<i;o++){var r=n[o];l[t[r]]=r}return vs(64,e,l)}function vs(e,t,n){for(var i=new Array(n.length),l=0;l<n.length;l++){var o=n[l];i[l]={flags:8,name:o,ns:null,nonMinifiedName:o,securityContext:null,suffix:null}}return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:-1,childCount:0,bindings:i,bindingFlags:Yr(i),outputs:[],element:null,provider:null,text:null,query:null,ngContent:null}}function ys(e,t,n){for(var i=new Array(n.length-1),l=1;l<n.length;l++)i[l-1]={flags:8,name:null,ns:null,nonMinifiedName:null,securityContext:null,suffix:n[l]};return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:2,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:t,childCount:0,bindings:i,bindingFlags:8,outputs:[],element:null,provider:null,text:{prefix:n[0]},query:null,ngContent:null}}function bs(e,t,n){var i,l=e.renderer;i=l.createText(n.text.prefix);var o=Hr(e,t,n);return o&&l.appendChild(o,i),{renderText:i}}function Ds(e,t){return(null!=e?e.toString():"")+t.suffix}function Cs(e,t,n,i){for(var l=0,o=0,r=0,u=0,s=0,a=null,c=null,p=!1,d=!1,h=null,f=0;f<t.length;f++){var g=t[f];if(g.nodeIndex=f,g.parent=a,g.bindingIndex=l,g.outputIndex=o,g.renderParent=c,r|=g.flags,s|=g.matchedQueryIds,g.element){var m=g.element;m.publicProviders=a?a.element.publicProviders:Object.create(null),m.allProviders=m.publicProviders,p=!1,d=!1,g.element.template&&(s|=g.element.template.nodeMatchedQueries)}if(_s(a,g,t.length),l+=g.bindings.length,o+=g.outputs.length,!c&&3&g.flags&&(h=g),20224&g.flags){p||(p=!0,a.element.publicProviders=Object.create(a.element.publicProviders),a.element.allProviders=a.element.publicProviders);var v=0!=(32768&g.flags);0==(8192&g.flags)||v?a.element.publicProviders[_r(g.provider.token)]=g:(d||(d=!0,a.element.allProviders=Object.create(a.element.publicProviders)),a.element.allProviders[_r(g.provider.token)]=g),v&&(a.element.componentProvider=g)}if(a?(a.childFlags|=g.flags,a.directChildFlags|=g.flags,a.childMatchedQueries|=g.matchedQueryIds,g.element&&g.element.template&&(a.childMatchedQueries|=g.element.template.nodeMatchedQueries)):u|=g.flags,g.childCount>0)a=g,Ss(g)||(c=g);else for(;a&&f===a.nodeIndex+a.childCount;){var y=a.parent;y&&(y.childFlags|=a.childFlags,y.childMatchedQueries|=a.childMatchedQueries),c=(a=y)&&Ss(a)?a.renderParent:a}}return{factory:null,nodeFlags:r,rootNodeFlags:u,nodeMatchedQueries:s,flags:e,nodes:t,updateDirectives:n||Cr,updateRenderer:i||Cr,handleEvent:function(e,n,i,l){return t[n].element.handleEvent(e,i,l)},bindingCount:l,outputCount:o,lastRenderRootNode:h}}function Ss(e){return 0!=(1&e.flags)&&null===e.element.name}function _s(e,t,n){var i=t.element&&t.element.template;if(i){if(!i.lastRenderRootNode)throw new Error("Illegal State: Embedded templates without nodes are not allowed!");if(i.lastRenderRootNode&&16777216&i.lastRenderRootNode.flags)throw new Error("Illegal State: Last root node of a template can't have embedded views, at index "+t.nodeIndex+"!")}if(20224&t.flags&&0==(1&(e?e.flags:0)))throw new Error("Illegal State: StaticProvider/Directive nodes need to be children of elements or anchors, at index "+t.nodeIndex+"!");if(t.query){if(67108864&t.flags&&(!e||0==(16384&e.flags)))throw new Error("Illegal State: Content Query nodes need to be children of directives, at index "+t.nodeIndex+"!");if(134217728&t.flags&&e)throw new Error("Illegal State: View Query nodes have to be top level nodes, at index "+t.nodeIndex+"!")}if(t.childCount){var l=e?e.nodeIndex+e.childCount:n-1;if(t.nodeIndex<=l&&t.nodeIndex+t.childCount>l)throw new Error("Illegal State: childCount of node leads outside of parent, at index "+t.nodeIndex+"!")}}function ws(e,t,n,i){var l=Es(e.root,e.renderer,e,t,n);return ks(l,e.component,i),As(l),l}function xs(e,t,n){var i=Es(e,e.renderer,null,null,t);return ks(i,n,n),As(i),i}function Fs(e,t,n,i){var l,o=t.element.componentRendererType;return l=o?e.root.rendererFactory.createRenderer(i,o):e.root.renderer,Es(e.root,l,e,t.element.componentProvider,n)}function Es(e,t,n,i,l){var o=new Array(l.nodes.length),r=l.outputCount?new Array(l.outputCount):null;return{def:l,parent:n,viewContainerParent:null,parentNodeDef:i,context:null,component:null,nodes:o,state:13,root:e,renderer:t,oldValues:new Array(l.bindingCount),disposables:r,initIndex:-1}}function ks(e,t,n){e.component=t,e.context=n}function As(e){var t;Nr(e)&&(t=hr(e.parent,e.parentNodeDef.parent.nodeIndex).renderElement);for(var n=e.def,i=e.nodes,l=0;l<n.nodes.length;l++){var o=n.nodes[l];vr.setCurrentNode(e,l);var r=void 0;switch(201347067&o.flags){case 1:var u=ou(e,t,o),s=void 0;if(33554432&o.flags){var a=Gr(o.element.componentView);s=vr.createComponentView(e,o,a,u)}ru(e,s,o,u),r={renderElement:u,componentView:s,viewContainer:null,template:o.element.template?Au(e,o):void 0},16777216&o.flags&&(r.viewContainer=xu(e,o,r));break;case 2:r=bs(e,t,o);break;case 512:case 1024:case 2048:case 256:(r=i[l])||4096&o.flags||(r={instance:Qu(e,o)});break;case 16:r={instance:Zu(e,o)};break;case 16384:(r=i[l])||(r={instance:Xu(e,o)}),32768&o.flags&&ks(hr(e,o.parent.nodeIndex).componentView,r.instance,r.instance);break;case 32:case 64:case 128:r={value:void 0};break;case 67108864:case 134217728:r=new Bo;break;case 8:fs(e,t,o),r=void 0}i[l]=r}Ns(e,js.CreateViewNodes),Us(e,201326592,268435456,0)}function Ts(e){Os(e),vr.updateDirectives(e,1),Ls(e,js.CheckNoChanges),vr.updateRenderer(e,1),Ns(e,js.CheckNoChanges),e.state&=-97}function Is(e){1&e.state?(e.state&=-2,e.state|=2):e.state&=-3,cr(e,0,256),Os(e),vr.updateDirectives(e,0),Ls(e,js.CheckAndUpdate),Us(e,67108864,536870912,0);var t=cr(e,256,512);rs(e,2097152|(t?1048576:0)),vr.updateRenderer(e,0),Ns(e,js.CheckAndUpdate),Us(e,134217728,536870912,0),rs(e,8388608|((t=cr(e,512,768))?4194304:0)),2&e.def.flags&&(e.state&=-9),e.state&=-97,cr(e,768,1024)}function Bs(e,t,n,l,o,r,u,s,a,c,p,d,h){return 0===n?function(e,t,n,i,l,o,r,u,s,a,c,p){switch(201347067&t.flags){case 1:return function(e,t,n,i,l,o,r,u,s,a,c,p){var d=t.bindings.length,h=!1;return d>0&&su(e,t,0,n)&&(h=!0),d>1&&su(e,t,1,i)&&(h=!0),d>2&&su(e,t,2,l)&&(h=!0),d>3&&su(e,t,3,o)&&(h=!0),d>4&&su(e,t,4,r)&&(h=!0),d>5&&su(e,t,5,u)&&(h=!0),d>6&&su(e,t,6,s)&&(h=!0),d>7&&su(e,t,7,a)&&(h=!0),d>8&&su(e,t,8,c)&&(h=!0),d>9&&su(e,t,9,p)&&(h=!0),h}(e,t,n,i,l,o,r,u,s,a,c,p);case 2:return function(e,t,n,i,l,o,r,u,s,a,c,p){var d=!1,h=t.bindings,f=h.length;if(f>0&&Tr(e,t,0,n)&&(d=!0),f>1&&Tr(e,t,1,i)&&(d=!0),f>2&&Tr(e,t,2,l)&&(d=!0),f>3&&Tr(e,t,3,o)&&(d=!0),f>4&&Tr(e,t,4,r)&&(d=!0),f>5&&Tr(e,t,5,u)&&(d=!0),f>6&&Tr(e,t,6,s)&&(d=!0),f>7&&Tr(e,t,7,a)&&(d=!0),f>8&&Tr(e,t,8,c)&&(d=!0),f>9&&Tr(e,t,9,p)&&(d=!0),d){var g=t.text.prefix;f>0&&(g+=Ds(n,h[0])),f>1&&(g+=Ds(i,h[1])),f>2&&(g+=Ds(l,h[2])),f>3&&(g+=Ds(o,h[3])),f>4&&(g+=Ds(r,h[4])),f>5&&(g+=Ds(u,h[5])),f>6&&(g+=Ds(s,h[6])),f>7&&(g+=Ds(a,h[7])),f>8&&(g+=Ds(c,h[8])),f>9&&(g+=Ds(p,h[9]));var m=dr(e,t.nodeIndex).renderText;e.renderer.setValue(m,g)}return d}(e,t,n,i,l,o,r,u,s,a,c,p);case 16384:return function(e,t,n,i,l,o,r,u,s,a,c,p){var d=fr(e,t.nodeIndex),h=d.instance,f=!1,g=void 0,m=t.bindings.length;return m>0&&Ar(e,t,0,n)&&(f=!0,g=os(e,d,t,0,n,g)),m>1&&Ar(e,t,1,i)&&(f=!0,g=os(e,d,t,1,i,g)),m>2&&Ar(e,t,2,l)&&(f=!0,g=os(e,d,t,2,l,g)),m>3&&Ar(e,t,3,o)&&(f=!0,g=os(e,d,t,3,o,g)),m>4&&Ar(e,t,4,r)&&(f=!0,g=os(e,d,t,4,r,g)),m>5&&Ar(e,t,5,u)&&(f=!0,g=os(e,d,t,5,u,g)),m>6&&Ar(e,t,6,s)&&(f=!0,g=os(e,d,t,6,s,g)),m>7&&Ar(e,t,7,a)&&(f=!0,g=os(e,d,t,7,a,g)),m>8&&Ar(e,t,8,c)&&(f=!0,g=os(e,d,t,8,c,g)),m>9&&Ar(e,t,9,p)&&(f=!0,g=os(e,d,t,9,p,g)),g&&h.ngOnChanges(g),65536&t.flags&&pr(e,256,t.nodeIndex)&&h.ngOnInit(),262144&t.flags&&h.ngDoCheck(),f}(e,t,n,i,l,o,r,u,s,a,c,p);case 32:case 64:case 128:return function(e,t,n,i,l,o,r,u,s,a,c,p){var d=t.bindings,h=!1,f=d.length;if(f>0&&Tr(e,t,0,n)&&(h=!0),f>1&&Tr(e,t,1,i)&&(h=!0),f>2&&Tr(e,t,2,l)&&(h=!0),f>3&&Tr(e,t,3,o)&&(h=!0),f>4&&Tr(e,t,4,r)&&(h=!0),f>5&&Tr(e,t,5,u)&&(h=!0),f>6&&Tr(e,t,6,s)&&(h=!0),f>7&&Tr(e,t,7,a)&&(h=!0),f>8&&Tr(e,t,8,c)&&(h=!0),f>9&&Tr(e,t,9,p)&&(h=!0),h){var g=gr(e,t.nodeIndex),m=void 0;switch(201347067&t.flags){case 32:m=new Array(d.length),f>0&&(m[0]=n),f>1&&(m[1]=i),f>2&&(m[2]=l),f>3&&(m[3]=o),f>4&&(m[4]=r),f>5&&(m[5]=u),f>6&&(m[6]=s),f>7&&(m[7]=a),f>8&&(m[8]=c),f>9&&(m[9]=p);break;case 64:m={},f>0&&(m[d[0].name]=n),f>1&&(m[d[1].name]=i),f>2&&(m[d[2].name]=l),f>3&&(m[d[3].name]=o),f>4&&(m[d[4].name]=r),f>5&&(m[d[5].name]=u),f>6&&(m[d[6].name]=s),f>7&&(m[d[7].name]=a),f>8&&(m[d[8].name]=c),f>9&&(m[d[9].name]=p);break;case 128:var v=n;switch(f){case 1:m=v.transform(n);break;case 2:m=v.transform(i);break;case 3:m=v.transform(i,l);break;case 4:m=v.transform(i,l,o);break;case 5:m=v.transform(i,l,o,r);break;case 6:m=v.transform(i,l,o,r,u);break;case 7:m=v.transform(i,l,o,r,u,s);break;case 8:m=v.transform(i,l,o,r,u,s,a);break;case 9:m=v.transform(i,l,o,r,u,s,a,c);break;case 10:m=v.transform(i,l,o,r,u,s,a,c,p)}}g.value=m}return h}(e,t,n,i,l,o,r,u,s,a,c,p);default:throw"unreachable"}}(e,t,l,o,r,u,s,a,c,p,d,h):function(e,t,n){switch(201347067&t.flags){case 1:return function(e,t,n){for(var i=!1,l=0;l<n.length;l++)su(e,t,l,n[l])&&(i=!0);return i}(e,t,n);case 2:return function(e,t,n){for(var i=t.bindings,l=!1,o=0;o<n.length;o++)Tr(e,t,o,n[o])&&(l=!0);if(l){var r="";for(o=0;o<n.length;o++)r+=Ds(n[o],i[o]);r=t.text.prefix+r;var u=dr(e,t.nodeIndex).renderText;e.renderer.setValue(u,r)}return l}(e,t,n);case 16384:return function(e,t,n){for(var i=fr(e,t.nodeIndex),l=i.instance,o=!1,r=void 0,u=0;u<n.length;u++)Ar(e,t,u,n[u])&&(o=!0,r=os(e,i,t,u,n[u],r));return r&&l.ngOnChanges(r),65536&t.flags&&pr(e,256,t.nodeIndex)&&l.ngOnInit(),262144&t.flags&&l.ngDoCheck(),o}(e,t,n);case 32:case 64:case 128:return function(e,t,n){for(var l=t.bindings,o=!1,r=0;r<n.length;r++)Tr(e,t,r,n[r])&&(o=!0);if(o){var u=gr(e,t.nodeIndex),s=void 0;switch(201347067&t.flags){case 32:s=n;break;case 64:for(s={},r=0;r<n.length;r++)s[l[r].name]=n[r];break;case 128:var a=n[0],c=n.slice(1);s=a.transform.apply(a,Object(i.__spread)(c))}u.value=s}return o}(e,t,n);default:throw"unreachable"}}(e,t,l)}function Os(e){var t=e.def;if(4&t.nodeFlags)for(var n=0;n<t.nodes.length;n++){var i=t.nodes[n];if(4&i.flags){var l=hr(e,n).template._projectedViews;if(l)for(var o=0;o<l.length;o++){var r=l[o];r.state|=32,Or(r,e)}}else 0==(4&i.childFlags)&&(n+=i.childCount)}}function Rs(e,t,n,i,l,o,r,u,s,a,c,p,d){return 0===n?function(e,t,n,i,l,o,r,u,s,a,c,p){var d=t.bindings.length;d>0&&Ir(e,t,0,n),d>1&&Ir(e,t,1,i),d>2&&Ir(e,t,2,l),d>3&&Ir(e,t,3,o),d>4&&Ir(e,t,4,r),d>5&&Ir(e,t,5,u),d>6&&Ir(e,t,6,s),d>7&&Ir(e,t,7,a),d>8&&Ir(e,t,8,c),d>9&&Ir(e,t,9,p)}(e,t,i,l,o,r,u,s,a,c,p,d):function(e,t,n){for(var i=0;i<n.length;i++)Ir(e,t,i,n[i])}(e,t,i),!1}function Ms(e,t){if(mr(e,t.nodeIndex).dirty)throw yr(vr.createDebugContext(e,t.nodeIndex),"Query "+t.query.id+" not dirty","Query "+t.query.id+" dirty",0!=(1&e.state))}function Ps(e){if(!(128&e.state)){if(Ls(e,js.Destroy),Ns(e,js.Destroy),rs(e,131072),e.disposables)for(var t=0;t<e.disposables.length;t++)e.disposables[t]();!function(e){if(16&e.state){var t=Mr(e);if(t){var n=t.template._projectedViews;n&&(Du(n,n.indexOf(e)),vr.dirtyParentQueries(e))}}}(e),e.renderer.destroyNode&&function(e){for(var t=e.def.nodes.length,n=0;n<t;n++){var i=e.def.nodes[n];1&i.flags?e.renderer.destroyNode(hr(e,n).renderElement):2&i.flags?e.renderer.destroyNode(dr(e,n).renderText):(67108864&i.flags||134217728&i.flags)&&mr(e,n).destroy()}}(e),Nr(e)&&e.renderer.destroy(),e.state|=128}}var js=function(e){return e[e.CreateViewNodes=0]="CreateViewNodes",e[e.CheckNoChanges=1]="CheckNoChanges",e[e.CheckNoChangesProjectedViews=2]="CheckNoChangesProjectedViews",e[e.CheckAndUpdate=3]="CheckAndUpdate",e[e.CheckAndUpdateProjectedViews=4]="CheckAndUpdateProjectedViews",e[e.Destroy=5]="Destroy",e}({});function Ns(e,t){var n=e.def;if(33554432&n.nodeFlags)for(var i=0;i<n.nodes.length;i++){var l=n.nodes[i];33554432&l.flags?Vs(hr(e,i).componentView,t):0==(33554432&l.childFlags)&&(i+=l.childCount)}}function Ls(e,t){var n=e.def;if(16777216&n.nodeFlags)for(var i=0;i<n.nodes.length;i++){var l=n.nodes[i];if(16777216&l.flags)for(var o=hr(e,i).viewContainer._embeddedViews,r=0;r<o.length;r++)Vs(o[r],t);else 0==(16777216&l.childFlags)&&(i+=l.childCount)}}function Vs(e,t){var n=e.state;switch(t){case js.CheckNoChanges:0==(128&n)&&(12==(12&n)?Ts(e):64&n&&$s(e,js.CheckNoChangesProjectedViews));break;case js.CheckNoChangesProjectedViews:0==(128&n)&&(32&n?Ts(e):64&n&&$s(e,t));break;case js.CheckAndUpdate:0==(128&n)&&(12==(12&n)?Is(e):64&n&&$s(e,js.CheckAndUpdateProjectedViews));break;case js.CheckAndUpdateProjectedViews:0==(128&n)&&(32&n?Is(e):64&n&&$s(e,t));break;case js.Destroy:Ps(e);break;case js.CreateViewNodes:As(e)}}function $s(e,t){Ls(e,t),Ns(e,t)}function Us(e,t,n,i){if(e.def.nodeFlags&t&&e.def.nodeFlags&n)for(var l=e.def.nodes.length,o=0;o<l;o++){var r=e.def.nodes[o];if(r.flags&t&&r.flags&n)switch(vr.setCurrentNode(e,r.nodeIndex),i){case 0:ps(e,r);break;case 1:Ms(e,r)}r.childFlags&t&&r.childFlags&n||(o+=r.childCount)}}var Hs=!1;function zs(e,t,n,i,l,o){var r=l.injector.get(Ui);return xs(qs(e,l,r,t,n),i,o)}function Gs(e,t,n,i,l,o){var r=l.injector.get(Ui),u=qs(e,l,new wa(r),t,n),s=na(i);return Sa(pa.create,xs,null,[u,s,o])}function qs(e,t,n,i,l){var o=t.injector.get(Wi),r=t.injector.get(Ll),u=n.createRenderer(null,null);return{ngModule:t,injector:e,projectableNodes:i,selectorOrNode:l,sanitizer:o,rendererFactory:n,renderer:u,errorHandler:r}}function Ws(e,t,n,i){var l=na(n);return Sa(pa.create,ws,null,[e,t,l,i])}function Js(e,t,n,i){return n=Xs.get(t.element.componentProvider.provider.token)||na(n),Sa(pa.create,Fs,null,[e,t,n,i])}function Ks(e,t,n,i){return Pu(e,t,n,function(e){var t=function(e){var t=!1,n=!1;return 0===Qs.size?{hasOverrides:t,hasDeprecatedOverrides:n}:(e.providers.forEach(function(e){var i=Qs.get(e.token);3840&e.flags&&i&&(t=!0,n=n||i.deprecatedBehavior)}),e.modules.forEach(function(e){Zs.forEach(function(i,l){fe(l).providedIn===e&&(t=!0,n=n||i.deprecatedBehavior)})}),{hasOverrides:t,hasDeprecatedOverrides:n})}(e),n=t.hasDeprecatedOverrides;return t.hasOverrides?(function(e){for(var t=0;t<e.providers.length;t++){var i=e.providers[t];n&&(i.flags|=4096);var l=Qs.get(i.token);l&&(i.flags=-3841&i.flags|l.flags,i.deps=Ur(l.deps),i.value=l.value)}if(Zs.size>0){var o=new Set(e.modules);Zs.forEach(function(t,i){if(o.has(fe(i).providedIn)){var l={token:i,flags:t.flags|(n?4096:0),deps:Ur(t.deps),value:t.value,index:e.providers.length};e.providers.push(l),e.providersByKey[_r(i)]=l}})}}(e=e.factory(function(){return Cr})),e):e}(i))}var Qs=new Map,Zs=new Map,Xs=new Map;function Ys(e){var t;Qs.set(e.token,e),"function"==typeof e.token&&(t=fe(e.token))&&"function"==typeof t.providedIn&&Zs.set(e.token,e)}function ea(e,t){var n=Gr(t.viewDefFactory),i=Gr(n.nodes[0].element.componentView);Xs.set(e,i)}function ta(){Qs.clear(),Zs.clear(),Xs.clear()}function na(e){if(0===Qs.size)return e;var t=function(e){for(var t=[],n=null,i=0;i<e.nodes.length;i++){var l=e.nodes[i];1&l.flags&&(n=l),n&&3840&l.flags&&Qs.has(l.provider.token)&&(t.push(n.nodeIndex),n=null)}return t}(e);if(0===t.length)return e;e=e.factory(function(){return Cr});for(var n=0;n<t.length;n++)i(e,t[n]);return e;function i(e,t){for(var n=t+1;n<e.nodes.length;n++){var i=e.nodes[n];if(1&i.flags)return;if(3840&i.flags){var l=i.provider,o=Qs.get(l.token);o&&(i.flags=-3841&i.flags|o.flags,l.deps=Ur(o.deps),l.value=o.value)}}}}function ia(e,t,n,i,l,o,r,u,s,a,c,p,d){var h=e.def.nodes[t];return Bs(e,h,n,i,l,o,r,u,s,a,c,p,d),224&h.flags?gr(e,t).value:void 0}function la(e,t,n,i,l,o,r,u,s,a,c,p,d){var h=e.def.nodes[t];return Rs(e,h,n,i,l,o,r,u,s,a,c,p,d),224&h.flags?gr(e,t).value:void 0}function oa(e){return Sa(pa.detectChanges,Is,null,[e])}function ra(e){return Sa(pa.checkNoChanges,Ts,null,[e])}function ua(e){return Sa(pa.destroy,Ps,null,[e])}var sa,aa,ca,pa=function(e){return e[e.create=0]="create",e[e.detectChanges=1]="detectChanges",e[e.checkNoChanges=2]="checkNoChanges",e[e.destroy=3]="destroy",e[e.handleEvent=4]="handleEvent",e}({});function da(e,t){aa=e,ca=t}function ha(e,t,n,i){return da(e,t),Sa(pa.handleEvent,e.def.handleEvent,null,[e,t,n,i])}function fa(e,t){if(128&e.state)throw Dr(pa[sa]);return da(e,ya(e,0)),e.def.updateDirectives(function(e,n,i){for(var l=[],o=3;o<arguments.length;o++)l[o-3]=arguments[o];var r=e.def.nodes[n];return 0===t?ma(e,r,i,l):va(e,r,i,l),16384&r.flags&&da(e,ya(e,n)),224&r.flags?gr(e,r.nodeIndex).value:void 0},e)}function ga(e,t){if(128&e.state)throw Dr(pa[sa]);return da(e,ba(e,0)),e.def.updateRenderer(function(e,n,i){for(var l=[],o=3;o<arguments.length;o++)l[o-3]=arguments[o];var r=e.def.nodes[n];return 0===t?ma(e,r,i,l):va(e,r,i,l),3&r.flags&&da(e,ba(e,n)),224&r.flags?gr(e,r.nodeIndex).value:void 0},e)}function ma(e,t,n,l){if(Bs.apply(void 0,Object(i.__spread)([e,t,n],l))){var o=1===n?l[0]:l;if(16384&t.flags){for(var r={},u=0;u<t.bindings.length;u++){var s=t.bindings[u],a=o[u];8&s.flags&&(r[(h=s.nonMinifiedName,"ng-reflect-"+h.replace(/[$@]/g,"_").replace(dn,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return"-"+e[1].toLowerCase()}))]=hn(a))}var c=t.parent,p=hr(e,c.nodeIndex).renderElement;if(c.element.name)for(var d in r)null!=(a=r[d])?e.renderer.setAttribute(p,d,a):e.renderer.removeAttribute(p,d);else e.renderer.setValue(p,"bindings="+JSON.stringify(r,null,2))}}var h}function va(e,t,n,l){Rs.apply(void 0,Object(i.__spread)([e,t,n],l))}function ya(e,t){for(var n=t;n<e.def.nodes.length;n++){var i=e.def.nodes[n];if(16384&i.flags&&i.bindings&&i.bindings.length)return n}return null}function ba(e,t){for(var n=t;n<e.def.nodes.length;n++){var i=e.def.nodes[n];if(3&i.flags&&i.bindings&&i.bindings.length)return n}return null}var Da=function(){function e(e,t){this.view=e,this.nodeIndex=t,null==t&&(this.nodeIndex=t=0),this.nodeDef=e.def.nodes[t];for(var n=this.nodeDef,i=e;n&&0==(1&n.flags);)n=n.parent;if(!n)for(;!n&&i;)n=Pr(i),i=i.parent;this.elDef=n,this.elView=i}return Object.defineProperty(e.prototype,"elOrCompView",{get:function(){return hr(this.elView,this.elDef.nodeIndex).componentView||this.view},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"injector",{get:function(){return Iu(this.elView,this.elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"component",{get:function(){return this.elOrCompView.component},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"context",{get:function(){return this.elOrCompView.context},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"providerTokens",{get:function(){var e=[];if(this.elDef)for(var t=this.elDef.nodeIndex+1;t<=this.elDef.nodeIndex+this.elDef.childCount;t++){var n=this.elView.def.nodes[t];20224&n.flags&&e.push(n.provider.token),t+=n.childCount}return e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"references",{get:function(){var e={};if(this.elDef){Ca(this.elView,this.elDef,e);for(var t=this.elDef.nodeIndex+1;t<=this.elDef.nodeIndex+this.elDef.childCount;t++){var n=this.elView.def.nodes[t];20224&n.flags&&Ca(this.elView,n,e),t+=n.childCount}}return e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"componentRenderElement",{get:function(){var e=function(e){for(;e&&!Nr(e);)e=e.parent;return e.parent?hr(e.parent,Pr(e).nodeIndex):null}(this.elOrCompView);return e?e.renderElement:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"renderNode",{get:function(){return 2&this.nodeDef.flags?jr(this.view,this.nodeDef):jr(this.elView,this.elDef)},enumerable:!0,configurable:!0}),e.prototype.logError=function(e){for(var t,n,l=[],o=1;o<arguments.length;o++)l[o-1]=arguments[o];2&this.nodeDef.flags?(t=this.view.def,n=this.nodeDef.nodeIndex):(t=this.elView.def,n=this.elDef.nodeIndex);var r=function(e,t){for(var n=-1,i=0;i<=t;i++)3&e.nodes[i].flags&&n++;return n}(t,n),u=-1;t.factory(function(){var t;return++u===r?(t=e.error).bind.apply(t,Object(i.__spread)([e],l)):Cr}),u<r&&(e.error("Illegal state: the ViewDefinitionFactory did not call the logger!"),e.error.apply(e,Object(i.__spread)(l)))},e}();function Ca(e,t,n){for(var i in t.references)n[i]=hs(e,t,t.references[i])}function Sa(e,t,n,i){var l=sa,o=aa,r=ca;try{sa=e;var u=t.apply(n,i);return aa=o,ca=r,sa=l,u}catch(s){if(Pl(s)||!aa)throw s;throw function(e,t){return e instanceof Error||(e=new Error(e.toString())),br(e,t),e}(s,_a())}}function _a(){return aa?new Da(aa,ca):null}var wa=function(){function e(e){this.delegate=e}return e.prototype.createRenderer=function(e,t){return new xa(this.delegate.createRenderer(e,t))},e.prototype.begin=function(){this.delegate.begin&&this.delegate.begin()},e.prototype.end=function(){this.delegate.end&&this.delegate.end()},e.prototype.whenRenderingDone=function(){return this.delegate.whenRenderingDone?this.delegate.whenRenderingDone():Promise.resolve(null)},e}(),xa=function(){function e(e){this.delegate=e,this.debugContextFactory=_a,this.data=this.delegate.data}return e.prototype.createDebugContext=function(e){return this.debugContextFactory(e)},e.prototype.destroyNode=function(e){!function(e){Vo.delete(e.nativeNode)}($o(e)),this.delegate.destroyNode&&this.delegate.destroyNode(e)},e.prototype.destroy=function(){this.delegate.destroy()},e.prototype.createElement=function(e,t){var n=this.delegate.createElement(e,t),i=this.createDebugContext(n);if(i){var l=new Lo(n,null,i);l.name=e,Uo(l)}return n},e.prototype.createComment=function(e){var t=this.delegate.createComment(e),n=this.createDebugContext(t);return n&&Uo(new No(t,null,n)),t},e.prototype.createText=function(e){var t=this.delegate.createText(e),n=this.createDebugContext(t);return n&&Uo(new No(t,null,n)),t},e.prototype.appendChild=function(e,t){var n=$o(e),i=$o(t);n&&i&&n instanceof Lo&&n.addChild(i),this.delegate.appendChild(e,t)},e.prototype.insertBefore=function(e,t,n){var i=$o(e),l=$o(t),o=$o(n);i&&l&&i instanceof Lo&&i.insertBefore(o,l),this.delegate.insertBefore(e,t,n)},e.prototype.removeChild=function(e,t){var n=$o(e),i=$o(t);n&&i&&n instanceof Lo&&n.removeChild(i),this.delegate.removeChild(e,t)},e.prototype.selectRootElement=function(e,t){var n=this.delegate.selectRootElement(e,t),i=_a();return i&&Uo(new Lo(n,null,i)),n},e.prototype.setAttribute=function(e,t,n,i){var l=$o(e);l&&l instanceof Lo&&(l.attributes[i?i+":"+t:t]=n),this.delegate.setAttribute(e,t,n,i)},e.prototype.removeAttribute=function(e,t,n){var i=$o(e);i&&i instanceof Lo&&(i.attributes[n?n+":"+t:t]=null),this.delegate.removeAttribute(e,t,n)},e.prototype.addClass=function(e,t){var n=$o(e);n&&n instanceof Lo&&(n.classes[t]=!0),this.delegate.addClass(e,t)},e.prototype.removeClass=function(e,t){var n=$o(e);n&&n instanceof Lo&&(n.classes[t]=!1),this.delegate.removeClass(e,t)},e.prototype.setStyle=function(e,t,n,i){var l=$o(e);l&&l instanceof Lo&&(l.styles[t]=n),this.delegate.setStyle(e,t,n,i)},e.prototype.removeStyle=function(e,t,n){var i=$o(e);i&&i instanceof Lo&&(i.styles[t]=null),this.delegate.removeStyle(e,t,n)},e.prototype.setProperty=function(e,t,n){var i=$o(e);i&&i instanceof Lo&&(i.properties[t]=n),this.delegate.setProperty(e,t,n)},e.prototype.listen=function(e,t,n){if("string"!=typeof e){var i=$o(e);i&&i.listeners.push(new jo(t,n))}return this.delegate.listen(e,t,n)},e.prototype.parentNode=function(e){return this.delegate.parentNode(e)},e.prototype.nextSibling=function(e){return this.delegate.nextSibling(e)},e.prototype.setValue=function(e,t){return this.delegate.setValue(e,t)},e}();function Fa(e,t,n){return new Ea(e,t,n)}var Ea=function(e){function t(t,n,i){var l=e.call(this)||this;return l.moduleType=t,l._bootstrapComponents=n,l._ngModuleDefFactory=i,l}return Object(i.__extends)(t,e),t.prototype.create=function(e){!function(){if(!Hs){Hs=!0;var e=ll()?{setCurrentNode:da,createRootView:Gs,createEmbeddedView:Ws,createComponentView:Js,createNgModuleRef:Ks,overrideProvider:Ys,overrideComponentView:ea,clearOverrides:ta,checkAndUpdateView:oa,checkNoChangesView:ra,destroyView:ua,createDebugContext:function(e,t){return new Da(e,t)},handleEvent:ha,updateDirectives:fa,updateRenderer:ga}:{setCurrentNode:function(){},createRootView:zs,createEmbeddedView:ws,createComponentView:Fs,createNgModuleRef:Pu,overrideProvider:Cr,overrideComponentView:Cr,clearOverrides:Cr,checkAndUpdateView:Is,checkNoChangesView:Ts,destroyView:Ps,createDebugContext:function(e,t){return new Da(e,t)},handleEvent:function(e,t,n,i){return e.def.handleEvent(e,t,n,i)},updateDirectives:function(e,t){return e.def.updateDirectives(0===t?ia:la,e)},updateRenderer:function(e,t){return e.def.updateRenderer(0===t?ia:la,e)}};vr.setCurrentNode=e.setCurrentNode,vr.createRootView=e.createRootView,vr.createEmbeddedView=e.createEmbeddedView,vr.createComponentView=e.createComponentView,vr.createNgModuleRef=e.createNgModuleRef,vr.overrideProvider=e.overrideProvider,vr.overrideComponentView=e.overrideComponentView,vr.clearOverrides=e.clearOverrides,vr.checkAndUpdateView=e.checkAndUpdateView,vr.checkNoChangesView=e.checkNoChangesView,vr.destroyView=e.destroyView,vr.resolveDep=is,vr.createDebugContext=e.createDebugContext,vr.handleEvent=e.handleEvent,vr.updateDirectives=e.updateDirectives,vr.updateRenderer=e.updateRenderer,vr.dirtyParentQueries=cs}}();var t=function(e){var t=Array.from(e.providers),n=Array.from(e.modules),i={};for(var l in e.providersByKey)i[l]=e.providersByKey[l];return{factory:e.factory,isRoot:e.isRoot,providers:t,modules:n,providersByKey:i}}(Gr(this._ngModuleDefFactory));return vr.createNgModuleRef(this.moduleType,e||ti.NULL,this._bootstrapComponents,t)},t}(ji),ka={production:!0,dev:!1,local:!1,cdnAddress:"https://app.beelinks.solutions",serverAddress:"https://app.beelinks.solutions",socketServerAddress:"https://live.beelinks.solutions",mediaServerAddress:"https://app.beelinks.solutions",botURL:"https://bot.beelinks.solutions",redisURL:"https://app.beelinks.solutions",agentServiceUrl:"https://app.beelinks.solutions"},Aa=function(){return function(){}}(),Ta=n("ds6q"),Ia=function(e,t){void 0===t&&(t="")},Ba=function(e){var t={};return e.map(function(e){t[e]=e}),Object.keys(t)},Oa=function(e){function t(t){var n=e.call(this)||this;return n._value=t,n}return i.__extends(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),t.prototype._subscribe=function(t){var n=e.prototype._subscribe.call(this,t);return n&&!n.closed&&t.next(this._value),n},t.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new F;return this._value},t.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},t}(A),Ra=(n("hqy+"),function(){function e(){var e=this;this.NSP="",this.Load=new Ta.Subject,this.Maximize=new Ta.Subject,this.ShowLoader=new Ta.Subject,this.SendFromAutoMessage=new Ta.Subject,this.GotUserInformation=new Ta.Subject,this.GotAddionalData=new Ta.Subject,this.GotRequestedCarData=new Ta.Subject,this.NegotiateEvent=new Ta.Subject,this.closeEmoji=new Ta.Subject,this.helpWindow=new Oa(!1),this.initiateChatSupport=new Ta.Subject,this.sessionResetStatus=new Ta.Subject,this.resizingEvent=new Ta.Subject,window.addEventListener("message",function(t){e.MessageRecieved(t)})}return e.prototype.MessageRecieved=function(e){if(e.data.msg)switch(e.data.msg){case"setSession":case"NegotiateIsLoaded":case"window-loaded":break;case"showLoadingScreen":this.helpWindow.getValue()||(e.data.helpWindow&&this.helpWindow.next(!0),this.SendMessage("helpLoadingInitiated",{},"*"));break;case"FrameReadyToGo":this.SendMessage("HelpIsLoaded",{},"*");break;case"load":this.NSP=e.data.payload.session.nsp,this.Load.next(e.data.payload),this.Session=e.data.payload.session,this.ServerAddress=e.data.payload.serverAddress,this.payload=e.data.payload,this.windowNegotiateOpened=JSON.parse(localStorage.getItem("negotiateChatWindow")||"false"),this.windowNegotiateOpened&&this.SendMessage("NegotiateIsLoaded",e.data.payload.session,"*"),e.data.payload.helpWindow&&this.InitiateChatSupport();break;case"negotiateLoad":this.NSP=e.data.payload.session.nsp,this.Load.next(e.data.payload),this.Session=e.data.payload.session,this.ServerAddress=e.data.payload.serverAddress,this.payload=e.data.payload;break;case"maximize":this.Maximize.next(!0);break;case"minimize":this.Maximize.next(!1);break;case"showLoader":this.ShowLoader.next(!0);break;case"sendMessage":this.SendFromAutoMessage.next(e.data.payload),this.Maximize.next(!0);break;case"gotUserInformation":this.GotUserInformation.next(e.data.payload);break;case"negotiate-event":this.windowNegotiateOpened=JSON.parse(localStorage.getItem("negotiateChatWindow")||"false"),this.windowNegotiateOpened?this.NegotiateEvent.next(!0):(localStorage.setItem("negotiateLoading",JSON.stringify(!0)),this.windowNegotiateOpened=!0,this.NegotiateEvent.next(!1));break;case"gotAdditionalData":this.windowNegotiateOpened&&e.data.payload.additionalData&&this.GotAddionalData.next(e.data.payload.additionalData);break;case"requestCarEvent":if(!e.data.payload.carRequestData)break;this.GotRequestedCarData.next(e.data.payload.carRequestData);case"negotiateClose":localStorage.setItem("negotiateChatWindow",JSON.stringify(!1));break;case"popUpBlocked":localStorage.setItem("negotiateChatWindow",JSON.stringify(!1)),localStorage.setItem("negotiateLoading",JSON.stringify(!1));break;case"restartSessionFailed":this.sessionResetStatus.next(!1);break;case"resizingEvent":this.resizingEvent.next(e.data.payload.isMobile);break;case"setChatWindowStateOnLoad":this.SendMessage("setChatWindowStateOnLoad",{state:e.data.state},"bz-cb")}},e.prototype.SendMessage=function(e,t,n){switch(e){case"gotAgent":6==this.Session.state||7==this.Session.state||8==this.Session.state?window.parent.postMessage({msg:"gotAgent",payload:{image:t.image?t.image:t.name,nickname:t.name,chatBot:!0},target:n},"*"):window.parent.postMessage({msg:"gotAgent",payload:{image:t.image?t.image:t.name,nickname:t.name},target:n},"*");break;case"messageCount":window.parent.postMessage({msg:"messageCount",payload:t?this.ConvertToNumber((i=this.NSP,l=localStorage.getItem(i+"notificationCount"),l?JSON.parse(l):void 0)):t,target:n},"*");break;case"giveSession":window.parent.postMessage({msg:"giveSession",payload:t},"*");break;case"setSession":window.parent.postMessage({msg:"setSession",payload:t},"*");break;case"updateCallSettings":window.parent.postMessage({msg:"updateCallSettings",payload:t||""},"*");break;case"sendMessage":break;case"newMessage":window.parent.postMessage({msg:"newMessage",content:t.body,target:n},"*");break;case"minimize":window.parent.postMessage({msg:"minimize",payload:{},target:n},"*");break;case"maximize":window.parent.postMessage({msg:"maximize",payload:{},target:n},"*");break;case"reload":window.parent.postMessage({msg:"reload"},"*");break;case"noAgent":window.parent.postMessage({msg:"removeAgent",payload:{},target:n},"*");break;case"removeAgent":window.parent.postMessage({msg:"removeAgent"},"*");break;case"loaded":window.parent.postMessage({msg:"window-loaded"},"*");break;case"autoMessageCloseClicked":window.parent.postMessage({msg:"autoMessageCloseClicked"},"*");break;case"negotiate":window.parent.postMessage({msg:"negotiate",payload:t||"",target:n},"*");break;case"NegotiateIsLoaded":window.parent.postMessage({msg:"NegotiateIsLoaded"},"*");break;case"renderMessageNegotiate":window.parent.postMessage({msg:"renderMessageNegotiate",payload:t||"",target:n},"*");break;case"restartChat":window.parent.postMessage({msg:"restartChat",payload:t||""},"*");break;case"setDeviceToken":window.parent.postMessage({msg:"setDeviceToken",payload:t||""},"*");break;case"negotiatePopUpClose":window.parent.postMessage({msg:"negotiatePopUpClose",payload:t||""},"*");break;case"allHelpSupportWindowsClose":window.opener&&window.opener.postMessage({msg:"allHelpSupportWindowsClose",payload:t||""},"*");break;case"SupportNotifications":window.opener&&window.opener.postMessage({msg:"SupportNotifications",payload:t||""},"*");break;case"helpLoadingInitiated":window.opener&&window.opener.postMessage({msg:"helpLoadingInitiated",payload:t||""},"*");break;case"HelpIsLoaded":window.opener&&window.opener.postMessage({msg:"HelpIsLoaded",payload:t||""},"*");break;case"setChatWindowStateOnLoad":window.parent.postMessage({msg:"setChatWindowStateOnLoad",state:t.state,target:n},"*")}var i,l},e.prototype.ConvertToNumber=function(e){var t;t=e,!isNaN(t)&&t&&parseInt(t)},e.prototype.CloseEmoji=function(){this.closeEmoji.next(!0)},e.prototype.InitiateChatSupport=function(){this.Session&&this.initiateChatSupport.next(this.Session)},e}()),Ma=function(){function e(e){var t=this;this._postMessageService=e,this.negotiateLoading=!1,this.negotiate=void 0,this.maximized=!1,this._postMessageService.Maximize.subscribe(function(e){t.maximized=e}),this._postMessageService.NegotiateEvent.subscribe(function(e){e?t._postMessageService.SendMessage("giveSession",e,"*"):(t.negotiate=e,t._postMessageService.SendMessage("giveSession",e,"*"),localStorage.setItem("negotiateChatWindow",JSON.stringify(!0)))}),this.negotiateLoading=JSON.parse(localStorage.getItem("negotiateLoading")||"false"),this.negotiateLoading?localStorage.setItem("negotiateLoading",JSON.stringify(!1)):this._postMessageService.SendMessage("loaded",{},"*")}return e.prototype.beforeUnloadHander=function(){localStorage.setItem("negotiateChatWindow",JSON.stringify(!1))},e.prototype.onKeyDown=function(e){27==e.keyCode&&this.maximized&&this._postMessageService.SendMessage("maximize",{},"bz-cb")},e.prototype.onclick=function(e){e.stopImmediatePropagation(),e.stopPropagation();var t=e.target,n=t.id.indexOf("emoji"),i=t.className.indexOf("icon-emoji");n<0&&i<0&&this._postMessageService.CloseEmoji()},e}(),Pa=function(){return function(){}}(),ja=function(){return function(){}}(),Na="*";function La(e,t){return void 0===t&&(t=null),{type:2,steps:e,options:t}}function Va(e){return{type:6,styles:e,offset:null}}function $a(e){Promise.resolve(null).then(e)}var Ua=function(){function e(e,t){void 0===e&&(e=0),void 0===t&&(t=0),this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this.parentPlayer=null,this.totalTime=e+t}return e.prototype._onFinish=function(){this._finished||(this._finished=!0,this._onDoneFns.forEach(function(e){return e()}),this._onDoneFns=[])},e.prototype.onStart=function(e){this._onStartFns.push(e)},e.prototype.onDone=function(e){this._onDoneFns.push(e)},e.prototype.onDestroy=function(e){this._onDestroyFns.push(e)},e.prototype.hasStarted=function(){return this._started},e.prototype.init=function(){},e.prototype.play=function(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0},e.prototype.triggerMicrotask=function(){var e=this;$a(function(){return e._onFinish()})},e.prototype._onStart=function(){this._onStartFns.forEach(function(e){return e()}),this._onStartFns=[]},e.prototype.pause=function(){},e.prototype.restart=function(){},e.prototype.finish=function(){this._onFinish()},e.prototype.destroy=function(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(function(e){return e()}),this._onDestroyFns=[])},e.prototype.reset=function(){},e.prototype.setPosition=function(e){},e.prototype.getPosition=function(){return 0},e.prototype.triggerCallback=function(e){var t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(function(e){return e()}),t.length=0},e}(),Ha=function(){function e(e){var t=this;this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;var n=0,i=0,l=0,o=this.players.length;0==o?$a(function(){return t._onFinish()}):this.players.forEach(function(e){e.onDone(function(){++n==o&&t._onFinish()}),e.onDestroy(function(){++i==o&&t._onDestroy()}),e.onStart(function(){++l==o&&t._onStart()})}),this.totalTime=this.players.reduce(function(e,t){return Math.max(e,t.totalTime)},0)}return e.prototype._onFinish=function(){this._finished||(this._finished=!0,this._onDoneFns.forEach(function(e){return e()}),this._onDoneFns=[])},e.prototype.init=function(){this.players.forEach(function(e){return e.init()})},e.prototype.onStart=function(e){this._onStartFns.push(e)},e.prototype._onStart=function(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(function(e){return e()}),this._onStartFns=[])},e.prototype.onDone=function(e){this._onDoneFns.push(e)},e.prototype.onDestroy=function(e){this._onDestroyFns.push(e)},e.prototype.hasStarted=function(){return this._started},e.prototype.play=function(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(function(e){return e.play()})},e.prototype.pause=function(){this.players.forEach(function(e){return e.pause()})},e.prototype.restart=function(){this.players.forEach(function(e){return e.restart()})},e.prototype.finish=function(){this._onFinish(),this.players.forEach(function(e){return e.finish()})},e.prototype.destroy=function(){this._onDestroy()},e.prototype._onDestroy=function(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(function(e){return e.destroy()}),this._onDestroyFns.forEach(function(e){return e()}),this._onDestroyFns=[])},e.prototype.reset=function(){this.players.forEach(function(e){return e.reset()}),this._destroyed=!1,this._finished=!1,this._started=!1},e.prototype.setPosition=function(e){var t=e*this.totalTime;this.players.forEach(function(e){var n=e.totalTime?Math.min(1,t/e.totalTime):1;e.setPosition(n)})},e.prototype.getPosition=function(){var e=0;return this.players.forEach(function(t){var n=t.getPosition();e=Math.min(n,e)}),e},e.prototype.beforeDestroy=function(){this.players.forEach(function(e){e.beforeDestroy&&e.beforeDestroy()})},e.prototype.triggerCallback=function(e){var t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(function(e){return e()}),t.length=0},e}(),za="!";function Ga(){throw Error("Host already has a portal attached")}var qa=function(){function e(){}return e.prototype.attach=function(e){return null==e&&function(){throw Error("Attempting to attach a portal to a null PortalOutlet")}(),e.hasAttached()&&Ga(),this._attachedHost=e,e.attach(this)},e.prototype.detach=function(){var e=this._attachedHost;null==e?function(){throw Error("Attempting to detach a portal that is not attached to a host")}():(this._attachedHost=null,e.detach())},Object.defineProperty(e.prototype,"isAttached",{get:function(){return null!=this._attachedHost},enumerable:!0,configurable:!0}),e.prototype.setAttachedHost=function(e){this._attachedHost=e},e}(),Wa=function(e){function t(t,n,i,l){var o=e.call(this)||this;return o.component=t,o.viewContainerRef=n,o.injector=i,o.componentFactoryResolver=l,o}return Object(i.__extends)(t,e),t}(qa),Ja=function(e){function t(t,n,i){var l=e.call(this)||this;return l.templateRef=t,l.viewContainerRef=n,l.context=i,l}return Object(i.__extends)(t,e),Object.defineProperty(t.prototype,"origin",{get:function(){return this.templateRef.elementRef},enumerable:!0,configurable:!0}),t.prototype.attach=function(t,n){return void 0===n&&(n=this.context),this.context=n,e.prototype.attach.call(this,t)},t.prototype.detach=function(){return this.context=void 0,e.prototype.detach.call(this)},t}(qa),Ka=function(){function e(){this._isDisposed=!1}return e.prototype.hasAttached=function(){return!!this._attachedPortal},e.prototype.attach=function(e){return e||function(){throw Error("Must provide a portal to attach")}(),this.hasAttached()&&Ga(),this._isDisposed&&function(){throw Error("This PortalOutlet has already been disposed")}(),e instanceof Wa?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof Ja?(this._attachedPortal=e,this.attachTemplatePortal(e)):void function(){throw Error("Attempting to attach an unknown Portal type. BasePortalOutlet accepts either a ComponentPortal or a TemplatePortal.")}()},e.prototype.detach=function(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()},e.prototype.dispose=function(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0},e.prototype.setDisposeFn=function(e){this._disposeFn=e},e.prototype._invokeDisposeFn=function(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)},e}(),Qa=function(e){function t(t,n,i,l){var o=e.call(this)||this;return o.outletElement=t,o._componentFactoryResolver=n,o._appRef=i,o._defaultInjector=l,o}return Object(i.__extends)(t,e),t.prototype.attachComponentPortal=function(e){var t,n=this,i=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);return e.viewContainerRef?(t=e.viewContainerRef.createComponent(i,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector),this.setDisposeFn(function(){return t.destroy()})):(t=i.create(e.injector||this._defaultInjector),this._appRef.attachView(t.hostView),this.setDisposeFn(function(){n._appRef.detachView(t.hostView),t.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(t)),t},t.prototype.attachTemplatePortal=function(e){var t=this,n=e.viewContainerRef,i=n.createEmbeddedView(e.templateRef,e.context);return i.detectChanges(),i.rootNodes.forEach(function(e){return t.outletElement.appendChild(e)}),this.setDisposeFn(function(){var e=n.indexOf(i);-1!==e&&n.remove(e)}),i},t.prototype.dispose=function(){e.prototype.dispose.call(this),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)},t.prototype._getComponentRootNode=function(e){return e.hostView.rootNodes[0]},t}(Ka),Za=function(e){function t(t,n){var i=e.call(this)||this;return i._componentFactoryResolver=t,i._viewContainerRef=n,i._isInitialized=!1,i.attached=new kl,i}return Object(i.__extends)(t,e),Object.defineProperty(t.prototype,"portal",{get:function(){return this._attachedPortal},set:function(t){(!this.hasAttached()||t||this._isInitialized)&&(this.hasAttached()&&e.prototype.detach.call(this),t&&e.prototype.attach.call(this,t),this._attachedPortal=t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"attachedRef",{get:function(){return this._attachedRef},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){this._isInitialized=!0},t.prototype.ngOnDestroy=function(){e.prototype.dispose.call(this),this._attachedPortal=null,this._attachedRef=null},t.prototype.attachComponentPortal=function(t){t.setAttachedHost(this);var n=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),l=n.createComponent(i,n.length,t.injector||n.injector);return e.prototype.setDisposeFn.call(this,function(){return l.destroy()}),this._attachedPortal=t,this._attachedRef=l,this.attached.emit(l),l},t.prototype.attachTemplatePortal=function(t){var n=this;t.setAttachedHost(this);var i=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context);return e.prototype.setDisposeFn.call(this,function(){return n._viewContainerRef.clear()}),this._attachedPortal=t,this._attachedRef=i,this.attached.emit(i),i},t}(Ka),Xa=function(){return function(){}}(),Ya=function(){function e(e,t){this._parentInjector=e,this._customTokens=t}return e.prototype.get=function(e,t){var n=this._customTokens.get(e);return void 0!==n?n:this._parentInjector.get(e,t)},e}(),ec=27,tc=new _(function(e){return e.complete()});function nc(e){return e?function(e){return new _(function(t){return e.schedule(function(){return t.complete()})})}(e):tc}function ic(e){var t=new _(function(t){t.next(e),t.complete()});return t._isScalar=!0,t.value=e,t}function lc(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[e.length-1];switch(I(n)?e.pop():n=void 0,e.length){case 0:return nc(n);case 1:return n?W(e,n):ic(e[0]);default:return W(e,n)}}function oc(e,t){return function(n){return n.lift(new rc(e,t))}}var rc=function(){function e(e,t){this.predicate=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new uc(e,this.predicate,this.thisArg))},e}(),uc=function(e){function t(t,n,i){var l=e.call(this,t)||this;return l.predicate=n,l.thisArg=i,l.count=0,l}return i.__extends(t,e),t.prototype._next=function(e){var t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}t&&this.destination.next(e)},t}(D);function sc(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}sc.prototype=Object.create(Error.prototype);var ac=sc;function cc(e){return function(t){return 0===e?nc():t.lift(new pc(e))}}var pc=function(){function e(e){if(this.total=e,this.total<0)throw new ac}return e.prototype.call=function(e,t){return t.subscribe(new dc(e,this.total))},e}(),dc=function(e){function t(t,n){var i=e.call(this,t)||this;return i.total=n,i.count=0,i}return i.__extends(t,e),t.prototype._next=function(e){var t=this.total,n=++this.count;n<=t&&(this.destination.next(e),n===t&&(this.destination.complete(),this.unsubscribe()))},t}(D);var hc=function(){return function(){}}(),fc=function(){function e(e){var n=this;this._subject=new kl,this._platformStrategy=e;var i=this._platformStrategy.getBaseHref();this._baseHref=t.stripTrailingSlash(gc(i)),this._platformStrategy.onPopState(function(e){n._subject.emit({url:n.path(!0),pop:!0,state:e.state,type:e.type})})}var t;return t=e,e.prototype.path=function(e){return void 0===e&&(e=!1),this.normalize(this._platformStrategy.path(e))},e.prototype.isCurrentPathEqualTo=function(e,n){return void 0===n&&(n=""),this.path()==this.normalize(e+t.normalizeQueryParams(n))},e.prototype.normalize=function(e){return t.stripTrailingSlash(function(e,t){return e&&t.startsWith(e)?t.substring(e.length):t}(this._baseHref,gc(e)))},e.prototype.prepareExternalUrl=function(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)},e.prototype.go=function(e,t,n){void 0===t&&(t=""),void 0===n&&(n=null),this._platformStrategy.pushState(n,"",e,t)},e.prototype.replaceState=function(e,t,n){void 0===t&&(t=""),void 0===n&&(n=null),this._platformStrategy.replaceState(n,"",e,t)},e.prototype.forward=function(){this._platformStrategy.forward()},e.prototype.back=function(){this._platformStrategy.back()},e.prototype.subscribe=function(e,t,n){return this._subject.subscribe({next:e,error:t,complete:n})},e.normalizeQueryParams=function(e){return e&&"?"!==e[0]?"?"+e:e},e.joinWithSlash=function(e,t){if(0==e.length)return t;if(0==t.length)return e;var n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t},e.stripTrailingSlash=function(e){var t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)},e}();function gc(e){return e.replace(/\/index.html$/,"")}var mc=void 0,vc=["en",[["a","p"],["AM","PM"],mc],[["AM","PM"],mc,mc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],mc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],mc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",mc,"{1} 'at' {0}",mc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"$","US Dollar",{},function(e){var t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:5}],yc={},bc=function(e){return e[e.Zero=0]="Zero",e[e.One=1]="One",e[e.Two=2]="Two",e[e.Few=3]="Few",e[e.Many=4]="Many",e[e.Other=5]="Other",e}({}),Dc=function(e){return e[e.Format=0]="Format",e[e.Standalone=1]="Standalone",e}({}),Cc=function(e){return e[e.Narrow=0]="Narrow",e[e.Abbreviated=1]="Abbreviated",e[e.Wide=2]="Wide",e[e.Short=3]="Short",e}({}),Sc=function(e){return e[e.Short=0]="Short",e[e.Medium=1]="Medium",e[e.Long=2]="Long",e[e.Full=3]="Full",e}({}),_c=function(e){return e[e.Decimal=0]="Decimal",e[e.Group=1]="Group",e[e.List=2]="List",e[e.PercentSign=3]="PercentSign",e[e.PlusSign=4]="PlusSign",e[e.MinusSign=5]="MinusSign",e[e.Exponential=6]="Exponential",e[e.SuperscriptingExponent=7]="SuperscriptingExponent",e[e.PerMille=8]="PerMille",e[e[1/0]=9]="Infinity",e[e.NaN=10]="NaN",e[e.TimeSeparator=11]="TimeSeparator",e[e.CurrencyDecimal=12]="CurrencyDecimal",e[e.CurrencyGroup=13]="CurrencyGroup",e}({});function wc(e,t){return Ac(Ic(e)[10],t)}function xc(e,t){return Ac(Ic(e)[11],t)}function Fc(e,t){return Ac(Ic(e)[12],t)}function Ec(e,t){var n=Ic(e),i=n[13][t];if(void 0===i){if(t===_c.CurrencyDecimal)return n[13][_c.Decimal];if(t===_c.CurrencyGroup)return n[13][_c.Group]}return i}function kc(e){if(!e[19])throw new Error('Missing extra locale data for the locale "'+e[0]+'". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.')}function Ac(e,t){for(var n=t;n>-1;n--)if(void 0!==e[n])return e[n];throw new Error("Locale data API: locale data undefined")}function Tc(e){var t=Object(i.__read)(e.split(":"),2);return{hours:+t[0],minutes:+t[1]}}function Ic(e){var t=e.toLowerCase().replace(/_/g,"-"),n=yc[t];if(n)return n;var i=t.split("-")[0];if(n=yc[i])return n;if("en"===i)return vc;throw new Error('Missing locale data for the locale "'+e+'".')}var Bc=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Oc={},Rc=/((?:[^GyMLwWdEabBhHmsSzZO']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,Mc=function(e){return e[e.Short=0]="Short",e[e.ShortGMT=1]="ShortGMT",e[e.Long=2]="Long",e[e.Extended=3]="Extended",e}({}),Pc=function(e){return e[e.FullYear=0]="FullYear",e[e.Month=1]="Month",e[e.Date=2]="Date",e[e.Hours=3]="Hours",e[e.Minutes=4]="Minutes",e[e.Seconds=5]="Seconds",e[e.FractionalSeconds=6]="FractionalSeconds",e[e.Day=7]="Day",e}({}),jc=function(e){return e[e.DayPeriods=0]="DayPeriods",e[e.Days=1]="Days",e[e.Months=2]="Months",e[e.Eras=3]="Eras",e}({});function Nc(e,t){return t&&(e=e.replace(/\{([^}]+)}/g,function(e,n){return null!=t&&n in t?t[n]:e})),e}function Lc(e,t,n,i,l){void 0===n&&(n="-");var o="";(e<0||l&&e<=0)&&(l?e=1-e:(e=-e,o=n));for(var r=String(e);r.length<t;)r="0"+r;return i&&(r=r.substr(r.length-t)),o+r}function Vc(e,t,n,i,l){return void 0===n&&(n=0),void 0===i&&(i=!1),void 0===l&&(l=!1),function(o,r){var u,s=function(e,t){switch(e){case Pc.FullYear:return t.getFullYear();case Pc.Month:return t.getMonth();case Pc.Date:return t.getDate();case Pc.Hours:return t.getHours();case Pc.Minutes:return t.getMinutes();case Pc.Seconds:return t.getSeconds();case Pc.FractionalSeconds:return t.getMilliseconds();case Pc.Day:return t.getDay();default:throw new Error('Unknown DateType value "'+e+'".')}}(e,o);if((n>0||s>-n)&&(s+=n),e===Pc.Hours)0===s&&-12===n&&(s=12);else if(e===Pc.FractionalSeconds)return u=t,Lc(s,3).substr(0,u);var a=Ec(r,_c.MinusSign);return Lc(s,t,a,i,l)}}function $c(e,t,n,i){return void 0===n&&(n=Dc.Format),void 0===i&&(i=!1),function(l,o){return function(e,t,n,i,l,o){switch(n){case jc.Months:return function(e,t,n){var i=Ic(e),l=Ac([i[5],i[6]],t);return Ac(l,n)}(t,l,i)[e.getMonth()];case jc.Days:return function(e,t,n){var i=Ic(e),l=Ac([i[3],i[4]],t);return Ac(l,n)}(t,l,i)[e.getDay()];case jc.DayPeriods:var r=e.getHours(),u=e.getMinutes();if(o){var s,a=function(e){var t=Ic(e);return kc(t),(t[19][2]||[]).map(function(e){return"string"==typeof e?Tc(e):[Tc(e[0]),Tc(e[1])]})}(t),c=function(e,t,n){var i=Ic(e);kc(i);var l=Ac([i[19][0],i[19][1]],t)||[];return Ac(l,n)||[]}(t,l,i);if(a.forEach(function(e,t){if(Array.isArray(e)){var n=e[0],i=e[1],l=i.hours;r>=n.hours&&u>=n.minutes&&(r<l||r===l&&u<i.minutes)&&(s=c[t])}else e.hours===r&&e.minutes===u&&(s=c[t])}),s)return s}return function(e,t,n){var i=Ic(e),l=Ac([i[1],i[2]],t);return Ac(l,n)}(t,l,i)[r<12?0:1];case jc.Eras:return function(e,t){return Ac(Ic(e)[7],t)}(t,i)[e.getFullYear()<=0?0:1];default:throw new Error("unexpected translation type "+n)}}(l,o,e,t,n,i)}}function Uc(e){return function(t,n,i){var l=-1*i,o=Ec(n,_c.MinusSign),r=l>0?Math.floor(l/60):Math.ceil(l/60);switch(e){case Mc.Short:return(l>=0?"+":"")+Lc(r,2,o)+Lc(Math.abs(l%60),2,o);case Mc.ShortGMT:return"GMT"+(l>=0?"+":"")+Lc(r,1,o);case Mc.Long:return"GMT"+(l>=0?"+":"")+Lc(r,2,o)+":"+Lc(Math.abs(l%60),2,o);case Mc.Extended:return 0===i?"Z":(l>=0?"+":"")+Lc(r,2,o)+":"+Lc(Math.abs(l%60),2,o);default:throw new Error('Unknown zone width "'+e+'"')}}}var Hc=0,zc=4;function Gc(e,t){return void 0===t&&(t=!1),function(n,i){var l,o,r,u;if(t){var s=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,a=n.getDate();l=1+Math.floor((a+s)/7)}else{var c=(r=n.getFullYear(),u=new Date(r,Hc,1).getDay(),new Date(r,0,1+(u<=zc?zc:zc+7)-u)),p=(o=n,new Date(o.getFullYear(),o.getMonth(),o.getDate()+(zc-o.getDay()))).getTime()-c.getTime();l=1+Math.round(p/6048e5)}return Lc(l,e,Ec(i,_c.MinusSign))}}var qc={};function Wc(e,t){e=e.replace(/:/g,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(n)?t:n}function Jc(e){return e instanceof Date&&!isNaN(e.valueOf())}var Kc=new me("UseV4Plurals"),Qc=function(){return function(){}}(),Zc=function(e){function t(t,n){var i=e.call(this)||this;return i.locale=t,i.deprecatedPluralFn=n,i}return Object(i.__extends)(t,e),t.prototype.getPluralCategory=function(e,t){switch(this.deprecatedPluralFn?this.deprecatedPluralFn(t||this.locale,e):function(e){return Ic(e)[18]}(t||this.locale)(e)){case bc.Zero:return"zero";case bc.One:return"one";case bc.Two:return"two";case bc.Few:return"few";case bc.Many:return"many";default:return"other"}},t}(Qc),Xc=function(){function e(e,t,n,i){this._iterableDiffers=e,this._keyValueDiffers=t,this._ngEl=n,this._renderer=i,this._initialClasses=[]}return Object.defineProperty(e.prototype,"klass",{set:function(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ngClass",{set:function(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&(vn(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())},enumerable:!0,configurable:!0}),e.prototype.ngDoCheck=function(){if(this._iterableDiffer){var e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){var t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}},e.prototype._applyKeyValueChanges=function(e){var t=this;e.forEachAddedItem(function(e){return t._toggleClass(e.key,e.currentValue)}),e.forEachChangedItem(function(e){return t._toggleClass(e.key,e.currentValue)}),e.forEachRemovedItem(function(e){e.previousValue&&t._toggleClass(e.key,!1)})},e.prototype._applyIterableChanges=function(e){var t=this;e.forEachAddedItem(function(e){if("string"!=typeof e.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got "+Ee(e.item));t._toggleClass(e.item,!0)}),e.forEachRemovedItem(function(e){return t._toggleClass(e.item,!1)})},e.prototype._applyClasses=function(e){var t=this;e&&(Array.isArray(e)||e instanceof Set?e.forEach(function(e){return t._toggleClass(e,!0)}):Object.keys(e).forEach(function(n){return t._toggleClass(n,!!e[n])}))},e.prototype._removeClasses=function(e){var t=this;e&&(Array.isArray(e)||e instanceof Set?e.forEach(function(e){return t._toggleClass(e,!1)}):Object.keys(e).forEach(function(e){return t._toggleClass(e,!1)}))},e.prototype._toggleClass=function(e,t){var n=this;(e=e.trim())&&e.split(/\s+/g).forEach(function(e){t?n._renderer.addClass(n._ngEl.nativeElement,e):n._renderer.removeClass(n._ngEl.nativeElement,e)})},e}(),Yc=function(){function e(e,t,n,i){this.$implicit=e,this.ngForOf=t,this.index=n,this.count=i}return Object.defineProperty(e.prototype,"first",{get:function(){return 0===this.index},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"last",{get:function(){return this.index===this.count-1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"even",{get:function(){return this.index%2==0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"odd",{get:function(){return!this.even},enumerable:!0,configurable:!0}),e}(),ep=function(){function e(e,t,n){this._viewContainer=e,this._template=t,this._differs=n,this._ngForOfDirty=!0,this._differ=null}return Object.defineProperty(e.prototype,"ngForOf",{set:function(e){this._ngForOf=e,this._ngForOfDirty=!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ngForTrackBy",{get:function(){return this._trackByFn},set:function(e){ll()&&null!=e&&"function"!=typeof e&&console&&console.warn&&console.warn("trackBy must be a function, but received "+JSON.stringify(e)+". See https://angular.io/docs/ts/latest/api/common/index/NgFor-directive.html#!#change-propagation for more information."),this._trackByFn=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ngForTemplate",{set:function(e){e&&(this._template=e)},enumerable:!0,configurable:!0}),e.prototype.ngDoCheck=function(){if(this._ngForOfDirty){this._ngForOfDirty=!1;var e=this._ngForOf;if(!this._differ&&e)try{this._differ=this._differs.find(e).create(this.ngForTrackBy)}catch(i){throw new Error("Cannot find a differ supporting object '"+e+"' of type '"+((t=e).name||typeof t)+"'. NgFor only supports binding to Iterables such as Arrays.")}}var t;if(this._differ){var n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}},e.prototype._applyChanges=function(e){var t=this,n=[];e.forEachOperation(function(e,i,l){if(null==e.previousIndex){var o=t._viewContainer.createEmbeddedView(t._template,new Yc(null,t._ngForOf,-1,-1),l),r=new tp(e,o);n.push(r)}else null==l?t._viewContainer.remove(i):(o=t._viewContainer.get(i),t._viewContainer.move(o,l),r=new tp(e,o),n.push(r))});for(var i=0;i<n.length;i++)this._perViewChange(n[i].view,n[i].record);i=0;for(var l=this._viewContainer.length;i<l;i++){var o=this._viewContainer.get(i);o.context.index=i,o.context.count=l,o.context.ngForOf=this._ngForOf}e.forEachIdentityChange(function(e){t._viewContainer.get(e.currentIndex).context.$implicit=e.item})},e.prototype._perViewChange=function(e,t){e.context.$implicit=t.item},e.ngTemplateContextGuard=function(e,t){return!0},e}(),tp=function(){return function(e,t){this.record=e,this.view=t}}(),np=function(){function e(e,t){this._viewContainer=e,this._context=new ip,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=t}return Object.defineProperty(e.prototype,"ngIf",{set:function(e){this._context.$implicit=this._context.ngIf=e,this._updateView()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ngIfThen",{set:function(e){lp("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ngIfElse",{set:function(e){lp("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()},enumerable:!0,configurable:!0}),e.prototype._updateView=function(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))},e.ngTemplateGuard_ngIf=function(e,t){return!0},e}(),ip=function(){return function(){this.$implicit=null,this.ngIf=null}}();function lp(e,t){if(t&&!t.createEmbeddedView)throw new Error(e+" must be a TemplateRef, but received '"+Ee(t)+"'.")}var op=function(){function e(e,t,n){this._differs=e,this._ngEl=t,this._renderer=n}return Object.defineProperty(e.prototype,"ngStyle",{set:function(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())},enumerable:!0,configurable:!0}),e.prototype.ngDoCheck=function(){if(this._differ){var e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}},e.prototype._applyChanges=function(e){var t=this;e.forEachRemovedItem(function(e){return t._setStyle(e.key,null)}),e.forEachAddedItem(function(e){return t._setStyle(e.key,e.currentValue)}),e.forEachChangedItem(function(e){return t._setStyle(e.key,e.currentValue)})},e.prototype._setStyle=function(e,t){var n=Object(i.__read)(e.split("."),2),l=n[0],o=n[1];null!=(t=null!=t&&o?""+t+o:t)?this._renderer.setStyle(this._ngEl.nativeElement,l,t):this._renderer.removeStyle(this._ngEl.nativeElement,l)},e}();function rp(e,t){return Error("InvalidPipeArgument: '"+t+"' for pipe '"+Ee(e)+"'")}var up=function(){function e(){}var t;return t=e,e.prototype.transform=function(e){if(!e)return e;if("string"!=typeof e)throw rp(t,e);return e.toUpperCase()},e}(),sp=function(){function e(e){this.locale=e}var t;return t=e,e.prototype.transform=function(e,n,l,o){if(void 0===n&&(n="mediumDate"),null==e||""===e||e!=e)return null;try{return function(e,t,n,l){var o=function(e){if(Jc(e))return e;if("number"==typeof e&&!isNaN(e))return new Date(e);if("string"==typeof e){e=e.trim();var t,n=parseFloat(e);if(!isNaN(e-n))return new Date(n);if(/^(\d{4}-\d{1,2}-\d{1,2})$/.test(e)){var l=Object(i.__read)(e.split("-").map(function(e){return+e}),3);return new Date(l[0],l[1]-1,l[2])}if(t=e.match(Bc))return function(e){var t=new Date(0),n=0,i=0,l=e[8]?t.setUTCFullYear:t.setFullYear,o=e[8]?t.setUTCHours:t.setHours;e[9]&&(n=Number(e[9]+e[10]),i=Number(e[9]+e[11])),l.call(t,Number(e[1]),Number(e[2])-1,Number(e[3]));var r=Number(e[4]||0)-n,u=Number(e[5]||0)-i,s=Number(e[6]||0),a=Math.round(1e3*parseFloat("0."+(e[7]||0)));return o.call(t,r,u,s,a),t}(t)}var o=new Date(e);if(!Jc(o))throw new Error('Unable to convert "'+e+'" into a date');return o}(e);t=function e(t,n){var i=function(e){return Ic(e)[0]}(t);if(Oc[i]=Oc[i]||{},Oc[i][n])return Oc[i][n];var l="";switch(n){case"shortDate":l=wc(t,Sc.Short);break;case"mediumDate":l=wc(t,Sc.Medium);break;case"longDate":l=wc(t,Sc.Long);break;case"fullDate":l=wc(t,Sc.Full);break;case"shortTime":l=xc(t,Sc.Short);break;case"mediumTime":l=xc(t,Sc.Medium);break;case"longTime":l=xc(t,Sc.Long);break;case"fullTime":l=xc(t,Sc.Full);break;case"short":var o=e(t,"shortTime"),r=e(t,"shortDate");l=Nc(Fc(t,Sc.Short),[o,r]);break;case"medium":var u=e(t,"mediumTime"),s=e(t,"mediumDate");l=Nc(Fc(t,Sc.Medium),[u,s]);break;case"long":var a=e(t,"longTime"),c=e(t,"longDate");l=Nc(Fc(t,Sc.Long),[a,c]);break;case"full":var p=e(t,"fullTime"),d=e(t,"fullDate");l=Nc(Fc(t,Sc.Full),[p,d])}return l&&(Oc[i][n]=l),l}(n,t)||t;for(var r,u=[];t;){if(!(r=Rc.exec(t))){u.push(t);break}var s=(u=u.concat(r.slice(1))).pop();if(!s)break;t=s}var a=o.getTimezoneOffset();l&&(a=Wc(l,a),o=function(e,t,n){var i=e.getTimezoneOffset();return function(e,t){return(e=new Date(e.getTime())).setMinutes(e.getMinutes()+t),e}(e,-1*(Wc(t,i)-i))}(o,l));var c="";return u.forEach(function(e){var t=function(e){if(qc[e])return qc[e];var t;switch(e){case"G":case"GG":case"GGG":t=$c(jc.Eras,Cc.Abbreviated);break;case"GGGG":t=$c(jc.Eras,Cc.Wide);break;case"GGGGG":t=$c(jc.Eras,Cc.Narrow);break;case"y":t=Vc(Pc.FullYear,1,0,!1,!0);break;case"yy":t=Vc(Pc.FullYear,2,0,!0,!0);break;case"yyy":t=Vc(Pc.FullYear,3,0,!1,!0);break;case"yyyy":t=Vc(Pc.FullYear,4,0,!1,!0);break;case"M":case"L":t=Vc(Pc.Month,1,1);break;case"MM":case"LL":t=Vc(Pc.Month,2,1);break;case"MMM":t=$c(jc.Months,Cc.Abbreviated);break;case"MMMM":t=$c(jc.Months,Cc.Wide);break;case"MMMMM":t=$c(jc.Months,Cc.Narrow);break;case"LLL":t=$c(jc.Months,Cc.Abbreviated,Dc.Standalone);break;case"LLLL":t=$c(jc.Months,Cc.Wide,Dc.Standalone);break;case"LLLLL":t=$c(jc.Months,Cc.Narrow,Dc.Standalone);break;case"w":t=Gc(1);break;case"ww":t=Gc(2);break;case"W":t=Gc(1,!0);break;case"d":t=Vc(Pc.Date,1);break;case"dd":t=Vc(Pc.Date,2);break;case"E":case"EE":case"EEE":t=$c(jc.Days,Cc.Abbreviated);break;case"EEEE":t=$c(jc.Days,Cc.Wide);break;case"EEEEE":t=$c(jc.Days,Cc.Narrow);break;case"EEEEEE":t=$c(jc.Days,Cc.Short);break;case"a":case"aa":case"aaa":t=$c(jc.DayPeriods,Cc.Abbreviated);break;case"aaaa":t=$c(jc.DayPeriods,Cc.Wide);break;case"aaaaa":t=$c(jc.DayPeriods,Cc.Narrow);break;case"b":case"bb":case"bbb":t=$c(jc.DayPeriods,Cc.Abbreviated,Dc.Standalone,!0);break;case"bbbb":t=$c(jc.DayPeriods,Cc.Wide,Dc.Standalone,!0);break;case"bbbbb":t=$c(jc.DayPeriods,Cc.Narrow,Dc.Standalone,!0);break;case"B":case"BB":case"BBB":t=$c(jc.DayPeriods,Cc.Abbreviated,Dc.Format,!0);break;case"BBBB":t=$c(jc.DayPeriods,Cc.Wide,Dc.Format,!0);break;case"BBBBB":t=$c(jc.DayPeriods,Cc.Narrow,Dc.Format,!0);break;case"h":t=Vc(Pc.Hours,1,-12);break;case"hh":t=Vc(Pc.Hours,2,-12);break;case"H":t=Vc(Pc.Hours,1);break;case"HH":t=Vc(Pc.Hours,2);break;case"m":t=Vc(Pc.Minutes,1);break;case"mm":t=Vc(Pc.Minutes,2);break;case"s":t=Vc(Pc.Seconds,1);break;case"ss":t=Vc(Pc.Seconds,2);break;case"S":t=Vc(Pc.FractionalSeconds,1);break;case"SS":t=Vc(Pc.FractionalSeconds,2);break;case"SSS":t=Vc(Pc.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=Uc(Mc.Short);break;case"ZZZZZ":t=Uc(Mc.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=Uc(Mc.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=Uc(Mc.Long);break;default:return null}return qc[e]=t,t}(e);c+=t?t(o,n,a):"''"===e?"'":e.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}(e,n,o||this.locale,l)}catch(r){throw rp(t,r.message)}},e}(),ap=function(){function e(){}return e.prototype.transform=function(e){return JSON.stringify(e,null,2)},e}(),cp=function(){function e(){}var t;return t=e,e.prototype.transform=function(e,n,i){if(null==e)return e;if(!this.supports(e))throw rp(t,e);return e.slice(n,i)},e.prototype.supports=function(e){return"string"==typeof e||Array.isArray(e)},e}(),pp=function(){return function(){}}(),dp=new me("DocumentToken"),hp="browser",fp="server",gp=new me("cdk-dir-doc",{providedIn:"root",factory:function(){return kt(dp)}}),mp=function(){function e(e){if(this.value="ltr",this.change=new kl,e){var t=(e.body?e.body.dir:null)||(e.documentElement?e.documentElement.dir:null);this.value="ltr"===t||"rtl"===t?t:"ltr"}}return e.prototype.ngOnDestroy=function(){this.change.complete()},e.ngInjectableDef=he({factory:function(){return new e(kt(gp,8))},token:e,providedIn:"root"}),e}(),vp=function(){return function(){}}();function yp(e){return Array.isArray(e)?e:[e]}function bp(e){return null==e?"":"string"==typeof e?e:e+"px"}function Dp(e,t,n,i){return r(n)&&(i=n,n=void 0),i?Dp(e,t,n).pipe(z(function(e){return l(e)?i.apply(void 0,e):i(e)})):new _(function(i){!function e(t,n,i,l,o){var r;if(function(e){return e&&"function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener}(t)){var u=t;t.addEventListener(n,i,o),r=function(){return u.removeEventListener(n,i,o)}}else if(function(e){return e&&"function"==typeof e.on&&"function"==typeof e.off}(t)){var s=t;t.on(n,i),r=function(){return s.off(n,i)}}else if(function(e){return e&&"function"==typeof e.addListener&&"function"==typeof e.removeListener}(t)){var a=t;t.addListener(n,i),r=function(){return a.removeListener(n,i)}}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(var c=0,p=t.length;c<p;c++)e(t[c],n,i,l,o)}l.add(r)}(e,t,function(e){i.next(arguments.length>1?Array.prototype.slice.call(arguments):e)},i,n)})}var Cp=function(e){function t(t,n){var i=e.call(this,t,n)||this;return i.scheduler=t,i.work=n,i.pending=!1,i}return i.__extends(t,e),t.prototype.schedule=function(e,t){if(void 0===t&&(t=0),this.closed)return this;this.state=e;var n=this.id,i=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(i,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(i,this.id,t),this},t.prototype.requestAsyncId=function(e,t,n){return void 0===n&&(n=0),setInterval(e.flush.bind(e,this),n)},t.prototype.recycleAsyncId=function(e,t,n){if(void 0===n&&(n=0),null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)},t.prototype.execute=function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var n=!1,i=void 0;try{this.work(e)}catch(l){n=!0,i=!!l&&l||new Error(l)}if(n)return this.unsubscribe(),i},t.prototype._unsubscribe=function(){var e=this.id,t=this.scheduler,n=t.actions,i=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==i&&n.splice(i,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null},t}(function(e){function t(t,n){return e.call(this)||this}return i.__extends(t,e),t.prototype.schedule=function(e,t){return void 0===t&&(t=0),this},t}(h)),Sp=function(){function e(t,n){void 0===n&&(n=e.now),this.SchedulerAction=t,this.now=n}return e.prototype.schedule=function(e,t,n){return void 0===t&&(t=0),new this.SchedulerAction(this,e).schedule(n,t)},e.now=function(){return Date.now()},e}(),_p=new(function(e){function t(n,i){void 0===i&&(i=Sp.now);var l=e.call(this,n,function(){return t.delegate&&t.delegate!==l?t.delegate.now():i()})||this;return l.actions=[],l.active=!1,l.scheduled=void 0,l}return i.__extends(t,e),t.prototype.schedule=function(n,i,l){return void 0===i&&(i=0),t.delegate&&t.delegate!==this?t.delegate.schedule(n,i,l):e.prototype.schedule.call(this,n,i,l)},t.prototype.flush=function(e){var t=this.actions;if(this.active)t.push(e);else{var n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}},t}(Sp))(Cp),wp=function(){function e(e){this.durationSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new xp(e,this.durationSelector))},e}(),xp=function(e){function t(t,n){var i=e.call(this,t)||this;return i.durationSelector=n,i.hasValue=!1,i}return i.__extends(t,e),t.prototype._next=function(e){if(this.value=e,this.hasValue=!0,!this.throttled){var t=c(this.durationSelector)(e);if(t===s)this.destination.error(s.e);else{var n=U(this,t);!n||n.closed?this.clearThrottle():this.add(this.throttled=n)}}},t.prototype.clearThrottle=function(){var e=this.value,t=this.hasValue,n=this.throttled;n&&(this.remove(n),this.throttled=null,n.unsubscribe()),t&&(this.value=null,this.hasValue=!1,this.destination.next(e))},t.prototype.notifyNext=function(e,t,n,i){this.clearThrottle()},t.prototype.notifyComplete=function(){this.clearThrottle()},t}(H);function Fp(e){return!l(e)&&e-parseFloat(e)+1>=0}function Ep(e){var t=e.index,n=e.period,i=e.subscriber;if(i.next(t),!i.closed){if(-1===n)return i.complete();e.index=t+1,this.schedule(e,n)}}function kp(e,t){return void 0===t&&(t=_p),n=function(){return function(e,t,n){void 0===e&&(e=0);var i=-1;return Fp(t)?i=Number(t)<1?1:Number(t):I(t)&&(n=t),I(n)||(n=_p),new _(function(t){var l=Fp(e)?e:+e-n.now();return n.schedule(Ep,l,{index:0,period:i,subscriber:t})})}(e,t)},function(e){return e.lift(new wp(n))};var n}var Ap=function(){function e(e){this.notifier=e}return e.prototype.call=function(e,t){var n=new Tp(e),i=U(n,this.notifier);return i&&!n.seenValue?(n.add(i),t.subscribe(n)):n},e}(),Tp=function(e){function t(t){var n=e.call(this,t)||this;return n.seenValue=!1,n}return i.__extends(t,e),t.prototype.notifyNext=function(e,t,n,i,l){this.seenValue=!0,this.complete()},t.prototype.notifyComplete=function(){},t}(H),Ip="undefined"!=typeof Intl&&Intl.v8BreakIterator,Bp=function(){function e(e){this._platformId=e,this.isBrowser=this._platformId?this._platformId===hp:"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Ip)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}return e.ngInjectableDef=he({factory:function(){return new e(kt(Jl,8))},token:e,providedIn:"root"}),e}(),Op=function(){return function(){}}(),Rp=function(){function e(e,t){this._ngZone=e,this._platform=t,this._scrolled=new A,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map}return e.prototype.register=function(e){var t=this;this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(function(){return t._scrolled.next(e)}))},e.prototype.deregister=function(e){var t=this.scrollContainers.get(e);t&&(t.unsubscribe(),this.scrollContainers.delete(e))},e.prototype.scrolled=function(e){var t=this;return void 0===e&&(e=20),this._platform.isBrowser?new _(function(n){t._globalSubscription||t._addGlobalListener();var i=e>0?t._scrolled.pipe(kp(e)).subscribe(n):t._scrolled.subscribe(n);return t._scrolledCount++,function(){i.unsubscribe(),t._scrolledCount--,t._scrolledCount||t._removeGlobalListener()}}):lc()},e.prototype.ngOnDestroy=function(){var e=this;this._removeGlobalListener(),this.scrollContainers.forEach(function(t,n){return e.deregister(n)}),this._scrolled.complete()},e.prototype.ancestorScrolled=function(e,t){var n=this.getAncestorScrollContainers(e);return this.scrolled(t).pipe(oc(function(e){return!e||n.indexOf(e)>-1}))},e.prototype.getAncestorScrollContainers=function(e){var t=this,n=[];return this.scrollContainers.forEach(function(i,l){t._scrollableContainsElement(l,e)&&n.push(l)}),n},e.prototype._scrollableContainsElement=function(e,t){var n=t.nativeElement,i=e.getElementRef().nativeElement;do{if(n==i)return!0}while(n=n.parentElement);return!1},e.prototype._addGlobalListener=function(){var e=this;this._globalSubscription=this._ngZone.runOutsideAngular(function(){return Dp(window.document,"scroll").subscribe(function(){return e._scrolled.next()})})},e.prototype._removeGlobalListener=function(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)},e.ngInjectableDef=he({factory:function(){return new e(kt(po),kt(Bp))},token:e,providedIn:"root"}),e}(),Mp=function(){return function(){}}(),Pp=function(){function e(e,t){var n=this;this._platform=e,t.runOutsideAngular(function(){n._change=e.isBrowser?Y(Dp(window,"resize"),Dp(window,"orientationchange")):lc(),n._invalidateCache=n.change().subscribe(function(){return n._updateViewportSize()})})}return e.prototype.ngOnDestroy=function(){this._invalidateCache.unsubscribe()},e.prototype.getViewportSize=function(){this._viewportSize||this._updateViewportSize();var e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e},e.prototype.getViewportRect=function(){var e=this.getViewportScrollPosition(),t=this.getViewportSize(),n=t.width,i=t.height;return{top:e.top,left:e.left,bottom:e.top+i,right:e.left+n,height:i,width:n}},e.prototype.getViewportScrollPosition=function(){if(!this._platform.isBrowser)return{top:0,left:0};var e=document.documentElement,t=e.getBoundingClientRect();return{top:-t.top||document.body.scrollTop||window.scrollY||e.scrollTop||0,left:-t.left||document.body.scrollLeft||window.scrollX||e.scrollLeft||0}},e.prototype.change=function(e){return void 0===e&&(e=20),e>0?this._change.pipe(kp(e)):this._change},e.prototype._updateViewportSize=function(){this._viewportSize=this._platform.isBrowser?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0}},e.ngInjectableDef=he({factory:function(){return new e(kt(Bp),kt(po))},token:e,providedIn:"root"}),e}(),jp=function(){function e(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}return e.prototype.attach=function(){},e.prototype.enable=function(){if(this._canBeEnabled()){var e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=bp(-this._previousScrollPosition.left),e.style.top=bp(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}},e.prototype.disable=function(){if(this._isEnabled){var e=this._document.documentElement,t=e.style,n=this._document.body.style,i=t.scrollBehavior||"",l=n.scrollBehavior||"";this._isEnabled=!1,t.left=this._previousHTMLStyles.left,t.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),t.scrollBehavior=n.scrollBehavior="auto",window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),t.scrollBehavior=i,n.scrollBehavior=l}},e.prototype._canBeEnabled=function(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;var e=this._document.body,t=this._viewportRuler.getViewportSize();return e.scrollHeight>t.height||e.scrollWidth>t.width},e}();function Np(){return Error("Scroll strategy has already been attached.")}var Lp=function(){function e(e,t,n,i){var l=this;this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=n,this._config=i,this._scrollSubscription=null,this._detach=function(){l.disable(),l._overlayRef.hasAttached()&&l._ngZone.run(function(){return l._overlayRef.detach()})}}return e.prototype.attach=function(e){if(this._overlayRef)throw Np();this._overlayRef=e},e.prototype.enable=function(){var e=this;if(!this._scrollSubscription){var t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(function(){var t=e._viewportRuler.getViewportScrollPosition().top;Math.abs(t-e._initialScrollPosition)>e._config.threshold?e._detach():e._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}},e.prototype.disable=function(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)},e}(),Vp=function(){function e(){}return e.prototype.enable=function(){},e.prototype.disable=function(){},e.prototype.attach=function(){},e}();function $p(e,t){return t.some(function(t){return e.bottom<t.top||e.top>t.bottom||e.right<t.left||e.left>t.right})}function Up(e,t){return t.some(function(t){return e.top<t.top||e.bottom>t.bottom||e.left<t.left||e.right>t.right})}var Hp=function(){function e(e,t,n,i){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=n,this._config=i,this._scrollSubscription=null}return e.prototype.attach=function(e){if(this._overlayRef)throw Np();this._overlayRef=e},e.prototype.enable=function(){var e=this;this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(function(){if(e._overlayRef.updatePosition(),e._config&&e._config.autoClose){var t=e._overlayRef.overlayElement.getBoundingClientRect(),n=e._viewportRuler.getViewportSize(),i=n.width,l=n.height;$p(t,[{width:i,height:l,bottom:l,right:i,top:0,left:0}])&&(e.disable(),e._ngZone.run(function(){return e._overlayRef.detach()}))}}))},e.prototype.disable=function(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)},e}(),zp=function(){function e(e,t,n,i){var l=this;this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=n,this.noop=function(){return new Vp},this.close=function(e){return new Lp(l._scrollDispatcher,l._ngZone,l._viewportRuler,e)},this.block=function(){return new jp(l._viewportRuler,l._document)},this.reposition=function(e){return new Hp(l._scrollDispatcher,l._viewportRuler,l._ngZone,e)},this._document=i}return e.ngInjectableDef=he({factory:function(){return new e(kt(Rp),kt(Pp),kt(po),kt(dp))},token:e,providedIn:"root"}),e}(),Gp=function(){return function(e){var t=this;this.scrollStrategy=new Vp,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e&&Object.keys(e).forEach(function(n){void 0!==e[n]&&(t[n]=e[n])})}}(),qp=function(){return function(e,t,n,i,l){this.offsetX=n,this.offsetY=i,this.panelClass=l,this.originX=e.originX,this.originY=e.originY,this.overlayX=t.overlayX,this.overlayY=t.overlayY}}(),Wp=function(){return function(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}();function Jp(e,t){if("top"!==t&&"bottom"!==t&&"center"!==t)throw Error("ConnectedPosition: Invalid "+e+' "'+t+'". Expected "top", "bottom" or "center".')}function Kp(e,t){if("start"!==t&&"end"!==t&&"center"!==t)throw Error("ConnectedPosition: Invalid "+e+' "'+t+'". Expected "start", "end" or "center".')}var Qp=function(){function e(e){var t=this;this._attachedOverlays=[],this._keydownListener=function(e){for(var n=t._attachedOverlays,i=n.length-1;i>-1;i--)if(n[i]._keydownEventSubscriptions>0){n[i]._keydownEvents.next(e);break}},this._document=e}return e.prototype.ngOnDestroy=function(){this._detach()},e.prototype.add=function(e){this.remove(e),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener,!0),this._isAttached=!0),this._attachedOverlays.push(e)},e.prototype.remove=function(e){var t=this._attachedOverlays.indexOf(e);t>-1&&this._attachedOverlays.splice(t,1),0===this._attachedOverlays.length&&this._detach()},e.prototype._detach=function(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener,!0),this._isAttached=!1)},e.ngInjectableDef=he({factory:function(){return new e(kt(dp))},token:e,providedIn:"root"}),e}(),Zp=function(){function e(e){this._document=e}return e.prototype.ngOnDestroy=function(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)},e.prototype.getContainerElement=function(){return this._containerElement||this._createContainer(),this._containerElement},e.prototype._createContainer=function(){var e=this._document.createElement("div");e.classList.add("cdk-overlay-container"),this._document.body.appendChild(e),this._containerElement=e},e.ngInjectableDef=he({factory:function(){return new e(kt(dp))},token:e,providedIn:"root"}),e}(),Xp=function(){function e(e,t,n,i,l,o,r,u){var s=this;this._portalOutlet=e,this._host=t,this._pane=n,this._config=i,this._ngZone=l,this._keyboardDispatcher=o,this._document=r,this._location=u,this._backdropElement=null,this._backdropClick=new A,this._attachments=new A,this._detachments=new A,this._locationChanges=h.EMPTY,this._keydownEventsObservable=new _(function(e){var t=s._keydownEvents.subscribe(e);return s._keydownEventSubscriptions++,function(){t.unsubscribe(),s._keydownEventSubscriptions--}}),this._keydownEvents=new A,this._keydownEventSubscriptions=0,i.scrollStrategy&&i.scrollStrategy.attach(this),this._positionStrategy=i.positionStrategy}return Object.defineProperty(e.prototype,"overlayElement",{get:function(){return this._pane},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"backdropElement",{get:function(){return this._backdropElement},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hostElement",{get:function(){return this._host},enumerable:!0,configurable:!0}),e.prototype.attach=function(e){var t=this,n=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._config.scrollStrategy&&this._config.scrollStrategy.enable(),this._ngZone.onStable.asObservable().pipe(cc(1)).subscribe(function(){t.hasAttached()&&t.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&this._location&&(this._locationChanges=this._location.subscribe(function(){return t.dispose()})),n},e.prototype.detach=function(){if(this.hasAttached()){this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._config.scrollStrategy&&this._config.scrollStrategy.disable();var e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),e}},e.prototype.dispose=function(){var e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._config.scrollStrategy&&this._config.scrollStrategy.disable(),this.detachBackdrop(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,e&&this._detachments.next(),this._detachments.complete()},e.prototype.hasAttached=function(){return this._portalOutlet.hasAttached()},e.prototype.backdropClick=function(){return this._backdropClick.asObservable()},e.prototype.attachments=function(){return this._attachments.asObservable()},e.prototype.detachments=function(){return this._detachments.asObservable()},e.prototype.keydownEvents=function(){return this._keydownEventsObservable},e.prototype.getConfig=function(){return this._config},e.prototype.updatePosition=function(){this._positionStrategy&&this._positionStrategy.apply()},e.prototype.updatePositionStrategy=function(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))},e.prototype.updateSize=function(e){this._config=Object(i.__assign)({},this._config,e),this._updateElementSize()},e.prototype.setDirection=function(e){this._config=Object(i.__assign)({},this._config,{direction:e}),this._updateElementDirection()},e.prototype.addPanelClass=function(e){this._pane&&this._toggleClasses(this._pane,e,!0)},e.prototype.removePanelClass=function(e){this._pane&&this._toggleClasses(this._pane,e,!1)},e.prototype.getDirection=function(){var e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"},e.prototype._updateElementDirection=function(){this._host.setAttribute("dir",this.getDirection())},e.prototype._updateElementSize=function(){var e=this._pane.style;e.width=bp(this._config.width),e.height=bp(this._config.height),e.minWidth=bp(this._config.minWidth),e.minHeight=bp(this._config.minHeight),e.maxWidth=bp(this._config.maxWidth),e.maxHeight=bp(this._config.maxHeight)},e.prototype._togglePointerEvents=function(e){this._pane.style.pointerEvents=e?"auto":"none"},e.prototype._attachBackdrop=function(){var e=this;this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",function(t){return e._backdropClick.next(t)}),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(function(){requestAnimationFrame(function(){e._backdropElement&&e._backdropElement.classList.add("cdk-overlay-backdrop-showing")})}):this._backdropElement.classList.add("cdk-overlay-backdrop-showing")},e.prototype._updateStackingOrder=function(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)},e.prototype.detachBackdrop=function(){var e=this,t=this._backdropElement;if(t){var n,i=function(){t&&t.parentNode&&t.parentNode.removeChild(t),e._backdropElement==t&&(e._backdropElement=null),e._config.backdropClass&&e._toggleClasses(t,e._config.backdropClass,!1),clearTimeout(n)};t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(function(){t.addEventListener("transitionend",i)}),t.style.pointerEvents="none",n=this._ngZone.runOutsideAngular(function(){return setTimeout(i,500)})}},e.prototype._toggleClasses=function(e,t,n){var i=e.classList;yp(t).forEach(function(e){n?i.add(e):i.remove(e)})},e.prototype._detachContentWhenStable=function(){var e=this;this._ngZone.runOutsideAngular(function(){var t,n=e._ngZone.onStable.asObservable().pipe((t=Y(e._attachments,e._detachments),function(e){return e.lift(new Ap(t))})).subscribe(function(){e._pane&&e._host&&0!==e._pane.children.length||(e._pane&&e._config.panelClass&&e._toggleClasses(e._pane,e._config.panelClass,!1),e._host&&e._host.parentElement&&(e._previousHostParent=e._host.parentElement,e._previousHostParent.removeChild(e._host)),n.unsubscribe())})})},e}(),Yp=function(){function e(e,t,n,i,l){var o=this;this._viewportRuler=t,this._document=n,this._platform=i,this._overlayContainer=l,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this.scrollables=[],this._preferredPositions=[],this._positionChanges=new A,this._resizeSubscription=h.EMPTY,this._offsetX=0,this._offsetY=0,this._positionChangeSubscriptions=0,this._appliedPanelClasses=[],this.positionChanges=new _(function(e){var t=o._positionChanges.subscribe(e);return o._positionChangeSubscriptions++,function(){t.unsubscribe(),o._positionChangeSubscriptions--}}),this.setOrigin(e)}return Object.defineProperty(e.prototype,"positions",{get:function(){return this._preferredPositions},enumerable:!0,configurable:!0}),e.prototype.attach=function(e){var t=this;if(this._overlayRef&&e!==this._overlayRef)throw Error("This position strategy is already attached to an overlay");this._validatePositions(),e.hostElement.classList.add("cdk-overlay-connected-position-bounding-box"),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(function(){t._isInitialRender=!0,t.apply()})},e.prototype.apply=function(){if(!(this._isDisposed||this._platform&&!this._platform.isBrowser))if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)this.reapplyLastPosition();else{this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();for(var e,t=this._originRect,n=this._overlayRect,i=this._viewportRect,l=[],o=0,r=this._preferredPositions;o<r.length;o++){var u=r[o],s=this._getOriginPoint(t,u),a=this._getOverlayPoint(s,n,u),c=this._getOverlayFit(a,n,i,u);if(c.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(u,s);this._canFitWithFlexibleDimensions(c,a,i)?l.push({position:u,origin:s,overlayRect:n,boundingBoxRect:this._calculateBoundingBoxRect(s,u)}):(!e||e.overlayFit.visibleArea<c.visibleArea)&&(e={overlayFit:c,overlayPoint:a,originPoint:s,position:u,overlayRect:n})}if(l.length){for(var p=null,d=-1,h=0,f=l;h<f.length;h++){var g=f[h],m=g.boundingBoxRect.width*g.boundingBoxRect.height*(g.position.weight||1);m>d&&(d=m,p=g)}return this._isPushed=!1,void this._applyPosition(p.position,p.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(e.position,e.originPoint);this._applyPosition(e.position,e.originPoint)}},e.prototype.detach=function(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()},e.prototype.dispose=function(){this._isDisposed||(this._boundingBox&&ed(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove("cdk-overlay-connected-position-bounding-box"),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)},e.prototype.reapplyLastPosition=function(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();var e=this._lastPosition||this._preferredPositions[0],t=this._getOriginPoint(this._originRect,e);this._applyPosition(e,t)}},e.prototype.withScrollableContainers=function(e){this.scrollables=e},e.prototype.withPositions=function(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this},e.prototype.withViewportMargin=function(e){return this._viewportMargin=e,this},e.prototype.withFlexibleDimensions=function(e){return void 0===e&&(e=!0),this._hasFlexibleDimensions=e,this},e.prototype.withGrowAfterOpen=function(e){return void 0===e&&(e=!0),this._growAfterOpen=e,this},e.prototype.withPush=function(e){return void 0===e&&(e=!0),this._canPush=e,this},e.prototype.withLockedPosition=function(e){return void 0===e&&(e=!0),this._positionLocked=e,this},e.prototype.setOrigin=function(e){return this._origin=e,this},e.prototype.withDefaultOffsetX=function(e){return this._offsetX=e,this},e.prototype.withDefaultOffsetY=function(e){return this._offsetY=e,this},e.prototype.withTransformOriginOn=function(e){return this._transformOriginSelector=e,this},e.prototype._getOriginPoint=function(e,t){var n;if("center"==t.originX)n=e.left+e.width/2;else{var i=this._isRtl()?e.right:e.left,l=this._isRtl()?e.left:e.right;n="start"==t.originX?i:l}return{x:n,y:"center"==t.originY?e.top+e.height/2:"top"==t.originY?e.top:e.bottom}},e.prototype._getOverlayPoint=function(e,t,n){var i;return i="center"==n.overlayX?-t.width/2:"start"===n.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,{x:e.x+i,y:e.y+("center"==n.overlayY?-t.height/2:"top"==n.overlayY?0:-t.height)}},e.prototype._getOverlayFit=function(e,t,n,i){var l=e.x,o=e.y,r=this._getOffset(i,"x"),u=this._getOffset(i,"y");r&&(l+=r),u&&(o+=u);var s=0-o,a=o+t.height-n.height,c=this._subtractOverflows(t.width,0-l,l+t.width-n.width),p=this._subtractOverflows(t.height,s,a),d=c*p;return{visibleArea:d,isCompletelyWithinViewport:t.width*t.height===d,fitsInViewportVertically:p===t.height,fitsInViewportHorizontally:c==t.width}},e.prototype._canFitWithFlexibleDimensions=function(e,t,n){if(this._hasFlexibleDimensions){var i=n.bottom-t.y,l=n.right-t.x,o=this._overlayRef.getConfig().minHeight,r=this._overlayRef.getConfig().minWidth;return(e.fitsInViewportVertically||null!=o&&o<=i)&&(e.fitsInViewportHorizontally||null!=r&&r<=l)}},e.prototype._pushOverlayOnScreen=function(e,t,n){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};var i,l,o=this._viewportRect,r=Math.max(e.x+t.width-o.right,0),u=Math.max(e.y+t.height-o.bottom,0),s=Math.max(o.top-n.top-e.y,0),a=Math.max(o.left-n.left-e.x,0);return this._previousPushAmount={x:i=t.width<=o.width?a||-r:e.x<this._viewportMargin?o.left-n.left-e.x:0,y:l=t.height<=o.height?s||-u:e.y<this._viewportMargin?o.top-n.top-e.y:0},{x:e.x+i,y:e.y+l}},e.prototype._applyPosition=function(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChangeSubscriptions>0){var n=this._getScrollVisibility(),i=new Wp(e,n);this._positionChanges.next(i)}this._isInitialRender=!1},e.prototype._setTransformOrigin=function(e){if(this._transformOriginSelector){var t,n=this._boundingBox.querySelectorAll(this._transformOriginSelector),i=e.overlayY;t="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(var l=0;l<n.length;l++)n[l].style.transformOrigin=t+" "+i}},e.prototype._calculateBoundingBoxRect=function(e,t){var n,i,l,o,r,u,s=this._viewportRect,a=this._isRtl();if("top"===t.overlayY)n=s.height-(i=e.y)+this._viewportMargin;else if("bottom"===t.overlayY)n=s.height-(l=s.height-e.y+2*this._viewportMargin)+this._viewportMargin;else{var c=Math.min(s.bottom-e.y+s.top,e.y),p=this._lastBoundingBoxSize.height;i=e.y-c,(n=2*c)>p&&!this._isInitialRender&&!this._growAfterOpen&&(i=e.y-p/2)}if("end"===t.overlayX&&!a||"start"===t.overlayX&&a)u=s.right-e.x+this._viewportMargin,o=e.x-s.left;else if("start"===t.overlayX&&!a||"end"===t.overlayX&&a)r=e.x,o=s.right-e.x;else{c=Math.min(s.right-e.x+s.left,e.x);var d=this._lastBoundingBoxSize.width;r=e.x-c,(o=2*c)>d&&!this._isInitialRender&&!this._growAfterOpen&&(r=e.x-d/2)}return{top:i,left:r,bottom:l,right:u,width:o,height:n}},e.prototype._setBoundingBoxStyles=function(e,t){var n=this._calculateBoundingBoxRect(e,t);this._isInitialRender||this._growAfterOpen||(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));var i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right="",i.width=i.height="100%";else{var l=this._overlayRef.getConfig().maxHeight,o=this._overlayRef.getConfig().maxWidth;i.height=bp(n.height),i.top=bp(n.top),i.bottom=bp(n.bottom),i.width=bp(n.width),i.left=bp(n.left),i.right=bp(n.right),i.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",i.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",l&&(i.maxHeight=bp(l)),o&&(i.maxWidth=bp(o))}this._lastBoundingBoxSize=n,ed(this._boundingBox.style,i)},e.prototype._resetBoundingBoxStyles=function(){ed(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})},e.prototype._resetOverlayElementStyles=function(){ed(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})},e.prototype._setOverlayElementStyles=function(e,t){var n={};if(this._hasExactPosition()){var i=this._viewportRuler.getViewportScrollPosition();ed(n,this._getExactOverlayY(t,e,i)),ed(n,this._getExactOverlayX(t,e,i))}else n.position="static";var l="",o=this._getOffset(t,"x"),r=this._getOffset(t,"y");o&&(l+="translateX("+o+"px) "),r&&(l+="translateY("+r+"px)"),n.transform=l.trim(),this._hasFlexibleDimensions&&this._overlayRef.getConfig().maxHeight&&(n.maxHeight=""),this._hasFlexibleDimensions&&this._overlayRef.getConfig().maxWidth&&(n.maxWidth=""),ed(this._pane.style,n)},e.prototype._getExactOverlayY=function(e,t,n){var i={top:null,bottom:null},l=this._getOverlayPoint(t,this._overlayRect,e);this._isPushed&&(l=this._pushOverlayOnScreen(l,this._overlayRect,n));var o=this._overlayContainer?this._overlayContainer.getContainerElement().getBoundingClientRect().top:0;return l.y-=o,"bottom"===e.overlayY?i.bottom=this._document.documentElement.clientHeight-(l.y+this._overlayRect.height)+"px":i.top=bp(l.y),i},e.prototype._getExactOverlayX=function(e,t,n){var i={left:null,right:null},l=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(l=this._pushOverlayOnScreen(l,this._overlayRect,n)),"right"==(this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left")?i.right=this._document.documentElement.clientWidth-(l.x+this._overlayRect.width)+"px":i.left=bp(l.x),i},e.prototype._getScrollVisibility=function(){var e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),n=this.scrollables.map(function(e){return e.getElementRef().nativeElement.getBoundingClientRect()});return{isOriginClipped:Up(e,n),isOriginOutsideView:$p(e,n),isOverlayClipped:Up(t,n),isOverlayOutsideView:$p(t,n)}},e.prototype._subtractOverflows=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce(function(e,t){return e-Math.max(t,0)},e)},e.prototype._getNarrowedViewportRect=function(){var e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+e-this._viewportMargin,bottom:n.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}},e.prototype._isRtl=function(){return"rtl"===this._overlayRef.getDirection()},e.prototype._hasExactPosition=function(){return!this._hasFlexibleDimensions||this._isPushed},e.prototype._getOffset=function(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY},e.prototype._validatePositions=function(){if(!this._preferredPositions.length)throw Error("FlexibleConnectedPositionStrategy: At least one position is required.");this._preferredPositions.forEach(function(e){Kp("originX",e.originX),Jp("originY",e.originY),Kp("overlayX",e.overlayX),Jp("overlayY",e.overlayY)})},e.prototype._addPanelClasses=function(e){var t=this;this._pane&&yp(e).forEach(function(e){-1===t._appliedPanelClasses.indexOf(e)&&(t._appliedPanelClasses.push(e),t._pane.classList.add(e))})},e.prototype._clearPanelClasses=function(){var e=this;this._pane&&(this._appliedPanelClasses.forEach(function(t){return e._pane.classList.remove(t)}),this._appliedPanelClasses=[])},e.prototype._getOriginRect=function(){var e=this._origin;return e instanceof Li?e.nativeElement.getBoundingClientRect():e instanceof HTMLElement?e.getBoundingClientRect():{top:e.y,bottom:e.y,left:e.x,right:e.x,height:0,width:0}},e}();function ed(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}var td=function(){function e(e,t,n,i,l,o){this._preferredPositions=[],this._positionStrategy=new Yp(n,i,l,o).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(e,t)}return Object.defineProperty(e.prototype,"_isRtl",{get:function(){return"rtl"===this._overlayRef.getDirection()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onPositionChange",{get:function(){return this._positionStrategy.positionChanges},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"positions",{get:function(){return this._preferredPositions},enumerable:!0,configurable:!0}),e.prototype.attach=function(e){this._overlayRef=e,this._positionStrategy.attach(e),this._direction&&(e.setDirection(this._direction),this._direction=null)},e.prototype.dispose=function(){this._positionStrategy.dispose()},e.prototype.detach=function(){this._positionStrategy.detach()},e.prototype.apply=function(){this._positionStrategy.apply()},e.prototype.recalculateLastPosition=function(){this._positionStrategy.reapplyLastPosition()},e.prototype.withScrollableContainers=function(e){this._positionStrategy.withScrollableContainers(e)},e.prototype.withFallbackPosition=function(e,t,n,i){var l=new qp(e,t,n,i);return this._preferredPositions.push(l),this._positionStrategy.withPositions(this._preferredPositions),this},e.prototype.withDirection=function(e){return this._overlayRef?this._overlayRef.setDirection(e):this._direction=e,this},e.prototype.withOffsetX=function(e){return this._positionStrategy.withDefaultOffsetX(e),this},e.prototype.withOffsetY=function(e){return this._positionStrategy.withDefaultOffsetY(e),this},e.prototype.withLockedPosition=function(e){return this._positionStrategy.withLockedPosition(e),this},e.prototype.withPositions=function(e){return this._preferredPositions=e.slice(),this._positionStrategy.withPositions(this._preferredPositions),this},e.prototype.setOrigin=function(e){return this._positionStrategy.setOrigin(e),this},e}(),nd=function(){function e(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}return e.prototype.attach=function(e){var t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add("cdk-global-overlay-wrapper"),this._isDisposed=!1},e.prototype.top=function(e){return void 0===e&&(e=""),this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this},e.prototype.left=function(e){return void 0===e&&(e=""),this._rightOffset="",this._leftOffset=e,this._justifyContent="flex-start",this},e.prototype.bottom=function(e){return void 0===e&&(e=""),this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this},e.prototype.right=function(e){return void 0===e&&(e=""),this._leftOffset="",this._rightOffset=e,this._justifyContent="flex-end",this},e.prototype.width=function(e){return void 0===e&&(e=""),this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this},e.prototype.height=function(e){return void 0===e&&(e=""),this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this},e.prototype.centerHorizontally=function(e){return void 0===e&&(e=""),this.left(e),this._justifyContent="center",this},e.prototype.centerVertically=function(e){return void 0===e&&(e=""),this.top(e),this._alignItems="center",this},e.prototype.apply=function(){if(this._overlayRef&&this._overlayRef.hasAttached()){var e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig();e.position=this._cssPosition,e.marginLeft="100%"===n.width?"0":this._leftOffset,e.marginTop="100%"===n.height?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=this._rightOffset,"100%"===n.width?t.justifyContent="flex-start":"center"===this._justifyContent?t.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?t.justifyContent="flex-end":"flex-end"===this._justifyContent&&(t.justifyContent="flex-start"):t.justifyContent=this._justifyContent,t.alignItems="100%"===n.height?"flex-start":this._alignItems}},e.prototype.dispose=function(){if(!this._isDisposed&&this._overlayRef){var e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,n=t.style;t.classList.remove("cdk-global-overlay-wrapper"),n.justifyContent=n.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}},e}(),id=function(){function e(e,t,n,i){this._viewportRuler=e,this._document=t,this._platform=n,this._overlayContainer=i}return e.prototype.global=function(){return new nd},e.prototype.connectedTo=function(e,t,n){return new td(t,n,e,this._viewportRuler,this._document)},e.prototype.flexibleConnectedTo=function(e){return new Yp(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)},e.ngInjectableDef=he({factory:function(){return new e(kt(Pp),kt(dp),kt(Bp,8),kt(Zp,8))},token:e,providedIn:"root"}),e}(),ld=0,od=function(){function e(e,t,n,i,l,o,r,u,s,a){this.scrollStrategies=e,this._overlayContainer=t,this._componentFactoryResolver=n,this._positionBuilder=i,this._keyboardDispatcher=l,this._injector=o,this._ngZone=r,this._document=u,this._directionality=s,this._location=a}return e.prototype.create=function(e){var t=this._createHostElement(),n=this._createPaneElement(t),i=this._createPortalOutlet(n),l=new Gp(e);return l.direction=l.direction||this._directionality.value,new Xp(i,t,n,l,this._ngZone,this._keyboardDispatcher,this._document,this._location)},e.prototype.position=function(){return this._positionBuilder},e.prototype._createPaneElement=function(e){var t=this._document.createElement("div");return t.id="cdk-overlay-"+ld++,t.classList.add("cdk-overlay-pane"),e.appendChild(t),t},e.prototype._createHostElement=function(){var e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e},e.prototype._createPortalOutlet=function(e){return this._appRef||(this._appRef=this._injector.get(Ao)),new Qa(e,this._componentFactoryResolver,this._appRef,this._injector)},e}(),rd=new me("cdk-connected-overlay-scroll-strategy");function ud(e){return function(){return e.scrollStrategies.reposition()}}var sd=function(){return function(){}}(),ad=function(){return function(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabel=null,this.autoFocus=!0,this.restoreFocus=!0,this.closeOnNavigation=!0}}();function cd(){throw Error("Attempting to attach dialog content after content is already attached")}var pd=function(e){function t(t,n,i,l,o){var r=e.call(this)||this;return r._elementRef=t,r._focusTrapFactory=n,r._changeDetectorRef=i,r._document=l,r._config=o,r._elementFocusedBeforeDialogWasOpened=null,r._state="enter",r._animationStateChanged=new kl,r._ariaLabelledBy=null,r}return Object(i.__extends)(t,e),t.prototype.attachComponentPortal=function(e){return this._portalOutlet.hasAttached()&&cd(),this._savePreviouslyFocusedElement(),this._portalOutlet.attachComponentPortal(e)},t.prototype.attachTemplatePortal=function(e){return this._portalOutlet.hasAttached()&&cd(),this._savePreviouslyFocusedElement(),this._portalOutlet.attachTemplatePortal(e)},t.prototype._trapFocus=function(){this._focusTrap||(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement)),this._config.autoFocus&&this._focusTrap.focusInitialElementWhenReady()},t.prototype._restoreFocus=function(){var e=this._elementFocusedBeforeDialogWasOpened;this._config.restoreFocus&&e&&"function"==typeof e.focus&&e.focus(),this._focusTrap&&this._focusTrap.destroy()},t.prototype._savePreviouslyFocusedElement=function(){var e=this;this._document&&(this._elementFocusedBeforeDialogWasOpened=this._document.activeElement,this._elementRef.nativeElement.focus&&Promise.resolve().then(function(){return e._elementRef.nativeElement.focus()}))},t.prototype._onAnimationDone=function(e){"enter"===e.toState?this._trapFocus():"exit"===e.toState&&this._restoreFocus(),this._animationStateChanged.emit(e)},t.prototype._onAnimationStart=function(e){this._animationStateChanged.emit(e)},t.prototype._startExitAnimation=function(){this._state="exit",this._changeDetectorRef.markForCheck()},t}(Ka),dd=0,hd=function(){function e(e,t,n,i){void 0===i&&(i="mat-dialog-"+dd++);var l=this;this._overlayRef=e,this._containerInstance=t,this.id=i,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new A,this._afterClosed=new A,this._beforeClosed=new A,t._id=i,t._animationStateChanged.pipe(oc(function(e){return"done"===e.phaseName&&"enter"===e.toState}),cc(1)).subscribe(function(){l._afterOpened.next(),l._afterOpened.complete()}),t._animationStateChanged.pipe(oc(function(e){return"done"===e.phaseName&&"exit"===e.toState}),cc(1)).subscribe(function(){return l._overlayRef.dispose()}),e.detachments().subscribe(function(){l._beforeClosed.next(l._result),l._beforeClosed.complete(),l._afterClosed.next(l._result),l._afterClosed.complete(),l.componentInstance=null,l._overlayRef.dispose()}),e.keydownEvents().pipe(oc(function(e){return e.keyCode===ec&&!l.disableClose})).subscribe(function(){return l.close()})}return e.prototype.close=function(e){var t=this;this._result=e,this._containerInstance._animationStateChanged.pipe(oc(function(e){return"start"===e.phaseName}),cc(1)).subscribe(function(){t._beforeClosed.next(e),t._beforeClosed.complete(),t._overlayRef.detachBackdrop()}),this._containerInstance._startExitAnimation()},e.prototype.afterOpened=function(){return this._afterOpened.asObservable()},e.prototype.afterClosed=function(){return this._afterClosed.asObservable()},e.prototype.beforeClosed=function(){return this._beforeClosed.asObservable()},e.prototype.backdropClick=function(){return this._overlayRef.backdropClick()},e.prototype.keydownEvents=function(){return this._overlayRef.keydownEvents()},e.prototype.updatePosition=function(e){var t=this._getPositionStrategy();return e&&(e.left||e.right)?e.left?t.left(e.left):t.right(e.right):t.centerHorizontally(),e&&(e.top||e.bottom)?e.top?t.top(e.top):t.bottom(e.bottom):t.centerVertically(),this._overlayRef.updatePosition(),this},e.prototype.updateSize=function(e,t){return void 0===e&&(e=""),void 0===t&&(t=""),this._getPositionStrategy().width(e).height(t),this._overlayRef.updatePosition(),this},e.prototype.addPanelClass=function(e){return this._overlayRef.addPanelClass(e),this},e.prototype.removePanelClass=function(e){return this._overlayRef.removePanelClass(e),this},e.prototype.afterOpen=function(){return this.afterOpened()},e.prototype.beforeClose=function(){return this.beforeClosed()},e.prototype._getPositionStrategy=function(){return this._overlayRef.getConfig().positionStrategy},e}(),fd=new me("MatDialogData"),gd=new me("mat-dialog-default-options"),md=new me("mat-dialog-scroll-strategy");function vd(e){return function(){return e.scrollStrategies.block()}}var yd=function(){function e(e,t,n,i,l,o,r){var u,s=this;this._overlay=e,this._injector=t,this._location=n,this._defaultOptions=i,this._parentDialog=o,this._overlayContainer=r,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new A,this._afterOpenedAtThisLevel=new A,this._ariaHiddenElements=new Map,this.afterAllClosed=(u=function(){return s.openDialogs.length?s._afterAllClosed:s._afterAllClosed.pipe(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){var n=e[e.length-1];I(n)?e.pop():n=null;var i=e.length;return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 1===e.length||2===e.length&&I(e[1])?J(e[0]):X(1)(lc.apply(void 0,e))}(1!==i||n?i>0?W(e,n):nc(n):ic(e[0]),t)}}(void 0))},new _(function(e){var t;try{t=u()}catch(n){return void e.error(n)}return(t?J(t):nc()).subscribe(e)})),this._scrollStrategy=l}return Object.defineProperty(e.prototype,"openDialogs",{get:function(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"afterOpened",{get:function(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"afterOpen",{get:function(){return this.afterOpened},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_afterAllClosed",{get:function(){var e=this._parentDialog;return e?e._afterAllClosed:this._afterAllClosedAtThisLevel},enumerable:!0,configurable:!0}),e.prototype.open=function(e,t){var n=this;if((t=function(e,t){return Object(i.__assign)({},t,e)}(t,this._defaultOptions||new ad)).id&&this.getDialogById(t.id))throw Error('Dialog with id "'+t.id+'" exists already. The dialog id must be unique.');var l=this._createOverlay(t),o=this._attachDialogContainer(l,t),r=this._attachDialogContent(e,o,l,t);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(r),r.afterClosed().subscribe(function(){return n._removeOpenDialog(r)}),this.afterOpened.next(r),r},e.prototype.closeAll=function(){this._closeDialogs(this.openDialogs)},e.prototype.getDialogById=function(e){return this.openDialogs.find(function(t){return t.id===e})},e.prototype.ngOnDestroy=function(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()},e.prototype._createOverlay=function(e){var t=this._getOverlayConfig(e);return this._overlay.create(t)},e.prototype._getOverlayConfig=function(e){var t=new Gp({positionStrategy:this._overlay.position().global(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(t.backdropClass=e.backdropClass),t},e.prototype._attachDialogContainer=function(e,t){var n=new Ya(t&&t.viewContainerRef&&t.viewContainerRef.injector||this._injector,new WeakMap([[ad,t]])),i=new Wa(pd,t.viewContainerRef,n);return e.attach(i).instance},e.prototype._attachDialogContent=function(e,t,n,i){var l=new hd(n,t,this._location,i.id);if(i.hasBackdrop&&n.backdropClick().subscribe(function(){l.disableClose||l.close()}),e instanceof Al)t.attachTemplatePortal(new Ja(e,null,{$implicit:i.data,dialogRef:l}));else{var o=this._createInjector(i,l,t),r=t.attachComponentPortal(new Wa(e,void 0,o));l.componentInstance=r.instance}return l.updateSize(i.width,i.height).updatePosition(i.position),l},e.prototype._createInjector=function(e,t,n){var i=e&&e.viewContainerRef&&e.viewContainerRef.injector,l=new WeakMap([[pd,n],[fd,e.data],[hd,t]]);return!e.direction||i&&i.get(mp,null)||l.set(mp,{value:e.direction,change:lc()}),new Ya(i||this._injector,l)},e.prototype._removeOpenDialog=function(e){var t=this.openDialogs.indexOf(e);t>-1&&(this.openDialogs.splice(t,1),this.openDialogs.length||(this._ariaHiddenElements.forEach(function(e,t){e?t.setAttribute("aria-hidden",e):t.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._afterAllClosed.next()))},e.prototype._hideNonDialogContentFromAssistiveTechnology=function(){var e=this._overlayContainer.getContainerElement();if(e.parentElement)for(var t=e.parentElement.children,n=t.length-1;n>-1;n--){var i=t[n];i===e||"SCRIPT"===i.nodeName||"STYLE"===i.nodeName||i.hasAttribute("aria-live")||(this._ariaHiddenElements.set(i,i.getAttribute("aria-hidden")),i.setAttribute("aria-hidden","true"))}},e.prototype._closeDialogs=function(e){for(var t=e.length;t--;)e[t].close()},e}(),bd=function(){function e(e,t,n){this.dialogRef=e,this._elementRef=t,this._dialog=n}return e.prototype.ngOnInit=function(){this.dialogRef||(this.dialogRef=function(e,t){for(var n=e.nativeElement.parentElement;n&&!n.classList.contains("mat-dialog-container");)n=n.parentElement;return n?t.find(function(e){return e.id===n.id}):null}(this._elementRef,this._dialog.openDialogs))},e.prototype.ngOnChanges=function(e){var t=e._matDialogClose||e._matDialogCloseResult;t&&(this.dialogResult=t.currentValue)},e}(),Dd=function(){return function(){}}(),Cd=null;function Sd(){return Cd}var _d,wd={class:"className",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"},xd={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Fd={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"};Ce.Node&&(_d=Ce.Node.prototype.contains||function(e){return!!(16&this.compareDocumentPosition(e))});var Ed,kd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.__extends)(t,e),t.prototype.parse=function(e){throw new Error("parse not implemented")},t.makeCurrent=function(){var e;e=new t,Cd||(Cd=e)},t.prototype.hasProperty=function(e,t){return t in e},t.prototype.setProperty=function(e,t,n){e[t]=n},t.prototype.getProperty=function(e,t){return e[t]},t.prototype.invoke=function(e,t,n){var l;(l=e)[t].apply(l,Object(i.__spread)(n))},t.prototype.logError=function(e){window.console&&(console.error?console.error(e):console.log(e))},t.prototype.log=function(e){window.console&&window.console.log&&window.console.log(e)},t.prototype.logGroup=function(e){window.console&&window.console.group&&window.console.group(e)},t.prototype.logGroupEnd=function(){window.console&&window.console.groupEnd&&window.console.groupEnd()},Object.defineProperty(t.prototype,"attrToPropMap",{get:function(){return wd},enumerable:!0,configurable:!0}),t.prototype.contains=function(e,t){return _d.call(e,t)},t.prototype.querySelector=function(e,t){return e.querySelector(t)},t.prototype.querySelectorAll=function(e,t){return e.querySelectorAll(t)},t.prototype.on=function(e,t,n){e.addEventListener(t,n,!1)},t.prototype.onAndCancel=function(e,t,n){return e.addEventListener(t,n,!1),function(){e.removeEventListener(t,n,!1)}},t.prototype.dispatchEvent=function(e,t){e.dispatchEvent(t)},t.prototype.createMouseEvent=function(e){var t=this.getDefaultDocument().createEvent("MouseEvent");return t.initEvent(e,!0,!0),t},t.prototype.createEvent=function(e){var t=this.getDefaultDocument().createEvent("Event");return t.initEvent(e,!0,!0),t},t.prototype.preventDefault=function(e){e.preventDefault(),e.returnValue=!1},t.prototype.isPrevented=function(e){return e.defaultPrevented||null!=e.returnValue&&!e.returnValue},t.prototype.getInnerHTML=function(e){return e.innerHTML},t.prototype.getTemplateContent=function(e){return"content"in e&&this.isTemplateElement(e)?e.content:null},t.prototype.getOuterHTML=function(e){return e.outerHTML},t.prototype.nodeName=function(e){return e.nodeName},t.prototype.nodeValue=function(e){return e.nodeValue},t.prototype.type=function(e){return e.type},t.prototype.content=function(e){return this.hasProperty(e,"content")?e.content:e},t.prototype.firstChild=function(e){return e.firstChild},t.prototype.nextSibling=function(e){return e.nextSibling},t.prototype.parentElement=function(e){return e.parentNode},t.prototype.childNodes=function(e){return e.childNodes},t.prototype.childNodesAsList=function(e){for(var t=e.childNodes,n=new Array(t.length),i=0;i<t.length;i++)n[i]=t[i];return n},t.prototype.clearNodes=function(e){for(;e.firstChild;)e.removeChild(e.firstChild)},t.prototype.appendChild=function(e,t){e.appendChild(t)},t.prototype.removeChild=function(e,t){e.removeChild(t)},t.prototype.replaceChild=function(e,t,n){e.replaceChild(t,n)},t.prototype.remove=function(e){return e.parentNode&&e.parentNode.removeChild(e),e},t.prototype.insertBefore=function(e,t,n){e.insertBefore(n,t)},t.prototype.insertAllBefore=function(e,t,n){n.forEach(function(n){return e.insertBefore(n,t)})},t.prototype.insertAfter=function(e,t,n){e.insertBefore(n,t.nextSibling)},t.prototype.setInnerHTML=function(e,t){e.innerHTML=t},t.prototype.getText=function(e){return e.textContent},t.prototype.setText=function(e,t){e.textContent=t},t.prototype.getValue=function(e){return e.value},t.prototype.setValue=function(e,t){e.value=t},t.prototype.getChecked=function(e){return e.checked},t.prototype.setChecked=function(e,t){e.checked=t},t.prototype.createComment=function(e){return this.getDefaultDocument().createComment(e)},t.prototype.createTemplate=function(e){var t=this.getDefaultDocument().createElement("template");return t.innerHTML=e,t},t.prototype.createElement=function(e,t){return(t=t||this.getDefaultDocument()).createElement(e)},t.prototype.createElementNS=function(e,t,n){return(n=n||this.getDefaultDocument()).createElementNS(e,t)},t.prototype.createTextNode=function(e,t){return(t=t||this.getDefaultDocument()).createTextNode(e)},t.prototype.createScriptTag=function(e,t,n){var i=(n=n||this.getDefaultDocument()).createElement("SCRIPT");return i.setAttribute(e,t),i},t.prototype.createStyleElement=function(e,t){var n=(t=t||this.getDefaultDocument()).createElement("style");return this.appendChild(n,this.createTextNode(e,t)),n},t.prototype.createShadowRoot=function(e){return e.createShadowRoot()},t.prototype.getShadowRoot=function(e){return e.shadowRoot},t.prototype.getHost=function(e){return e.host},t.prototype.clone=function(e){return e.cloneNode(!0)},t.prototype.getElementsByClassName=function(e,t){return e.getElementsByClassName(t)},t.prototype.getElementsByTagName=function(e,t){return e.getElementsByTagName(t)},t.prototype.classList=function(e){return Array.prototype.slice.call(e.classList,0)},t.prototype.addClass=function(e,t){e.classList.add(t)},t.prototype.removeClass=function(e,t){e.classList.remove(t)},t.prototype.hasClass=function(e,t){return e.classList.contains(t)},t.prototype.setStyle=function(e,t,n){e.style[t]=n},t.prototype.removeStyle=function(e,t){e.style[t]=""},t.prototype.getStyle=function(e,t){return e.style[t]},t.prototype.hasStyle=function(e,t,n){var i=this.getStyle(e,t)||"";return n?i==n:i.length>0},t.prototype.tagName=function(e){return e.tagName},t.prototype.attributeMap=function(e){for(var t=new Map,n=e.attributes,i=0;i<n.length;i++){var l=n.item(i);t.set(l.name,l.value)}return t},t.prototype.hasAttribute=function(e,t){return e.hasAttribute(t)},t.prototype.hasAttributeNS=function(e,t,n){return e.hasAttributeNS(t,n)},t.prototype.getAttribute=function(e,t){return e.getAttribute(t)},t.prototype.getAttributeNS=function(e,t,n){return e.getAttributeNS(t,n)},t.prototype.setAttribute=function(e,t,n){e.setAttribute(t,n)},t.prototype.setAttributeNS=function(e,t,n,i){e.setAttributeNS(t,n,i)},t.prototype.removeAttribute=function(e,t){e.removeAttribute(t)},t.prototype.removeAttributeNS=function(e,t,n){e.removeAttributeNS(t,n)},t.prototype.templateAwareRoot=function(e){return this.isTemplateElement(e)?this.content(e):e},t.prototype.createHtmlDocument=function(){return document.implementation.createHTMLDocument("fakeTitle")},t.prototype.getDefaultDocument=function(){return document},t.prototype.getBoundingClientRect=function(e){try{return e.getBoundingClientRect()}catch(t){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}},t.prototype.getTitle=function(e){return e.title},t.prototype.setTitle=function(e,t){e.title=t||""},t.prototype.elementMatches=function(e,t){return!!this.isElementNode(e)&&(e.matches&&e.matches(t)||e.msMatchesSelector&&e.msMatchesSelector(t)||e.webkitMatchesSelector&&e.webkitMatchesSelector(t))},t.prototype.isTemplateElement=function(e){return this.isElementNode(e)&&"TEMPLATE"===e.nodeName},t.prototype.isTextNode=function(e){return e.nodeType===Node.TEXT_NODE},t.prototype.isCommentNode=function(e){return e.nodeType===Node.COMMENT_NODE},t.prototype.isElementNode=function(e){return e.nodeType===Node.ELEMENT_NODE},t.prototype.hasShadowRoot=function(e){return null!=e.shadowRoot&&e instanceof HTMLElement},t.prototype.isShadowRoot=function(e){return e instanceof DocumentFragment},t.prototype.importIntoDoc=function(e){return document.importNode(this.templateAwareRoot(e),!0)},t.prototype.adoptNode=function(e){return document.adoptNode(e)},t.prototype.getHref=function(e){return e.getAttribute("href")},t.prototype.getEventKey=function(e){var t=e.key;if(null==t){if(null==(t=e.keyIdentifier))return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===e.location&&Fd.hasOwnProperty(t)&&(t=Fd[t]))}return xd[t]||t},t.prototype.getGlobalEventTarget=function(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null},t.prototype.getHistory=function(){return window.history},t.prototype.getLocation=function(){return window.location},t.prototype.getBaseHref=function(e){var t,n=Ad||(Ad=document.querySelector("base"))?Ad.getAttribute("href"):null;return null==n?null:(t=n,Ed||(Ed=document.createElement("a")),Ed.setAttribute("href",t),"/"===Ed.pathname.charAt(0)?Ed.pathname:"/"+Ed.pathname)},t.prototype.resetBaseElement=function(){Ad=null},t.prototype.getUserAgent=function(){return window.navigator.userAgent},t.prototype.setData=function(e,t,n){this.setAttribute(e,"data-"+t,n)},t.prototype.getData=function(e,t){return this.getAttribute(e,"data-"+t)},t.prototype.getComputedStyle=function(e){return getComputedStyle(e)},t.prototype.supportsWebAnimation=function(){return"function"==typeof Element.prototype.animate},t.prototype.performanceNow=function(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()},t.prototype.supportsCookies=function(){return!0},t.prototype.getCookie=function(e){return function(e,t){var n,l;t=encodeURIComponent(t);try{for(var o=Object(i.__values)(e.split(";")),r=o.next();!r.done;r=o.next()){var u=r.value,s=u.indexOf("="),a=Object(i.__read)(-1==s?[u,""]:[u.slice(0,s),u.slice(s+1)],2),c=a[1];if(a[0].trim()===t)return decodeURIComponent(c)}}catch(p){n={error:p}}finally{try{r&&!r.done&&(l=o.return)&&l.call(o)}finally{if(n)throw n.error}}return null}(document.cookie,e)},t.prototype.setCookie=function(e,t){document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)},t}(function(e){function t(){var t=e.call(this)||this;t._animationPrefix=null,t._transitionEnd=null;try{var n=t.createElement("div",document);if(null!=t.getStyle(n,"animationName"))t._animationPrefix="";else for(var i=["Webkit","Moz","O","ms"],l=0;l<i.length;l++)if(null!=t.getStyle(n,i[l]+"AnimationName")){t._animationPrefix="-"+i[l].toLowerCase()+"-";break}var o={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};Object.keys(o).forEach(function(e){null!=t.getStyle(n,e)&&(t._transitionEnd=o[e])})}catch(r){t._animationPrefix=null,t._transitionEnd=null}return t}return Object(i.__extends)(t,e),t.prototype.getDistributedNodes=function(e){return e.getDistributedNodes()},t.prototype.resolveAndSetHref=function(e,t,n){e.href=null==n?t:t+"/../"+n},t.prototype.supportsDOMEvents=function(){return!0},t.prototype.supportsNativeShadowDOM=function(){return"function"==typeof document.body.createShadowRoot},t.prototype.getAnimationPrefix=function(){return this._animationPrefix?this._animationPrefix:""},t.prototype.getTransitionEnd=function(){return this._transitionEnd?this._transitionEnd:""},t.prototype.supportsAnimation=function(){return null!=this._animationPrefix&&null!=this._transitionEnd},t}(function(){function e(){this.resourceLoaderType=null}return Object.defineProperty(e.prototype,"attrToPropMap",{get:function(){return this._attrToPropMap},set:function(e){this._attrToPropMap=e},enumerable:!0,configurable:!0}),e}())),Ad=null,Td=dp;function Id(){return!!window.history.pushState}var Bd=function(e){function t(t){var n=e.call(this)||this;return n._doc=t,n._init(),n}return Object(i.__extends)(t,e),t.prototype._init=function(){this.location=Sd().getLocation(),this._history=Sd().getHistory()},t.prototype.getBaseHrefFromDOM=function(){return Sd().getBaseHref(this._doc)},t.prototype.onPopState=function(e){Sd().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",e,!1)},t.prototype.onHashChange=function(e){Sd().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",e,!1)},Object.defineProperty(t.prototype,"pathname",{get:function(){return this.location.pathname},set:function(e){this.location.pathname=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"search",{get:function(){return this.location.search},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hash",{get:function(){return this.location.hash},enumerable:!0,configurable:!0}),t.prototype.pushState=function(e,t,n){Id()?this._history.pushState(e,t,n):this.location.hash=n},t.prototype.replaceState=function(e,t,n){Id()?this._history.replaceState(e,t,n):this.location.hash=n},t.prototype.forward=function(){this._history.forward()},t.prototype.back=function(){this._history.back()},Object(i.__decorate)([Object(i.__param)(0,Dt(Td)),Object(i.__metadata)("design:paramtypes",[Object])],t)}(hc),Od=new me("TRANSITION_ID"),Rd=[{provide:Ul,useFactory:function(e,t,n){return function(){n.get(Hl).donePromise.then(function(){var n=Sd();Array.prototype.slice.apply(n.querySelectorAll(t,"style[ng-transition]")).filter(function(t){return n.getAttribute(t,"ng-transition")===e}).forEach(function(e){return n.remove(e)})})}},deps:[Od,Td,ti],multi:!0}],Md=function(){function e(){}return e.init=function(){var t;t=new e,So=t},e.prototype.addToWindow=function(e){Ce.getAngularTestability=function(t,n){void 0===n&&(n=!0);var i=e.findTestabilityInTree(t,n);if(null==i)throw new Error("Could not find testability for element.");return i},Ce.getAllAngularTestabilities=function(){return e.getAllTestabilities()},Ce.getAllAngularRootElements=function(){return e.getAllRootElements()},Ce.frameworkStabilizers||(Ce.frameworkStabilizers=[]),Ce.frameworkStabilizers.push(function(e){var t=Ce.getAllAngularTestabilities(),n=t.length,i=!1,l=function(t){i=i||t,0==--n&&e(i)};t.forEach(function(e){e.whenStable(l)})})},e.prototype.findTestabilityInTree=function(e,t,n){if(null==t)return null;var i=e.getTestability(t);return null!=i?i:n?Sd().isShadowRoot(t)?this.findTestabilityInTree(e,Sd().getHost(t),!0):this.findTestabilityInTree(e,Sd().parentElement(t),!0):null},e}();function Pd(e,t){"undefined"!=typeof COMPILED&&COMPILED||((Ce.ng=Ce.ng||{})[e]=t)}var jd={ApplicationRef:Ao,NgZone:po};function Nd(e){return $o(e)}var Ld=new me("EventManagerPlugins"),Vd=function(){function e(e,t){var n=this;this._zone=t,this._eventNameToPlugin=new Map,e.forEach(function(e){return e.manager=n}),this._plugins=e.slice().reverse()}return e.prototype.addEventListener=function(e,t,n){return this._findPluginFor(t).addEventListener(e,t,n)},e.prototype.addGlobalEventListener=function(e,t,n){return this._findPluginFor(t).addGlobalEventListener(e,t,n)},e.prototype.getZone=function(){return this._zone},e.prototype._findPluginFor=function(e){var t=this._eventNameToPlugin.get(e);if(t)return t;for(var n=this._plugins,i=0;i<n.length;i++){var l=n[i];if(l.supports(e))return this._eventNameToPlugin.set(e,l),l}throw new Error("No event manager plugin found for event "+e)},e}(),$d=function(){function e(e){this._doc=e}return e.prototype.addGlobalEventListener=function(e,t,n){var i=Sd().getGlobalEventTarget(this._doc,e);if(!i)throw new Error("Unsupported event target "+i+" for event "+t);return this.addEventListener(i,t,n)},e}(),Ud=function(){function e(){this._stylesSet=new Set}return e.prototype.addStyles=function(e){var t=this,n=new Set;e.forEach(function(e){t._stylesSet.has(e)||(t._stylesSet.add(e),n.add(e))}),this.onStylesAdded(n)},e.prototype.onStylesAdded=function(e){},e.prototype.getAllStyles=function(){return Array.from(this._stylesSet)},e}(),Hd=function(e){function t(t){var n=e.call(this)||this;return n._doc=t,n._hostNodes=new Set,n._styleNodes=new Set,n._hostNodes.add(t.head),n}return Object(i.__extends)(t,e),t.prototype._addStylesToHost=function(e,t){var n=this;e.forEach(function(e){var i=n._doc.createElement("style");i.textContent=e,n._styleNodes.add(t.appendChild(i))})},t.prototype.addHost=function(e){this._addStylesToHost(this._stylesSet,e),this._hostNodes.add(e)},t.prototype.removeHost=function(e){this._hostNodes.delete(e)},t.prototype.onStylesAdded=function(e){var t=this;this._hostNodes.forEach(function(n){return t._addStylesToHost(e,n)})},t.prototype.ngOnDestroy=function(){this._styleNodes.forEach(function(e){return Sd().remove(e)})},t}(Ud),zd={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Gd=/%COMP%/g,qd="_nghost-%COMP%",Wd="_ngcontent-%COMP%";function Jd(e,t,n){for(var i=0;i<t.length;i++){var l=t[i];Array.isArray(l)?Jd(e,l,n):(l=l.replace(Gd,e),n.push(l))}return n}function Kd(e){return function(t){!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}var Qd=function(){function e(e,t,n){this.eventManager=e,this.sharedStylesHost=t,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new Zd(e)}return e.prototype.createRenderer=function(e,t){if(!e||!t)return this.defaultRenderer;switch(t.encapsulation){case Ie.Emulated:var n=this.rendererByCompId.get(t.id);return n||(n=new th(this.eventManager,this.sharedStylesHost,t,this.appId),this.rendererByCompId.set(t.id,n)),n.applyToHost(e),n;case Ie.Native:case Ie.ShadowDom:return new nh(this.eventManager,this.sharedStylesHost,e,t);default:if(!this.rendererByCompId.has(t.id)){var i=Jd(t.id,t.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(t.id,this.defaultRenderer)}return this.defaultRenderer}},e.prototype.begin=function(){},e.prototype.end=function(){},e}(),Zd=function(){function e(e){this.eventManager=e,this.data=Object.create(null)}return e.prototype.destroy=function(){},e.prototype.createElement=function(e,t){return t?document.createElementNS(zd[t],e):document.createElement(e)},e.prototype.createComment=function(e){return document.createComment(e)},e.prototype.createText=function(e){return document.createTextNode(e)},e.prototype.appendChild=function(e,t){e.appendChild(t)},e.prototype.insertBefore=function(e,t,n){e&&e.insertBefore(t,n)},e.prototype.removeChild=function(e,t){e&&e.removeChild(t)},e.prototype.selectRootElement=function(e,t){var n="string"==typeof e?document.querySelector(e):e;if(!n)throw new Error('The selector "'+e+'" did not match any elements');return t||(n.textContent=""),n},e.prototype.parentNode=function(e){return e.parentNode},e.prototype.nextSibling=function(e){return e.nextSibling},e.prototype.setAttribute=function(e,t,n,i){if(i){t=i+":"+t;var l=zd[i];l?e.setAttributeNS(l,t,n):e.setAttribute(t,n)}else e.setAttribute(t,n)},e.prototype.removeAttribute=function(e,t,n){if(n){var i=zd[n];i?e.removeAttributeNS(i,t):e.removeAttribute(n+":"+t)}else e.removeAttribute(t)},e.prototype.addClass=function(e,t){e.classList.add(t)},e.prototype.removeClass=function(e,t){e.classList.remove(t)},e.prototype.setStyle=function(e,t,n,i){i&Hi.DashCase?e.style.setProperty(t,n,i&Hi.Important?"important":""):e.style[t]=n},e.prototype.removeStyle=function(e,t,n){n&Hi.DashCase?e.style.removeProperty(t):e.style[t]=""},e.prototype.setProperty=function(e,t,n){Yd(t,"property"),e[t]=n},e.prototype.setValue=function(e,t){e.nodeValue=t},e.prototype.listen=function(e,t,n){return Yd(t,"listener"),"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Kd(n)):this.eventManager.addEventListener(e,t,Kd(n))},e}(),Xd="@".charCodeAt(0);function Yd(e,t){if(e.charCodeAt(0)===Xd)throw new Error("Found the synthetic "+t+" "+e+'. Please include either "BrowserAnimationsModule" or "NoopAnimationsModule" in your application.')}var eh,th=function(e){function t(t,n,i,l){var o=e.call(this,t)||this;o.component=i;var r=Jd(l+"-"+i.id,i.styles,[]);return n.addStyles(r),o.contentAttr=Wd.replace(Gd,l+"-"+i.id),o.hostAttr=qd.replace(Gd,l+"-"+i.id),o}return Object(i.__extends)(t,e),t.prototype.applyToHost=function(t){e.prototype.setAttribute.call(this,t,this.hostAttr,"")},t.prototype.createElement=function(t,n){var i=e.prototype.createElement.call(this,t,n);return e.prototype.setAttribute.call(this,i,this.contentAttr,""),i},t}(Zd),nh=function(e){function t(t,n,i,l){var o=e.call(this,t)||this;o.sharedStylesHost=n,o.hostEl=i,o.component=l,o.shadowRoot=l.encapsulation===Ie.ShadowDom?i.attachShadow({mode:"open"}):i.createShadowRoot(),o.sharedStylesHost.addHost(o.shadowRoot);for(var r=Jd(l.id,l.styles,[]),u=0;u<r.length;u++){var s=document.createElement("style");s.textContent=r[u],o.shadowRoot.appendChild(s)}return o}return Object(i.__extends)(t,e),t.prototype.nodeOrShadowRoot=function(e){return e===this.hostEl?this.shadowRoot:e},t.prototype.destroy=function(){this.sharedStylesHost.removeHost(this.shadowRoot)},t.prototype.appendChild=function(t,n){return e.prototype.appendChild.call(this,this.nodeOrShadowRoot(t),n)},t.prototype.insertBefore=function(t,n,i){return e.prototype.insertBefore.call(this,this.nodeOrShadowRoot(t),n,i)},t.prototype.removeChild=function(t,n){return e.prototype.removeChild.call(this,this.nodeOrShadowRoot(t),n)},t.prototype.parentNode=function(t){return this.nodeOrShadowRoot(e.prototype.parentNode.call(this,this.nodeOrShadowRoot(t)))},t}(Zd),ih="undefined"!=typeof Zone&&Zone.__symbol__||function(e){return"__zone_symbol__"+e},lh=ih("addEventListener"),oh=ih("removeEventListener"),rh={},uh="__zone_symbol__propagationStopped";"undefined"!=typeof Zone&&Zone[ih("BLACK_LISTED_EVENTS")]&&(eh={});var sh=function(e){return!!eh&&eh.hasOwnProperty(e)},ah=function(e){var t=rh[e.type];if(t){var n=this[t];if(n){var i=[e];if(1===n.length)return(r=n[0]).zone!==Zone.current?r.zone.run(r.handler,this,i):r.handler.apply(this,i);for(var l=n.slice(),o=0;o<l.length&&!0!==e[uh];o++){var r;(r=l[o]).zone!==Zone.current?r.zone.run(r.handler,this,i):r.handler.apply(this,i)}}}},ch=function(e){function t(t,n,i){var l=e.call(this,t)||this;return l.ngZone=n,i&&function(e){return e===fp}(i)||l.patchEvent(),l}return Object(i.__extends)(t,e),t.prototype.patchEvent=function(){if("undefined"!=typeof Event&&Event&&Event.prototype&&!Event.prototype.__zone_symbol__stopImmediatePropagation){var e=Event.prototype.__zone_symbol__stopImmediatePropagation=Event.prototype.stopImmediatePropagation;Event.prototype.stopImmediatePropagation=function(){this&&(this[uh]=!0),e&&e.apply(this,arguments)}}},t.prototype.supports=function(e){return!0},t.prototype.addEventListener=function(e,t,n){var i=this,l=n;if(!e[lh]||po.isInAngularZone()&&!sh(t))e.addEventListener(t,l,!1);else{var o=rh[t];o||(o=rh[t]=ih("ANGULAR"+t+"FALSE"));var r=e[o],u=r&&r.length>0;r||(r=e[o]=[]);var s=sh(t)?Zone.root:Zone.current;if(0===r.length)r.push({zone:s,handler:l});else{for(var a=!1,c=0;c<r.length;c++)if(r[c].handler===l){a=!0;break}a||r.push({zone:s,handler:l})}u||e[lh](t,ah,!1)}return function(){return i.removeEventListener(e,t,l)}},t.prototype.removeEventListener=function(e,t,n){var i=e[oh];if(!i)return e.removeEventListener.apply(e,[t,n,!1]);var l=rh[t],o=l&&e[l];if(!o)return e.removeEventListener.apply(e,[t,n,!1]);for(var r=!1,u=0;u<o.length;u++)if(o[u].handler===n){r=!0,o.splice(u,1);break}r?0===o.length&&i.apply(e,[t,ah,!1]):e.removeEventListener.apply(e,[t,n,!1])},t}($d),ph={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0},dh=new me("HammerGestureConfig"),hh=new me("HammerLoader"),fh=function(){function e(){this.events=[],this.overrides={}}return e.prototype.buildHammer=function(e){var t=new Hammer(e,this.options);for(var n in t.get("pinch").set({enable:!0}),t.get("rotate").set({enable:!0}),this.overrides)t.get(n).set(this.overrides[n]);return t},e}(),gh=function(e){function t(t,n,i,l){var o=e.call(this,t)||this;return o._config=n,o.console=i,o.loader=l,o}return Object(i.__extends)(t,e),t.prototype.supports=function(e){return!(!ph.hasOwnProperty(e.toLowerCase())&&!this.isCustomEvent(e)||!window.Hammer&&!this.loader&&(this.console.warn('The "'+e+'" event cannot be bound because Hammer.JS is not loaded and no custom loader has been specified.'),1))},t.prototype.addEventListener=function(e,t,n){var i=this,l=this.manager.getZone();if(t=t.toLowerCase(),!window.Hammer&&this.loader){var o=!1,r=function(){o=!0};return this.loader().then(function(){if(!window.Hammer)return i.console.warn("The custom HAMMER_LOADER completed, but Hammer.JS is not present."),void(r=function(){});o||(r=i.addEventListener(e,t,n))}).catch(function(){i.console.warn('The "'+t+'" event cannot be bound because the custom Hammer.JS loader failed.'),r=function(){}}),function(){r()}}return l.runOutsideAngular(function(){var o=i._config.buildHammer(e),r=function(e){l.runGuarded(function(){n(e)})};return o.on(t,r),function(){o.off(t,r),"function"==typeof o.destroy&&o.destroy()}})},t.prototype.isCustomEvent=function(e){return this._config.events.indexOf(e)>-1},t}($d),mh=["alt","control","meta","shift"],vh={alt:function(e){return e.altKey},control:function(e){return e.ctrlKey},meta:function(e){return e.metaKey},shift:function(e){return e.shiftKey}},yh=function(e){function t(t){return e.call(this,t)||this}var n;return Object(i.__extends)(t,e),n=t,t.prototype.supports=function(e){return null!=n.parseEventName(e)},t.prototype.addEventListener=function(e,t,i){var l=n.parseEventName(t),o=n.eventCallback(l.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(function(){return Sd().onAndCancel(e,l.domEventName,o)})},t.parseEventName=function(e){var t=e.toLowerCase().split("."),i=t.shift();if(0===t.length||"keydown"!==i&&"keyup"!==i)return null;var l=n._normalizeKey(t.pop()),o="";if(mh.forEach(function(e){var n=t.indexOf(e);n>-1&&(t.splice(n,1),o+=e+".")}),o+=l,0!=t.length||0===l.length)return null;var r={};return r.domEventName=i,r.fullKey=o,r},t.getEventFullKey=function(e){var t="",n=Sd().getEventKey(e);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),mh.forEach(function(i){i!=n&&(0,vh[i])(e)&&(t+=i+".")}),t+=n},t.eventCallback=function(e,t,i){return function(l){n.getEventFullKey(l)===e&&i.runGuarded(function(){return t(l)})}},t._normalizeKey=function(e){switch(e){case"esc":return"escape";default:return e}},t}($d),bh=function(){return function(){}}(),Dh=function(e){function t(t){var n=e.call(this)||this;return n._doc=t,n}return Object(i.__extends)(t,e),t.prototype.sanitize=function(e,t){if(null==t)return null;switch(e){case qi.NONE:return t;case qi.HTML:return t instanceof Sh?t.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(t,"HTML"),function(e,t){var n=null;try{pl=pl||new ol(e);var i=t?String(t):"";n=pl.getInertBodyElement(i);var l=5,o=i;do{if(0===l)throw new Error("Failed to sanitize html because the input is unstable");l--,i=o,o=n.innerHTML,n=pl.getInertBodyElement(i)}while(i!==o);var r=new Cl,u=r.sanitizeChildren(xl(n)||n);return ll()&&r.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),u}finally{if(n)for(var s=xl(n)||n;s.firstChild;)s.removeChild(s.firstChild)}}(this._doc,String(t)));case qi.STYLE:return t instanceof _h?t.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(t,"Style"),function(e){if(!(e=String(e).trim()))return"";var t=e.match(Bl);return t&&sl(t[1])===t[1]||e.match(Il)&&function(e){for(var t=!0,n=!0,i=0;i<e.length;i++){var l=e.charAt(i);"'"===l&&n?t=!t:'"'===l&&t&&(n=!n)}return t&&n}(e)?e:(ll()&&console.warn("WARNING: sanitizing unsafe style value "+e+" (see http://g.co/ng/security#xss)."),"unsafe")}(t));case qi.SCRIPT:if(t instanceof wh)return t.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(t,"Script"),new Error("unsafe value used in a script context");case qi.URL:return t instanceof Fh||t instanceof xh?t.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(t,"URL"),sl(String(t)));case qi.RESOURCE_URL:if(t instanceof Fh)return t.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(t,"ResourceURL"),new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error("Unexpected SecurityContext "+e+" (see http://g.co/ng/security#xss)")}},t.prototype.checkNotSafeValue=function(e,t){if(e instanceof Ch)throw new Error("Required a safe "+t+", got a "+e.getTypeName()+" (see http://g.co/ng/security#xss)")},t.prototype.bypassSecurityTrustHtml=function(e){return new Sh(e)},t.prototype.bypassSecurityTrustStyle=function(e){return new _h(e)},t.prototype.bypassSecurityTrustScript=function(e){return new wh(e)},t.prototype.bypassSecurityTrustUrl=function(e){return new xh(e)},t.prototype.bypassSecurityTrustResourceUrl=function(e){return new Fh(e)},t}(bh),Ch=function(){function e(e){this.changingThisBreaksApplicationSecurity=e}return e.prototype.toString=function(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"},e}(),Sh=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.__extends)(t,e),t.prototype.getTypeName=function(){return"HTML"},t}(Ch),_h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.__extends)(t,e),t.prototype.getTypeName=function(){return"Style"},t}(Ch),wh=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.__extends)(t,e),t.prototype.getTypeName=function(){return"Script"},t}(Ch),xh=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.__extends)(t,e),t.prototype.getTypeName=function(){return"URL"},t}(Ch),Fh=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.__extends)(t,e),t.prototype.getTypeName=function(){return"ResourceURL"},t}(Ch),Eh=xo(lr,"browser",[{provide:Jl,useValue:hp},{provide:Wl,useValue:function(){kd.makeCurrent(),Md.init()},multi:!0},{provide:hc,useClass:Bd,deps:[Td]},{provide:Td,useFactory:function(){return document},deps:[]}]);function kh(){return new Ll}var Ah=function(){function e(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}var t;return t=e,e.withServerTransition=function(e){return{ngModule:t,providers:[{provide:zl,useValue:e.appId},{provide:Od,useExisting:zl},Rd]}},e}();"undefined"!=typeof window&&window;var Th=function(){function e(e){this._platform=e}return e.prototype.isDisabled=function(e){return e.hasAttribute("disabled")},e.prototype.isVisible=function(e){return function(e){return!!(e.offsetWidth||e.offsetHeight||"function"==typeof e.getClientRects&&e.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility},e.prototype.isTabbable=function(e){if(!this._platform.isBrowser)return!1;var t,n=function(e){try{return e.frameElement}catch(t){return null}}((t=e).ownerDocument&&t.ownerDocument.defaultView||window);if(n){var i=n&&n.nodeName.toLowerCase();if(-1===Bh(n))return!1;if((this._platform.BLINK||this._platform.WEBKIT)&&"object"===i)return!1;if((this._platform.BLINK||this._platform.WEBKIT)&&!this.isVisible(n))return!1}var l=e.nodeName.toLowerCase(),o=Bh(e);if(e.hasAttribute("contenteditable"))return-1!==o;if("iframe"===l)return!1;if("audio"===l){if(!e.hasAttribute("controls"))return!1;if(this._platform.BLINK)return!0}if("video"===l){if(!e.hasAttribute("controls")&&this._platform.TRIDENT)return!1;if(this._platform.BLINK||this._platform.FIREFOX)return!0}return("object"!==l||!this._platform.BLINK&&!this._platform.WEBKIT)&&!(this._platform.WEBKIT&&this._platform.IOS&&!function(e){var t=e.nodeName.toLowerCase(),n="input"===t&&e.type;return"text"===n||"password"===n||"select"===t||"textarea"===t}(e))&&e.tabIndex>=0},e.prototype.isFocusable=function(e){return function(e){return!function(e){return function(e){return"input"==e.nodeName.toLowerCase()}(e)&&"hidden"==e.type}(e)&&(function(e){var t=e.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(e)||function(e){return function(e){return"a"==e.nodeName.toLowerCase()}(e)&&e.hasAttribute("href")}(e)||e.hasAttribute("contenteditable")||Ih(e))}(e)&&!this.isDisabled(e)&&this.isVisible(e)},e.ngInjectableDef=he({factory:function(){return new e(kt(Bp))},token:e,providedIn:"root"}),e}();function Ih(e){if(!e.hasAttribute("tabindex")||void 0===e.tabIndex)return!1;var t=e.getAttribute("tabindex");return"-32768"!=t&&!(!t||isNaN(parseInt(t,10)))}function Bh(e){if(!Ih(e))return null;var t=parseInt(e.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}var Oh=function(){function e(e,t,n,i,l){void 0===l&&(l=!1);var o=this;this._element=e,this._checker=t,this._ngZone=n,this._document=i,this._hasAttached=!1,this._startAnchorListener=function(){return o.focusLastTabbableElement()},this._endAnchorListener=function(){return o.focusFirstTabbableElement()},this._enabled=!0,l||this.attachAnchors()}return Object.defineProperty(e.prototype,"enabled",{get:function(){return this._enabled},set:function(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){var e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this._startAnchorListener),e.parentNode&&e.parentNode.removeChild(e)),t&&(t.removeEventListener("focus",this._endAnchorListener),t.parentNode&&t.parentNode.removeChild(t)),this._startAnchor=this._endAnchor=null},e.prototype.attachAnchors=function(){var e=this;return!!this._hasAttached||(this._ngZone.runOutsideAngular(function(){e._startAnchor||(e._startAnchor=e._createAnchor(),e._startAnchor.addEventListener("focus",e._startAnchorListener)),e._endAnchor||(e._endAnchor=e._createAnchor(),e._endAnchor.addEventListener("focus",e._endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)},e.prototype.focusInitialElementWhenReady=function(){var e=this;return new Promise(function(t){e._executeOnStable(function(){return t(e.focusInitialElement())})})},e.prototype.focusFirstTabbableElementWhenReady=function(){var e=this;return new Promise(function(t){e._executeOnStable(function(){return t(e.focusFirstTabbableElement())})})},e.prototype.focusLastTabbableElementWhenReady=function(){var e=this;return new Promise(function(t){e._executeOnStable(function(){return t(e.focusLastTabbableElement())})})},e.prototype._getRegionBoundary=function(e){for(var t=this._element.querySelectorAll("[cdk-focus-region-"+e+"], [cdkFocusRegion"+e+"], [cdk-focus-"+e+"]"),n=0;n<t.length;n++)t[n].hasAttribute("cdk-focus-"+e)?console.warn("Found use of deprecated attribute 'cdk-focus-"+e+"', use 'cdkFocusRegion"+e+"' instead. The deprecated attribute will be removed in 8.0.0.",t[n]):t[n].hasAttribute("cdk-focus-region-"+e)&&console.warn("Found use of deprecated attribute 'cdk-focus-region-"+e+"', use 'cdkFocusRegion"+e+"' instead. The deprecated attribute will be removed in 8.0.0.",t[n]);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)},e.prototype.focusInitialElement=function(){var e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");return e?(e.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",e),ll()&&!this._checker.isFocusable(e)&&console.warn("Element matching '[cdkFocusInitial]' is not focusable.",e),e.focus(),!0):this.focusFirstTabbableElement()},e.prototype.focusFirstTabbableElement=function(){var e=this._getRegionBoundary("start");return e&&e.focus(),!!e},e.prototype.focusLastTabbableElement=function(){var e=this._getRegionBoundary("end");return e&&e.focus(),!!e},e.prototype.hasAttached=function(){return this._hasAttached},e.prototype._getFirstTabbableElement=function(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;for(var t=e.children||e.childNodes,n=0;n<t.length;n++){var i=t[n].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[n]):null;if(i)return i}return null},e.prototype._getLastTabbableElement=function(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;for(var t=e.children||e.childNodes,n=t.length-1;n>=0;n--){var i=t[n].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[n]):null;if(i)return i}return null},e.prototype._createAnchor=function(){var e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e},e.prototype._toggleAnchorTabIndex=function(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")},e.prototype._executeOnStable=function(e){this._ngZone.isStable?e():this._ngZone.onStable.asObservable().pipe(cc(1)).subscribe(e)},e}(),Rh=function(){function e(e,t,n){this._checker=e,this._ngZone=t,this._document=n}return e.prototype.create=function(e,t){return void 0===t&&(t=!1),new Oh(e,this._checker,this._ngZone,this._document,t)},e.ngInjectableDef=he({factory:function(){return new e(kt(Th),kt(po),kt(dp))},token:e,providedIn:"root"}),e}(),Mh=new me("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}}),Ph=function(){function e(e,t){this._sanityChecksEnabled=e,this._hammerLoader=t,this._hasDoneGlobalChecks=!1,this._hasCheckedHammer=!1,this._document="object"==typeof document&&document?document:null,this._window="object"==typeof window&&window?window:null,this._areChecksEnabled()&&!this._hasDoneGlobalChecks&&(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._hasDoneGlobalChecks=!0)}return e.prototype._areChecksEnabled=function(){return this._sanityChecksEnabled&&ll()&&!this._isTestEnv()},e.prototype._isTestEnv=function(){var e=this._window;return e&&(e.__karma__||e.jasmine)},e.prototype._checkDoctypeIsDefined=function(){this._document&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")},e.prototype._checkThemeIsPresent=function(){if(this._document&&this._document.body&&"function"==typeof getComputedStyle){var e=this._document.createElement("div");e.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(e);var t=getComputedStyle(e);t&&"none"!==t.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(e)}},e.prototype._checkHammerIsAvailable=function(){!this._hasCheckedHammer&&this._window&&(!this._areChecksEnabled()||this._window.Hammer||this._hammerLoader||console.warn("Could not find HammerJS. Certain Angular Material components may not work correctly."),this._hasCheckedHammer=!0)},e}(),jh=Er({encapsulation:2,styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}@media (-ms-high-contrast:active){.mat-dialog-container{outline:solid 1px}}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button+.mat-button,.mat-dialog-actions .mat-button+.mat-raised-button,.mat-dialog-actions .mat-raised-button+.mat-button,.mat-dialog-actions .mat-raised-button+.mat-raised-button{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button+.mat-button,[dir=rtl] .mat-dialog-actions .mat-button+.mat-raised-button,[dir=rtl] .mat-dialog-actions .mat-raised-button+.mat-button,[dir=rtl] .mat-dialog-actions .mat-raised-button+.mat-raised-button{margin-left:0;margin-right:8px}"],data:{animation:[{type:7,name:"dialogContainer",definitions:[{type:0,name:"void, exit",styles:{type:6,styles:{opacity:0,transform:"scale(0.7)"},offset:null},options:void 0},{type:0,name:"enter",styles:{type:6,styles:{transform:"none"},offset:null},options:void 0},{type:1,expr:"* => enter",animation:{type:4,styles:{type:6,styles:{transform:"none",opacity:1},offset:null},timings:"150ms cubic-bezier(0, 0, 0.2, 1)"},options:null},{type:1,expr:"* => void, * => exit",animation:{type:4,styles:{type:6,styles:{opacity:0},offset:null},timings:"75ms cubic-bezier(0.4, 0.0, 0.2, 1)"},options:null}],options:{}}]}});function Nh(e){return Cs(0,[(e()(),iu(0,null,null,0))],null,null)}function Lh(e){return Cs(0,[as(402653184,1,{_portalOutlet:0}),(e()(),iu(16777216,null,null,1,null,Nh)),qu(2,212992,[[1,4]],0,Za,[Oi,Oo],{portal:[0,"portal"]},null)],function(e,t){e(t,2,0,"")},null)}function Vh(e){return Cs(0,[(e()(),lu(0,0,null,null,1,"mat-dialog-container",[["aria-modal","true"],["class","mat-dialog-container"],["tabindex","-1"]],[[1,"id",0],[1,"role",0],[1,"aria-labelledby",0],[1,"aria-label",0],[1,"aria-describedby",0],[40,"@dialogContainer",0]],[["component","@dialogContainer.start"],["component","@dialogContainer.done"]],function(e,t,n){var i=!0;return"component:@dialogContainer.start"===t&&(i=!1!==Ou(e,1)._onAnimationStart(n)&&i),"component:@dialogContainer.done"===t&&(i=!1!==Ou(e,1)._onAnimationDone(n)&&i),i},Lh,jh)),qu(1,49152,null,0,pd,[Li,Rh,Mo,[2,dp],ad],null,null)],null,function(e,t){e(t,0,0,Ou(t,1)._id,Ou(t,1)._config.role,Ou(t,1)._config.ariaLabel?null:Ou(t,1)._ariaLabelledBy,Ou(t,1)._config.ariaLabel,Ou(t,1)._config.ariaDescribedBy||null,Ou(t,1)._state)})}var $h=Su("mat-dialog-container",pd,Vh,{},{},[]),Uh=function(e){function t(t,n){var i=e.call(this,t)||this;i.sources=n,i.completed=0,i.haveValues=0;var l=n.length;i.values=new Array(l);for(var o=0;o<l;o++){var r=U(i,n[o],null,o);r&&i.add(r)}return i}return i.__extends(t,e),t.prototype.notifyNext=function(e,t,n,i,l){this.values[n]=t,l._hasValue||(l._hasValue=!0,this.haveValues++)},t.prototype.notifyComplete=function(e){var t=this.destination,n=this.haveValues,i=this.values,l=i.length;e._hasValue?(this.completed++,this.completed===l&&(n===l&&t.next(i),t.complete())):t.complete()},t}(H),Hh=function(){function e(){}return Object.defineProperty(e.prototype,"value",{get:function(){return this.control?this.control.value:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"valid",{get:function(){return this.control?this.control.valid:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"invalid",{get:function(){return this.control?this.control.invalid:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pending",{get:function(){return this.control?this.control.pending:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"disabled",{get:function(){return this.control?this.control.disabled:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"enabled",{get:function(){return this.control?this.control.enabled:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"errors",{get:function(){return this.control?this.control.errors:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pristine",{get:function(){return this.control?this.control.pristine:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dirty",{get:function(){return this.control?this.control.dirty:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"touched",{get:function(){return this.control?this.control.touched:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"status",{get:function(){return this.control?this.control.status:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"untouched",{get:function(){return this.control?this.control.untouched:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"statusChanges",{get:function(){return this.control?this.control.statusChanges:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"valueChanges",{get:function(){return this.control?this.control.valueChanges:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return null},enumerable:!0,configurable:!0}),e.prototype.reset=function(e){void 0===e&&(e=void 0),this.control&&this.control.reset(e)},e.prototype.hasError=function(e,t){return!!this.control&&this.control.hasError(e,t)},e.prototype.getError=function(e,t){return this.control?this.control.getError(e,t):null},e}(),zh=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.__extends)(t,e),Object.defineProperty(t.prototype,"formDirective",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return null},enumerable:!0,configurable:!0}),t}(Hh);function Gh(e){return null==e||0===e.length}var qh=new me("NgValidators"),Wh=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/,Jh=function(){function e(){}return e.min=function(e){return function(t){if(Gh(t.value)||Gh(e))return null;var n=parseFloat(t.value);return!isNaN(n)&&n<e?{min:{min:e,actual:t.value}}:null}},e.max=function(e){return function(t){if(Gh(t.value)||Gh(e))return null;var n=parseFloat(t.value);return!isNaN(n)&&n>e?{max:{max:e,actual:t.value}}:null}},e.required=function(e){return Gh(e.value)?{required:!0}:null},e.requiredTrue=function(e){return!0===e.value?null:{required:!0}},e.email=function(e){return Gh(e.value)?null:Wh.test(e.value)?null:{email:!0}},e.minLength=function(e){return function(t){if(Gh(t.value))return null;var n=t.value?t.value.length:0;return n<e?{minlength:{requiredLength:e,actualLength:n}}:null}},e.maxLength=function(e){return function(t){var n=t.value?t.value.length:0;return n>e?{maxlength:{requiredLength:e,actualLength:n}}:null}},e.pattern=function(t){return t?("string"==typeof t?(i="","^"!==t.charAt(0)&&(i+="^"),i+=t,"$"!==t.charAt(t.length-1)&&(i+="$"),n=new RegExp(i)):(i=t.toString(),n=t),function(e){if(Gh(e.value))return null;var t=e.value;return n.test(t)?null:{pattern:{requiredPattern:i,actualValue:t}}}):e.nullValidator;var n,i},e.nullValidator=function(e){return null},e.compose=function(e){if(!e)return null;var t=e.filter(Kh);return 0==t.length?null:function(e){return Zh(function(e,n){return t.map(function(t){return t(e)})}(e))}},e.composeAsync=function(e){if(!e)return null;var t=e.filter(Kh);return 0==t.length?null:function(e){return function e(){for(var t,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return"function"==typeof n[n.length-1]&&(t=n.pop()),1===n.length&&l(n[0])&&(n=n[0]),0===n.length?tc:t?e(n).pipe(z(function(e){return t.apply(void 0,e)})):new _(function(e){return new Uh(e,n)})}(function(e,n){return t.map(function(t){return t(e)})}(e).map(Qh)).pipe(z(Zh))}},e}();function Kh(e){return null!=e}function Qh(e){var t=Vl(e)?J(e):e;if(!$l(t))throw new Error("Expected validator to return Promise or Observable.");return t}function Zh(e){var t=e.reduce(function(e,t){return null!=t?Object(i.__assign)({},e,t):e},{});return 0===Object.keys(t).length?null:t}var Xh=new me("NgValueAccessor"),Yh=function(){function e(e,t){this._renderer=e,this._elementRef=t,this.onChange=function(e){},this.onTouched=function(){}}return e.prototype.writeValue=function(e){this._renderer.setProperty(this._elementRef.nativeElement,"checked",e)},e.prototype.registerOnChange=function(e){this.onChange=e},e.prototype.registerOnTouched=function(e){this.onTouched=e},e.prototype.setDisabledState=function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)},e}(),ef=new me("CompositionEventMode"),tf=function(){function e(e,t,n){var i;this._renderer=e,this._elementRef=t,this._compositionMode=n,this.onChange=function(e){},this.onTouched=function(){},this._composing=!1,null==this._compositionMode&&(this._compositionMode=(i=Sd()?Sd().getUserAgent():"",!/android (\d+)/.test(i.toLowerCase())))}return e.prototype.writeValue=function(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==e?"":e)},e.prototype.registerOnChange=function(e){this.onChange=e},e.prototype.registerOnTouched=function(e){this.onTouched=e},e.prototype.setDisabledState=function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)},e.prototype._handleInput=function(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)},e.prototype._compositionStart=function(){this._composing=!0},e.prototype._compositionEnd=function(e){this._composing=!1,this._compositionMode&&this.onChange(e)},e}();function nf(e){return e.validate?function(t){return e.validate(t)}:e}function lf(e){return e.validate?function(t){return e.validate(t)}:e}var of=function(){function e(e,t){this._renderer=e,this._elementRef=t,this.onChange=function(e){},this.onTouched=function(){}}return e.prototype.writeValue=function(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==e?"":e)},e.prototype.registerOnChange=function(e){this.onChange=function(t){e(""==t?null:parseFloat(t))}},e.prototype.registerOnTouched=function(e){this.onTouched=e},e.prototype.setDisabledState=function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)},e}();function rf(){throw new Error("unimplemented")}var uf=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._parent=null,t.name=null,t.valueAccessor=null,t._rawValidators=[],t._rawAsyncValidators=[],t}return Object(i.__extends)(t,e),Object.defineProperty(t.prototype,"validator",{get:function(){return rf()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"asyncValidator",{get:function(){return rf()},enumerable:!0,configurable:!0}),t}(Hh),sf=function(){function e(){this._accessors=[]}return e.prototype.add=function(e,t){this._accessors.push([e,t])},e.prototype.remove=function(e){for(var t=this._accessors.length-1;t>=0;--t)if(this._accessors[t][1]===e)return void this._accessors.splice(t,1)},e.prototype.select=function(e){var t=this;this._accessors.forEach(function(n){t._isSameGroup(n,e)&&n[1]!==e&&n[1].fireUncheck(e.value)})},e.prototype._isSameGroup=function(e,t){return!!e[0].control&&e[0]._parent===t._control._parent&&e[1].name===t.name},e}(),af=function(){function e(e,t,n,i){this._renderer=e,this._elementRef=t,this._registry=n,this._injector=i,this.onChange=function(){},this.onTouched=function(){}}return e.prototype.ngOnInit=function(){this._control=this._injector.get(uf),this._checkName(),this._registry.add(this._control,this)},e.prototype.ngOnDestroy=function(){this._registry.remove(this)},e.prototype.writeValue=function(e){this._state=e===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)},e.prototype.registerOnChange=function(e){var t=this;this._fn=e,this.onChange=function(){e(t.value),t._registry.select(t)}},e.prototype.fireUncheck=function(e){this.writeValue(e)},e.prototype.registerOnTouched=function(e){this.onTouched=e},e.prototype.setDisabledState=function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)},e.prototype._checkName=function(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)},e.prototype._throwNameError=function(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')},e}(),cf=function(){function e(e,t){this._renderer=e,this._elementRef=t,this.onChange=function(e){},this.onTouched=function(){}}return e.prototype.writeValue=function(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(e))},e.prototype.registerOnChange=function(e){this.onChange=function(t){e(""==t?null:parseFloat(t))}},e.prototype.registerOnTouched=function(e){this.onTouched=e},e.prototype.setDisabledState=function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)},e}(),pf='\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',df='\n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>';function hf(e,t){return null==e?""+t:(t&&"object"==typeof t&&(t="Object"),(e+": "+t).slice(0,50))}var ff=function(){function e(e,t){this._renderer=e,this._elementRef=t,this._optionMap=new Map,this._idCounter=0,this.onChange=function(e){},this.onTouched=function(){},this._compareWith=Fe}return Object.defineProperty(e.prototype,"compareWith",{set:function(e){if("function"!=typeof e)throw new Error("compareWith must be a function, but received "+JSON.stringify(e));this._compareWith=e},enumerable:!0,configurable:!0}),e.prototype.writeValue=function(e){this.value=e;var t=this._getOptionId(e);null==t&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);var n=hf(t,e);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)},e.prototype.registerOnChange=function(e){var t=this;this.onChange=function(n){t.value=t._getOptionValue(n),e(t.value)}},e.prototype.registerOnTouched=function(e){this.onTouched=e},e.prototype.setDisabledState=function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)},e.prototype._registerOption=function(){return(this._idCounter++).toString()},e.prototype._getOptionId=function(e){var t,n;try{for(var l=Object(i.__values)(Array.from(this._optionMap.keys())),o=l.next();!o.done;o=l.next()){var r=o.value;if(this._compareWith(this._optionMap.get(r),e))return r}}catch(u){t={error:u}}finally{try{o&&!o.done&&(n=l.return)&&n.call(l)}finally{if(t)throw t.error}}return null},e.prototype._getOptionValue=function(e){var t=function(e){return e.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t):e},e}(),gf=function(){function e(e,t,n){this._element=e,this._renderer=t,this._select=n,this._select&&(this.id=this._select._registerOption())}return Object.defineProperty(e.prototype,"ngValue",{set:function(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(hf(this.id,e)),this._select.writeValue(this._select.value))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{set:function(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)},enumerable:!0,configurable:!0}),e.prototype._setElementValue=function(e){this._renderer.setProperty(this._element.nativeElement,"value",e)},e.prototype.ngOnDestroy=function(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))},e}();function mf(e,t){return null==e?""+t:("string"==typeof t&&(t="'"+t+"'"),t&&"object"==typeof t&&(t="Object"),(e+": "+t).slice(0,50))}var vf=function(){function e(e,t){this._renderer=e,this._elementRef=t,this._optionMap=new Map,this._idCounter=0,this.onChange=function(e){},this.onTouched=function(){},this._compareWith=Fe}return Object.defineProperty(e.prototype,"compareWith",{set:function(e){if("function"!=typeof e)throw new Error("compareWith must be a function, but received "+JSON.stringify(e));this._compareWith=e},enumerable:!0,configurable:!0}),e.prototype.writeValue=function(e){var t,n=this;if(this.value=e,Array.isArray(e)){var i=e.map(function(e){return n._getOptionId(e)});t=function(e,t){e._setSelected(i.indexOf(t.toString())>-1)}}else t=function(e,t){e._setSelected(!1)};this._optionMap.forEach(t)},e.prototype.registerOnChange=function(e){var t=this;this.onChange=function(n){var i=[];if(n.hasOwnProperty("selectedOptions"))for(var l=n.selectedOptions,o=0;o<l.length;o++){var r=l.item(o),u=t._getOptionValue(r.value);i.push(u)}else for(l=n.options,o=0;o<l.length;o++)(r=l.item(o)).selected&&(u=t._getOptionValue(r.value),i.push(u));t.value=i,e(i)}},e.prototype.registerOnTouched=function(e){this.onTouched=e},e.prototype.setDisabledState=function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)},e.prototype._registerOption=function(e){var t=(this._idCounter++).toString();return this._optionMap.set(t,e),t},e.prototype._getOptionId=function(e){var t,n;try{for(var l=Object(i.__values)(Array.from(this._optionMap.keys())),o=l.next();!o.done;o=l.next()){var r=o.value;if(this._compareWith(this._optionMap.get(r)._value,e))return r}}catch(u){t={error:u}}finally{try{o&&!o.done&&(n=l.return)&&n.call(l)}finally{if(t)throw t.error}}return null},e.prototype._getOptionValue=function(e){var t=function(e){return e.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t)._value:e},e}(),yf=function(){function e(e,t,n){this._element=e,this._renderer=t,this._select=n,this._select&&(this.id=this._select._registerOption(this))}return Object.defineProperty(e.prototype,"ngValue",{set:function(e){null!=this._select&&(this._value=e,this._setElementValue(mf(this.id,e)),this._select.writeValue(this._select.value))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{set:function(e){this._select?(this._value=e,this._setElementValue(mf(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)},enumerable:!0,configurable:!0}),e.prototype._setElementValue=function(e){this._renderer.setProperty(this._element.nativeElement,"value",e)},e.prototype._setSelected=function(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)},e.prototype.ngOnDestroy=function(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))},e}();function bf(e,t){return Object(i.__spread)(t.path,[e])}function Df(e,t){e||Sf(t,"Cannot find control with"),t.valueAccessor||Sf(t,"No value accessor for form control with"),e.validator=Jh.compose([e.validator,t.validator]),e.asyncValidator=Jh.composeAsync([e.asyncValidator,t.asyncValidator]),t.valueAccessor.writeValue(e.value),function(e,t){t.valueAccessor.registerOnChange(function(n){e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&Cf(e,t)})}(e,t),function(e,t){e.registerOnChange(function(e,n){t.valueAccessor.writeValue(e),n&&t.viewToModelUpdate(e)})}(e,t),function(e,t){t.valueAccessor.registerOnTouched(function(){e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&Cf(e,t),"submit"!==e.updateOn&&e.markAsTouched()})}(e,t),t.valueAccessor.setDisabledState&&e.registerOnDisabledChange(function(e){t.valueAccessor.setDisabledState(e)}),t._rawValidators.forEach(function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange(function(){return e.updateValueAndValidity()})}),t._rawAsyncValidators.forEach(function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange(function(){return e.updateValueAndValidity()})})}function Cf(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function Sf(e,t){var n;throw n=e.path.length>1?"path: '"+e.path.join(" -> ")+"'":e.path[0]?"name: '"+e.path+"'":"unspecified name attribute",new Error(t+" "+n)}function _f(e){return null!=e?Jh.compose(e.map(nf)):null}function wf(e){return null!=e?Jh.composeAsync(e.map(lf)):null}var xf=[Yh,cf,of,ff,vf,af],Ff=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.__extends)(t,e),t.prototype.ngOnInit=function(){this._checkParentType(),this.formDirective.addFormGroup(this)},t.prototype.ngOnDestroy=function(){this.formDirective&&this.formDirective.removeFormGroup(this)},Object.defineProperty(t.prototype,"control",{get:function(){return this.formDirective.getFormGroup(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return bf(this.name,this._parent)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"formDirective",{get:function(){return this._parent?this._parent.formDirective:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"validator",{get:function(){return _f(this._validators)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"asyncValidator",{get:function(){return wf(this._asyncValidators)},enumerable:!0,configurable:!0}),t.prototype._checkParentType=function(){},t}(zh),Ef=function(){function e(e){this._cd=e}return Object.defineProperty(e.prototype,"ngClassUntouched",{get:function(){return!!this._cd.control&&this._cd.control.untouched},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ngClassTouched",{get:function(){return!!this._cd.control&&this._cd.control.touched},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ngClassPristine",{get:function(){return!!this._cd.control&&this._cd.control.pristine},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ngClassDirty",{get:function(){return!!this._cd.control&&this._cd.control.dirty},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ngClassValid",{get:function(){return!!this._cd.control&&this._cd.control.valid},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ngClassInvalid",{get:function(){return!!this._cd.control&&this._cd.control.invalid},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ngClassPending",{get:function(){return!!this._cd.control&&this._cd.control.pending},enumerable:!0,configurable:!0}),e}(),kf=function(e){function t(t){return e.call(this,t)||this}return Object(i.__extends)(t,e),t}(Ef),Af=function(e){function t(t){return e.call(this,t)||this}return Object(i.__extends)(t,e),t}(Ef);function Tf(e){var t=Bf(e)?e.validators:e;return Array.isArray(t)?_f(t):t||null}function If(e,t){var n=Bf(t)?t.asyncValidators:e;return Array.isArray(n)?wf(n):n||null}function Bf(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}var Of=function(){function e(e,t){this.validator=e,this.asyncValidator=t,this._onCollectionChange=function(){},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}return Object.defineProperty(e.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"valid",{get:function(){return"VALID"===this.status},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"invalid",{get:function(){return"INVALID"===this.status},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pending",{get:function(){return"PENDING"==this.status},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"disabled",{get:function(){return"DISABLED"===this.status},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"enabled",{get:function(){return"DISABLED"!==this.status},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dirty",{get:function(){return!this.pristine},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"untouched",{get:function(){return!this.touched},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"updateOn",{get:function(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"},enumerable:!0,configurable:!0}),e.prototype.setValidators=function(e){this.validator=Tf(e)},e.prototype.setAsyncValidators=function(e){this.asyncValidator=If(e)},e.prototype.clearValidators=function(){this.validator=null},e.prototype.clearAsyncValidators=function(){this.asyncValidator=null},e.prototype.markAsTouched=function(e){void 0===e&&(e={}),this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)},e.prototype.markAsUntouched=function(e){void 0===e&&(e={}),this.touched=!1,this._pendingTouched=!1,this._forEachChild(function(e){e.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)},e.prototype.markAsDirty=function(e){void 0===e&&(e={}),this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)},e.prototype.markAsPristine=function(e){void 0===e&&(e={}),this.pristine=!0,this._pendingDirty=!1,this._forEachChild(function(e){e.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)},e.prototype.markAsPending=function(e){void 0===e&&(e={}),this.status="PENDING",!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)},e.prototype.disable=function(e){void 0===e&&(e={}),this.status="DISABLED",this.errors=null,this._forEachChild(function(t){t.disable(Object(i.__assign)({},e,{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(e),this._onDisabledChange.forEach(function(e){return e(!0)})},e.prototype.enable=function(e){void 0===e&&(e={}),this.status="VALID",this._forEachChild(function(t){t.enable(Object(i.__assign)({},e,{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(e),this._onDisabledChange.forEach(function(e){return e(!1)})},e.prototype._updateAncestors=function(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),this._parent._updatePristine(),this._parent._updateTouched())},e.prototype.setParent=function(e){this._parent=e},e.prototype.updateValueAndValidity=function(e){void 0===e&&(e={}),this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)},e.prototype._updateTreeValidity=function(e){void 0===e&&(e={emitEvent:!0}),this._forEachChild(function(t){return t._updateTreeValidity(e)}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})},e.prototype._setInitialStatus=function(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"},e.prototype._runValidator=function(){return this.validator?this.validator(this):null},e.prototype._runAsyncValidator=function(e){var t=this;if(this.asyncValidator){this.status="PENDING";var n=Qh(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(function(n){return t.setErrors(n,{emitEvent:e})})}},e.prototype._cancelExistingSubscription=function(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()},e.prototype.setErrors=function(e,t){void 0===t&&(t={}),this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)},e.prototype.get=function(e){return function(e,t,n){return null==t?null:(t instanceof Array||(t=t.split(".")),t instanceof Array&&0===t.length?null:t.reduce(function(e,t){return e instanceof Mf?e.controls.hasOwnProperty(t)?e.controls[t]:null:e instanceof Pf&&e.at(t)||null},e))}(this,e)},e.prototype.getError=function(e,t){var n=t?this.get(t):this;return n&&n.errors?n.errors[e]:null},e.prototype.hasError=function(e,t){return!!this.getError(e,t)},Object.defineProperty(e.prototype,"root",{get:function(){for(var e=this;e._parent;)e=e._parent;return e},enumerable:!0,configurable:!0}),e.prototype._updateControlsErrors=function(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)},e.prototype._initObservables=function(){this.valueChanges=new kl,this.statusChanges=new kl},e.prototype._calculateStatus=function(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"},e.prototype._anyControlsHaveStatus=function(e){return this._anyControls(function(t){return t.status===e})},e.prototype._anyControlsDirty=function(){return this._anyControls(function(e){return e.dirty})},e.prototype._anyControlsTouched=function(){return this._anyControls(function(e){return e.touched})},e.prototype._updatePristine=function(e){void 0===e&&(e={}),this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)},e.prototype._updateTouched=function(e){void 0===e&&(e={}),this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)},e.prototype._isBoxedValue=function(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e},e.prototype._registerOnCollectionChange=function(e){this._onCollectionChange=e},e.prototype._setUpdateStrategy=function(e){Bf(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)},e}(),Rf=function(e){function t(t,n,i){void 0===t&&(t=null);var l=e.call(this,Tf(n),If(i,n))||this;return l._onChange=[],l._applyFormState(t),l._setUpdateStrategy(n),l.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),l._initObservables(),l}return Object(i.__extends)(t,e),t.prototype.setValue=function(e,t){var n=this;void 0===t&&(t={}),this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(function(e){return e(n.value,!1!==t.emitViewToModelChange)}),this.updateValueAndValidity(t)},t.prototype.patchValue=function(e,t){void 0===t&&(t={}),this.setValue(e,t)},t.prototype.reset=function(e,t){void 0===e&&(e=null),void 0===t&&(t={}),this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1},t.prototype._updateValue=function(){},t.prototype._anyControls=function(e){return!1},t.prototype._allControlsDisabled=function(){return this.disabled},t.prototype.registerOnChange=function(e){this._onChange.push(e)},t.prototype._clearChangeFns=function(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=function(){}},t.prototype.registerOnDisabledChange=function(e){this._onDisabledChange.push(e)},t.prototype._forEachChild=function(e){},t.prototype._syncPendingControls=function(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))},t.prototype._applyFormState=function(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e},t}(Of),Mf=function(e){function t(t,n,i){var l=e.call(this,Tf(n),If(i,n))||this;return l.controls=t,l._initObservables(),l._setUpdateStrategy(n),l._setUpControls(),l.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),l}return Object(i.__extends)(t,e),t.prototype.registerControl=function(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)},t.prototype.addControl=function(e,t){this.registerControl(e,t),this.updateValueAndValidity(),this._onCollectionChange()},t.prototype.removeControl=function(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange(function(){}),delete this.controls[e],this.updateValueAndValidity(),this._onCollectionChange()},t.prototype.setControl=function(e,t){this.controls[e]&&this.controls[e]._registerOnCollectionChange(function(){}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity(),this._onCollectionChange()},t.prototype.contains=function(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled},t.prototype.setValue=function(e,t){var n=this;void 0===t&&(t={}),this._checkAllValuesPresent(e),Object.keys(e).forEach(function(i){n._throwIfControlMissing(i),n.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)},t.prototype.patchValue=function(e,t){var n=this;void 0===t&&(t={}),Object.keys(e).forEach(function(i){n.controls[i]&&n.controls[i].patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)},t.prototype.reset=function(e,t){void 0===e&&(e={}),void 0===t&&(t={}),this._forEachChild(function(n,i){n.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t),this._updatePristine(t),this._updateTouched(t)},t.prototype.getRawValue=function(){return this._reduceChildren({},function(e,t,n){return e[n]=t instanceof Rf?t.value:t.getRawValue(),e})},t.prototype._syncPendingControls=function(){var e=this._reduceChildren(!1,function(e,t){return!!t._syncPendingControls()||e});return e&&this.updateValueAndValidity({onlySelf:!0}),e},t.prototype._throwIfControlMissing=function(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error("Cannot find form control with name: "+e+".")},t.prototype._forEachChild=function(e){var t=this;Object.keys(this.controls).forEach(function(n){return e(t.controls[n],n)})},t.prototype._setUpControls=function(){var e=this;this._forEachChild(function(t){t.setParent(e),t._registerOnCollectionChange(e._onCollectionChange)})},t.prototype._updateValue=function(){this.value=this._reduceValue()},t.prototype._anyControls=function(e){var t=this,n=!1;return this._forEachChild(function(i,l){n=n||t.contains(l)&&e(i)}),n},t.prototype._reduceValue=function(){var e=this;return this._reduceChildren({},function(t,n,i){return(n.enabled||e.disabled)&&(t[i]=n.value),t})},t.prototype._reduceChildren=function(e,t){var n=e;return this._forEachChild(function(e,i){n=t(n,e,i)}),n},t.prototype._allControlsDisabled=function(){var e,t;try{for(var n=Object(i.__values)(Object.keys(this.controls)),l=n.next();!l.done;l=n.next())if(this.controls[l.value].enabled)return!1}catch(o){e={error:o}}finally{try{l&&!l.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}return Object.keys(this.controls).length>0||this.disabled},t.prototype._checkAllValuesPresent=function(e){this._forEachChild(function(t,n){if(void 0===e[n])throw new Error("Must supply a value for form control with name: '"+n+"'.")})},t}(Of),Pf=function(e){function t(t,n,i){var l=e.call(this,Tf(n),If(i,n))||this;return l.controls=t,l._initObservables(),l._setUpdateStrategy(n),l._setUpControls(),l.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),l}return Object(i.__extends)(t,e),t.prototype.at=function(e){return this.controls[e]},t.prototype.push=function(e){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity(),this._onCollectionChange()},t.prototype.insert=function(e,t){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity()},t.prototype.removeAt=function(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange(function(){}),this.controls.splice(e,1),this.updateValueAndValidity()},t.prototype.setControl=function(e,t){this.controls[e]&&this.controls[e]._registerOnCollectionChange(function(){}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity(),this._onCollectionChange()},Object.defineProperty(t.prototype,"length",{get:function(){return this.controls.length},enumerable:!0,configurable:!0}),t.prototype.setValue=function(e,t){var n=this;void 0===t&&(t={}),this._checkAllValuesPresent(e),e.forEach(function(e,i){n._throwIfControlMissing(i),n.at(i).setValue(e,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)},t.prototype.patchValue=function(e,t){var n=this;void 0===t&&(t={}),e.forEach(function(e,i){n.at(i)&&n.at(i).patchValue(e,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)},t.prototype.reset=function(e,t){void 0===e&&(e=[]),void 0===t&&(t={}),this._forEachChild(function(n,i){n.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t),this._updatePristine(t),this._updateTouched(t)},t.prototype.getRawValue=function(){return this.controls.map(function(e){return e instanceof Rf?e.value:e.getRawValue()})},t.prototype._syncPendingControls=function(){var e=this.controls.reduce(function(e,t){return!!t._syncPendingControls()||e},!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e},t.prototype._throwIfControlMissing=function(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error("Cannot find form control at index "+e)},t.prototype._forEachChild=function(e){this.controls.forEach(function(t,n){e(t,n)})},t.prototype._updateValue=function(){var e=this;this.value=this.controls.filter(function(t){return t.enabled||e.disabled}).map(function(e){return e.value})},t.prototype._anyControls=function(e){return this.controls.some(function(t){return t.enabled&&e(t)})},t.prototype._setUpControls=function(){var e=this;this._forEachChild(function(t){return e._registerControl(t)})},t.prototype._checkAllValuesPresent=function(e){this._forEachChild(function(t,n){if(void 0===e[n])throw new Error("Must supply a value for form control at index: "+n+".")})},t.prototype._allControlsDisabled=function(){var e,t;try{for(var n=Object(i.__values)(this.controls),l=n.next();!l.done;l=n.next())if(l.value.enabled)return!1}catch(o){e={error:o}}finally{try{l&&!l.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}return this.controls.length>0||this.disabled},t.prototype._registerControl=function(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)},t}(Of),jf=Promise.resolve(null),Nf=function(e){function t(t,n){var i=e.call(this)||this;return i.submitted=!1,i._directives=[],i.ngSubmit=new kl,i.form=new Mf({},_f(t),wf(n)),i}return Object(i.__extends)(t,e),t.prototype.ngAfterViewInit=function(){this._setUpdateStrategy()},Object.defineProperty(t.prototype,"formDirective",{get:function(){return this},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"control",{get:function(){return this.form},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"controls",{get:function(){return this.form.controls},enumerable:!0,configurable:!0}),t.prototype.addControl=function(e){var t=this;jf.then(function(){var n=t._findContainer(e.path);e.control=n.registerControl(e.name,e.control),Df(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),t._directives.push(e)})},t.prototype.getControl=function(e){return this.form.get(e.path)},t.prototype.removeControl=function(e){var t=this;jf.then(function(){var n,i,l=t._findContainer(e.path);l&&l.removeControl(e.name),(i=(n=t._directives).indexOf(e))>-1&&n.splice(i,1)})},t.prototype.addFormGroup=function(e){var t=this;jf.then(function(){var n=t._findContainer(e.path),i=new Mf({});(function(e,t){null==e&&Sf(t,"Cannot find control with"),e.validator=Jh.compose([e.validator,t.validator]),e.asyncValidator=Jh.composeAsync([e.asyncValidator,t.asyncValidator])})(i,e),n.registerControl(e.name,i),i.updateValueAndValidity({emitEvent:!1})})},t.prototype.removeFormGroup=function(e){var t=this;jf.then(function(){var n=t._findContainer(e.path);n&&n.removeControl(e.name)})},t.prototype.getFormGroup=function(e){return this.form.get(e.path)},t.prototype.updateModel=function(e,t){var n=this;jf.then(function(){n.form.get(e.path).setValue(t)})},t.prototype.setValue=function(e){this.control.setValue(e)},t.prototype.onSubmit=function(e){return this.submitted=!0,t=this._directives,this.form._syncPendingControls(),t.forEach(function(e){var t=e.control;"submit"===t.updateOn&&t._pendingChange&&(e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1)}),this.ngSubmit.emit(e),!1;var t},t.prototype.onReset=function(){this.resetForm()},t.prototype.resetForm=function(e){void 0===e&&(e=void 0),this.form.reset(e),this.submitted=!1},t.prototype._setUpdateStrategy=function(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)},t.prototype._findContainer=function(e){return e.pop(),e.length?this.form.get(e):this.form},t}(zh),Lf=function(){function e(){}return e.modelParentException=function(){throw new Error('\n      ngModel cannot be used to register form controls with a parent formGroup directive.  Try using\n      formGroup\'s partner directive "formControlName" instead.  Example:\n\n      \n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });\n\n      Or, if you\'d like to avoid registering this form control, indicate that it\'s standalone in ngModelOptions:\n\n      Example:\n\n      \n    <div [formGroup]="myGroup">\n       <input formControlName="firstName">\n       <input [(ngModel)]="showMoreControls" [ngModelOptions]="{standalone: true}">\n    </div>\n  ')},e.formGroupNameException=function(){throw new Error("\n      ngModel cannot be used to register form controls with a parent formGroupName or formArrayName directive.\n\n      Option 1: Use formControlName instead of ngModel (reactive strategy):\n\n      "+pf+"\n\n      Option 2:  Update ngModel's parent be ngModelGroup (template-driven strategy):\n\n      "+df)},e.missingNameException=function(){throw new Error('If ngModel is used within a form tag, either the name attribute must be set or the form\n      control must be defined as \'standalone\' in ngModelOptions.\n\n      Example 1: <input [(ngModel)]="person.firstName" name="first">\n      Example 2: <input [(ngModel)]="person.firstName" [ngModelOptions]="{standalone: true}">')},e.modelGroupParentException=function(){throw new Error("\n      ngModelGroup cannot be used with a parent formGroup directive.\n\n      Option 1: Use formGroupName instead of ngModelGroup (reactive strategy):\n\n      "+pf+"\n\n      Option 2:  Use a regular form tag instead of the formGroup directive (template-driven strategy):\n\n      "+df)},e.ngFormWarning=function(){console.warn("\n    It looks like you're using 'ngForm'.\n\n    Support for using the 'ngForm' element selector has been deprecated in Angular v6 and will be removed\n    in Angular v9.\n\n    Use 'ng-form' instead.\n\n    Before:\n    <ngForm #myForm=\"ngForm\">\n\n    After:\n    <ng-form #myForm=\"ngForm\">\n    ")},e}(),Vf=new me("NgFormSelectorWarning"),$f=function(e){function t(t,n,i){var l=e.call(this)||this;return l._parent=t,l._validators=n,l._asyncValidators=i,l}var n;return Object(i.__extends)(t,e),n=t,t.prototype._checkParentType=function(){this._parent instanceof n||this._parent instanceof Nf||Lf.modelGroupParentException()},t}(Ff),Uf=Promise.resolve(null),Hf=function(e){function t(t,n,i,l){var o=e.call(this)||this;return o.control=new Rf,o._registered=!1,o.update=new kl,o._parent=t,o._rawValidators=n||[],o._rawAsyncValidators=i||[],o.valueAccessor=function(e,t){if(!t)return null;Array.isArray(t)||Sf(e,"Value accessor was not provided as an array for form control with");var n=void 0,i=void 0,l=void 0;return t.forEach(function(t){var o;t.constructor===tf?n=t:(o=t,xf.some(function(e){return o.constructor===e})?(i&&Sf(e,"More than one built-in value accessor matches form control with"),i=t):(l&&Sf(e,"More than one custom value accessor matches form control with"),l=t))}),l||i||n||(Sf(e,"No valid value accessor for form control with"),null)}(o,l),o}return Object(i.__extends)(t,e),t.prototype.ngOnChanges=function(e){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in e&&this._updateDisabled(e),function(e,t){if(!e.hasOwnProperty("model"))return!1;var n=e.model;return!!n.isFirstChange()||!Fe(t,n.currentValue)}(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)},t.prototype.ngOnDestroy=function(){this.formDirective&&this.formDirective.removeControl(this)},Object.defineProperty(t.prototype,"path",{get:function(){return this._parent?bf(this.name,this._parent):[this.name]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"formDirective",{get:function(){return this._parent?this._parent.formDirective:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"validator",{get:function(){return _f(this._rawValidators)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"asyncValidator",{get:function(){return wf(this._rawAsyncValidators)},enumerable:!0,configurable:!0}),t.prototype.viewToModelUpdate=function(e){this.viewModel=e,this.update.emit(e)},t.prototype._setUpControl=function(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0},t.prototype._setUpdateStrategy=function(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)},t.prototype._isStandalone=function(){return!this._parent||!(!this.options||!this.options.standalone)},t.prototype._setUpStandalone=function(){Df(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})},t.prototype._checkForErrors=function(){this._isStandalone()||this._checkParentType(),this._checkName()},t.prototype._checkParentType=function(){!(this._parent instanceof $f)&&this._parent instanceof Ff?Lf.formGroupNameException():this._parent instanceof $f||this._parent instanceof Nf||Lf.modelParentException()},t.prototype._checkName=function(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()||this.name||Lf.missingNameException()},t.prototype._updateValue=function(e){var t=this;Uf.then(function(){t.control.setValue(e,{emitViewToModelChange:!1})})},t.prototype._updateDisabled=function(e){var t=this,n=e.isDisabled.currentValue,i=""===n||n&&"false"!==n;Uf.then(function(){i&&!t.control.disabled?t.control.disable():!i&&t.control.disabled&&t.control.enable()})},t}(uf),zf=function(){function e(){}return e.prototype.ngOnChanges=function(e){"maxlength"in e&&(this._createValidator(),this._onChange&&this._onChange())},e.prototype.validate=function(e){return null!=this.maxlength?this._validator(e):null},e.prototype.registerOnValidatorChange=function(e){this._onChange=e},e.prototype._createValidator=function(){this._validator=Jh.maxLength(parseInt(this.maxlength,10))},e}(),Gf=function(){return function(){}}(),qf=function(){return function(){}}(),Wf=function(){function e(){}var t;return t=e,e.withConfig=function(e){return{ngModule:t,providers:[{provide:Vf,useValue:e.warnOnDeprecatedNgFormSelector}]}},e}(),Jf=n("7RJT"),Kf=n("gFX4"),Qf=n("mkMP"),Zf=function(){function e(e){var t=this;this._postMessageService=e,this.socketAddress=ka.socketServerAddress,this.serverAddress=ka.serverAddress,this.cdnAddress=ka.production?ka.cdnAddress:ka.local?"":"https://app.beelinks.solutions",this.mediaServiceAddress=ka.mediaServerAddress,this.botAddress=ka.botURL,this.redisURL=ka.redisURL,this.LocalStoragePermissions=new Jf.BehaviorSubject(this.CheckLocalStoragePermissions()),this.Settings=new Jf.BehaviorSubject(void 0),this.FSharePermissions=new Jf.BehaviorSubject(!1),this.AllowedCall=new Jf.BehaviorSubject(!1),this.Session=new Jf.BehaviorSubject(void 0),this.ShowLoader=new Jf.BehaviorSubject(!1),this.Permissions=new Jf.BehaviorSubject(void 0),this.EmojiJson=new Jf.BehaviorSubject(Qf),this.showMoreMenu=new Jf.BehaviorSubject(!1),this.ServerAddress=new Jf.BehaviorSubject(this.serverAddress),this.SocketServerAddress=new Jf.BehaviorSubject(this.socketAddress),this.CDNAddress=new Jf.BehaviorSubject(this.cdnAddress),this.MediaServiceAddress=new Jf.BehaviorSubject(this.mediaServiceAddress),this.BotServiceAddress=new Jf.BehaviorSubject(this.botAddress),this.RedisServiceAddress=new Jf.BehaviorSubject(this.redisURL),this.OldSession=new Jf.BehaviorSubject(void 0),this.ShowEndchatDialog=new Jf.BehaviorSubject(!1),this.UnregisteredAccessPermissions=new Jf.BehaviorSubject(!0),this.Maximized=new Jf.BehaviorSubject(!1),this.RegisterFormDialogOpened=new Jf.BehaviorSubject(!1),this.AutoScroll=new Jf.BehaviorSubject(!0),this.NotificationCount=new Jf.BehaviorSubject(0),this.AllowEdit=new Jf.BehaviorSubject(!0),this.Muted=new Jf.BehaviorSubject(!1),this.PlayAudio=new Ta.Subject,this.Conversation=new Jf.BehaviorSubject([]),this.isMobile=new Jf.BehaviorSubject(!1),this.endChat=new Jf.BehaviorSubject(!0),this.previousAgent=new Jf.BehaviorSubject(void 0),this.botConversationStarted=new Jf.BehaviorSubject(!1),this.chatBot={id:"",image:"/cw/assets/img/icons/svg/chatbot-outline.svg",name:"ChatBot",nickname:"ChatBot"},Ia("Application State Service Initialized"),this._postMessageService.Load.subscribe(function(e){if(e){t.endChat.next(!1),t.ServerAddress.next(e.serverAddress),t.FSharePermissions.next(e.fshare),t.Settings.next(e.settings),t.ShowLoader.next(e.showLoader),t.Session.next(e.session),t.isMobile.next(t.Session.getValue().isMobile),t.AllowedCall.next(e.allowedCall),t.Permissions.next(e.permissions),t.Muted.next(t.GetStorage("muted")),t.Maximized.next(!!e.chatWindowState&&e.chatWindowState),t._postMessageService.Maximize.subscribe(function(e){t.Maximized.next(e),t.SetMessageCount(0)}),t._postMessageService.GotUserInformation.subscribe(function(e){t.AllowEdit.next(!!e.AllowEdit)}),t._postMessageService.ShowLoader.subscribe(function(e){t.ShowLoader.next(e)});var n=t.GetStorage("notificationCount");t.NotificationCount.next(0!=n?parseInt(n)+1:0),t.SaveStorage("sessionStart",!0)}})}return e.prototype.SaveChatBotState=function(e){this.botConversationStarted.next(e),this.SaveStorage("botState",e)},e.prototype.CheckLocalStoragePermissions=function(){try{if(window.localStorage)return!0}catch(e){return!1}},e.prototype.UpdateSession=function(e){var t=this;switch(JSON.parse(JSON.stringify(this.Session.getValue())),this.Session.getValue().agent&&this.previousAgent.next(this.Session.getValue().agent),e&&Object.keys(e).map(function(n){"agent"!=n.toLowerCase()?t.Session.getValue()[n]=e[n]:t.Session.getValue().agent=6!=e.state&&7!=e.state&&8!=e.state||e.agent.id?5==e.state?e.agent.id?e.agent:{id:"",name:"",image:""}:e[n]?e.agent:{id:"",name:"",image:""}:t.chatBot}),this.Session.next(this.Session.getValue()),this._postMessageService.SendMessage("setSession",this.Session.getValue(),"*"),this._postMessageService.SendMessage("setDeviceToken",this.Session.getValue().deviceID,"*"),e.state){case 3:case 4:this._postMessageService.SendMessage("gotAgent",this.Session.getValue().agent,"bz-cb|bz-am");break;case 6:case 7:case 8:this.Session.getValue().agent&&this._postMessageService.SendMessage("gotAgent",this.Session.getValue().agent,"bz-cb|bz-am")}},e.prototype.IsNoAgent=function(e){return Object.keys(e).every(function(t){return""===e[t]||null===e[t]})},e.prototype.RefreshSession=function(){this.ClearStorage(["notificationCount","messages","lasttouchedTime","conversations","botState","botmessages","disconnectionTime"]),this.OldSession.next(JSON.parse(JSON.stringify(this.Session.getValue()))),this.Session.getValue().cid="",this.Session.getValue().agent={name:"",id:"",image:""},this.Session.getValue().state=1,this._postMessageService.SendMessage("removeAgent",{},"*"),this.UpdateSession(this.Session.getValue())},e.prototype.ToggleMute=function(e){this.SaveStorage("muted",e),this.Muted.next(e)},e.prototype.PlayNotificationSound=function(){this.PlayAudio.next(!0)},e.prototype.ClearStorage=function(e){var t=this;e.map(function(e){localStorage.removeItem(t.Session.getValue().nsp+e)})},e.prototype.SaveStorage=function(e,t){switch(e){case"messages":case"botmessages":case"conversations":return void localStorage.setItem(this.Session.getValue().nsp+e,JSON.stringify(t||[]));case"lasttouchedTime":return void localStorage.setItem(this.Session.getValue().nsp+e,t||(new Date).toISOString());case"muted":return void localStorage.setItem(this.Session.getValue().nsp+e,JSON.stringify(t));case"botState":case"sessionStart":return void localStorage.setItem(this.Session.getValue().nsp+e,JSON.stringify(t));case"disconnectionTime":localStorage.setItem(this.Session.getValue().nsp+e,t?JSON.stringify(t):(new Date).toString());default:return void localStorage.setItem(this.Session.getValue().nsp+e,JSON.stringify(t||0))}},e.prototype.RemoveStorage=function(e){localStorage.removeItem(this.Session.getValue().nsp+e)},e.prototype.GetStorage=function(e){var t=void 0;switch(e){case"messages":case"botmessages":case"conversations":return(t=localStorage.getItem(this.Session.getValue().nsp+e))?JSON.parse(t):[];case"lasttouchedTime":return(t=localStorage.getItem(this.Session.getValue().nsp+e))||(new Date).toISOString();case"muted":return!!(t=localStorage.getItem(this.Session.getValue().nsp+e))&&JSON.parse(t);case"sessionStart":return!!this.Session.getValue()&&!!(t=localStorage.getItem(this.Session.getValue().nsp+e))&&JSON.parse(t);case"botState":return JSON.parse(localStorage.getItem(this.Session.getValue().nsp+e)||"false");default:return(t=localStorage.getItem(this.Session.getValue().nsp+e))?JSON.parse(JSON.stringify(t)):0}},e.prototype.SetMessageCount=function(e){this.SaveStorage("notificationCount",e),this.NotificationCount.next(e),this._postMessageService.SendMessage("messageCount",e?1:0,"bz-cb")},e.prototype.RecentConversation=function(e){e.length&&this.Conversation.next(e)},e}(),Xf=n("Q1FS"),Yf=function(){function e(e){this._appStateService=e,this.serverAddress=ka.production?"":"http://localhost:8000",this.agentServiceAddress=ka.production?"/api":"http://localhost:8005/api"}return e.prototype.SendXMLHttpRequest=function(e,t,n,i,l,o,r){var u=this;return new Xf.Observable(function(s){var a=new XMLHttpRequest,c=l?u.agentServiceAddress:i?u.serverAddress+"":e;r&&(a.responseType=r),a.open(t,c+e,!0),o&&o.length&&o.map(function(e){a.setRequestHeader(e.name,e.value)}),a.send(n),a.onreadystatechange=function(e){try{4==a.readyState&&(a.status>=200&&a.status<400?(s.next(a.response),s.complete()):s.error(a.response))}catch(t){s.error(t)}}})},e}(),eg=function(){function e(e,t){var n=this;this._appService=e,this._restService=t,this.socketServer="",this.serverAddress="",this.session=void 0,this.serverDisconnect=new Ta.Subject,this.socket=new Jf.BehaviorSubject(void 0),this.status=new Jf.BehaviorSubject(!1),this.syncSession=new Ta.Subject,this._appService.SocketServerAddress.subscribe(function(e){n.socketServer=e}),this._appService.ServerAddress.subscribe(function(e){n.serverAddress=e}),this._appService.Session.subscribe(function(e){e&&(n.session=e,n.socket.getValue()||n.status.getValue()||(n.socket.next(Kf(n.socketServer+n.session.nsp,{transports:["polling","websocket"],secure:!0,reconnection:!0,reconnectionDelay:25e3,query:"csid="+n.session.csid+"&state="+n.session.state})),n.socketSubscription=n.socket.subscribe(function(e){e&&(n.socket.getValue().on("connect",function(){n.status.next(!0),n.serverDisconnect.next(!1)}),n.socket.getValue().on("syncsession",function(e){e.conversations&&e.conversations.length&&(n.session.conversations=e.conversations),Object.keys(e).map(function(t){"username"==t?-1==e[t].indexOf("Guest")&&(n.session[t]=e[t]):"email"==t?"unregistered"!=e[t].toLowerCase()&&(n.session[t]=e[t]):n.session[t]=e[t]}),n.syncSession.next(!0),n._appService.UpdateSession(n.session)}),n.socket.getValue().on("disconnect",function(e){n.status.next(!1),n.serverDisconnect.next(!0)}),n.socket.getValue().on("reconnect_attempt",function(){n.serverDisconnect.next(!1),n.socket.getValue().io.opts.query="csid="+n.session.csid+"&state="+n.session.state}))})))})}return e.prototype.GetStatus=function(){return this.status.asObservable()},e.prototype.GetDisconnectionStatus=function(){return this.serverDisconnect.asObservable()},e.prototype.GetSyncSessionStatus=function(){return this.syncSession.asObservable()},e.prototype.GetSocketInstance=function(){return this.socket.asObservable()},e.prototype.Disconnect=function(){this.status.next(!1),this.socket.getValue().disconnect(),this.socket.next(void 0),this.socketSubscription.unsubscribe()},e.prototype.ChangeState=function(e){var t=this;return new Xf.Observable(function(n){t.socket.getValue().emit("changeState",{state:e},function(e){"ok"==e.status?(n.next(e),n.complete()):n.error({code:"cst",text:"Error in Changing State"})})})},e.prototype.SendMessageToServer=function(e){var t=this;return new Xf.Observable(function(n){try{t.socket.getValue().emit("privateMessage",e,function(t){"ok"==t.status?(e._id=t._id,e.date=t.date,e.delivered=t.delivered,n.next(e),n.complete()):n.error({code:"pvm",text:"Error in Sending Private Message"})})}catch(i){n.error({code:"pvm",text:"Error in Sending Private Message"})}})},e.prototype.SendDisconnectMessageToServer=function(e){var t=this;return new Xf.Observable(function(n){try{t.socket.getValue().emit("disconnectEventFromClient",e,function(e){"ok"==e.status?(n.next(e.msg),n.complete()):n.error({code:"pvm",text:"Error in Sending Disconnection Message"})})}catch(i){n.error({code:"pvm",text:"Error in Sending Disconnection Message"})}})},e.prototype.SendBotMessageToServer=function(e){var t=this;return new Xf.Observable(function(n){t.socket.getValue().emit("privateBotMessage",e,function(t){"ok"==t.status?(e.date=t.date,n.next(e),n.complete()):n.error("Unconfigured"==t.status?{code:"Unconfigured",data:t.data}:{code:"pvm",text:"Error in Sending Private Message"})})})},e.prototype.GotAdditionalData=function(e){var t=this;return new Xf.Observable(function(n){t.socket.getValue().emit("updateAdditionalDataInfo",e,function(e){"AdditionalDataUpdated"==e.status?(n.next(e),n.complete()):n.error({code:"uadi",text:"Error in Updating Additional Data"})})})},e.prototype.SyncState=function(e){var t=this;return new Xf.Observable(function(n){try{t.socket.getValue().emit("getState",e,function(e){n.next(e),n.complete()})}catch(i){n.error("Insufficient Data")}})},e.prototype.ChangeStateRest=function(e){var t=this;return new Xf.Observable(function(n){t._restService.SendXMLHttpRequest("/chats/changeState","POST",JSON.stringify({state:e,_id:t.session._id}),!1,!0,[{name:"Content-Type",value:"application/json"}]).subscribe(function(e){var t=JSON.parse(e);"ok"==t.status?(n.next(t),n.complete()):n.error({code:"cst",text:"Error in Changing State"})})})},e.prototype.SendDisconnectMessageToServerRest=function(e){var t=this;return new Xf.Observable(function(n){try{t._restService.SendXMLHttpRequest("/chats/disconnectEventFromClient","POST",JSON.stringify({msg:e,_id:t.session._id}),!1,!0,[{name:"Content-Type",value:"application/json"}]).subscribe(function(e){var t=JSON.parse(e);"ok"==t.status?(n.next(t.msg),n.complete()):n.error({code:"pvm",text:"Error in Sending Disconnection Message"})})}catch(i){n.error({code:"pvm",text:"Error in Sending Disconnection Message"})}})},e.prototype.GotAdditionalDataRest=function(e){var t=this;return new Xf.Observable(function(n){t._restService.SendXMLHttpRequest("/chats/updateAdditionalDataInfo","POST",JSON.stringify(e),!1,!0,[{name:"Content-Type",value:"application/json"}]).subscribe(function(e){var t=JSON.parse(e);"AdditionalDataUpdated"==t.status?(n.next(t),n.complete()):n.error({code:"uadi",text:"Error in Updating Additional Data"})})})},e.prototype.SyncStateRest=function(e){var t=this;return new Xf.Observable(function(n){try{t._restService.SendXMLHttpRequest("/chats/getState","POST",JSON.stringify(e),!1,!0,[{name:"Content-Type",value:"application/json"}]).subscribe(function(e){var t=JSON.parse(e);n.next(t),n.complete()})}catch(i){n.error("Insufficient Data")}})},e}(),tg=function(){function e(e,t,n,l){var o=this;this._postMessageService=e,this._socketService=t,this._appStateService=n,this._restService=l,this.Session=void 0,this.matchingRegex={urlRegexMatch:/((http(s)?:\/\/)?([\w-]+\.)+[\w-]+[.com]+([\w\-\.,@?^=%&amp;:\/~\+#]*[\w\-\@?^=%&amp;\/~\+#])?)/gim,script:/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gim},this.AllowTicketWhenAgentAvailable=new Jf.BehaviorSubject(!1),this.Messages=new Jf.BehaviorSubject([]),this.AgentList=new Jf.BehaviorSubject([]),this.Promotions=new Jf.BehaviorSubject([]),this.News=new Jf.BehaviorSubject([]),this.viewMode=new Jf.BehaviorSubject(void 0),this.ShowDisplay=!1,this.TempData=new Jf.BehaviorSubject(void 0),this.UpdateCredentials=new Jf.BehaviorSubject(void 0),this.LostAgent=new Ta.Subject,this.noAgentAvailable=new Jf.BehaviorSubject(!1),this.botMessages=new Jf.BehaviorSubject([]),this.botError=new Jf.BehaviorSubject(!1),this.botServiceAddress="",this.LastTouchedTime=new Jf.BehaviorSubject(void 0),this.Maximized=!1,this.AutoScroll=!0,this.Conversations=new Jf.BehaviorSubject([]),this.closeEmoji=new Ta.Subject,this.ViewingChatHistory=new Jf.BehaviorSubject(!1),this.SelectedConversation=new Jf.BehaviorSubject({}),this.noMoreRecentChatsToShow=new Jf.BehaviorSubject(!1),this.helpChatInitiated=new Jf.BehaviorSubject(!1),this.actionFormReceived=new Ta.Subject,this.closeActionForm=new Ta.Subject,this.restartingApp=new Jf.BehaviorSubject(!1),this.attachmentGallery=new Jf.BehaviorSubject(void 0),this.subscrtiptions=[],this.typing=new Jf.BehaviorSubject(!1),this.sending=new Jf.BehaviorSubject(!1),this.cannedFormOpened=new Jf.BehaviorSubject(!1),this.banned=new Jf.BehaviorSubject(!1),this.newsFetched=new Jf.BehaviorSubject(!1),this.promotionsFetched=new Jf.BehaviorSubject(!1),this.MessagesFetched=new Jf.BehaviorSubject(!1),this.forceEndedChat=new Jf.BehaviorSubject(!1),this.startOver=new Jf.BehaviorSubject(!1),this.loading=new Jf.BehaviorSubject(!0),this.gotAgent=new Ta.Subject,this.endChatByAgent=!1,this.serverDisconnect=!0,this._appStateService.Session.subscribe(function(e){if(e&&(o.Session=e,o.LastTouchedTime.next(o._appStateService.GetStorage("lasttouchedTime")),e.conversations&&e.conversations.length>0?(o.Conversations.next(e.conversations),o._appStateService.SaveStorage("conversations",o.Conversations.getValue())):o.GetConversations(),!o.ShowDisplay))switch(e.hasOwnProperty("exists")&&!e.exists&&o._appStateService.SaveChatBotState(!1),o.ShowDisplay=!0,!o.Socket||3!=e.state&&4!=e.state&&2!=e.state||o.Session&&o.Session.clientID||o.GetConversationClientIDRest(e.cid),o.Session.state){case 2:o.LoadMessagesOffline(),o.viewMode.next("message-window");break;case 3:o.LoadMessagesRest(o.Session.cid,o.LastTouchedTime.getValue()),o.viewMode.next("message-window");break;case 4:o.LoadMessagesRest(o.Session.cid,o.LastTouchedTime.getValue()),o.viewMode.next("home");break;case 5:o.LoadMessagesOffline(),o.viewMode.next("message-window");break;case 6:o.Session.workflow&&o._appStateService.SaveStorage("workFlow",o.Session.workflow?o.Session.workflow:""),o.Session.msg&&o.Session.msg.length>0&&o._appStateService.SaveStorage("msg",o.Session.msg?o.Session.msg:""),o._appStateService.ClearStorage(["messages","lasttouchedTime","notificationCount","botmessages","conversations"]),o.viewMode.next("home");break;case 7:o.LoadBotMessages(),o.viewMode.next("message-window");break;case 8:o.Session&&o.LoadBotState().subscribe(function(e){e?(o.LoadBotMessages(),o.viewMode.next("message-window")):(o.GetBotGreetingMessageRest(),o.viewMode.next("home"),o._appStateService.SaveChatBotState(!0))});break;default:o._appStateService.ClearStorage(["messages","lasttouchedTime","notificationCount","botmessages","botState","disconnectionTime"]),o.viewMode.next("home")}}),this._appStateService.Maximized.subscribe(function(e){o.Maximized=e}),this._appStateService.AutoScroll.subscribe(function(e){o.AutoScroll=e}),this._postMessageService.closeEmoji.subscribe(function(e){e&&o.closeEmoji.next(!0)}),this._appStateService.previousAgent.subscribe(function(e){o.previousAgent=e}),this._socketService.GetSocketInstance().subscribe(function(e){e?(o.subscrtiptions.push(o._socketService.GetDisconnectionStatus().subscribe(function(e){o.serverDisconnect=e})),o.subscrtiptions.push(o._socketService.GetSyncSessionStatus().subscribe(function(e){o.GetAvailableAgentsRest(),o.Permissions&&o.Permissions.news?o.GetNewsRest():(o.News.next([]),o.newsFetched.next(!0)),o.Permissions&&o.Permissions.promotions?o.GetPromotionsRest():(o.Promotions.next([]),o.promotionsFetched.next(!0))})),o.Socket=e,o.subscrtiptions.push(o._appStateService.Permissions.subscribe(function(e){o.Permissions=e,e&&o.AllowTicketWhenAgentAvailable.next(e.allowedAgentAvailable)})),o.Socket.on("privateMessage",function(e){if(o.SendHelpNotifications(),o.Maximized||"Visitors"==e.type||(o._postMessageService.SendMessage("newMessage",e,"bz-am"),o._postMessageService.SendMessage("maximize",{},"bz-am")),o.Maximized&&o.AutoScroll&&"home"!=o.viewMode.getValue()&&"Visitors"!=e.type)o._appStateService.SetMessageCount(0),o.UpdateMessageSentStatusRest();else if("Visitors"!=e.type){o._appStateService.PlayNotificationSound();var t=o._appStateService.GetStorage("notificationCount"),n=t?parseInt(t)+1:1;o._appStateService.SetMessageCount(n)}o.SaveMessage(e)}),o.Socket.on("transferChat",function(e){e.event?o.AppendEventsMessages(e.event):o._appStateService.IsNoAgent(o.Session.agent)?o._appStateService.IsNoAgent(o.Session.agent)&&!o._appStateService.IsNoAgent(o.previousAgent)&&e.agent.name!=o.previousAgent.name&&e.agent.id!=o.previousAgent.id||o.AppendEventsMessages("Connected To Agent"+e.agent.name):o.AppendEventsMessages(e.agent.name!=o.Session.agent.name&&e.agent.id!=o.Session.agent.id?"Chat Transferred To "+e.agent.name:"Connected To Agent"+e.agent.name),e.agent&&(o.Session.agent=e.agent,o.Session.state=3,o._appStateService.UpdateSession(o.Session))}),o.Socket.on("updateCallSettings",function(e){return i.__awaiter(o,void 0,void 0,function(){return i.__generator(this,function(t){return this._appStateService.AllowedCall.next(e.settings),this._postMessageService.SendMessage("updateCallSettings",e.settings,"*"),[2]})})}),o.Socket.on("agentOnline",function(e){return i.__awaiter(o,void 0,void 0,function(){var t;return i.__generator(this,function(n){return(t=this.AgentList.getValue().filter(function(t){return t._id!=e.agent._id})).unshift(e.agent),this.AgentList.next(t),[2]})})}),o.Socket.on("agentOffline",function(e){return i.__awaiter(o,void 0,void 0,function(){var t;return i.__generator(this,function(n){return t=this.AgentList.getValue().filter(function(t){return t._id!=e.agent._id}),this.AgentList.next(t),[2]})})}),o.Socket.on("agentUnavailable",function(e){return i.__awaiter(o,void 0,void 0,function(){return i.__generator(this,function(t){return e&&this.AgentList.next(this.AgentList.getValue().filter(function(t){return t._id!=e.id})),[2]})})}),o.Socket.on("endChatByAgent",function(e){return i.__awaiter(o,void 0,void 0,function(){return i.__generator(this,function(e){return this.endChatByAgent=!0,[2]})})}),o.Socket.on("noAgent",function(e){2==e.state&&o._appStateService.IsNoAgent(e.agent),o.UpdateAgentTypingState(!1),o._appStateService.UpdateSession(e),o.LostAgent.next(!0)}),o.Socket.on("userUpdated",function(e){e.status&&delete e.status,o._appStateService.UpdateSession(e)}),o.Socket.on("noAgentWithBot",function(e){"noAgent"==e.status&&delete e.status,o.Session.state=5,o._appStateService.UpdateSession(o.Session),o.viewMode.next("home"),setTimeout(function(){o.noAgentAvailable.next(!0)},0)}),o.Socket.on("visitorBanned",function(e){"ok"==e.status&&e.visitor&&o.banned.next(!0)}),o.Socket.on("gotAgent",function(e){2!=o.Session.state||o.Session.inactive||(o._appStateService.IsNoAgent(o.Session.agent)?o._appStateService.IsNoAgent(o.Session.agent)&&!o._appStateService.IsNoAgent(o.previousAgent)?o.AppendEventsMessages(e.agent.name!=o.previousAgent.name&&e.agent.id!=o.previousAgent.id?"Chat Transferred To "+e.agent.name:"Connected To Agent"):o.AppendEventsMessages("Connected To Agent"+e.agent.name):e.agent.name!=o.Session.agent.name&&e.agent.id!=o.Session.agent.id&&o.AppendEventsMessages("Chat Transferred To "+e.agent.name)),o.gotAgent.next(!0),"message-window"!=o.viewMode.getValue()&&o.viewMode.next("message-window"),o.ExtractGreetingMessage(e),o._appStateService.UpdateSession(e)}),o.Socket.on("newEngagement",function(e){return i.__awaiter(o,void 0,void 0,function(){return i.__generator(this,function(t){return(e.greetingMessage||e.msg)&&this._postMessageService.SendMessage("newMessage",e.msg||e.greetingMessage,"bz-am"),this.Maximized||(this._appStateService.SetMessageCount(1),this._postMessageService.SendMessage("maximize",{},"bz-am")),this.ExtractGreetingMessage(e),this.Session.username&&-1==this.Session.username.indexOf("Guest")&&(e.username=this.Session.username),this.Session.email&&"unregistered"!=e.username.toLowerCase()&&(e.email=this.Session.email),this._appStateService.UpdateSession(e),[2]})})}),o.Socket.on("getWorkFlow",function(e){return i.__awaiter(o,void 0,void 0,function(){return i.__generator(this,function(e){return[2]})})}),o.Socket.on("allPopUpWindowsClose",function(e){o._postMessageService.SendMessage("negotiatePopUpClose",{},"*")}),o.Socket.on("allHelpSupportWindowsClose",function(e){o._postMessageService.SendMessage("allHelpSupportWindowsClose",{},"*")}),o.Socket.on("privateMessageSent",function(e){o.Session.cid==e.cid&&(setTimeout(function(){o.Messages.next(o.Messages.getValue().map(function(e){return"Visitors"==e.type&&(e.sent=!0),e}))},500),setTimeout(function(){o.SaveMessageStorage()},0))}),o.Socket.on("typingState",function(e){3==o.Session.state&&o.UpdateAgentTypingState(e.state)}),o.Socket.on("chatBotTransferToAgent",function(e){o.AppendEventsMessages("Chat Transferred To"+e.agent.name),o.UserInformation({username:o.Session.userName?o.Session.userName.trim():"Guest"+(new Date).toLocaleTimeString().split(":").join("").split(" ")[0],email:o.Session.email?o.Session.email.trim():"Unregistered"}).subscribe(function(e){})}),o.Socket.on("cannedformReceived",function(e){e&&e.form&&e.form.length&&!o.cannedFormOpened.getValue()&&(o.actionFormReceived.next(e.form[0]),o.UpdateAgentTypingState(!1))}),o.Socket.on("closeActionForm",function(e){e&&"ok"==e.status&&setTimeout(function(){o.closeActionForm.next()},3e3)}),o.Socket.on("engageBot",function(e){1==o.Session.state&&e.botEnabled&&(o.GetBotGreetingMessageRest(),o.LoadBotState().subscribe(function(e){o._appStateService.SaveChatBotState(!0),o.Session.state=8,o.Session.agent="",o._appStateService.UpdateSession(o.Session),o._postMessageService.SendMessage("gotAgent",o.Session.agent,"bz-cb|bz-am")}))}),o.Socket.on("credentialsUpdated",function(e){"ok"==e.status&&(delete e.status,o._appStateService.UpdateSession({username:e.username,email:e.email}))}),o.subscrtiptions.push(o._postMessageService.SendFromAutoMessage.subscribe(function(e){try{o._socketService.ChangeStateRest(3).subscribe(function(t){"ok"==t.status&&(o.AppendEventsMessages("Moved to State Chatting"),o.Session=parseInt(t.session),o._appStateService.UpdateSession(o.Session),o.SendPlainMessage(e))},function(e){})}catch(t){}})),o.subscrtiptions.push(o._postMessageService.GotUserInformation.subscribe(function(e){e.username&&e.email&&(!o.Session.email||!o.Session.userName||o.Session.email&&"unregistered"==o.Session.email.toLowerCase())&&(o.Socket.emit("updateCredentials",e,function(t){"ok"==t.status&&(delete t.status,o._appStateService.UpdateSession({username:e.username,email:e.email}))}),o._appStateService.AllowEdit.next(!e.viewEdit||e.viewEdit))})),o.subscrtiptions.push(o._socketService.GetStatus().subscribe(function(e){})),o.subscrtiptions.push(o._postMessageService.GotAddionalData.subscribe(function(e){e&&o.AdditionalDataUpdate(e).subscribe(function(e){},function(e){})})),o.subscrtiptions.push(o._postMessageService.GotRequestedCarData.subscribe(function(e){o.GotRequestedCarData(e).subscribe(function(e){},function(e){})}))):o.subscrtiptions.map(function(e){e.unsubscribe()})}),this._postMessageService.initiateChatSupport.subscribe(function(e){e&&o.StartSupportChat(e)}),this._appStateService.BotServiceAddress.subscribe(function(e){o.botServiceAddress=e}),this._postMessageService.Maximize.subscribe(function(e){e&&"message-window"==o.viewMode.getValue()&&o.UpdateMessageSentStatusRest()}),this.MessagesFetched.subscribe(function(e){e&&o.GetDisconnectedTime()})}return e.prototype.ServerDisconnection=function(){this.forceEndedChat.next(!0),this._appStateService.endChat.next(!0),this.AppendEventsMessages(this.endChatByAgent?"Chat ended by "+this.Session.agent.name:"Chat ended due to inactivity",!0),this.UpdateAgentTypingState(!1),this.Maximized||8==this.Session.state||this._postMessageService.SendMessage("maximize",{},"bz-cw"),this._appStateService.ShowEndchatDialog.next(!0)},e.prototype.UpdateMessageSentStatus=function(){this.Socket.emit("privateMessageRecieved",{sessionid:this.Session._id,cid:this.Session.cid,type:"Agents"},function(e){})},e.prototype.UpdateMessageSentStatusRest=function(){try{this.Session.cid&&this._restService.SendXMLHttpRequest("/chats/privateMessageRecieved","POST",JSON.stringify({sessionid:this.Session.csid,cid:this.Session.cid,type:"Agents"}),!1,!0,[{name:"Content-Type",value:"application/json"}]).subscribe(function(e){JSON.parse(e)})}catch(e){}},e.prototype.UpdateAgentTypingState=function(e){this.typing.next(e)},e.prototype.GetBotGreetingMessage=function(){var e=this;this.Socket&&this.Socket.emit("getBotGreetingMessage",{state:this.Session?this.Session.state:"1"},function(t){t.botGreetingMessage&&t.botGreetingMessage.length&&e.SaveBotMessage(t.botGreetingMessage)})},e.prototype.GetBotGreetingMessageRest=function(){var e=this;try{this._restService.SendXMLHttpRequest("/chats/getBotGreetingMessage","POST",JSON.stringify({state:this.Session?this.Session.state:"1",_id:this.Session.csid}),!1,!0,[{name:"Content-Type",value:"application/json"}]).subscribe(function(t){var n=JSON.parse(t);n.botGreetingMessage&&n.botGreetingMessage.length&&e.SaveBotMessage(n.botGreetingMessage)})}catch(t){}},e.prototype.SaveMessage=function(e){this.Messages.getValue().push(e),this.Messages.next(this.Messages.getValue()),this._appStateService.SaveStorage("lasttouchedTime",e.date?e.date:(new Date).toISOString()),this.SaveMessageStorage()},e.prototype.SaveMessageStorage=function(){this._appStateService.SaveStorage("messages",this.Messages.getValue())},e.prototype.SaveBotMessage=function(e){this.botMessages.next(e),this._appStateService.SaveStorage("botmessages",e),this._appStateService.SaveStorage("lasttouchedTime",e[e.length-1].date?e[e.length-1].date:(new Date).toISOString())},e.prototype.LoadBotMessages=function(){this.botMessages.next(this._appStateService.GetStorage("botmessages"))},e.prototype.LoadBotState=function(){var e=this;return new Xf.Observable(function(t){t.next(e._appStateService.GetStorage("botState")),t.complete()})},e.prototype.ClearBotMessages=function(){this._appStateService.ClearStorage(["botmessages"]),this.botMessages.next([])},e.prototype.GetConversations=function(){this.Conversations.next(this._appStateService.GetStorage("conversations"))},e.prototype.SendTypingEvent=function(e){var t=this;return new Xf.Observable(function(n){t.Socket.emit("visitorTyping",{state:e},function(e){}),n.next(!0),n.complete()})},e.prototype.SendTypingEventRest=function(e){var t=this;return new Xf.Observable(function(n){try{t._restService.SendXMLHttpRequest("/chats/visitorTyping","POST",JSON.stringify({state:e,_id:t.Session.csid}),!1,!0,[{name:"Content-Type",value:"application/json"}]).subscribe(function(e){n.next(!0),n.complete()})}catch(i){}})},e.prototype.SneakPeak=function(e){var t=this;return new Xf.Observable(function(n){t.Socket.emit("visitorSneakPeak",{msg:e},function(e){}),n.next(!0),n.complete()})},e.prototype.SneakPeakRest=function(e){var t=this;return new Xf.Observable(function(n){try{t._restService.SendXMLHttpRequest("/chats/visitorSneakPeak","POST",JSON.stringify({msg:e,_id:t.Session.csid}),!1,!0,[{name:"Content-Type",value:"application/json"}]).subscribe(function(e){n.next(!0),n.complete()})}catch(i){}})},e.prototype.GetConversationClientID=function(e){var t=this;this.Socket.emit("getConversationClientID",{cid:e},function(e){e&&t._appStateService.UpdateSession(e)})},e.prototype.GetConversationClientIDRest=function(e){var t=this;try{this._restService.SendXMLHttpRequest("/chats/getConversationClientID","POST",JSON.stringify({cid:e,_id:this.Session.csid}),!1,!0,[{name:"Content-Type",value:"application/json"}]).subscribe(function(e){var n=JSON.parse(e);e&&t._appStateService.UpdateSession(n)})}catch(n){}},e.prototype.AppendEventsMessages=function(e,t){if(void 0===t&&(t=!1),e&&(3==this.Session.state||4==this.Session.state||2==this.Session.state||t)){var n={from:this.Session.agent&&this.Session.agent.name?this.Session.agent.name:this.previousAgent&&this.previousAgent.name?this.previousAgent.name:"",to:this.Session.username?this.Session.username:"",body:e,type:"Events",cid:this.Session.cid?this.Session.cid:"",attachment:!1,date:(new Date).toISOString(),form:[],delivered:!0,sent:!0,chatFormData:""};8==this.Session.state?this.AppendChatBotMessage(n):this.SaveMessage(n)}},e.prototype.SendDisconnectEventToServer=function(e){var t=this;try{(e&&3==this.Session.state||4==this.Session.state||2==this.Session.state)&&this._socketService.SendDisconnectMessageToServerRest(e).subscribe(function(e){e&&t.SaveMessage(e)},function(e){})}catch(n){}},e.prototype.FormatSurvey=function(e,t){var n='<h5 class="clearfix p-0">'+t+"</h5>";return Object.keys(e).map(function(t){n+=t+" : "+e[t]+"<br>"}),{from:this.Session.username?this.Session.username:"",to:this.Session.agent?this.Session.agent:void 0,body:n,type:"Visitors",cid:this.Session.cid?this.Session.cid:"",attachment:!1,date:(new Date).toISOString(),chatFormData:t}},e.prototype.AppendFormsMessages=function(e,t){var n=this;return new Xf.Observable(function(i){try{n.SendMessage(n.FormatSurvey(e,t)),i.next(!0),i.complete()}catch(l){i.error()}})},e.prototype.ReplaceSendingMessage=function(e){var t=this.Messages.getValue().map(function(t){return"Visitors"!=t.type&&"Events"!=t.type||(t&&t.sending&&t.date==e.date&&e.delivered?(t.sending=!1,Object.keys(e).map(function(n){t[n]=e[n]})):t.hasOwnProperty("delivered")&&t.delivered&&t.sending?(t.retry=!1,t.sending=!1):t.hasOwnProperty("delivered")&&!t.delivered?(t.sending=!1,t.retry=!0):t.sending=!1),t});this.Messages.next(t),this._appStateService.SaveStorage("lasttouchedTime",e.date?e.date:(new Date).toISOString()),this.SaveMessageStorage()},e.prototype.SendMessage=function(e,t){var n=this;if(void 0===t&&(t=!1),t&&(e.retry=!1,this.Messages.next(this.Messages.getValue().filter(function(t,n){return t._id!=e._id}))),this._appStateService.AutoScroll.next(!0),3==this.Session.state||4==this.Session.state||2==this.Session.state){e.sending=!0,this.SaveMessage(e);try{this.sending.next(!0),this._socketService.SendMessageToServer(e).subscribe(function(e){e&&(n.sending.next(!1),n.ReplaceSendingMessage(e),n._appStateService.SetMessageCount(0))},function(t){n.sending.next(!1),e.retry=!0,n.ReplaceSendingMessage(e)})}catch(i){this.ReplaceSendingMessage(e),setTimeout(function(){n.sending.next(!1)},1e3)}}},e.prototype.GetIndicesOf=function(e,t,n){var i=e.length;if(0==i)return[];var l,o=0,r=[];for(n||(t=t.toLowerCase(),e=e.toLowerCase());(l=t.indexOf(e,o))>-1;)r.push(l),o=l+i;return r},e.prototype.CheckUrl=function(e,t){var n=this;return void 0===t&&(t="urlRegexMatch"),new Xf.Observable(function(i){var l=e.match(n.matchingRegex[t]),o="",r=[];l&&l.length?(e=e.replace(/(?:\r\n|\r|\n)/g," (lb) "),(l=Ba(l))&&l.length&&(r=e.split(" ")).map(function(e,t){return l.map(function(t){var n=t.replace(/www./,"");n=(-1===t.indexOf("http")?"http://":"")+t;var i=t.replace(t,'<a href="'+n+'" target="_blank">'+t+"</a>");t==e&&(e=i)}),o+=t!=r.length-1?e+" ":e,e}),i.next(o.split(" (lb) ").join("\n")),i.complete()):(i.next(e),i.complete())})},e.prototype.CheckScript=function(e){var t=document.createElement("div");t.innerHTML=e;for(var n=t.getElementsByTagName("script"),i=n.length;i--;)n[i].parentNode.removeChild(n[i]);return t.innerHTML},e.prototype.ReplaceHtmlEntities=function(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},e.prototype.ReplaceAll=function(e,t,n){var i=this;return new Xf.Observable(function(n){var l=e,o="",r="",u=e.match(i.matchingRegex[t]);u&&u.length?(u=Ba(u)).map(function(e){for(;""!=l&&-1!==l.indexOf(e);){var t=l.indexOf(e);if(r+=l.substring(0,t),o=l.substring(t,t+e.length),r+="<p>"+o+"</p>",-1==(l=l.substring(t+e.length)).indexOf(e)){r+=l;break}}}):r=e,n.next(r),n.complete()})},e.prototype.SendPlainMessage=function(e,t){var n=this;void 0===t&&(t=[]);try{if(!e.trim()&&t&&!t.length)return;var i=this.ReplaceHtmlEntities(e);this.CheckUrl(i).subscribe(function(e){if(e&&e.replace(/^\s+|\s+$/g,"")||!t||t.length)if(e=e.replace(/^\s+|\s+$/g,""),n.Session.state&&n.Session.state>1&&n.Session.state<=5){var i={from:n.Session.username?n.Session.username:"",to:n.Session.agent?n.Session.agent:void 0,body:e,type:"Visitors",cid:n.Session.cid?n.Session.cid:"",attachment:!1,date:(new Date).toISOString(),form:t||[]};n.SendMessage(i)}else 7!=n.Session.state&&8!=n.Session.state||(i={from:n.Session.username?n.Session.username:"",to:"Assistant",body:e,type:"Visitors",cid:n.Session.cid?n.Session.cid:"",attachment:!1,date:(new Date).toISOString(),form:t||[]},n._appStateService.AutoScroll.next(!0),7==n.Session.state?n.SendWorkFlowBotMessage(i):n.SendChatBotMessage(i))})}catch(l){}},e.prototype.SendWorkFlowBotMessage=function(e){var t=this;this._socketService.SendBotMessageToServer(e).subscribe(function(e){setTimeout(function(){t.SaveMessage(e),t._appStateService.SetMessageCount(0),t.ClearBotMessages(),t.LoadMessagesRest(t.Session.cid,t.LastTouchedTime.getValue())},1e3)},function(e){var n={from:t.Session.agent.name?t.Session.agent.name:"Assistant",to:t.Session.username?t.Session.username:"",body:"Sorry, I'm not sure what you meant!",type:"ChatBot",cid:t.Session.cid?t.Session.cid:"",attachment:!1,date:(new Date).toISOString()};"Unconfigured"==e.code&&(t.botError.next(!0),t.botMessages.next(t.botMessages.getValue().concat(e.data)),setTimeout(function(){t.botMessages.next(t.botMessages.getValue().concat(n)),t.SaveBotMessage(t.botMessages.getValue())},500))})},e.prototype.SendChatBotMessage=function(e){var t=this;this.AppendChatBotMessage(e),this.UpdateAgentTypingState(!0),this.ChatBotMessage(e).subscribe(function(e){setTimeout(function(){e&&e.text&&!e.text.match(/Did/)?t.AppendChatBotMessage(t.GetChatBotReplyMessage(e.text)):t.AppendChatBotMessage(t.GetChatBotReplyMessage("Sorry, I'm not sure what you meant!")),t.UpdateAgentTypingState(!1)},100)},function(e){t.AppendChatBotMessage(t.GetChatBotReplyMessage(e)),t.UpdateAgentTypingState(!1)})},e.prototype.ChatBotMessage=function(e){var t=this;return new Xf.Observable(function(n){t.Socket.emit("botMessage",{msg:e.body,email:t.Session.email?t.Session.email:"",csid:t.Session._id,nsp:t.Session.nsp},function(e){e.reply?(n.next(e.reply),n.complete()):n.error(e.error)})})},e.prototype.GetChatBotReplyMessage=function(e,t){return{from:this.Session.agent?this.Session.agent:"Assistant",to:this.Session.username?this.Session.username:"",body:e,type:"ChatBot",cid:this.Session.cid?this.Session.cid:"",attachment:!1,date:(new Date).toISOString(),form:t||[]}},e.prototype.AppendChatBotMessage=function(e){this.botMessages.next(this.botMessages.getValue().concat(e)),this.SaveBotMessage(this.botMessages.getValue())},e.prototype.UpdateMessages=function(e){this.Messages.next(this.Messages.getValue().concat(e))},e.prototype.SendAttatchment=function(e){var t=this;try{(this.Session.state&&this.Session.state>"1"&&this.Session.state<"5"||"7"==this.Session.state)&&(this._appStateService.AutoScroll.next(!0),this._socketService.SendMessageToServer(e).subscribe(function(e){t.SaveMessage(e)},function(e){}))}catch(n){}},e.prototype.EndChatOnDisconnect1=function(){this.ShowDisplay=!1,this.botMessages.next([]),this.Messages.next([]),this.AgentList.next([]),this.Promotions.next(void 0),this.News.next(void 0),this._appStateService.Session.next(void 0),this._socketService.Disconnect()},e.prototype.EndChat=function(e){var t=this;void 0===e&&(e=!0),this._appStateService.endChat.next(!0),this._appStateService.SaveChatBotState(!1),this._appStateService.SaveStorage("sessionStart",!1),this._socketService.Disconnect(),e?this._appStateService.ShowEndchatDialog.next(!0):setTimeout(function(){var e={};t.Session&&(t.Session.username&&-1!=t.Session.username.indexOf("Guest")?e={}:(e.username=t.Session.username,e.useremail=t.Session.email,e.phone=t.Session.phone?t.Session.phone:""))},0)},e.prototype.EndChatOnDisconnect=function(){this._appStateService.Permissions.next(void 0),this.News.next(void 0),this.Messages.next([]),this.botMessages.next([]),this.AgentList.next([]),this.Promotions.next(void 0),this.ShowDisplay=!1,this._appStateService.Session.next(void 0),this._socketService.Disconnect()},e.prototype.ClearSessionData=function(){var e=this;return new Xf.Observable(function(t){e._appStateService.endChat.next(!0),e._appStateService.RefreshSession(),e._appStateService.Permissions.next(void 0),e.News.next(void 0),e.Messages.next([]),e.botMessages.next([]),e.AgentList.next([]),e.Promotions.next(void 0),e.ShowDisplay=!1,t.next(!0),t.complete()})},e.prototype.ChangeState=function(e){var t=this;return new Xf.Observable(function(n){t._socketService.ChangeStateRest(e).subscribe(function(e){"ok"==e.status?(t.Session.state=3,e.session&&t._appStateService.UpdateSession(e.session),n.next(e),n.complete()):n.error({code:"cst",text:"Error in Changing State"})},function(e){n.error({code:"cst",text:"Error in Changing State"})})})},e.prototype.LoadMessages=function(e,t){var n=this,i=this._appStateService.GetStorage("messages"),l=i.filter(function(e){return e.sent&&"Events"!=e.type}),o=(i.filter(function(e){return e.delivered&&!e.sent&&"Events"!=e.type}),l&&l.length?l[l.length-1]._id:"");this.Socket.emit("getMessages",{cid:e,lasttouchedTime:t,_id:o},function(e){i=(i=i.filter(function(t){return null==e.find(function(e){return t._id==e._id})})).filter(function(e){return e._id}),o&&n.Messages.next(i),e&&(e.length?(n.Messages.next(o?n.Messages.getValue().concat(e):e),t=new Date(e[e.length-1].date)?e[e.length-1].date:(new Date).toISOString(),n._appStateService.SaveStorage("messages",n.Messages.getValue()),n._appStateService.SaveStorage("lasttouchedTime",t),n.MessagesFetched.next(!0)):(n._appStateService.SaveStorage("lasttouchedTime",(new Date).toISOString()),n.MessagesFetched.next(!0)))})},e.prototype.GetLastMessageIDForFetching=function(){var e=this;return new Xf.Observable(function(t){var n=e._appStateService.GetStorage("messages"),i=n.filter(function(e){return e.sent&&"Events"!=e.type});n.filter(function(e){return e.delivered&&!e.sent&&"Events"!=e.type}),t.next({id:i&&i.length?i[i.length-1]._id:"",messages:n}),t.complete()})},e.prototype.LoadMessagesRest=function(e,t){var n=this,i=this._appStateService.GetStorage("messages"),l=i.filter(function(e){return e.sent&&"Events"!=e.type}),o=(i.filter(function(e){return e.delivered&&!e.sent&&"Events"!=e.type}),l&&l.length?l[l.length-1]._id:"");this._restService.SendXMLHttpRequest("/chats/getMessages","POST",JSON.stringify({cid:e,lasttouchedTime:t,_id:o,sessionID:this.Session.csid}),!1,!0,[{name:"Content-Type",value:"application/json"}]).subscribe(function(e){var l=JSON.parse(e);i=(i=i.filter(function(e){return null==l.find(function(t){return e._id==t._id})})).filter(function(e){return e._id}),o&&n.Messages.next(i),l&&(l.length?(n.Messages.next(o?n.Messages.getValue().concat(l):l),t=new Date(l[l.length-1].date)?l[l.length-1].date:(new Date).toISOString(),n._appStateService.SaveStorage("messages",n.Messages.getValue()),n._appStateService.SaveStorage("lasttouchedTime",t),n.MessagesFetched.next(!0)):(n._appStateService.SaveStorage("lasttouchedTime",(new Date).toISOString()),n.MessagesFetched.next(!0)))})},e.prototype.LoadMessagesOffline=function(){this.Messages.next(this._appStateService.GetStorage("messages")),this._appStateService.SaveStorage("lasttouchedTime",(new Date).toISOString()),this.MessagesFetched.next(!0)},e.prototype.SubmitSurvey=function(e,t){var n=this;return new Xf.Observable(function(i){n.Socket.emit("submitsurvey",{survey:e,feedbackForm:t,forceEnded:n.forceEndedChat.getValue()},function(e){"ok"==e.status?(i.next(!0),i.complete()):i.error({code:"sur",text:"Error in Submitting Survey"})})})},e.prototype.SubmitSurveyRest=function(e,t){var n=this;return new Xf.Observable(function(i){n._restService.SendXMLHttpRequest("/visitor/submitSurvey","POST",JSON.stringify({survey:e,feedbackForm:t,forceEnded:n.forceEndedChat.getValue(),sid:n.Session._id||n.Session.id,cid:n.Session.cid}),!1,!0,[{name:"Content-Type",value:"application/json"}]).subscribe(function(e){i.next(!0),i.complete()})})},e.prototype.SubmitTicket=function(e){var t=this;return new Xf.Observable(function(n){t.Socket.emit("submitTicket",e,function(e){"ok"==e.status?n.next(e):"chat"==e.status?(t.ExtractGreetingMessage(e.session),t._appStateService.UpdateSession(e.session),n.next(e)):n.error({code:"stt",text:"Error in Submitting Ticket"})})})},e.prototype.SubmitTicketRest=function(e){var t=this;return new Xf.Observable(function(n){t._restService.SendXMLHttpRequest("/chats/submitTicket","POST",JSON.stringify({ticket:e,sessionID:t.Session.csid}),!1,!0,[{name:"Content-Type",value:"application/json"}]).subscribe(function(e){var i=JSON.parse(e);"ok"==i.status?n.next(i):"chat"==i.status?(t.ExtractGreetingMessage(i.session),t._appStateService.UpdateSession(i.session),n.next(i)):n.error({code:"stt",text:"Error in Submitting Ticket"})})})},e.prototype.ConvertChatToTicket=function(e){var t=this;return new Xf.Observable(function(n){t.Socket.emit("convertChatToTicket",e,function(e){"ok"==e.status?n.next(!0):n.error({code:"stt",text:"Error in Submitting Ticket"})})})},e.prototype.UserInformation=function(e){var t=this;return new Xf.Observable(function(n){var i=window.setTimeout(function(){n.error({code:"uit",text:"Register User Timeout"})},3e4);t.Socket.emit(1==t.Session.state||8==t.Session.state?"userinformation":"updateUserInfo",e,function(e){if("noAgent"==e.status)n.next(!1);else{e.status&&delete e.status,clearTimeout(i),t.botMessages.getValue()&&t.botMessages.getValue().length&&t.ClearBotMessages(),t._appStateService.UpdateSession(e),"message-window"!=t.viewMode.getValue()&&t.viewMode.next("message-window");var l={};l.username=e.username,l.email=e.email,l.phone=e.phone?e.phone:"",t.ExtractGreetingMessage(e),n.next(!0),n.complete()}})})},e.prototype.UserInformationRest=function(e){var t=this;return new Xf.Observable(function(n){var i=1==t.Session.state||8==t.Session.state?"userinformation":"updateUserInfo",l=window.setTimeout(function(){n.error({code:"uit",text:"Register User Timeout"})},3e4);t._restService.SendXMLHttpRequest("/chats/"+i,"POST",JSON.stringify({data:e,sessionid:t.Session.csid}),!1,!0,[{name:"Content-Type",value:"application/json"}]).subscribe(function(e){var i=JSON.parse(e);if("noAgent"==i.status)n.next(!1);else{i.status&&delete i.status,clearTimeout(l),t.botMessages.getValue()&&t.botMessages.getValue().length&&t.ClearBotMessages(),t._appStateService.UpdateSession(i);var o={};o.username=i.username,o.email=i.email,o.phone=i.phone?i.phone:"",t.ExtractGreetingMessage(i),n.next(!0),n.complete()}})})},e.prototype.UpdateUserInformation=function(e){var t=this;return new Xf.Observable(function(n){t.Socket.emit("updateUserInfo",e,function(e){"userUpdated"==e.status?(delete e.status,t._appStateService.UpdateSession(e),n.next(e)):n.error({code:"uui",text:"Error in Updating User"})})})},e.prototype.UpdateUserInformationRest=function(e){var t=this;return new Xf.Observable(function(n){t._restService.SendXMLHttpRequest("/chats/updateUserInfo","POST",JSON.stringify({data:e,sessionid:t.Session.csid}),!1,!0,[{name:"Content-Type",value:"application/json"}]).subscribe(function(e){var i=JSON.parse(e);"userUpdated"==i.status?(delete i.status,t._appStateService.UpdateSession(i),n.next(i)):n.error({code:"uui",text:"Error in Updating User"})})})},e.prototype.UpdateCredentialsForm=function(e){var t=this;return new Xf.Observable(function(n){t.Socket.emit("updateCredentials",e,function(i){"ok"==i.status?(t._appStateService.UpdateSession({username:e.username,email:e.email,phone:e.phone,message:e.message}),delete i.status,delete i.message,t.AppendFormsMessages(i,"Credentials Updated").subscribe(function(e){n.next(!0),n.complete()})):n.error(i)})})},e.prototype.UpdateCredentialsFormRest=function(e){var t=this;return new Xf.Observable(function(n){t._restService.SendXMLHttpRequest("/chats/updateCredentials","POST",JSON.stringify({data:e,sessionid:t.Session.csid}),!1,!0,[{name:"Content-Type",value:"application/json"}]).subscribe(function(e){var i=JSON.parse(e);"ok"==i.status?(t._appStateService.UpdateSession({username:e.username,email:e.email,phone:e.phone,message:e.message}),delete i.status,delete i.message,t.AppendFormsMessages(i,"Credentials Updated").subscribe(function(e){n.next(!0),n.complete()})):n.error(i)})})},e.prototype.WorkFlowInput=function(e){var t=this;return new Xf.Observable(function(n){t.Socket.emit("workFlowInput",{value:e},function(e){"ok"==e.status?(n.next(e),n.complete()):n.error({code:"wfi",text:"Error in Submitting Workflow"})})})},e.prototype.WorkFlowInputRest=function(e){var t=this;return new Xf.Observable(function(n){t._restService.SendXMLHttpRequest("/chats/workFlowInput","POST",JSON.stringify({value:e,sessionid:t.Session.csid}),!1,!0,[{name:"Content-Type",value:"application/json"}]).subscribe(function(e){var t=JSON.parse(e);"ok"==t.status?(n.next(t),n.complete()):n.error({code:"wfi",text:"Error in Submitting Workflow"})})})},e.prototype.PrivateBotMessage=function(e){var t=this;return new Xf.Observable(function(n){t.Socket.emit("privateBotMessage",e.msg,function(e){"ok"==e.status?n.next(e):n.error({code:"pvm",text:"Error in Sending Private Message"})})})},e.prototype.AdditionalDataUpdate=function(e){var t=this;return new Xf.Observable(function(n){t.Socket.emit("updateAdditionalDataInfo",e,function(e){"AdditionalDataUpdated"==e.status?(n.next(e),n.complete()):n.error("Error in Updating Additional Data")})})},e.prototype.AdditionalDataUpdateRest=function(e){var t=this;return new Xf.Observable(function(n){t._restService.SendXMLHttpRequest("/chats/updateAdditionalDataInfo","POST",JSON.stringify({data:e,sessionID:t.Session.csid}),!1,!0,[{name:"Content-Type",value:"application/json"}]).subscribe(function(e){var t=JSON.parse(e);"AdditionalDataUpdated"==t.status?(n.next(t),n.complete()):n.error("Error in Updating Additional Data")})})},e.prototype.GotRequestedCarData=function(e){var t=this;return new Xf.Observable(function(n){t.Socket.emit("updateRequestedCarInfo",e,function(e){"CarRequestedDataUpdated"==e.status?(n.next(e),n.complete()):n.error("Error in Updating Requested Car Data")})})},e.prototype.GotRequestedCarDataRest=function(e){var t=this;return new Xf.Observable(function(n){t._restService.SendXMLHttpRequest("/chats/updateRequestedCarInfo","POST",JSON.stringify({data:e,sessionID:t.Session.csid}),!1,!0,[{name:"Content-Type",value:"application/json"}]).subscribe(function(e){var t=JSON.parse(e);"updateRequestedCarInfo"==t.status?(n.next(t),n.complete()):n.error("Error in Updating Requested Car Data")})})},e.prototype.DeleteMessageFromSession=function(e){(e.msg||e.greetingMessage)&&(delete e.msg||delete e.greetingMessage)},e.prototype.ExtractGreetingMessage=function(e){if(e&&e.credentials){var t=JSON.parse(JSON.stringify(e.credentials));delete e.credentials,this.SaveMessage(t)}(e.greetingMessage||e.msg)&&(t=JSON.parse(JSON.stringify(e.greetingMessage||e.msg)),delete e.greetingMessage,this.SaveMessage(t))},e.prototype.GetAvailableAgents=function(){var e=this;try{this.Socket.emit("getAvailableAgents",{},function(t){"ok"==t.status?(e.AgentList.next(t.agentsList.length?t.agentsList:[]),e.loading.next(!1)):e.loading.next(!1)})}catch(t){console.log("error in getting agents"),this.loading.next(!1)}},e.prototype.GetAvailableAgentsRest=function(){var e=this;try{this._restService.SendXMLHttpRequest("/chats/getAvailableAgents","POST",JSON.stringify({sessionid:this.Session.csid}),!1,!0,[{name:"Content-Type",value:"application/json"}]).subscribe(function(t){var n=JSON.parse(t);"ok"==n.status?(e.AgentList.next(n.agentsList.length?n.agentsList:[]),e.loading.next(!1)):e.loading.next(!1)})}catch(t){console.log("error in getting agents"),this.loading.next(!1)}},e.prototype.GetNews=function(){var e=this;this.Socket.emit("getNews",{},function(t){e.newsFetched.next(!0),"ok"==t.status&&e.News.next(t.news.length?t.news:[])})},e.prototype.GetNewsRest=function(){var e=this;this._restService.SendXMLHttpRequest("/chats/getNews","POST",JSON.stringify({sessionid:this.Session.csid}),!1,!0,[{name:"Content-Type",value:"application/json"}]).subscribe(function(t){var n=JSON.parse(t);e.newsFetched.next(!0),"ok"==n.status&&e.News.next(n.news.length?n.news:[])})},e.prototype.GetPromotions=function(){var e=this;this.Socket.emit("getPromotions",{},function(t){"ok"==t.status&&e.Promotions.next(t.promotions.length?t.promotions:[]),e.promotionsFetched.next(!0)})},e.prototype.GetPromotionsRest=function(){var e=this;this._restService.SendXMLHttpRequest("/chats/getPromotions","POST",JSON.stringify({sessionid:this.Session.csid}),!1,!0,[{name:"Content-Type",value:"application/json"}]).subscribe(function(t){var n=JSON.parse(t);"ok"==n.status&&e.Promotions.next(n.promotions.length?n.promotions:[]),e.promotionsFetched.next(!0)})},e.prototype.GetFAQS=function(e){var t=this;return new Xf.Observable(function(n){t.Socket.emit("getFAQS",{text:e},function(e){"ok"==e.status?(n.next(e),n.complete()):n.error("Unable to Load Faqs")})})},e.prototype.GetFAQSRest=function(e){var t=this;return new Xf.Observable(function(n){t._restService.SendXMLHttpRequest("/chats/getFAQS","POST",JSON.stringify({sessionid:t.Session.csid,text:e}),!1,!0,[{name:"Content-Type",value:"application/json"}]).subscribe(function(e){var t=JSON.parse(e);"ok"==t.status?(n.next(t),n.complete()):n.error("Unable to Load Faqs")})})},e.prototype.GetWorkFlows=function(){this.Socket.emit("getWorkFlows",{},function(e){})},e.prototype.GetWorkFlowsRest=function(){this._restService.SendXMLHttpRequest("/chats/getWorkFlows","POST",JSON.stringify({sessionid:this.Session.csid}),!1,!0,[{name:"Content-Type",value:"application/json"}]).subscribe(function(e){JSON.parse(e)})},e.prototype.FetchRecentChatMessages=function(e){var t=this;return new Xf.Observable(function(n){t.Socket.emit("getSelectedChat",{cid:e},function(e){"ok"==e.status?(n.next(e.msgList),n.complete()):n.error()})})},e.prototype.FetchRecentChatMessagesRest=function(e){var t=this;return new Xf.Observable(function(n){t._restService.SendXMLHttpRequest("/chats/getSelectedChat","POST",JSON.stringify({cid:e,sessionid:t.Session.csid}),!1,!0,[{name:"Content-Type",value:"application/json"}]).subscribe(function(e){var t=JSON.parse(e);"ok"==t.status?(n.next(t.msgList),n.complete()):n.error()})})},e.prototype.ShowSelectedChat=function(e){var t=this;this.Conversations.getValue()[e].msgFetched?(this.SelectedConversation.next({conversationDetails:this.Conversations.getValue()[e],msgList:this.Conversations.getValue()[e].msgList}),this.viewMode.next("message-window"),this.ViewingChatHistory.next(!0)):this.FetchRecentChatMessagesRest(this.Conversations.getValue()[e]._id).subscribe(function(n){n&&n.length&&(t.Conversations.getValue().map(function(i){i._id==t.Conversations.getValue()[e]._id&&(t.Conversations.getValue()[e].msgFetched=!0,t.Conversations.getValue()[e].msgList=n)}),t.SelectedConversation.next({conversationDetails:t.Conversations.getValue()[e],msgList:n}),t.viewMode.next("message-window"),t.ViewingChatHistory.next(!0))})},e.prototype.CheckIfMoreConversations=function(){var e=this;return new Xf.Observable(function(t){e.Session.conversations.length?e.Socket.emit("checkMoreRecentChats",{deviceID:e.Session.deviceID,id:e.Conversations.getValue()[e.Conversations.getValue().length-1]._id},function(n){e.noMoreRecentChatsToShow.next(n.noMoreChats),t.next(!0),t.complete()}):t.next()})},e.prototype.CheckIfMoreConversationsRest=function(){var e=this;return new Xf.Observable(function(t){e.Session.conversations.length?e._restService.SendXMLHttpRequest("/chats/getMoreRecentChats","POST",JSON.stringify({deviceID:e.Session.deviceID,_id:e.Conversations.getValue()[e.Conversations.getValue().length-1]._id,sessionid:e.Session.csid}),!1,!0,[{name:"Content-Type",value:"application/json"}]).subscribe(function(n){var i=JSON.parse(n);e.noMoreRecentChatsToShow.next(i.noMoreChats),t.next(!0),t.complete()}):t.next()})},e.prototype.GetMoreRecentChats=function(e,t){var n=this;return new Xf.Observable(function(i){n.Socket.emit("getMoreRecentChats",{deviceID:e,_id:t},function(e){"ok"==e.status?(e.chats&&(e.chats.length>0?e.chats.length<14?(n.Conversations.next(n.Conversations.getValue().concat(e.chats)),i.next(!1),i.complete()):(n.Conversations.next(n.Conversations.getValue().concat(e.chats)),i.next(!0),i.complete()):(i.next(!1),i.complete())),e.noMoreChats&&n.noMoreRecentChatsToShow.next(!0)):i.error("Error in getting more Recent Conversation")})})},e.prototype.GetMoreRecentChatsRest=function(e,t){var n=this;return new Xf.Observable(function(i){n._restService.SendXMLHttpRequest("/chats/getMoreRecentChats","POST",JSON.stringify({sessionid:n.Session.csid,deviceID:e,_id:t}),!1,!0,[{name:"Content-Type",value:"application/json"}]).subscribe(function(e){var t=JSON.parse(e);"ok"==t.status?(t.chats&&(t.chats.length>0?t.chats.length<14?(n.Conversations.next(n.Conversations.getValue().concat(t.chats)),i.next(!1),i.complete()):(n.Conversations.next(n.Conversations.getValue().concat(t.chats)),i.next(!0),i.complete()):(i.next(!1),i.complete())),t.noMoreChats&&n.noMoreRecentChatsToShow.next(!0)):i.error("Error in getting more Recent Conversation")})})},e.prototype.CloseNegotiate=function(){var e=this;return new Xf.Observable(function(t){e.Socket.emit("negotiatePopUpClose",{},function(e){"ok"==e.status?(t.next(!0),t.complete()):(t.next(!1),t.complete())})})},e.prototype.CloseHelpWindow=function(){var e=this;return new Xf.Observable(function(t){e.Socket.emit("CloseHelpWindow",{},function(e){"ok"==e.status?(t.next(!0),t.complete()):(t.next(!1),t.complete())})})},e.prototype.SendHelpNotifications=function(){this._postMessageService.SendMessage("SupportNotifications",{},"*")},e.prototype.StartSupportChat=function(e){var t={username:e.username?e.username.trim():"Guest"+(new Date).toLocaleTimeString().split(":").join("").split(" ")[0],email:e.email?e.email.trim():"Unregistered"};this.helpChatInitiated.next(t)},e.prototype.GetDisconnectedTime=function(){if(this.Session&&(3==this.Session.state||4==this.Session.state||2==this.Session.state)&&this.Session.clientID&&!this._appStateService.endChat.getValue()){var e=this._appStateService.GetStorage("disconnectionTime");e&&this.IsValidDate(new Date(e))?(this.SendDisconnectEventToServer("Visitor was disconnected from "+this.GetCurrentLocalTime(e)+" to "+this.GetCurrentLocalTime()+" due to connection loss"),this._appStateService.RemoveStorage("disconnectionTime")):this._appStateService.RemoveStorage("disconnectionTime")}},e.prototype.GetCurrentLocalTime=function(e){var t=e?new Date(e):new Date;return t.toDateString()+" "+t.getHours()+":"+t.getMinutes()+":"+t.getSeconds()},e.prototype.IsValidDate=function(e){return"[object Date]"===Object.prototype.toString.call(e)&&!isNaN(e.getTime())},e.prototype.OpenConversations=function(){var e=this;this.CheckIfMoreConversationsRest().subscribe(function(t){e.ViewingChatHistory.next(!0),e.viewMode.next("conversation-window")})},e.prototype.SessionStartOver=function(e){var t=this;return void 0===e&&(e=!1),new Xf.Observable(function(n){var i={};e&&t.loading.next(!0),t.forceEndedChat.next(!1),t.Session&&(t.Session.username&&-1!==t.Session.username.indexOf("Guest")?i={}:(i.username=t.Session.username,i.useremail=t.Session.email,i.phone=t.Session.phone?t.Session.phone:"")),t.ViewingChatHistory.next(!1),t.endChatByAgent=!1,t._appStateService.Session.next(void 0),t._postMessageService.SendMessage("restartChat",i,"*"),n.next(!0),n.complete()})},e}(),ng=function(){function e(e,t){var n=this;this.dialogRef=e,this._appStateService=t,this.themeSettings=void 0,this.ticketFormNoAgent=void 0,this._appStateService.Settings.subscribe(function(e){e&&(n.themeSettings=e.dialogSettings,n.ticketFormNoAgent=e.ticketFormNoAgent)}),this._appStateService.endChat.subscribe(function(e){n.dialogRef&&e&&n.dialogRef.close()})}return e.prototype.ngOnInit=function(){},e.prototype.SvgChangeColor=function(e){var t=this.logo.nativeElement.contentDocument.getElementsByTagName("path").item(0);t&&t.setAttribute("fill",this.themeSettings.dialogLogoColor)},e.prototype.NoAgentAvailable=function(e){this.dialogRef.close(e?{status:"Yes"}:{status:"No"})},e.prototype.Close=function(){this.dialogRef.close({status:"No"})},e}(),ig=n("dMDw"),lg=function(){function e(e,t,n){var i=this;this._dataService=e,this._appStateService=t,this.dialogRef=n,this.subscriptions=[],this.session=void 0,this.userName="",this.userEmail="",this.phone="",this.subject="",this.message="",this.emailRegex=/^[_a-z0-9]+(\.[_a-z0-9]+)*@[a-z0-9-]+(\.[a-z0-9-]+)*(\.[a-z]{2,4})$/,this.NumbersOnlyPatter=/^\d+$/,this.numberPattern2=/^([+]{1})?\d+$/,this.invalidEmail=!1,this.invalidPhone=!1,this.subjectRequired=!1,this.messageRequired=!1,this.submitting=!1,this.submitted=!1,this.themeSettings=void 0,this.ticketForm=void 0,this.ticketSubmitted=void 0,this.tempData={},this.CheckErrors=new A,this.subscriptions.push(this._dataService.TempData.subscribe(function(e){e&&(i.tempData=JSON.parse(JSON.stringify(e)),i._dataService.TempData.next(void 0))})),this.subscriptions.push(this._appStateService.Session.subscribe(function(e){i.session=e,(i.tempData.email&&"unregistered"!=i.tempData.email.toLowerCase()||e.email&&"unregistered"!=e.email.toLowerCase())&&(i.userEmail=i.tempData.email||e.email),(i.tempData.username&&-1==i.tempData.username.indexOf("Guest")||e.username&&-1==e.username.indexOf("Guest"))&&(i.userName=i.tempData.username||e.username),(i.tempData.phone||e.phone)&&(i.phone=i.tempData.phone?i.tempData.phone:e.phone?e.phone:""),i.session&&1!=i.session.state&&i.ticketForm&&(i.ticketForm.content=i.ticketForm.content.replace(/we are currently away./i,""))})),this.subscriptions.push(this._appStateService.Settings.subscribe(function(e){e&&(i.themeSettings=e.dialogSettings,i.ticketForm=e.ticketForm,i.ticketSubmitted=e.ticketSubmitted,i.session&&1!=i.session.state&&(i.ticketForm.content=i.ticketForm.content.replace(/we are currently away./i,"")))})),this.subscriptions.push(this._appStateService.AllowEdit.subscribe(function(e){i.allowEdit=e})),this.subscriptions.push(this.CheckErrors.pipe(Object(ig.debounceTime)(500)).subscribe(function(e){if(e)switch(e){case"userEmail":i.invalidEmail=!new RegExp(i.emailRegex,"gi").test(i.userEmail);break;case"phone":i.invalidPhone=!(!i.phone||new RegExp(i.numberPattern2).test(i.phone));break;case"subject":i.subject&&(i.subjectRequired=!1);break;case"message":i.message&&(i.messageRequired=!1)}})),this.subscriptions.push(this._appStateService.endChat.subscribe(function(e){i.dialogRef&&e&&i.dialogRef.close()}))}return e.prototype.ngOnInit=function(){},e.prototype.ngOnDestroy=function(){this.subscriptions.map(function(e){e.unsubscribe()})},e.prototype.SubmitTicket=function(){var e=this;this.invalidEmail=!1,this.subjectRequired=!1,this.messageRequired=!1,this.invalidPhone=!1,new RegExp(this.emailRegex,"gi").test(this.userEmail)||(this.invalidEmail=!0),this.subject||(this.subjectRequired=!0),this.message||(this.messageRequired=!0),this.phone&&!new RegExp(this.numberPattern2).test(this.phone)&&(this.invalidPhone=!0),this.subjectRequired||this.invalidEmail||this.messageRequired||this.invalidPhone||(this.submitting=!0,this._dataService.SubmitTicket({name:this.userName.trim(),email:this.userEmail.trim(),phone:this.phone.trim(),subject:this.subject.trim(),message:this.message.trim()}).subscribe(function(t){e.submitting=!1,t&&"ok"==t.status?e._dataService.AppendFormsMessages({name:e.userName.trim(),email:e.userEmail.trim(),phone:e.phone.trim(),subject:e.subject.trim(),message:e.message.trim()},"Ticket Submitted").subscribe(function(t){e.submitted=!0,e.subject="",e.message="",e.phone="",e.dialogRef.disableClose=!0},function(t){e.submitting=!1}):t&&"chat"==t.status&&(e.subject="",e.message="",e.phone="",setTimeout(function(){e.dialogRef.close({result:"chat"})},500))},function(t){e.submitting=!1}))},e.prototype.CloseDialog=function(){this.dialogRef.close({result:"close"})},e.prototype.RefreshForm=function(){clearTimeout(this.closeTimer),this.submitted=!1,this.dialogRef.disableClose=!1},e.prototype.TypingEvent=function(e,t){this.CheckErrors.next(t)},e}(),og=function(){function e(e,t,n){var i=this;this._dataService=e,this._appStateService=t,this.dialog=n,this.subscriptions=[],this.userName="",this.userEmail="",this.invalidEmail=!1,this.invalidName=!1,this.Loading=!0,this.loading=!1,this.emailRegex=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,this.namePattern=/^[a-z0-9]+$/i,this.numberPattern2=/^([+]{1})?\d+$/,this.CheckErrors=new A,this.emojiRegex=/\uD83C\uDFF4\uDB40\uDC67\uDB40\uDC62(?:\uDB40\uDC65\uDB40\uDC6E\uDB40\uDC67|\uDB40\uDC73\uDB40\uDC63\uDB40\uDC74|\uDB40\uDC77\uDB40\uDC6C\uDB40\uDC73)\uDB40\uDC7F|\uD83D\uDC68(?:\uD83C\uDFFC\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68\uD83C\uDFFB|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFE])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFD])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFC])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83D\uDC68|(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D[\uDC66\uDC67])|[\u2695\u2696\u2708]\uFE0F|\uD83D[\uDC66\uDC67]|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|(?:\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708])\uFE0F|\uD83C\uDFFB\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C[\uDFFB-\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFB\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFC\u200D\uD83E\uDD1D\u200D\uD83D\uDC69)\uD83C\uDFFB|\uD83E\uDDD1(?:\uD83C\uDFFF\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1(?:\uD83C[\uDFFB-\uDFFF])|\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1)|(?:\uD83E\uDDD1\uD83C\uDFFE\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFF\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB-\uDFFE])|(?:\uD83E\uDDD1\uD83C\uDFFC\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFD\u200D\uD83E\uDD1D\u200D\uD83D\uDC69)(?:\uD83C[\uDFFB\uDFFC])|\uD83D\uDC69(?:\uD83C\uDFFE\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFD\uDFFF])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFD-\uDFFF])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFB\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFC-\uDFFF])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|(?:\uD83E\uDDD1\uD83C\uDFFD\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFE\u200D\uD83E\uDD1D\u200D\uD83D\uDC69)(?:\uD83C[\uDFFB-\uDFFD])|\uD83D\uDC69\u200D\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83D\uDC41\uFE0F\u200D\uD83D\uDDE8|\uD83D\uDC69(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|(?:(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)\uFE0F|\uD83D\uDC6F|\uD83E[\uDD3C\uDDDE\uDDDF])\u200D[\u2640\u2642]|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD6-\uDDDD])(?:(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|\u200D[\u2640\u2642])|\uD83C\uDFF4\u200D\u2620)\uFE0F|\uD83D\uDC69\u200D\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C\uDFF3\uFE0F\u200D\uD83C\uDF08|\uD83D\uDC15\u200D\uD83E\uDDBA|\uD83D\uDC69\u200D\uD83D\uDC66|\uD83D\uDC69\u200D\uD83D\uDC67|\uD83C\uDDFD\uD83C\uDDF0|\uD83C\uDDF4\uD83C\uDDF2|\uD83C\uDDF6\uD83C\uDDE6|[#\*0-9]\uFE0F\u20E3|\uD83C\uDDE7(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|\uD83C\uDDF9(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|\uD83C\uDDEA(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|\uD83E\uDDD1(?:\uD83C[\uDFFB-\uDFFF])|\uD83C\uDDF7(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])|\uD83C\uDDF2(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|\uD83C\uDDE6(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|\uD83C\uDDF0(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|\uD83C\uDDED(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|\uD83C\uDDE9(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|\uD83C\uDDFE(?:\uD83C[\uDDEA\uDDF9])|\uD83C\uDDEC(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|\uD83C\uDDF8(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|\uD83C\uDDEB(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|\uD83C\uDDF5(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|\uD83C\uDDFB(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|\uD83C\uDDF3(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|\uD83C\uDDE8(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|\uD83C\uDDF1(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|\uD83C\uDDFF(?:\uD83C[\uDDE6\uDDF2\uDDFC])|\uD83C\uDDFC(?:\uD83C[\uDDEB\uDDF8])|\uD83C\uDDFA(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|\uD83C\uDDEE(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|\uD83C\uDDEF(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u270A-\u270D]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC70\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDCAA\uDD74\uDD7A\uDD90\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD0F\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD36\uDDB5\uDDB6\uDDBB\uDDD2-\uDDD5])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u270A\u270B\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF93\uDFA0-\uDFCA\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF4\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC3E\uDC40\uDC42-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDD7A\uDD95\uDD96\uDDA4\uDDFB-\uDE4F\uDE80-\uDEC5\uDECC\uDED0-\uDED2\uDED5\uDEEB\uDEEC\uDEF4-\uDEFA\uDFE0-\uDFEB]|\uD83E[\uDD0D-\uDD3A\uDD3C-\uDD45\uDD47-\uDD71\uDD73-\uDD76\uDD7A-\uDDA2\uDDA5-\uDDAA\uDDAE-\uDDCA\uDDCD-\uDDFF\uDE70-\uDE73\uDE78-\uDE7A\uDE80-\uDE82\uDE90-\uDE95])|(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDED5\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEFA\uDFE0-\uDFEB]|\uD83E[\uDD0D-\uDD3A\uDD3C-\uDD45\uDD47-\uDD71\uDD73-\uDD76\uDD7A-\uDDA2\uDDA5-\uDDAA\uDDAE-\uDDCA\uDDCD-\uDDFF\uDE70-\uDE73\uDE78-\uDE7A\uDE80-\uDE82\uDE90-\uDE95])\uFE0F|(?:[\u261D\u26F9\u270A-\u270D]|\uD83C[\uDF85\uDFC2-\uDFC4\uDFC7\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDC8F\uDC91\uDCAA\uDD74\uDD75\uDD7A\uDD90\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD0F\uDD18-\uDD1F\uDD26\uDD30-\uDD39\uDD3C-\uDD3E\uDDB5\uDDB6\uDDB8\uDDB9\uDDBB\uDDCD-\uDDCF\uDDD1-\uDDDD])/g,this.themeSettings=void 0,this.permissions=void 0,this.Conversations=[],this.agentsList=[],this.phoneRequired=!1,this.subscriptions.push(this._appStateService.Permissions.subscribe(function(e){i.permissions=e})),this.subscriptions.push(this._appStateService.Session.subscribe(function(e){e&&(i.Session=e,i.phone=e.phone?e.phone:"",4==e.state&&5==e.state||(i.Session.email&&"unregistered"!=i.Session.email.toLowerCase()&&(i.userEmail=i.Session.email),i.Session.username&&-1==i.Session.username.indexOf("Guest")&&(i.userName=i.Session.username)))})),this.subscriptions.push(this._appStateService.AllowEdit.subscribe(function(e){i.allowEdit=e})),this.subscriptions.push(this._appStateService.ShowLoader.subscribe(function(e){i.Loading=e})),this.subscriptions.push(this._appStateService.Settings.subscribe(function(e){e&&(i.registerationForm=e.registerationForm,i.themeSettings=e.themeSettings)})),this.subscriptions.push(this._dataService.Conversations.subscribe(function(e){e.length>0&&(i.Conversations=e)})),this.subscriptions.push(this._dataService.AgentList.subscribe(function(e){i.agentsList=e})),this.subscriptions.push(this._appStateService.endChat.subscribe(function(e){i.endChat=e})),this.subscriptions.push(this.CheckErrors.pipe(Object(ig.debounceTime)(500)).subscribe(function(e){if(e)switch(e){case"userName":i.invalidName=!(i.permissions.chatAsGuest||-1===i.userName.indexOf("Guest")&&i.userName);break;case"userEmail":i.permissions.chatAsGuest?i.permissions.chatAsGuest?i.userEmail&&"unregistered"!=i.userEmail.toLowerCase()&&(i.invalidEmail=!new RegExp(i.emailRegex).test(i.userEmail.toLowerCase())):i.invalidEmail=!1:i.invalidEmail="unregistered"==i.userEmail.toLowerCase()||!i.userEmail||!new RegExp(i.emailRegex).test(i.userEmail.toLowerCase());break;case"phone":i.invalidPhone=!(!i.phone||new RegExp(i.numberPattern2).test(i.phone))}}))}return e.prototype.ngOnInit=function(){},e.prototype.ngOnDestroy=function(){this.subscriptions.map(function(e){return e.unsubscribe()}),(this.Session&&4==this.Session.state||5==this.Session.state)&&this._dataService.TempData.next({username:this.userName,email:this.userEmail})},e.prototype.Submit=function(e){var t=this;if(e.preventDefault(),!this.loading){this.loading=!0;var n={};this.invalidEmail=!1,this.invalidPhone=!1,this.phone&&!new RegExp(this.numberPattern2).test(this.phone)&&(this.invalidPhone=!0),this.invalidPhone&&(this.invalidPhone=!0),this.permissions.chatAsGuest?this.permissions.chatAsGuest?this.userEmail&&"unregistered"!=this.userEmail.toLowerCase()&&(this.invalidEmail=!new RegExp(this.emailRegex).test(this.userEmail.toLowerCase())):this.invalidEmail=!1:(this.invalidEmail="unregistered"==this.userEmail.toLowerCase()||!this.userEmail||!new RegExp(this.emailRegex).test(this.userEmail.toLowerCase()),this.invalidName=-1!==this.userName.indexOf("Guest")||!this.userName),this.invalidEmail||this.invalidPhone||this.invalidName?this.loading=!1:(n.username=this.userName?this.userName.trim():"Guest"+(new Date).toLocaleTimeString().split(":").join("").split(" ")[0],n.email=this.userEmail?this.userEmail.trim():"Unregistered",this.phone&&(n.phone=this.phone),this.message&&(n.message=this.message),this._dataService.UserInformation(n).subscribe(function(e){t.loading=!1,e?t._dataService.viewMode.next("message-window"):t.dialog.open(ng,{autoFocus:!0,panelClass:["dialog-inner"]}).afterClosed().subscribe(function(e){e&&"Yes"==e.status&&(t._dataService.TempData.next(n),t.dialog.open(lg,{panelClass:["dialog-inner"],autoFocus:!0}).afterClosed().subscribe(function(e){e&&"chat"==e.result&&t._dataService.viewMode.next("message-window")}))},function(e){})},function(e){t.loading=!1}))}},e.prototype.OpenTicketForm=function(){var e=this;this.dialog.open(lg,{panelClass:["dialog-inner"],autoFocus:!0}).afterClosed().subscribe(function(t){t&&"chat"==t.result&&e._dataService.viewMode.next("message-window")})},e.prototype.TypingEvent=function(e,t){this.CheckErrors.next(t)},e}(),rg=Er({encapsulation:2,styles:[[""]],data:{}});function ug(e){return Cs(0,[(e()(),lu(0,0,null,null,0,"input",[["class","form-control op-1"],["disabled",""],["placeholder","Enter Name"]],[[8,"value",0]],[[null,"input"]],function(e,t,n){var i=!0;return"input"===t&&(i=!1!==e.component.TypingEvent(n,"userName")&&i),i},null,null))],null,function(e,t){e(t,0,0,t.component.userName)})}function sg(e){return Cs(0,[(e()(),lu(0,0,null,null,8,"input",[["autocomplete","off"],["class","form-control"],["name","userName"],["placeholder","Enter Name"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"ngModelChange"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(e,t,n){var i=!0,l=e.component;return"input"===t&&(i=!1!==Ou(e,4)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==Ou(e,4).onTouched()&&i),"compositionstart"===t&&(i=!1!==Ou(e,4)._compositionStart()&&i),"compositionend"===t&&(i=!1!==Ou(e,4)._compositionEnd(n.target.value)&&i),"input"===t&&(i=!1!==l.TypingEvent(n,"userName")&&i),"ngModelChange"===t&&(i=!1!==(l.userName=n)&&i),i},null,null)),qu(1,278528,null,0,Xc,[Yo,er,Li,zi],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),qu(2,278528,null,0,op,[er,Li,zi],{ngStyle:[0,"ngStyle"]},null),ms(3,{"border-color":0}),qu(4,16384,null,0,tf,[zi,Li,[2,ef]],null,null),Ju(1024,null,Xh,function(e){return[e]},[tf]),qu(6,671744,null,0,Hf,[[2,zh],[8,null],[8,null],[6,Xh]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),Ju(2048,null,uf,null,[Hf]),qu(8,16384,null,0,kf,[[4,uf]],null,null)],function(e,t){var n=t.component;e(t,1,0,"form-control",n.invalidName?"border-red":"");var i=n.themeSettings?e(t,3,0,n.themeSettings.borderColor):"";e(t,2,0,i),e(t,6,0,"userName",n.userName)},function(e,t){e(t,0,0,Ou(t,8).ngClassUntouched,Ou(t,8).ngClassTouched,Ou(t,8).ngClassPristine,Ou(t,8).ngClassDirty,Ou(t,8).ngClassValid,Ou(t,8).ngClassInvalid,Ou(t,8).ngClassPending)})}function ag(e){return Cs(0,[(e()(),lu(0,0,null,null,3,"div",[["class","input-group-addon tooltip top-right"]],null,null,null,null,null)),(e()(),lu(1,0,null,null,0,"img",[["class","svg floatToCenter w-20"],["src","/cw/assets/img/icons/svg/error-filled.svg"]],null,null,null,null,null)),(e()(),lu(2,0,null,null,1,"span",[["class","tooltip-inner"]],null,null,null,null,null)),(e()(),ys(-1,null,["Please enter a valid username"]))],null,null)}function cg(e){return Cs(0,[(e()(),lu(0,0,null,null,0,"input",[["class","form-control op-1"],["disabled",""],["placeholder","Enter Email Address"],["required",""]],[[8,"value",0]],[[null,"input"]],function(e,t,n){var i=!0;return"input"===t&&(i=!1!==e.component.TypingEvent(n,"userEmail")&&i),i},null,null))],null,function(e,t){e(t,0,0,t.component.userEmail)})}function pg(e){return Cs(0,[(e()(),lu(0,0,null,null,8,"input",[["autocomplete","off"],["class","form-control"],["name","userEmail"],["placeholder","Enter Email Address"],["type","email"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(e,t,n){var i=!0,l=e.component;return"input"===t&&(i=!1!==Ou(e,4)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==Ou(e,4).onTouched()&&i),"compositionstart"===t&&(i=!1!==Ou(e,4)._compositionStart()&&i),"compositionend"===t&&(i=!1!==Ou(e,4)._compositionEnd(n.target.value)&&i),"ngModelChange"===t&&(i=!1!==(l.userEmail=n)&&i),"input"===t&&(i=!1!==l.TypingEvent(n,"userEmail")&&i),i},null,null)),qu(1,278528,null,0,Xc,[Yo,er,Li,zi],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),qu(2,278528,null,0,op,[er,Li,zi],{ngStyle:[0,"ngStyle"]},null),ms(3,{"border-color":0}),qu(4,16384,null,0,tf,[zi,Li,[2,ef]],null,null),Ju(1024,null,Xh,function(e){return[e]},[tf]),qu(6,671744,null,0,Hf,[[2,zh],[8,null],[8,null],[6,Xh]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),Ju(2048,null,uf,null,[Hf]),qu(8,16384,null,0,kf,[[4,uf]],null,null)],function(e,t){var n=t.component;e(t,1,0,"form-control",n.invalidEmail?"border-red":"");var i=n.themeSettings?e(t,3,0,n.themeSettings.borderColor):"";e(t,2,0,i),e(t,6,0,"userEmail",n.userEmail)},function(e,t){e(t,0,0,Ou(t,8).ngClassUntouched,Ou(t,8).ngClassTouched,Ou(t,8).ngClassPristine,Ou(t,8).ngClassDirty,Ou(t,8).ngClassValid,Ou(t,8).ngClassInvalid,Ou(t,8).ngClassPending)})}function dg(e){return Cs(0,[(e()(),lu(0,0,null,null,3,"div",[["class","input-group-addon tooltip top-right"]],null,null,null,null,null)),(e()(),lu(1,0,null,null,0,"img",[["class","svg floatToCenter w-20"],["src","/cw/assets/img/icons/svg/error-filled.svg"]],null,null,null,null,null)),(e()(),lu(2,0,null,null,1,"span",[["class","tooltip-inner"]],null,null,null,null,null)),(e()(),ys(-1,null,["Please enter a valid email"]))],null,null)}function hg(e){return Cs(0,[(e()(),lu(0,0,null,null,3,"div",[["class","input-group-addon tooltip top-right"]],null,null,null,null,null)),(e()(),lu(1,0,null,null,0,"img",[["class","svg floatToCenter w-20"],["src","/cw/assets/img/icons/svg/error-filled.svg"]],null,null,null,null,null)),(e()(),lu(2,0,null,null,1,"span",[["class","tooltip-inner"]],null,null,null,null,null)),(e()(),ys(-1,null,["Please enter a valid phone number"]))],null,null)}function fg(e){return Cs(0,[(e()(),lu(0,0,null,null,4,"button",[["class","btn w50"],["type","button"]],null,[[null,"click"]],function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component._dataService.OpenConversations()&&i),i},null,null)),qu(1,278528,null,0,op,[er,Li,zi],{ngStyle:[0,"ngStyle"]},null),ms(2,{"background-color":0,color:1}),(e()(),lu(3,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),ys(-1,null,["Recent Chats"]))],function(e,t){var n=t.component,i=n.themeSettings?e(t,2,0,n.themeSettings.secondryBtnColor,n.themeSettings.secondryBtnTextColor):"";e(t,1,0,i)},null)}function gg(e){return Cs(0,[(e()(),lu(0,0,null,null,4,"div",[["class","clearfix text-center m-b-10"]],null,null,null,null,null)),(e()(),lu(1,0,null,null,3,"h5",[],null,null,null,null,null)),qu(2,278528,null,0,op,[er,Li,zi],{ngStyle:[0,"ngStyle"]},null),ms(3,{color:0}),(e()(),ys(-1,null,["OR"]))],function(e,t){var n=t.component,i=n.themeSettings?e(t,3,0,n.themeSettings.contentColor):"";e(t,2,0,i)},null)}function mg(e){return Cs(0,[(e()(),lu(0,0,null,null,5,"div",[["class","btn-group-lg m-b-15"]],null,null,null,null,null)),(e()(),lu(1,0,null,null,4,"button",[["class","btn btn-lg btn-block"],["id","btnSubmitTicket"],["type","button"]],null,[[null,"click"]],function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.OpenTicketForm()&&i),i},null,null)),qu(2,278528,null,0,op,[er,Li,zi],{ngStyle:[0,"ngStyle"]},null),ms(3,{"background-color":0,color:1}),(e()(),lu(4,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),ys(5,null,["",""]))],function(e,t){var n=t.component,i=n.themeSettings?e(t,3,0,n.themeSettings.btnColor,n.themeSettings.btnTextcolor):"";e(t,2,0,i)},function(e,t){e(t,5,0,t.component.registerationForm.btnTicket)})}function vg(e){return Cs(0,[(e()(),lu(0,0,null,null,59,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(e,t,n){var i=!0;return"submit"===t&&(i=!1!==Ou(e,2).onSubmit(n)&&i),"reset"===t&&(i=!1!==Ou(e,2).onReset()&&i),i},null,null)),qu(1,16384,null,0,Gf,[],null,null),qu(2,4210688,null,0,Nf,[[8,null],[8,null]],null,null),Ju(2048,null,zh,null,[Nf]),qu(4,16384,null,0,Af,[[4,zh]],null,null),(e()(),lu(5,0,null,null,3,"h6",[["class","title-with-border border-gray"]],null,null,null,null,null)),qu(6,278528,null,0,op,[er,Li,zi],{ngStyle:[0,"ngStyle"]},null),ms(7,{color:0}),(e()(),ys(8,null,[" ",""])),(e()(),lu(9,0,null,null,7,"div",[["class","input-block"]],null,null,null,null,null)),(e()(),lu(10,0,null,null,6,"div",[["class","input-group has-danger"]],null,null,null,null,null)),(e()(),iu(16777216,null,null,1,null,ug)),qu(12,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,sg)),qu(14,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,ag)),qu(16,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),lu(17,0,null,null,7,"div",[["class","input-block"]],null,null,null,null,null)),(e()(),lu(18,0,null,null,6,"div",[["class","input-group has-danger"]],null,null,null,null,null)),(e()(),iu(16777216,null,null,1,null,cg)),qu(20,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,pg)),qu(22,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,dg)),qu(24,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),lu(25,0,null,null,12,"div",[["class","input-block"]],null,null,null,null,null)),(e()(),lu(26,0,null,null,11,"div",[["class","input-group has-danger"]],null,null,null,null,null)),(e()(),lu(27,0,null,null,8,"input",[["autocomplete","off"],["class","form-control"],["id","phone"],["name","phone"],["placeholder","(+)123-4567-8901"],["type","tel"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(e,t,n){var i=!0,l=e.component;return"input"===t&&(i=!1!==Ou(e,31)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==Ou(e,31).onTouched()&&i),"compositionstart"===t&&(i=!1!==Ou(e,31)._compositionStart()&&i),"compositionend"===t&&(i=!1!==Ou(e,31)._compositionEnd(n.target.value)&&i),"ngModelChange"===t&&(i=!1!==(l.phone=n)&&i),"input"===t&&(i=!1!==l.TypingEvent(n,"phone")&&i),i},null,null)),qu(28,278528,null,0,Xc,[Yo,er,Li,zi],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),qu(29,278528,null,0,op,[er,Li,zi],{ngStyle:[0,"ngStyle"]},null),ms(30,{"border-color":0}),qu(31,16384,null,0,tf,[zi,Li,[2,ef]],null,null),Ju(1024,null,Xh,function(e){return[e]},[tf]),qu(33,671744,null,0,Hf,[[2,zh],[8,null],[8,null],[6,Xh]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),Ju(2048,null,uf,null,[Hf]),qu(35,16384,null,0,kf,[[4,uf]],null,null),(e()(),iu(16777216,null,null,1,null,hg)),qu(37,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),lu(38,0,null,null,8,"div",[["class","input-block"]],null,null,null,null,null)),(e()(),lu(39,0,null,null,7,"textarea",[["autocomplete","off"],["class","form-control no-resize"],["id","message"],["name","message"],["rows","3"]],[[8,"placeholder",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(e,t,n){var i=!0,l=e.component;return"input"===t&&(i=!1!==Ou(e,42)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==Ou(e,42).onTouched()&&i),"compositionstart"===t&&(i=!1!==Ou(e,42)._compositionStart()&&i),"compositionend"===t&&(i=!1!==Ou(e,42)._compositionEnd(n.target.value)&&i),"ngModelChange"===t&&(i=!1!==(l.message=n)&&i),i},null,null)),qu(40,278528,null,0,op,[er,Li,zi],{ngStyle:[0,"ngStyle"]},null),ms(41,{"border-color":0}),qu(42,16384,null,0,tf,[zi,Li,[2,ef]],null,null),Ju(1024,null,Xh,function(e){return[e]},[tf]),qu(44,671744,null,0,Hf,[[2,zh],[8,null],[8,null],[6,Xh]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),Ju(2048,null,uf,null,[Hf]),qu(46,16384,null,0,kf,[[4,uf]],null,null),(e()(),lu(47,0,null,null,8,"div",[["class","btn-group m-b-15"]],null,null,null,null,null)),(e()(),lu(48,0,null,null,5,"button",[["class","btn"],["type","button"]],null,[[null,"click"]],function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.Submit(n)&&i),i},null,null)),qu(49,278528,null,0,Xc,[Yo,er,Li,zi],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),qu(50,278528,null,0,op,[er,Li,zi],{ngStyle:[0,"ngStyle"]},null),ms(51,{"background-color":0,color:1}),(e()(),lu(52,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),ys(53,null,["",""])),(e()(),iu(16777216,null,null,1,null,fg)),qu(55,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,gg)),qu(57,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,mg)),qu(59,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component,i=n.themeSettings?e(t,7,0,n.themeSettings.contentColor):"";e(t,6,0,i),e(t,12,0,!n.allowEdit),e(t,14,0,n.allowEdit),e(t,16,0,n.invalidName),e(t,20,0,!n.allowEdit),e(t,22,0,n.allowEdit),e(t,24,0,n.invalidEmail),e(t,28,0,"form-control",n.invalidPhone?"border-red":"");var l=n.themeSettings?e(t,30,0,n.themeSettings.borderColor):"";e(t,29,0,l),e(t,33,0,"phone",n.phone),e(t,37,0,n.invalidPhone);var o=n.themeSettings?e(t,41,0,n.themeSettings.borderColor):"";e(t,40,0,o),e(t,44,0,"message",n.message),e(t,49,0,"btn",n.Conversations.length>0&&n.permissions.showchathistory?n.loading?"btnSpinner w50":"w50":n.loading?"btnSpinner btn-block":"btn-block");var r=n.themeSettings?e(t,51,0,n.themeSettings.btnColor,n.themeSettings.btnTextcolor):"";e(t,50,0,r),e(t,55,0,n.Session&&n.Conversations.length>0&&n.permissions.showchathistory),e(t,57,0,n.permissions&&n.permissions.allowedAgentAvailable&&n.agentsList&&!n.agentsList.length),e(t,59,0,n.permissions&&n.permissions.allowedAgentAvailable&&n.agentsList&&!n.agentsList.length)},function(e,t){var n=t.component;e(t,0,0,Ou(t,4).ngClassUntouched,Ou(t,4).ngClassTouched,Ou(t,4).ngClassPristine,Ou(t,4).ngClassDirty,Ou(t,4).ngClassValid,Ou(t,4).ngClassInvalid,Ou(t,4).ngClassPending),e(t,8,0,n.registerationForm.content),e(t,27,0,Ou(t,35).ngClassUntouched,Ou(t,35).ngClassTouched,Ou(t,35).ngClassPristine,Ou(t,35).ngClassDirty,Ou(t,35).ngClassValid,Ou(t,35).ngClassInvalid,Ou(t,35).ngClassPending),e(t,39,0,n.Session&&n.Session.nsp&&"/sbtjapan.com"==n.Session.nsp?"How did you know about SBT":"",Ou(t,46).ngClassUntouched,Ou(t,46).ngClassTouched,Ou(t,46).ngClassPristine,Ou(t,46).ngClassDirty,Ou(t,46).ngClassValid,Ou(t,46).ngClassInvalid,Ou(t,46).ngClassPending),e(t,53,0,n.registerationForm.btnChat)})}function yg(e){return Cs(0,[(e()(),lu(0,0,null,null,1,"app-userinformation-form",[],null,null,null,vg,rg)),qu(1,245760,null,0,og,[tg,Zf,yd],null,null)],function(e,t){e(t,1,0)},null)}var bg=Su("app-userinformation-form",og,yg,{},{},[]),Dg=function(){function e(e,t,n){var i=this;this._appStateService=e,this._dataService=t,this.dialogRef=n,this.subscriptions=[],this.userName="",this.userEmail="",this.invalidEmail=!1,this.invalidName=!1,this.Loading=!1,this.loading=!1,this.updateCredentials=!1,this.emailRegex=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,this.namePattern=/^[a-z0-9]+$/i,this.numberPattern2=/^([+]{1})?\d+$/,this.emojiRegex=/\uD83C\uDFF4\uDB40\uDC67\uDB40\uDC62(?:\uDB40\uDC65\uDB40\uDC6E\uDB40\uDC67|\uDB40\uDC73\uDB40\uDC63\uDB40\uDC74|\uDB40\uDC77\uDB40\uDC6C\uDB40\uDC73)\uDB40\uDC7F|\uD83D\uDC68(?:\uD83C\uDFFC\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68\uD83C\uDFFB|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFE])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFD])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFC])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83D\uDC68|(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D[\uDC66\uDC67])|[\u2695\u2696\u2708]\uFE0F|\uD83D[\uDC66\uDC67]|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|(?:\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708])\uFE0F|\uD83C\uDFFB\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C[\uDFFB-\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFB\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFC\u200D\uD83E\uDD1D\u200D\uD83D\uDC69)\uD83C\uDFFB|\uD83E\uDDD1(?:\uD83C\uDFFF\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1(?:\uD83C[\uDFFB-\uDFFF])|\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1)|(?:\uD83E\uDDD1\uD83C\uDFFE\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFF\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB-\uDFFE])|(?:\uD83E\uDDD1\uD83C\uDFFC\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFD\u200D\uD83E\uDD1D\u200D\uD83D\uDC69)(?:\uD83C[\uDFFB\uDFFC])|\uD83D\uDC69(?:\uD83C\uDFFE\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFD\uDFFF])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFD-\uDFFF])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFB\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFC-\uDFFF])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|(?:\uD83E\uDDD1\uD83C\uDFFD\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFE\u200D\uD83E\uDD1D\u200D\uD83D\uDC69)(?:\uD83C[\uDFFB-\uDFFD])|\uD83D\uDC69\u200D\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83D\uDC41\uFE0F\u200D\uD83D\uDDE8|\uD83D\uDC69(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|(?:(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)\uFE0F|\uD83D\uDC6F|\uD83E[\uDD3C\uDDDE\uDDDF])\u200D[\u2640\u2642]|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD6-\uDDDD])(?:(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|\u200D[\u2640\u2642])|\uD83C\uDFF4\u200D\u2620)\uFE0F|\uD83D\uDC69\u200D\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C\uDFF3\uFE0F\u200D\uD83C\uDF08|\uD83D\uDC15\u200D\uD83E\uDDBA|\uD83D\uDC69\u200D\uD83D\uDC66|\uD83D\uDC69\u200D\uD83D\uDC67|\uD83C\uDDFD\uD83C\uDDF0|\uD83C\uDDF4\uD83C\uDDF2|\uD83C\uDDF6\uD83C\uDDE6|[#\*0-9]\uFE0F\u20E3|\uD83C\uDDE7(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|\uD83C\uDDF9(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|\uD83C\uDDEA(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|\uD83E\uDDD1(?:\uD83C[\uDFFB-\uDFFF])|\uD83C\uDDF7(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])|\uD83C\uDDF2(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|\uD83C\uDDE6(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|\uD83C\uDDF0(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|\uD83C\uDDED(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|\uD83C\uDDE9(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|\uD83C\uDDFE(?:\uD83C[\uDDEA\uDDF9])|\uD83C\uDDEC(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|\uD83C\uDDF8(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|\uD83C\uDDEB(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|\uD83C\uDDF5(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|\uD83C\uDDFB(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|\uD83C\uDDF3(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|\uD83C\uDDE8(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|\uD83C\uDDF1(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|\uD83C\uDDFF(?:\uD83C[\uDDE6\uDDF2\uDDFC])|\uD83C\uDDFC(?:\uD83C[\uDDEB\uDDF8])|\uD83C\uDDFA(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|\uD83C\uDDEE(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|\uD83C\uDDEF(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u270A-\u270D]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC70\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDCAA\uDD74\uDD7A\uDD90\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD0F\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD36\uDDB5\uDDB6\uDDBB\uDDD2-\uDDD5])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u270A\u270B\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF93\uDFA0-\uDFCA\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF4\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC3E\uDC40\uDC42-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDD7A\uDD95\uDD96\uDDA4\uDDFB-\uDE4F\uDE80-\uDEC5\uDECC\uDED0-\uDED2\uDED5\uDEEB\uDEEC\uDEF4-\uDEFA\uDFE0-\uDFEB]|\uD83E[\uDD0D-\uDD3A\uDD3C-\uDD45\uDD47-\uDD71\uDD73-\uDD76\uDD7A-\uDDA2\uDDA5-\uDDAA\uDDAE-\uDDCA\uDDCD-\uDDFF\uDE70-\uDE73\uDE78-\uDE7A\uDE80-\uDE82\uDE90-\uDE95])|(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDED5\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEFA\uDFE0-\uDFEB]|\uD83E[\uDD0D-\uDD3A\uDD3C-\uDD45\uDD47-\uDD71\uDD73-\uDD76\uDD7A-\uDDA2\uDDA5-\uDDAA\uDDAE-\uDDCA\uDDCD-\uDDFF\uDE70-\uDE73\uDE78-\uDE7A\uDE80-\uDE82\uDE90-\uDE95])\uFE0F|(?:[\u261D\u26F9\u270A-\u270D]|\uD83C[\uDF85\uDFC2-\uDFC4\uDFC7\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDC8F\uDC91\uDCAA\uDD74\uDD75\uDD7A\uDD90\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD0F\uDD18-\uDD1F\uDD26\uDD30-\uDD39\uDD3C-\uDD3E\uDDB5\uDDB6\uDDB8\uDDB9\uDDBB\uDDCD-\uDDCF\uDDD1-\uDDDD])/g,this.register=!1,this.viewingChatHistory=!1,this.phoneRequired=!1,this.permissions=void 0,this.CheckErrors=new A,this._appStateService.RegisterFormDialogOpened.next(!0),this.subscriptions.push(this._appStateService.Permissions.subscribe(function(e){i.permissions=e})),this.subscriptions.push(this._appStateService.Settings.subscribe(function(e){e&&(i.registerationForm=e.registerationForm,i.themeSettings=e.dialogSettings)})),this.subscriptions.push(this._appStateService.Session.subscribe(function(e){if(e){if(i.Session=e,i.phone=e.phone?e.phone:"",i.Session&&1!=i.Session.state&&5!=i.Session.state&&(i.registerationForm.content=i.registerationForm.content.replace(/CHAT NOW/i,"REGISTER NOW")),i._dataService.TempData.getValue())return void(4!=e.state&&5!=e.state||(i._dataService.TempData.getValue().email&&"unregistered"!=i._dataService.TempData.getValue().email.toLowerCase()&&(i.userEmail=i._dataService.TempData.getValue().email),i._dataService.TempData.getValue().username&&-1==i._dataService.TempData.getValue().username.indexOf("Guest")&&(i.userName=i._dataService.TempData.getValue().username),i._dataService.TempData.next(void 0)));i.Session.email&&"unregistered"!=i.Session.email.toLowerCase()&&(i.userEmail=i.Session.email),i.Session.username&&-1==i.Session.username.indexOf("Guest")&&(i.userName=i.Session.username),i.updateCredentials=i._dataService.UpdateCredentials.getValue(),i._dataService.UpdateCredentials.next(!1),i.updateCredentials&&(i.register=!0)}})),this.subscriptions.push(this._appStateService.ShowLoader.subscribe(function(e){i.Loading=e})),this.subscriptions.push(this._dataService.ViewingChatHistory.subscribe(function(e){i.viewingChatHistory=e})),this.subscriptions.push(this._appStateService.AllowEdit.subscribe(function(e){i.allowEdit=e})),this.subscriptions.push(this.CheckErrors.pipe(Object(ig.debounceTime)(500)).subscribe(function(e){if(e)switch(e){case"userName":i.invalidName=!(i.permissions.chatAsGuest||-1===i.userName.indexOf("Guest")&&i.userName);break;case"userEmail":i.permissions.chatAsGuest?i.permissions.chatAsGuest?i.userEmail&&"unregistered"!=i.userEmail.toLowerCase()&&(i.invalidEmail=!new RegExp(i.emailRegex).test(i.userEmail.toLowerCase())):i.invalidEmail=!1:i.invalidEmail="unregistered"==i.userEmail.toLowerCase()||!i.userEmail||!new RegExp(i.emailRegex).test(i.userEmail.toLowerCase());break;case"phone":i.invalidPhone=!(!i.phone||new RegExp(i.numberPattern2).test(i.phone))}})),this.subscriptions.push(this._appStateService.endChat.subscribe(function(e){i.dialogRef&&e&&i.dialogRef.close()}))}return e.prototype.Close=function(){this.dialogRef.close({status:"closed"})},e.prototype.ngOnInit=function(){},e.prototype.ngOnDestroy=function(){this.subscriptions.map(function(e){e.unsubscribe()}),this._appStateService.RegisterFormDialogOpened.next(!1)},e.prototype.openMessageWindow=function(){var e=this;if(!this.loading){this.loading=!0;var t={};this.invalidEmail=!1,this.invalidPhone=!1,this.phone&&!new RegExp(this.numberPattern2).test(this.phone)&&(this.invalidPhone=!0),this.viewingChatHistory&&this._dataService.ViewingChatHistory.next(!1),this.permissions.chatAsGuest?this.permissions.chatAsGuest?this.userEmail&&"unregistered"!=this.userEmail.toLowerCase()&&(this.invalidEmail=!new RegExp(this.emailRegex).test(this.userEmail.toLowerCase())):this.invalidEmail=!1:(this.invalidEmail="unregistered"==this.userEmail.toLowerCase()||!this.userEmail||!new RegExp(this.emailRegex).test(this.userEmail.toLowerCase()),this.invalidName=-1!==this.userName.indexOf("Guest")||!this.userName),this.invalidEmail||this.invalidPhone||this.invalidName?this.loading=!1:(t.username=this.userName?this.userName.trim():"Guest"+(new Date).toLocaleTimeString().split(":").join("").split(" ")[0],t.email=this.userEmail?this.userEmail.trim():"Unregistered",this.phone&&(t.phone=this.phone),this.message&&(t.message=this.message),this.updateCredentials?this._dataService.UpdateCredentialsFormRest(t).subscribe(function(t){e.loading=!1,e.dialogRef.close(t?"success":"failure")},function(t){e.loading=!1}):this._dataService.UserInformation(t).subscribe(function(n){e.loading=!1,e.dialogRef.close(n?"success":{status:"failure",user:t})},function(t){e.loading=!1}))}},e.prototype.TypingEvent=function(e,t){this.CheckErrors.next(t)},e}(),Cg=Er({encapsulation:2,styles:[[""]],data:{}});function Sg(e){return Cs(0,[(e()(),lu(0,0,null,null,0,"input",[["class"," op-1 form-control"],["disabled",""],["placeholder","Enter Name"]],[[8,"value",0]],[[null,"input"]],function(e,t,n){var i=!0;return"input"===t&&(i=!1!==e.component.TypingEvent(n,"userName")&&i),i},null,null))],null,function(e,t){e(t,0,0,t.component.userName)})}function _g(e){return Cs(0,[(e()(),lu(0,0,null,null,6,"input",[["autocomplete","off"],["class","form-control"],["id","userName"],["name","userName"],["placeholder","Enter Name"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(e,t,n){var i=!0,l=e.component;return"input"===t&&(i=!1!==Ou(e,2)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==Ou(e,2).onTouched()&&i),"compositionstart"===t&&(i=!1!==Ou(e,2)._compositionStart()&&i),"compositionend"===t&&(i=!1!==Ou(e,2)._compositionEnd(n.target.value)&&i),"ngModelChange"===t&&(i=!1!==(l.userName=n)&&i),"input"===t&&(i=!1!==l.TypingEvent(n,"userName")&&i),i},null,null)),qu(1,278528,null,0,Xc,[Yo,er,Li,zi],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),qu(2,16384,null,0,tf,[zi,Li,[2,ef]],null,null),Ju(1024,null,Xh,function(e){return[e]},[tf]),qu(4,671744,null,0,Hf,[[2,zh],[8,null],[8,null],[6,Xh]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),Ju(2048,null,uf,null,[Hf]),qu(6,16384,null,0,kf,[[4,uf]],null,null)],function(e,t){var n=t.component;e(t,1,0,"form-control",n.invalidName?"border-red":""),e(t,4,0,"userName",n.userName)},function(e,t){e(t,0,0,Ou(t,6).ngClassUntouched,Ou(t,6).ngClassTouched,Ou(t,6).ngClassPristine,Ou(t,6).ngClassDirty,Ou(t,6).ngClassValid,Ou(t,6).ngClassInvalid,Ou(t,6).ngClassPending)})}function wg(e){return Cs(0,[(e()(),lu(0,0,null,null,3,"div",[["class","input-group-addon tooltip top-right"]],null,null,null,null,null)),(e()(),lu(1,0,null,null,0,"img",[["class","svg floatToCenter w-20"],["src","/cw/assets/img/icons/svg/error-filled.svg"]],null,null,null,null,null)),(e()(),lu(2,0,null,null,1,"span",[["class","tooltip-inner"]],null,null,null,null,null)),(e()(),ys(-1,null,["Please enter a valid name"]))],null,null)}function xg(e){return Cs(0,[(e()(),lu(0,0,null,null,0,"input",[["class","op-1 form-control"],["disabled",""],["placeholder","Enter Email Address"]],[[8,"value",0]],[[null,"input"]],function(e,t,n){var i=!0;return"input"===t&&(i=!1!==e.component.TypingEvent(n,"userEmail")&&i),i},null,null))],null,function(e,t){e(t,0,0,t.component.userEmail)})}function Fg(e){return Cs(0,[(e()(),lu(0,0,null,null,6,"input",[["autocomplete","off"],["class","form-control"],["id","userEmail"],["name","userEmail"],["placeholder","Enter Email Address"],["type","email"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(e,t,n){var i=!0,l=e.component;return"input"===t&&(i=!1!==Ou(e,2)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==Ou(e,2).onTouched()&&i),"compositionstart"===t&&(i=!1!==Ou(e,2)._compositionStart()&&i),"compositionend"===t&&(i=!1!==Ou(e,2)._compositionEnd(n.target.value)&&i),"ngModelChange"===t&&(i=!1!==(l.userEmail=n)&&i),"input"===t&&(i=!1!==l.TypingEvent(n,"userEmail")&&i),i},null,null)),qu(1,278528,null,0,Xc,[Yo,er,Li,zi],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),qu(2,16384,null,0,tf,[zi,Li,[2,ef]],null,null),Ju(1024,null,Xh,function(e){return[e]},[tf]),qu(4,671744,null,0,Hf,[[2,zh],[8,null],[8,null],[6,Xh]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),Ju(2048,null,uf,null,[Hf]),qu(6,16384,null,0,kf,[[4,uf]],null,null)],function(e,t){var n=t.component;e(t,1,0,"form-control",n.invalidEmail?"border-red":""),e(t,4,0,"userEmail",n.userEmail)},function(e,t){e(t,0,0,Ou(t,6).ngClassUntouched,Ou(t,6).ngClassTouched,Ou(t,6).ngClassPristine,Ou(t,6).ngClassDirty,Ou(t,6).ngClassValid,Ou(t,6).ngClassInvalid,Ou(t,6).ngClassPending)})}function Eg(e){return Cs(0,[(e()(),lu(0,0,null,null,3,"div",[["class","input-group-addon tooltip top-right"]],null,null,null,null,null)),(e()(),lu(1,0,null,null,0,"img",[["class","svg floatToCenter w-20"],["src","/cw/assets/img/icons/svg/error-filled.svg"]],null,null,null,null,null)),(e()(),lu(2,0,null,null,1,"span",[["class","tooltip-inner"]],null,null,null,null,null)),(e()(),ys(-1,null,["Please enter a valid email"]))],null,null)}function kg(e){return Cs(0,[(e()(),lu(0,0,null,null,3,"div",[["class","input-group-addon tooltip top-right"]],null,null,null,null,null)),(e()(),lu(1,0,null,null,0,"img",[["class","svg floatToCenter w-20"],["src","/cw/assets/img/icons/svg/error-filled.svg"]],null,null,null,null,null)),(e()(),lu(2,0,null,null,1,"span",[["class","tooltip-inner"]],null,null,null,null,null)),(e()(),ys(-1,null,["Please enter a valid phone number"]))],null,null)}function Ag(e){return Cs(0,[(e()(),lu(0,0,null,null,2,"div",[["class","dialog-close svgOnHover"]],null,[[null,"click"]],function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.Close()&&i),i},null,null)),(e()(),lu(1,0,null,null,0,"img",[["class","svg"],["src","/cw/assets/img/icons/svg/cancel-circle-outline.svg"]],null,null,null,null,null)),(e()(),lu(2,0,null,null,0,"img",[["class","svg hover"],["src","/cw/assets/img/icons/svg/cancel-circle-filled.svg"]],null,null,null,null,null)),(e()(),lu(3,0,null,null,53,"div",[["class","clearfix p-24"],["id","homePopup"]],null,null,null,null,null)),qu(4,278528,null,0,op,[er,Li,zi],{ngStyle:[0,"ngStyle"]},null),ms(5,{"background-color":0,color:1}),(e()(),lu(6,0,null,null,50,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(e,t,n){var i=!0;return"submit"===t&&(i=!1!==Ou(e,8).onSubmit(n)&&i),"reset"===t&&(i=!1!==Ou(e,8).onReset()&&i),i},null,null)),qu(7,16384,null,0,Gf,[],null,null),qu(8,4210688,null,0,Nf,[[8,null],[8,null]],null,null),Ju(2048,null,zh,null,[Nf]),qu(10,16384,null,0,Af,[[4,zh]],null,null),(e()(),lu(11,0,null,null,1,"h6",[["class","title-with-border border-gray"]],null,null,null,null,null)),(e()(),ys(12,null,["",""])),(e()(),lu(13,0,null,null,8,"div",[["class","input-block"]],null,null,null,null,null)),(e()(),lu(14,0,null,null,7,"div",[["class","input-group"]],null,null,null,null,null)),qu(15,278528,null,0,Xc,[Yo,er,Li,zi],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(e()(),iu(16777216,null,null,1,null,Sg)),qu(17,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,_g)),qu(19,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,wg)),qu(21,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),lu(22,0,null,null,8,"div",[["class","input-block"]],null,null,null,null,null)),(e()(),lu(23,0,null,null,7,"div",[["class","input-group"]],null,null,null,null,null)),qu(24,278528,null,0,Xc,[Yo,er,Li,zi],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(e()(),iu(16777216,null,null,1,null,xg)),qu(26,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,Fg)),qu(28,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,Eg)),qu(30,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),lu(31,0,null,null,11,"div",[["class","input-block"]],null,null,null,null,null)),(e()(),lu(32,0,null,null,10,"div",[["class","input-group"]],null,null,null,null,null)),qu(33,278528,null,0,Xc,[Yo,er,Li,zi],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(e()(),lu(34,0,null,null,6,"input",[["autocomplete","off"],["class","form-control"],["id","phone"],["name","phone"],["placeholder","(+)123-4567-8901"],["type","tel"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(e,t,n){var i=!0,l=e.component;return"input"===t&&(i=!1!==Ou(e,36)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==Ou(e,36).onTouched()&&i),"compositionstart"===t&&(i=!1!==Ou(e,36)._compositionStart()&&i),"compositionend"===t&&(i=!1!==Ou(e,36)._compositionEnd(n.target.value)&&i),"ngModelChange"===t&&(i=!1!==(l.phone=n)&&i),"input"===t&&(i=!1!==l.TypingEvent(n,"phone")&&i),i},null,null)),qu(35,278528,null,0,Xc,[Yo,er,Li,zi],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),qu(36,16384,null,0,tf,[zi,Li,[2,ef]],null,null),Ju(1024,null,Xh,function(e){return[e]},[tf]),qu(38,671744,null,0,Hf,[[2,zh],[8,null],[8,null],[6,Xh]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),Ju(2048,null,uf,null,[Hf]),qu(40,16384,null,0,kf,[[4,uf]],null,null),(e()(),iu(16777216,null,null,1,null,kg)),qu(42,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),lu(43,0,null,null,6,"div",[["class","input-block"]],null,null,null,null,null)),(e()(),lu(44,0,null,null,5,"textarea",[["autocomplete","off"],["class","form-control no-resize"],["id","message"],["name","message"],["rows","3"]],[[8,"placeholder",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(e,t,n){var i=!0,l=e.component;return"input"===t&&(i=!1!==Ou(e,45)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==Ou(e,45).onTouched()&&i),"compositionstart"===t&&(i=!1!==Ou(e,45)._compositionStart()&&i),"compositionend"===t&&(i=!1!==Ou(e,45)._compositionEnd(n.target.value)&&i),"ngModelChange"===t&&(i=!1!==(l.message=n)&&i),i},null,null)),qu(45,16384,null,0,tf,[zi,Li,[2,ef]],null,null),Ju(1024,null,Xh,function(e){return[e]},[tf]),qu(47,671744,null,0,Hf,[[2,zh],[8,null],[8,null],[6,Xh]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),Ju(2048,null,uf,null,[Hf]),qu(49,16384,null,0,kf,[[4,uf]],null,null),(e()(),lu(50,0,null,null,6,"div",[["class","input-block"]],null,null,null,null,null)),(e()(),lu(51,0,null,null,5,"button",[["class","btn btn-md bg-charcoal btn-block"],["id","btnStartChat"],["type","button"]],null,[[null,"click"]],function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.openMessageWindow()&&i),i},null,null)),qu(52,278528,null,0,Xc,[Yo,er,Li,zi],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),qu(53,278528,null,0,op,[er,Li,zi],{ngStyle:[0,"ngStyle"]},null),ms(54,{"background-color":0,color:1}),(e()(),lu(55,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),ys(56,null,["",""]))],function(e,t){var n=t.component,i=n.themeSettings?e(t,5,0,n.themeSettings.dialogBgColor,n.themeSettings.dialogTextColor):"";e(t,4,0,i),e(t,15,0,"input-group",n.invalidName?"has-danger":""),e(t,17,0,!n.allowEdit),e(t,19,0,n.allowEdit),e(t,21,0,n.invalidName),e(t,24,0,"input-group",n.invalidEmail?"has-danger":""),e(t,26,0,!n.allowEdit),e(t,28,0,n.allowEdit),e(t,30,0,n.invalidEmail),e(t,33,0,"input-group",n.invalidPhone?"has-danger":""),e(t,35,0,"form-control",n.invalidPhone?"border-red":""),e(t,38,0,"phone",n.phone),e(t,42,0,n.invalidPhone),e(t,47,0,"message",n.message),e(t,52,0,"btn btn-md bg-charcoal btn-block",n.loading?"btnSpinner":"");var l=n.themeSettings?e(t,54,0,n.themeSettings.btnColor,n.themeSettings.btnTextcolor):"";e(t,53,0,l)},function(e,t){var n=t.component;e(t,6,0,Ou(t,10).ngClassUntouched,Ou(t,10).ngClassTouched,Ou(t,10).ngClassPristine,Ou(t,10).ngClassDirty,Ou(t,10).ngClassValid,Ou(t,10).ngClassInvalid,Ou(t,10).ngClassPending),e(t,12,0,n.registerationForm.content),e(t,34,0,Ou(t,40).ngClassUntouched,Ou(t,40).ngClassTouched,Ou(t,40).ngClassPristine,Ou(t,40).ngClassDirty,Ou(t,40).ngClassValid,Ou(t,40).ngClassInvalid,Ou(t,40).ngClassPending),e(t,44,0,n.Session&&n.Session.nsp&&"/sbtjapan.com"==n.Session.nsp?"How did you know about SBT":"",Ou(t,49).ngClassUntouched,Ou(t,49).ngClassTouched,Ou(t,49).ngClassPristine,Ou(t,49).ngClassDirty,Ou(t,49).ngClassValid,Ou(t,49).ngClassInvalid,Ou(t,49).ngClassPending),e(t,56,0,n.register?"Register Now":"Chat Now")})}function Tg(e){return Cs(0,[(e()(),lu(0,0,null,null,1,"app-user-information-form",[],null,null,null,Ag,Cg)),qu(1,245760,null,0,Dg,[Zf,tg,hd],null,null)],function(e,t){e(t,1,0)},null)}var Ig=Su("app-user-information-form",Dg,Tg,{},{},[]),Bg=Er({encapsulation:2,styles:[[""]],data:{}});function Og(e){return Cs(0,[(e()(),lu(0,0,null,null,0,"input",[["class"," op-1 form-control"],["disabled",""]],[[8,"value",0]],null,null,null,null))],null,function(e,t){e(t,0,0,t.component.userName)})}function Rg(e){return Cs(0,[(e()(),lu(0,0,null,null,5,"input",[["autocomplete","off"],["class","form-control"],["id","userName"],["name","userName"],["placeholder","Enter Name"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(e,t,n){var i=!0,l=e.component;return"input"===t&&(i=!1!==Ou(e,1)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==Ou(e,1).onTouched()&&i),"compositionstart"===t&&(i=!1!==Ou(e,1)._compositionStart()&&i),"compositionend"===t&&(i=!1!==Ou(e,1)._compositionEnd(n.target.value)&&i),"ngModelChange"===t&&(i=!1!==(l.userName=n)&&i),i},null,null)),qu(1,16384,null,0,tf,[zi,Li,[2,ef]],null,null),Ju(1024,null,Xh,function(e){return[e]},[tf]),qu(3,671744,null,0,Hf,[[2,zh],[8,null],[8,null],[6,Xh]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),Ju(2048,null,uf,null,[Hf]),qu(5,16384,null,0,kf,[[4,uf]],null,null)],function(e,t){e(t,3,0,"userName",t.component.userName)},function(e,t){e(t,0,0,Ou(t,5).ngClassUntouched,Ou(t,5).ngClassTouched,Ou(t,5).ngClassPristine,Ou(t,5).ngClassDirty,Ou(t,5).ngClassValid,Ou(t,5).ngClassInvalid,Ou(t,5).ngClassPending)})}function Mg(e){return Cs(0,[(e()(),lu(0,0,null,null,0,"input",[["class","op-1 form-control"],["disabled",""]],[[8,"value",0]],[[null,"input"]],function(e,t,n){var i=!0;return"input"===t&&(i=!1!==e.component.TypingEvent(n,"userEmail")&&i),i},null,null))],null,function(e,t){e(t,0,0,t.component.userEmail)})}function Pg(e){return Cs(0,[(e()(),lu(0,0,null,null,6,"input",[["autocomplete","off"],["class","form-control"],["id","userEmail"],["name","userEmail"],["placeholder","Enter Email Address"],["type","email"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(e,t,n){var i=!0,l=e.component;return"input"===t&&(i=!1!==Ou(e,2)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==Ou(e,2).onTouched()&&i),"compositionstart"===t&&(i=!1!==Ou(e,2)._compositionStart()&&i),"compositionend"===t&&(i=!1!==Ou(e,2)._compositionEnd(n.target.value)&&i),"ngModelChange"===t&&(i=!1!==(l.userEmail=n)&&i),"input"===t&&(i=!1!==l.TypingEvent(n,"userEmail")&&i),i},null,null)),qu(1,278528,null,0,Xc,[Yo,er,Li,zi],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),qu(2,16384,null,0,tf,[zi,Li,[2,ef]],null,null),Ju(1024,null,Xh,function(e){return[e]},[tf]),qu(4,671744,null,0,Hf,[[2,zh],[8,null],[8,null],[6,Xh]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),Ju(2048,null,uf,null,[Hf]),qu(6,16384,null,0,kf,[[4,uf]],null,null)],function(e,t){var n=t.component;e(t,1,0,"form-control",n.invalidEmail?"border-red":""),e(t,4,0,"userEmail",n.userEmail)},function(e,t){e(t,0,0,Ou(t,6).ngClassUntouched,Ou(t,6).ngClassTouched,Ou(t,6).ngClassPristine,Ou(t,6).ngClassDirty,Ou(t,6).ngClassValid,Ou(t,6).ngClassInvalid,Ou(t,6).ngClassPending)})}function jg(e){return Cs(0,[(e()(),lu(0,0,null,null,3,"div",[["class","input-group-addon tooltip top-right"]],null,null,null,null,null)),(e()(),lu(1,0,null,null,0,"img",[["class","svg floatToCenter w-20"],["src","/cw/assets/img/icons/svg/error-filled.svg"]],null,null,null,null,null)),(e()(),lu(2,0,null,null,1,"span",[["class","tooltip-inner"]],null,null,null,null,null)),(e()(),ys(-1,null,["Please enter a valid email"]))],null,null)}function Ng(e){return Cs(0,[(e()(),lu(0,0,null,null,3,"div",[["class","input-group-addon tooltip top-right"]],null,null,null,null,null)),(e()(),lu(1,0,null,null,0,"img",[["class","svg floatToCenter w-20"],["src","/cw/assets/img/icons/svg/error-filled.svg"]],null,null,null,null,null)),(e()(),lu(2,0,null,null,1,"span",[["class","tooltip-inner"]],null,null,null,null,null)),(e()(),ys(-1,null,["Please enter a Phone Number"]))],null,null)}function Lg(e){return Cs(0,[(e()(),lu(0,0,null,null,3,"div",[["class","input-group-addon tooltip top-right"]],null,null,null,null,null)),(e()(),lu(1,0,null,null,0,"img",[["class","svg floatToCenter w-20"],["src","/cw/assets/img/icons/svg/error-filled.svg"]],null,null,null,null,null)),(e()(),lu(2,0,null,null,1,"span",[["class","tooltip-inner"]],null,null,null,null,null)),(e()(),ys(-1,null,["Please enter subject"]))],null,null)}function Vg(e){return Cs(0,[(e()(),lu(0,0,null,null,3,"div",[["class","input-group-addon tooltip top-right"]],null,null,null,null,null)),(e()(),lu(1,0,null,null,0,"img",[["class","svg floatToCenter w-20"],["src","/cw/assets/img/icons/svg/error-filled.svg"]],null,null,null,null,null)),(e()(),lu(2,0,null,null,1,"span",[["class","tooltip-inner"]],null,null,null,null,null)),(e()(),ys(-1,null,["Please enter message"]))],null,null)}function $g(e){return Cs(0,[(e()(),lu(0,0,null,null,64,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(e,t,n){var i=!0;return"submit"===t&&(i=!1!==Ou(e,2).onSubmit(n)&&i),"reset"===t&&(i=!1!==Ou(e,2).onReset()&&i),i},null,null)),qu(1,16384,null,0,Gf,[],null,null),qu(2,4210688,null,0,Nf,[[8,null],[8,null]],null,null),Ju(2048,null,zh,null,[Nf]),qu(4,16384,null,0,Af,[[4,zh]],null,null),(e()(),lu(5,0,null,null,1,"h6",[["class","title-with-border border-gray"]],null,null,null,null,null)),(e()(),ys(6,null,["",""])),(e()(),lu(7,0,null,null,5,"div",[["class","input-block"]],null,null,null,null,null)),(e()(),lu(8,0,null,null,4,"div",[["class","input-group"]],null,null,null,null,null)),(e()(),iu(16777216,null,null,1,null,Og)),qu(10,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,Rg)),qu(12,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),lu(13,0,null,null,8,"div",[["class","input-block"]],null,null,null,null,null)),(e()(),lu(14,0,null,null,7,"div",[["class","input-group"]],null,null,null,null,null)),qu(15,278528,null,0,Xc,[Yo,er,Li,zi],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(e()(),iu(16777216,null,null,1,null,Mg)),qu(17,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,Pg)),qu(19,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,jg)),qu(21,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),lu(22,0,null,null,11,"div",[["class","input-block"]],null,null,null,null,null)),(e()(),lu(23,0,null,null,10,"div",[["class","input-group"]],null,null,null,null,null)),qu(24,278528,null,0,Xc,[Yo,er,Li,zi],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(e()(),lu(25,0,null,null,6,"input",[["autocomplete","off"],["class","form-control"],["id","phone"],["name","phone"],["placeholder","(+)123-4567-8901"],["type","tel"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(e,t,n){var i=!0,l=e.component;return"input"===t&&(i=!1!==Ou(e,27)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==Ou(e,27).onTouched()&&i),"compositionstart"===t&&(i=!1!==Ou(e,27)._compositionStart()&&i),"compositionend"===t&&(i=!1!==Ou(e,27)._compositionEnd(n.target.value)&&i),"ngModelChange"===t&&(i=!1!==(l.phone=n)&&i),"input"===t&&(i=!1!==l.TypingEvent(n,"phone")&&i),i},null,null)),qu(26,278528,null,0,Xc,[Yo,er,Li,zi],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),qu(27,16384,null,0,tf,[zi,Li,[2,ef]],null,null),Ju(1024,null,Xh,function(e){return[e]},[tf]),qu(29,671744,null,0,Hf,[[2,zh],[8,null],[8,null],[6,Xh]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),Ju(2048,null,uf,null,[Hf]),qu(31,16384,null,0,kf,[[4,uf]],null,null),(e()(),iu(16777216,null,null,1,null,Ng)),qu(33,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),lu(34,0,null,null,11,"div",[["class","input-block"]],null,null,null,null,null)),(e()(),lu(35,0,null,null,10,"div",[["class","input-group"]],null,null,null,null,null)),qu(36,278528,null,0,Xc,[Yo,er,Li,zi],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(e()(),lu(37,0,null,null,6,"input",[["autocomplete","off"],["class","form-control"],["id","subject"],["name","subject"],["placeholder","Enter Subject"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(e,t,n){var i=!0,l=e.component;return"input"===t&&(i=!1!==Ou(e,39)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==Ou(e,39).onTouched()&&i),"compositionstart"===t&&(i=!1!==Ou(e,39)._compositionStart()&&i),"compositionend"===t&&(i=!1!==Ou(e,39)._compositionEnd(n.target.value)&&i),"ngModelChange"===t&&(i=!1!==(l.subject=n)&&i),"input"===t&&(i=!1!==l.TypingEvent(n,"subject")&&i),i},null,null)),qu(38,278528,null,0,Xc,[Yo,er,Li,zi],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),qu(39,16384,null,0,tf,[zi,Li,[2,ef]],null,null),Ju(1024,null,Xh,function(e){return[e]},[tf]),qu(41,671744,null,0,Hf,[[2,zh],[8,null],[8,null],[6,Xh]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),Ju(2048,null,uf,null,[Hf]),qu(43,16384,null,0,kf,[[4,uf]],null,null),(e()(),iu(16777216,null,null,1,null,Lg)),qu(45,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),lu(46,0,null,null,11,"div",[["class","input-block"]],null,null,null,null,null)),(e()(),lu(47,0,null,null,10,"div",[["class","input-group"]],null,null,null,null,null)),qu(48,278528,null,0,Xc,[Yo,er,Li,zi],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(e()(),lu(49,0,null,null,6,"textarea",[["autocomplete","off"],["class","form-control no-resize"],["id","message"],["name","message"],["placeholder","Enter Message"],["rows","3"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(e,t,n){var i=!0,l=e.component;return"input"===t&&(i=!1!==Ou(e,51)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==Ou(e,51).onTouched()&&i),"compositionstart"===t&&(i=!1!==Ou(e,51)._compositionStart()&&i),"compositionend"===t&&(i=!1!==Ou(e,51)._compositionEnd(n.target.value)&&i),"ngModelChange"===t&&(i=!1!==(l.message=n)&&i),"input"===t&&(i=!1!==l.TypingEvent(n,"message")&&i),i},null,null)),qu(50,278528,null,0,Xc,[Yo,er,Li,zi],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),qu(51,16384,null,0,tf,[zi,Li,[2,ef]],null,null),Ju(1024,null,Xh,function(e){return[e]},[tf]),qu(53,671744,null,0,Hf,[[2,zh],[8,null],[8,null],[6,Xh]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),Ju(2048,null,uf,null,[Hf]),qu(55,16384,null,0,kf,[[4,uf]],null,null),(e()(),iu(16777216,null,null,1,null,Vg)),qu(57,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),lu(58,0,null,null,6,"div",[["class","input-block"]],null,null,null,null,null)),(e()(),lu(59,0,null,null,5,"button",[["class","btn btn-md bg-charcoal btn-block"],["id","btnStartChat"],["type","button"]],null,[[null,"click"]],function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.SubmitTicket()&&i),i},null,null)),qu(60,278528,null,0,Xc,[Yo,er,Li,zi],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),qu(61,278528,null,0,op,[er,Li,zi],{ngStyle:[0,"ngStyle"]},null),ms(62,{"background-color":0,color:1}),(e()(),lu(63,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),ys(64,null,["",""]))],function(e,t){var n=t.component;e(t,10,0,!n.allowEdit),e(t,12,0,n.allowEdit),e(t,15,0,"input-group",n.invalidEmail?"has-danger":""),e(t,17,0,!n.allowEdit),e(t,19,0,n.allowEdit),e(t,21,0,n.invalidEmail),e(t,24,0,"input-group",n.invalidPhone?"has-danger":""),e(t,26,0,"form-control",n.invalidPhone?"border-red":""),e(t,29,0,"phone",n.phone),e(t,33,0,n.invalidPhone),e(t,36,0,"input-group",n.subjectRequired?"has-danger":""),e(t,38,0,"form-control",n.subjectRequired?"border-red":""),e(t,41,0,"subject",n.subject),e(t,45,0,n.subjectRequired),e(t,48,0,"input-group",n.messageRequired?"has-danger":""),e(t,50,0,"form-control no-resize",n.messageRequired?"border-red":""),e(t,53,0,"message",n.message),e(t,57,0,n.messageRequired),e(t,60,0,"btn btn-md bg-charcoal btn-block",n.submitting?"btnSpinner":"");var i=n.themeSettings?e(t,62,0,n.themeSettings.btnColor,n.themeSettings.btnTextcolor):"";e(t,61,0,i)},function(e,t){var n=t.component;e(t,0,0,Ou(t,4).ngClassUntouched,Ou(t,4).ngClassTouched,Ou(t,4).ngClassPristine,Ou(t,4).ngClassDirty,Ou(t,4).ngClassValid,Ou(t,4).ngClassInvalid,Ou(t,4).ngClassPending),e(t,6,0,n.ticketForm.content),e(t,25,0,Ou(t,31).ngClassUntouched,Ou(t,31).ngClassTouched,Ou(t,31).ngClassPristine,Ou(t,31).ngClassDirty,Ou(t,31).ngClassValid,Ou(t,31).ngClassInvalid,Ou(t,31).ngClassPending),e(t,37,0,Ou(t,43).ngClassUntouched,Ou(t,43).ngClassTouched,Ou(t,43).ngClassPristine,Ou(t,43).ngClassDirty,Ou(t,43).ngClassValid,Ou(t,43).ngClassInvalid,Ou(t,43).ngClassPending),e(t,49,0,Ou(t,55).ngClassUntouched,Ou(t,55).ngClassTouched,Ou(t,55).ngClassPristine,Ou(t,55).ngClassDirty,Ou(t,55).ngClassValid,Ou(t,55).ngClassInvalid,Ou(t,55).ngClassPending),e(t,64,0,n.ticketForm.btnText)})}function Ug(e){return Cs(0,[(e()(),lu(0,0,null,null,21,"div",[["class","text-center clearfix p-24"],["id","successfullWindow"]],null,null,null,null,null)),qu(1,278528,null,0,op,[er,Li,zi],{ngStyle:[0,"ngStyle"]},null),ms(2,{"background-color":0,color:1}),(e()(),lu(3,0,null,null,0,"img",[["alt","Success Icon"],["class","m-b-20"],["height","auto"],["src","/cw/assets/img/icons/svg/ok-done-green.svg"],["width","80"]],null,null,null,null,null)),(e()(),lu(4,0,null,null,1,"h5",[["class","title-with-border border-gray"]],null,null,null,null,null)),(e()(),ys(5,null,["",""])),(e()(),lu(6,0,null,null,1,"h6",[],null,null,null,null,null)),(e()(),ys(7,null,["",""])),(e()(),lu(8,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),lu(9,0,null,null,12,"div",[["class","flex_btns"]],null,null,null,null,null)),(e()(),lu(10,0,null,null,5,"div",[],null,null,null,null,null)),(e()(),lu(11,0,null,null,4,"button",[["class","btn"],["type","button"]],null,[[null,"click"]],function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.RefreshForm()&&i),i},null,null)),qu(12,278528,null,0,op,[er,Li,zi],{ngStyle:[0,"ngStyle"]},null),ms(13,{"background-color":0,color:1}),(e()(),lu(14,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),ys(15,null,["",""])),(e()(),lu(16,0,null,null,5,"div",[],null,null,null,null,null)),(e()(),lu(17,0,null,null,4,"button",[["class","btn"],["type","button"]],null,[[null,"click"]],function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.CloseDialog()&&i),i},null,null)),qu(18,278528,null,0,op,[er,Li,zi],{ngStyle:[0,"ngStyle"]},null),ms(19,{"background-color":0,color:1}),(e()(),lu(20,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),ys(21,null,["",""]))],function(e,t){var n=t.component,i=n.themeSettings?e(t,2,0,n.themeSettings.dialogBgColor,n.themeSettings.dialogTextColor):"";e(t,1,0,i);var l=n.themeSettings?e(t,13,0,n.themeSettings.dialogBtnColor,n.themeSettings.dialogBtnTextColor):"";e(t,12,0,l);var o=n.themeSettings?e(t,19,0,n.themeSettings.dialogSecondaryBtnColor,n.themeSettings.dialogSecondaryBtnTextColor):"";e(t,18,0,o)},function(e,t){var n=t.component;e(t,5,0,n.ticketSubmitted.ticketSubmitted),e(t,7,0,n.ticketSubmitted.content),e(t,15,0,n.ticketSubmitted.btn1Text),e(t,21,0,n.ticketSubmitted.btn2Text)})}function Hg(e){return Cs(0,[(e()(),lu(0,0,null,null,2,"div",[["class","dialog-close svgOnHover"]],null,[[null,"click"]],function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.CloseDialog()&&i),i},null,null)),(e()(),lu(1,0,null,null,0,"img",[["class","svg"],["src","/cw/assets/img/icons/svg/cancel-circle-outline.svg"]],null,null,null,null,null)),(e()(),lu(2,0,null,null,0,"img",[["class","svg hover"],["src","/cw/assets/img/icons/svg/cancel-circle-filled.svg"]],null,null,null,null,null)),(e()(),lu(3,0,null,null,4,"div",[["class","clearfix p-24"]],null,null,null,null,null)),qu(4,278528,null,0,op,[er,Li,zi],{ngStyle:[0,"ngStyle"]},null),ms(5,{"background-color":0,color:1}),(e()(),iu(16777216,null,null,1,null,$g)),qu(7,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,Ug)),qu(9,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component,i=n.themeSettings?e(t,5,0,n.themeSettings.dialogBgColor,n.themeSettings.dialogTextColor):"";e(t,4,0,i),e(t,7,0,!n.submitted),e(t,9,0,n.submitted)},null)}function zg(e){return Cs(0,[(e()(),lu(0,0,null,null,1,"app-ticket-form-dialog",[],null,null,null,Hg,Bg)),qu(1,245760,null,0,lg,[tg,Zf,hd],null,null)],function(e,t){e(t,1,0)},null)}var Gg=Su("app-ticket-form-dialog",lg,zg,{},{},[]),qg=function(){function e(){}return e.prototype.transform=function(e){switch(e.toString().split(".").pop().toLowerCase()){case"png":case"jpeg":case"jpg":case"gif":case"bmp":case"svg":return"image";case"mp3":case"aac":return"audio";case"mp4":case"m4a":case"m4v":case"f4v":case"m4b":case"f4b":case"mov":return"video";case"pdf":case"docx":case"doc":case"txt":case"csv":case"xls":case"xlsx":return"document";default:return"data"}},e}(),Wg=function(){function e(){}return e.prototype.transform=function(e){var t=!1,n=new RegExp(/\w+|^[a-zA-Z0-9~`!@#\$%\^&\*\(\)_\-\+={\[\}\]\|\\:;"'<,>\.\?\/  ]+$/,"gm"),i=RegExp(/(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff])|[\ud800-\udbff][\udc00-\udfff]|[\u0023-\u0039]\ufe0f?\u20e3|\u3299|\u3297|\u303d|\u3030|\u24c2|\ud83c[\udd70-\udd71]|\ud83c[\udd7e-\udd7f]|\ud83c\udd8e|\ud83c[\udd91-\udd9a]|\ud83c[\udde6-\uddff]|\ud83c[\ude01-\ude02]|\ud83c\ude1a|\ud83c\ude2f|\ud83c[\ude32-\ude3a]|\ud83c[\ude50-\ude51]|\u203c|\u2049|[\u25aa-\u25ab]|\u25b6|\u25c0|[\u25fb-\u25fe]|\u00a9|\u00ae|\u2122|\u2139|\ud83c\udc04|[\u2600-\u26FF]|\u2b05|\u2b06|\u2b07|\u2b1b|\u2b1c|\u2b50|\u2b55|\u231a|\u231b|\u2328|\u23cf|[\u23e9-\u23f3]|[\u23f8-\u23fa]|\ud83c\udccf|\u2934|\u2935|[\u2190-\u21ff])/,"gm");if(i.test(e.trim())){var l=e.trim().replace(i,"");n.test(l)||(t=!0)}return t},e}(),Jg=function(){function e(e,t,n){var i=this;this._dataService=e,this._appStateService=t,this.dialogRef=n,this.subscriptions=[],this.session=void 0,this.userName="",this.userEmail="",this.phone="",this.subject="",this.conversation=[],this.filteredConversation=[],this.emailRegex=/^[_a-z0-9]+(\.[_a-z0-9]+)*@[a-z0-9-]+(\.[a-z0-9-]+)*(\.[a-z]{2,4})$/,this.NumbersOnlyPatter=/^[0-9\-]+$/,this.invalidEmail=!1,this.invalidPhone=!1,this.subjectRequired=!1,this.imageError=!1,this.submitting=!1,this.submitted=!1,this.themeSettings=void 0,this.ticketForm=void 0,this.ticketSubmitted=void 0,this.subscriptions.push(this._appStateService.Session.subscribe(function(e){i.session=e,e.email&&"unregistered"!=e.email.toLowerCase()&&(i.userEmail=e.email),e.username&&-1==e.username.indexOf("Guest")&&(i.userName=e.username),i.session&&1!=i.session.state&&i.ticketForm&&(i.ticketForm.content=i.ticketForm.content.replace(/we are currently away./i,""))})),this.subscriptions.push(this._appStateService.Settings.subscribe(function(e){e&&(i.themeSettings=e.dialogSettings,i.ticketForm=e.ticketForm,i.ticketSubmitted=e.ticketSubmitted,i.session&&1!=i.session.state&&(i.ticketForm.content=i.ticketForm.content.replace(/we are currently away./i,"")))})),this.subscriptions.push(this._appStateService.AllowEdit.subscribe(function(e){i.allowEdit=e})),this.subscriptions.push(this._dataService.Messages.subscribe(function(e){e.length>0&&(i.conversation=e,i.filteredConversation=e)}))}return e.prototype.ngOnInit=function(){},e.prototype.ngOnDestroy=function(){this.subscriptions.map(function(e){e.unsubscribe()})},e.prototype.Close=function(){this.dialogRef.close({status:"closed"})},e.prototype.SubmitTicket=function(){var e=this,t=this.filteredConversation.filter(function(e){return!e.unselected});this.invalidEmail=!1,this.subjectRequired=!1,this.invalidPhone=!1,new RegExp(this.emailRegex,"gi").test(this.userEmail)||(this.invalidEmail=!0),this.subject||(this.subjectRequired=!0),this.phone&&!new RegExp(this.NumbersOnlyPatter).test(this.phone)&&(this.invalidPhone=!0),this.subjectRequired||this.invalidEmail||this.invalidPhone||(this.submitting=!0,this._dataService.ConvertChatToTicket({name:this.userName.trim(),email:this.userEmail.trim(),phone:this.phone.trim(),subject:this.subject.trim(),conversation:JSON.stringify(t)}).subscribe(function(t){e.submitting=!1,t&&(e.submitted=!0,e.subject="",e.conversation=[],e.phone="",e.dialogRef.disableClose=!0,e.closeTimer=setTimeout(function(){e.submitted=!1,e.dialogRef.close({result:"ok"})},5e3))},function(t){e.submitting=!1}))},e.prototype.CloseDialog=function(){this.dialogRef.close({result:"close"})},e.prototype.RefreshForm=function(){clearTimeout(this.closeTimer),this.submitted=!1,this.dialogRef.disableClose=!1},e.prototype.ImageBroken=function(){this.imageError=!0},e.prototype.EditMessage=function(e,t){this.filteredConversation=this.filteredConversation.map(function(n){return n._id==e._id&&(n.unselected=t),n})},e}(),Kg=Er({encapsulation:2,styles:[["#TicketChat{width:50%;float:right;height:calc(100vh - 205px);padding:40px 10px}#TicketChatForm{width:50%;float:left;height:calc(100vh - 120px);padding:40px 10px}.disabled-Message{opacity:.5}#ConvertChat input{padding:0 5px;margin:5px 0;height:35px;line-height:36px;font-size:12px}#ConvertChat .chat-text{font-size:10px}"]],data:{}});function Qg(e){return Cs(0,[(e()(),lu(0,0,null,null,0,"input",[["class"," op-1 form-control"],["disabled",""]],[[8,"value",0]],null,null,null,null))],null,function(e,t){e(t,0,0,t.component.userName)})}function Zg(e){return Cs(0,[(e()(),lu(0,0,null,null,5,"input",[["autocomplete","off"],["class","form-control"],["id","userName"],["name","userName"],["placeholder","Enter Name"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(e,t,n){var i=!0,l=e.component;return"input"===t&&(i=!1!==Ou(e,1)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==Ou(e,1).onTouched()&&i),"compositionstart"===t&&(i=!1!==Ou(e,1)._compositionStart()&&i),"compositionend"===t&&(i=!1!==Ou(e,1)._compositionEnd(n.target.value)&&i),"ngModelChange"===t&&(i=!1!==(l.userName=n)&&i),i},null,null)),qu(1,16384,null,0,tf,[zi,Li,[2,ef]],null,null),Ju(1024,null,Xh,function(e){return[e]},[tf]),qu(3,671744,null,0,Hf,[[2,zh],[8,null],[8,null],[6,Xh]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),Ju(2048,null,uf,null,[Hf]),qu(5,16384,null,0,kf,[[4,uf]],null,null)],function(e,t){e(t,3,0,"userName",t.component.userName)},function(e,t){e(t,0,0,Ou(t,5).ngClassUntouched,Ou(t,5).ngClassTouched,Ou(t,5).ngClassPristine,Ou(t,5).ngClassDirty,Ou(t,5).ngClassValid,Ou(t,5).ngClassInvalid,Ou(t,5).ngClassPending)})}function Xg(e){return Cs(0,[(e()(),lu(0,0,null,null,0,"input",[["class","op-1 form-control"],["disabled",""]],[[8,"value",0]],null,null,null,null))],null,function(e,t){e(t,0,0,t.component.userEmail)})}function Yg(e){return Cs(0,[(e()(),lu(0,0,null,null,6,"input",[["autocomplete","off"],["class","form-control"],["id","userEmail"],["name","userEmail"],["placeholder","Enter Email Address"],["type","email"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(e,t,n){var i=!0,l=e.component;return"input"===t&&(i=!1!==Ou(e,2)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==Ou(e,2).onTouched()&&i),"compositionstart"===t&&(i=!1!==Ou(e,2)._compositionStart()&&i),"compositionend"===t&&(i=!1!==Ou(e,2)._compositionEnd(n.target.value)&&i),"ngModelChange"===t&&(i=!1!==(l.userEmail=n)&&i),i},null,null)),qu(1,278528,null,0,Xc,[Yo,er,Li,zi],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),qu(2,16384,null,0,tf,[zi,Li,[2,ef]],null,null),Ju(1024,null,Xh,function(e){return[e]},[tf]),qu(4,671744,null,0,Hf,[[2,zh],[8,null],[8,null],[6,Xh]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),Ju(2048,null,uf,null,[Hf]),qu(6,16384,null,0,kf,[[4,uf]],null,null)],function(e,t){var n=t.component;e(t,1,0,"form-control",n.invalidEmail?"border-red":""),e(t,4,0,"userEmail",n.userEmail)},function(e,t){e(t,0,0,Ou(t,6).ngClassUntouched,Ou(t,6).ngClassTouched,Ou(t,6).ngClassPristine,Ou(t,6).ngClassDirty,Ou(t,6).ngClassValid,Ou(t,6).ngClassInvalid,Ou(t,6).ngClassPending)})}function em(e){return Cs(0,[(e()(),lu(0,0,null,null,39,"div",[["id","TicketChatForm"]],null,null,null,null,null)),(e()(),lu(1,0,null,null,38,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(e,t,n){var i=!0;return"submit"===t&&(i=!1!==Ou(e,3).onSubmit(n)&&i),"reset"===t&&(i=!1!==Ou(e,3).onReset()&&i),i},null,null)),qu(2,16384,null,0,Gf,[],null,null),qu(3,4210688,null,0,Nf,[[8,null],[8,null]],null,null),Ju(2048,null,zh,null,[Nf]),qu(5,16384,null,0,Af,[[4,zh]],null,null),(e()(),lu(6,0,null,null,1,"p",[["class","title-with-border border-gray"]],null,null,null,null,null)),(e()(),ys(7,null,["",""])),(e()(),lu(8,0,null,null,4,"div",[["class","input-block"]],null,null,null,null,null)),(e()(),iu(16777216,null,null,1,null,Qg)),qu(10,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,Zg)),qu(12,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),lu(13,0,null,null,4,"div",[["class","input-block has-feedback"]],null,null,null,null,null)),(e()(),iu(16777216,null,null,1,null,Xg)),qu(15,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,Yg)),qu(17,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),lu(18,0,null,null,7,"div",[["class","input-block"]],null,null,null,null,null)),(e()(),lu(19,0,null,null,6,"input",[["autocomplete","off"],["class","form-control"],["id","phone"],["name","phone"],["placeholder","Enter Phone Number"],["type","tel"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(e,t,n){var i=!0,l=e.component;return"input"===t&&(i=!1!==Ou(e,21)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==Ou(e,21).onTouched()&&i),"compositionstart"===t&&(i=!1!==Ou(e,21)._compositionStart()&&i),"compositionend"===t&&(i=!1!==Ou(e,21)._compositionEnd(n.target.value)&&i),"ngModelChange"===t&&(i=!1!==(l.phone=n)&&i),i},null,null)),qu(20,278528,null,0,Xc,[Yo,er,Li,zi],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),qu(21,16384,null,0,tf,[zi,Li,[2,ef]],null,null),Ju(1024,null,Xh,function(e){return[e]},[tf]),qu(23,671744,null,0,Hf,[[2,zh],[8,null],[8,null],[6,Xh]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),Ju(2048,null,uf,null,[Hf]),qu(25,16384,null,0,kf,[[4,uf]],null,null),(e()(),lu(26,0,null,null,7,"div",[["class","input-block"]],null,null,null,null,null)),(e()(),lu(27,0,null,null,6,"input",[["autocomplete","off"],["class","form-control"],["id","subject"],["name","subject"],["placeholder","Enter Subject"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(e,t,n){var i=!0,l=e.component;return"input"===t&&(i=!1!==Ou(e,29)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==Ou(e,29).onTouched()&&i),"compositionstart"===t&&(i=!1!==Ou(e,29)._compositionStart()&&i),"compositionend"===t&&(i=!1!==Ou(e,29)._compositionEnd(n.target.value)&&i),"ngModelChange"===t&&(i=!1!==(l.subject=n)&&i),i},null,null)),qu(28,278528,null,0,Xc,[Yo,er,Li,zi],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),qu(29,16384,null,0,tf,[zi,Li,[2,ef]],null,null),Ju(1024,null,Xh,function(e){return[e]},[tf]),qu(31,671744,null,0,Hf,[[2,zh],[8,null],[8,null],[6,Xh]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),Ju(2048,null,uf,null,[Hf]),qu(33,16384,null,0,kf,[[4,uf]],null,null),(e()(),lu(34,0,null,null,5,"div",[["class","input-block"]],null,null,null,null,null)),(e()(),lu(35,0,null,null,4,"button",[["class","btn btn-md btn-block"],["id","btnStartChat"],["type","button"]],null,[[null,"click"]],function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.SubmitTicket()&&i),i},null,null)),qu(36,278528,null,0,op,[er,Li,zi],{ngStyle:[0,"ngStyle"]},null),ms(37,{"background-color":0,color:1}),(e()(),lu(38,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),ys(39,null,["",""]))],function(e,t){var n=t.component;e(t,10,0,!n.allowEdit),e(t,12,0,n.allowEdit),e(t,15,0,!n.allowEdit),e(t,17,0,n.allowEdit),e(t,20,0,"form-control",n.invalidPhone?"border-red":""),e(t,23,0,"phone",n.phone),e(t,28,0,"form-control",n.subjectRequired?"border-red":""),e(t,31,0,"subject",n.subject);var i=n.themeSettings?e(t,37,0,n.themeSettings.dialogBtnColor,n.themeSettings.dialogBtnTextColor):"";e(t,36,0,i)},function(e,t){var n=t.component;e(t,1,0,Ou(t,5).ngClassUntouched,Ou(t,5).ngClassTouched,Ou(t,5).ngClassPristine,Ou(t,5).ngClassDirty,Ou(t,5).ngClassValid,Ou(t,5).ngClassInvalid,Ou(t,5).ngClassPending),e(t,7,0,n.ticketForm.content),e(t,19,0,Ou(t,25).ngClassUntouched,Ou(t,25).ngClassTouched,Ou(t,25).ngClassPristine,Ou(t,25).ngClassDirty,Ou(t,25).ngClassValid,Ou(t,25).ngClassInvalid,Ou(t,25).ngClassPending),e(t,27,0,Ou(t,33).ngClassUntouched,Ou(t,33).ngClassTouched,Ou(t,33).ngClassPristine,Ou(t,33).ngClassDirty,Ou(t,33).ngClassValid,Ou(t,33).ngClassInvalid,Ou(t,33).ngClassPending),e(t,39,0,n.ticketForm.btnText)})}function tm(e){return Cs(0,[(e()(),lu(0,0,null,null,1,"button",[["class","btn btn-xs bg-red pull-right"]],null,[[null,"click"]],function(e,t,n){var i=!0,l=e.component;return"click"===t&&(i=!1!==l.EditMessage(l.filteredConversation[e.parent.context.index],!0)&&i),i},null,null)),(e()(),lu(1,0,null,null,0,"img",[["alt","Delete"],["src","/cw/assets/img/icons/svg/delete.svg"],["width","12"]],null,null,null,null,null))],null,null)}function nm(e){return Cs(0,[(e()(),lu(0,0,null,null,1,"button",[["class","btn btn-xs bg-red pull-right"]],null,[[null,"click"]],function(e,t,n){var i=!0,l=e.component;return"click"===t&&(i=!1!==l.EditMessage(l.filteredConversation[e.parent.context.index],!1)&&i),i},null,null)),(e()(),lu(1,0,null,null,0,"img",[["alt","Send"],["src","/cw/assets/img/icons/svg/send.svg"],["width","12"]],null,null,null,null,null))],null,null)}function im(e){return Cs(0,[(e()(),lu(0,0,null,null,0,"img",[["height","auto"],["width","100%"]],[[8,"src",4]],null,null,null,null))],null,function(e,t){e(t,0,0,eu(1,"",t.parent.parent.context.$implicit.body,""))})}function lm(e){return Cs(0,[(e()(),lu(0,0,null,null,0,"audio",[["controls",""]],[[8,"src",4]],null,null,null,null))],null,function(e,t){e(t,0,0,eu(1,"",t.parent.parent.context.$implicit.body,""))})}function om(e){return Cs(0,[(e()(),lu(0,0,null,null,1,"video",[["controls",""],["width","250"]],null,null,null,null,null)),(e()(),lu(1,0,null,null,0,"source",[["type","video/mp4"]],[[8,"src",4]],null,null,null,null))],null,function(e,t){e(t,1,0,eu(1,"",t.parent.parent.context.$implicit.body,""))})}function rm(e){return Cs(0,[(e()(),lu(0,0,null,null,29,"div",[["class","chat-text attachment"]],[[1,"disabled",0]],null,null,null,null)),qu(1,278528,null,0,Xc,[Yo,er,Li,zi],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),qu(2,278528,null,0,op,[er,Li,zi],{ngStyle:[0,"ngStyle"]},null),ms(3,{"background-color":0,color:1}),ms(4,{"background-color":0,color:1}),(e()(),lu(5,0,null,null,20,"a",[["target","_blank"]],[[8,"href",4]],null,null,null,null)),qu(6,278528,null,0,Xc,[Yo,er,Li,zi],{ngClass:[0,"ngClass"]},null),gs(7,1),gs(8,1),gs(9,1),gs(10,1),(e()(),lu(11,0,null,null,9,"div",[["class","thumbnail"]],null,null,null,null,null)),(e()(),iu(16777216,null,null,2,null,im)),qu(13,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),gs(14,1),(e()(),iu(16777216,null,null,2,null,lm)),qu(16,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),gs(17,1),(e()(),iu(16777216,null,null,2,null,om)),qu(19,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),gs(20,1),(e()(),lu(21,0,null,null,4,"div",[["class","file-name tooltip top"]],null,null,null,null,null)),(e()(),lu(22,0,null,null,1,"span",[["class","ellipsis"]],null,null,null,null,null)),(e()(),ys(23,null,["",""])),(e()(),lu(24,0,null,null,1,"span",[["class","tooltip-inner"]],null,null,null,null,null)),(e()(),ys(25,null,["",""])),(e()(),lu(26,0,null,null,3,"span",[["class","arrow"]],null,null,null,null,null)),qu(27,278528,null,0,op,[er,Li,zi],{ngStyle:[0,"ngStyle"]},null),ms(28,{"border-top-color":0}),ms(29,{"border-top-color":0})],function(e,t){var n=t.component;e(t,1,0,"chat-text attachment",t.parent.context.$implicit.unselected?"disabled-Message":"");var i=n.displaySettings?"Visitors"==t.parent.context.$implicit.type?e(t,3,0,n.displaySettings.sentBGColor,n.displaySettings.sentForeColor):e(t,4,0,n.displaySettings.recieveBGColor,n.displaySettings.recieveForeColor):"";e(t,2,0,i);var l="data"==wr(t,6,0,e(t,7,0,Ou(t.parent.parent.parent.parent.parent,0),t.parent.context.$implicit.body))?"file":"image"==wr(t,6,0,e(t,8,0,Ou(t.parent.parent.parent.parent.parent,0),t.parent.context.$implicit.body))?"image":"audio"==wr(t,6,0,e(t,9,0,Ou(t.parent.parent.parent.parent.parent,0),t.parent.context.$implicit.body))?"audio":"document"==wr(t,6,0,e(t,10,0,Ou(t.parent.parent.parent.parent.parent,0),t.parent.context.$implicit.body))?"document":"";e(t,6,0,l);var o=t.parent.context.$implicit.attachment&&"image"==wr(t,13,0,e(t,14,0,Ou(t.parent.parent.parent.parent.parent,0),t.parent.context.$implicit.body));e(t,13,0,o);var r=t.parent.context.$implicit.attachment&&"audio"==wr(t,16,0,e(t,17,0,Ou(t.parent.parent.parent.parent.parent,0),t.parent.context.$implicit.body));e(t,16,0,r);var u=t.parent.context.$implicit.attachment&&"video"==wr(t,19,0,e(t,20,0,Ou(t.parent.parent.parent.parent.parent,0),t.parent.context.$implicit.body));e(t,19,0,u);var s=n.displaySettings?"Visitors"==t.parent.context.$implicit.type?e(t,28,0,n.displaySettings.sentBGColor):e(t,29,0,n.displaySettings.recieveBGColor):"";e(t,27,0,s)},function(e,t){e(t,0,0,!!t.parent.context.$implicit.unselected||null),e(t,5,0,eu(1,"",t.parent.context.$implicit.body,"")),e(t,23,0,t.parent.context.$implicit.filename),e(t,25,0,t.parent.context.$implicit.filename)})}function um(e){return Cs(0,[(e()(),lu(0,0,null,null,13,"div",[["class","chat-text"]],[[1,"disabled",0]],null,null,null,null)),qu(1,278528,null,0,Xc,[Yo,er,Li,zi],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),qu(2,278528,null,0,op,[er,Li,zi],{ngStyle:[0,"ngStyle"]},null),ms(3,{"background-color":0,color:1}),ms(4,{"background-color":0,color:1}),(e()(),lu(5,0,null,null,4,"p",[],null,null,null,null,null)),qu(6,278528,null,0,Xc,[Yo,er,Li,zi],{ngClass:[0,"ngClass"]},null),gs(7,1),(e()(),lu(8,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),ys(9,null,["",""])),(e()(),lu(10,0,null,null,3,"span",[["class","arrow"]],null,null,null,null,null)),qu(11,278528,null,0,op,[er,Li,zi],{ngStyle:[0,"ngStyle"]},null),ms(12,{"border-top-color":0}),ms(13,{"border-top-color":0})],function(e,t){var n=t.component;e(t,1,0,"chat-text",t.parent.context.$implicit.unselected?"disabled-Message":"");var i=n.displaySettings?"Visitors"==t.parent.context.$implicit.type?e(t,3,0,n.displaySettings.sentBGColor,n.displaySettings.sentForeColor):e(t,4,0,n.displaySettings.recieveBGColor,n.displaySettings.recieveForeColor):"";e(t,2,0,i);var l=wr(t,6,0,e(t,7,0,Ou(t.parent.parent.parent.parent.parent,1),t.parent.context.$implicit.body))?"onlyEmoji":"";e(t,6,0,l);var o=n.displaySettings?"Visitors"==t.parent.context.$implicit.type?e(t,12,0,n.displaySettings.sentBGColor):e(t,13,0,n.displaySettings.recieveBGColor):"";e(t,11,0,o)},function(e,t){e(t,0,0,!!t.parent.context.$implicit.unselected||null),e(t,9,0,t.parent.context.$implicit.body)})}function sm(e){return Cs(0,[(e()(),lu(0,0,null,null,8,"div",[["class","chat-info"]],[[1,"disabled",0]],null,null,null,null)),qu(1,278528,null,0,Xc,[Yo,er,Li,zi],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),qu(2,278528,null,0,op,[er,Li,zi],{ngStyle:[0,"ngStyle"]},null),ms(3,{color:0}),ms(4,{color:0}),(e()(),lu(5,0,null,null,3,"span",[],null,null,null,null,null)),(e()(),ys(6,null,[""," ",""])),gs(7,2),gs(8,2)],function(e,t){var n=t.component;e(t,1,0,"chat-info",t.parent.context.$implicit.unselected?"disabled-Message":"");var i=n.displaySettings?"Visitors"==t.parent.context.$implicit.type?e(t,3,0,n.displaySettings.sentForeColor):e(t,4,0,n.displaySettings.recieveForeColor):"";e(t,2,0,i)},function(e,t){e(t,0,0,!!t.parent.context.$implicit.unselected||null);var n=wr(t,6,0,e(t,7,0,Ou(t.parent.parent.parent.parent.parent,2),t.parent.context.$implicit.date,"mediumDate")),i=wr(t,6,1,e(t,8,0,Ou(t.parent.parent.parent.parent.parent,2),t.parent.context.$implicit.date,"shortTime"));e(t,6,0,n,i)})}function am(e){return Cs(0,[(e()(),lu(0,0,null,null,11,"div",[],null,null,null,null,null)),qu(1,278528,null,0,Xc,[Yo,er,Li,zi],{ngClass:[0,"ngClass"]},null),(e()(),iu(16777216,null,null,1,null,tm)),qu(3,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,nm)),qu(5,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,rm)),qu(7,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,um)),qu(9,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,sm)),qu(11,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null)],function(e,t){e(t,1,0,"Visitors"==t.context.$implicit.type?"chat-msg msg_sent":"chat-msg msg_recieved"),e(t,3,0,!t.context.$implicit.unselected),e(t,5,0,t.context.$implicit.unselected),e(t,7,0,""!=t.context.$implicit.body&&t.context.$implicit.attachment),e(t,9,0,""!=t.context.$implicit.body&&!t.context.$implicit.attachment),e(t,11,0,""!=t.context.$implicit.body)},null)}function cm(e){return Cs(0,[(e()(),lu(0,0,null,null,2,"div",[["class","messages clearfix"]],null,null,null,null,null)),(e()(),iu(16777216,null,null,1,null,am)),qu(2,278528,null,0,ep,[Oo,Al,Yo],{ngForOf:[0,"ngForOf"]},null)],function(e,t){e(t,2,0,t.component.filteredConversation)},null)}function pm(e){return Cs(0,[(e()(),lu(0,0,[["scrollbarRef",1]],null,2,"div",[["class","activateSscrollbar"]],null,null,null,null,null)),(e()(),iu(16777216,null,null,1,null,cm)),qu(2,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null)],function(e,t){e(t,2,0,t.component.filteredConversation)},null)}function dm(e){return Cs(0,[(e()(),lu(0,0,null,null,4,"div",[["id","TicketChat"]],null,null,null,null,null)),(e()(),lu(1,0,null,null,1,"h6",[["class","title-with-border border-gray"]],null,null,null,null,null)),(e()(),ys(-1,null,["Conversation"])),(e()(),iu(16777216,null,null,1,null,pm)),qu(4,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null)],function(e,t){e(t,4,0,t.component.session.agent)},null)}function hm(e){return Cs(0,[(e()(),lu(0,0,null,null,21,"div",[["class","text-center clearfix p-24"],["id","successfullWindow"]],null,null,null,null,null)),qu(1,278528,null,0,op,[er,Li,zi],{ngStyle:[0,"ngStyle"]},null),ms(2,{"background-color":0,color:1}),(e()(),lu(3,0,null,null,0,"img",[["alt","Success Icon"],["class","m-b-20"],["height","auto"],["src","/cw/assets/img/icons/svg/ok-done-green.svg"],["width","80"]],null,null,null,null,null)),(e()(),lu(4,0,null,null,1,"h5",[["class","title-with-border border-gray"]],null,null,null,null,null)),(e()(),ys(5,null,["",""])),(e()(),lu(6,0,null,null,1,"h6",[],null,null,null,null,null)),(e()(),ys(7,null,["",""])),(e()(),lu(8,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),lu(9,0,null,null,12,"div",[["class","flex_btns"]],null,null,null,null,null)),(e()(),lu(10,0,null,null,5,"div",[],null,null,null,null,null)),(e()(),lu(11,0,null,null,4,"button",[["class","btn"],["type","button"]],null,[[null,"click"]],function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.RefreshForm()&&i),i},null,null)),qu(12,278528,null,0,op,[er,Li,zi],{ngStyle:[0,"ngStyle"]},null),ms(13,{"background-color":0,color:1}),(e()(),lu(14,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),ys(15,null,["",""])),(e()(),lu(16,0,null,null,5,"div",[],null,null,null,null,null)),(e()(),lu(17,0,null,null,4,"button",[["class","btn"],["type","button"]],null,[[null,"click"]],function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.CloseDialog()&&i),i},null,null)),qu(18,278528,null,0,op,[er,Li,zi],{ngStyle:[0,"ngStyle"]},null),ms(19,{"background-color":0,color:1}),(e()(),lu(20,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),ys(21,null,["",""]))],function(e,t){var n=t.component,i=n.themeSettings?e(t,2,0,n.themeSettings.dialogBgColor,n.themeSettings.dialogTextColor):"";e(t,1,0,i);var l=n.themeSettings?e(t,13,0,n.themeSettings.dialogBtnColor,n.themeSettings.dialogBtnTextColor):"";e(t,12,0,l);var o=n.themeSettings?e(t,19,0,n.themeSettings.dialogSecondaryBtnColor,n.themeSettings.dialogSecondaryBtnTextColor):"";e(t,18,0,o)},function(e,t){var n=t.component;e(t,5,0,n.ticketSubmitted.ticketSubmitted),e(t,7,0,n.ticketSubmitted.content),e(t,15,0,n.ticketSubmitted.btn1Text),e(t,21,0,n.ticketSubmitted.btn2Text)})}function fm(e){return Cs(0,[Wu(0,qg,[]),Wu(0,Wg,[]),Wu(0,sp,[or]),(e()(),lu(3,0,null,null,2,"div",[["class","dialog-close svgOnHover"]],null,[[null,"click"]],function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.Close()&&i),i},null,null)),(e()(),lu(4,0,null,null,0,"img",[["class","svg"],["src","/cw/assets/img/icons/svg/cancel-circle-outline.svg"]],null,null,null,null,null)),(e()(),lu(5,0,null,null,0,"img",[["class","svg hover"],["src","/cw/assets/img/icons/svg/cancel-circle-filled.svg"]],null,null,null,null,null)),(e()(),lu(6,0,null,null,6,"div",[["class","clearfix"],["id","ConvertChat"]],null,null,null,null,null)),qu(7,278528,null,0,op,[er,Li,zi],{ngStyle:[0,"ngStyle"]},null),ms(8,{"background-color":0,color:1}),(e()(),iu(16777216,null,null,1,null,em)),qu(10,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,dm)),qu(12,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,hm)),qu(14,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component,i=n.themeSettings?e(t,8,0,n.themeSettings.dialogBgColor,n.themeSettings.dialogTextColor):"";e(t,7,0,i),e(t,10,0,!n.submitted),e(t,12,0,!n.submitted),e(t,14,0,n.submitted)},null)}function gm(e){return Cs(0,[(e()(),lu(0,0,null,null,1,"app-convert-ticket-dialog",[],null,null,null,fm,Kg)),qu(1,245760,null,0,Jg,[tg,Zf,hd],null,null)],function(e,t){e(t,1,0)},null)}var mm=Su("app-convert-ticket-dialog",Jg,gm,{},{},[]),vm=Er({encapsulation:2,styles:[[""]],data:{}});function ym(e){return Cs(0,[as(402653184,1,{logo:0}),(e()(),lu(1,0,null,null,2,"div",[["class","dialog-close svgOnHover"]],null,[[null,"click"]],function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.Close()&&i),i},null,null)),(e()(),lu(2,0,null,null,0,"img",[["class","svg"],["src","/cw/assets/img/icons/svg/cancel-circle-outline.svg"]],null,null,null,null,null)),(e()(),lu(3,0,null,null,0,"img",[["class","svg hover"],["src","/cw/assets/img/icons/svg/cancel-circle-filled.svg"]],null,null,null,null,null)),(e()(),lu(4,0,null,null,21,"div",[["class","text-center clearfix p-24"]],null,null,null,null,null)),qu(5,278528,null,0,op,[er,Li,zi],{ngStyle:[0,"ngStyle"]},null),ms(6,{"background-color":0,color:1}),(e()(),lu(7,0,[[1,0],["logo",1]],null,0,"object",[["class","m-b-20"],["data","/cw/assets/img/icons/svg/chat-icon.svg"],["height","auto"],["id","logo"],["name","logo"],["type","image/svg+xml"],["width","80"]],null,[[null,"load"]],function(e,t,n){var i=!0;return"load"===t&&(i=!1!==e.component.SvgChangeColor(n)&&i),i},null,null)),(e()(),lu(8,0,null,null,4,"h6",[["class","title-with-border border-gray"]],null,null,null,null,null)),(e()(),ys(9,null,["",""])),(e()(),lu(10,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),lu(11,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),ys(12,null,["",""])),(e()(),lu(13,0,null,null,12,"div",[["class","flex_btns"]],null,null,null,null,null)),(e()(),lu(14,0,null,null,5,"div",[],null,null,null,null,null)),(e()(),lu(15,0,null,null,4,"button",[["class","btn"],["type","button"]],null,[[null,"click"]],function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.NoAgentAvailable(!0)&&i),i},null,null)),qu(16,278528,null,0,op,[er,Li,zi],{ngStyle:[0,"ngStyle"]},null),ms(17,{"background-color":0,color:1}),(e()(),lu(18,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),ys(19,null,["",""])),(e()(),lu(20,0,null,null,5,"div",[],null,null,null,null,null)),(e()(),lu(21,0,null,null,4,"button",[["class","btn"],["type","button"]],null,[[null,"click"]],function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.NoAgentAvailable(!1)&&i),i},null,null)),qu(22,278528,null,0,op,[er,Li,zi],{ngStyle:[0,"ngStyle"]},null),ms(23,{"background-color":0,color:1}),(e()(),lu(24,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),ys(25,null,["",""]))],function(e,t){var n=t.component,i=n.themeSettings?e(t,6,0,n.themeSettings.dialogBgColor,n.themeSettings.dialogTextColor):"";e(t,5,0,i);var l=n.themeSettings?e(t,17,0,n.themeSettings.dialogBtnColor,n.themeSettings.dialogBtnTextColor):"";e(t,16,0,l);var o=n.themeSettings?e(t,23,0,n.themeSettings.dialogSecondaryBtnColor,n.themeSettings.dialogSecondaryBtnTextColor):"";e(t,22,0,o)},function(e,t){var n=t.component;e(t,9,0,n.ticketFormNoAgent.heading),e(t,12,0,n.ticketFormNoAgent.content),e(t,19,0,n.ticketFormNoAgent.btn1Text),e(t,25,0,n.ticketFormNoAgent.btn2Text)})}function bm(e){return Cs(0,[(e()(),lu(0,0,null,null,1,"app-noagent-ticket-dialog",[],null,null,null,ym,vm)),qu(1,114688,null,0,ng,[hd,Zf],null,null)],function(e,t){e(t,1,0)},null)}var Dm=Su("app-noagent-ticket-dialog",ng,bm,{},{},[]),Cm=function(){function e(e,t,n,i){var l=this;this.dialogRef=e,this._postMessageService=t,this._appService=n,this._dataService=i,this.subscriptions=[],this.restarting=!1,this.themeSettings=void 0,this.reinitiateDialogue=void 0,this.banned=!1,this.subscriptions.push(this._postMessageService.Load.subscribe(function(e){e&&l.dialogRef.close({status:"ok"})})),this.subscriptions.push(this._appService.Session.subscribe(function(e){e&&(l.Session=e)})),this.subscriptions.push(this._appService.Settings.subscribe(function(e){e&&(l.themeSettings=e.dialogSettings,l.reinitiateDialogue=e.reinitiateDialogue)})),this.subscriptions.push(this._dataService.banned.subscribe(function(e){l.banned=e}))}return e.prototype.ngOnInit=function(){},e.prototype.SvgChangeColor=function(e){var t=this.logo.nativeElement.contentDocument.getElementsByTagName("path").item(0);t&&t.setAttribute("fill",this.themeSettings.dialogLogoColor)},e.prototype.ngOnDestroy=function(){this.subscriptions.map(function(e){e.unsubscribe()})},e.prototype.StartAgain=function(e){var t=this;this._dataService.SessionStartOver().subscribe(function(e){e&&(t.restarting=!0)})},e}(),Sm=function(){function e(e,t,n,i,l){var o=this;this._dataService=e,this._appStateService=t,this._restService=n,this.dialogRef=i,this.dialogue=l,this.subscriptions=[],this.emailRegex=/^[_a-z0-9]+(\.[_a-z0-9]+)*@[a-z0-9-]+(\.[a-z0-9-]+)*(\.[a-z]{2,4})$/,this.session=void 0,this.state="confirmation",this.invalidEmail=!1,this.submitting=!1,this.submitted=!1,this.banned=!1,this.themeSettings=void 0,this.transcriptFormConfirm=void 0,this.lostAgentDialogue=void 0,this.subscriptions.push(this._appStateService.OldSession.subscribe(function(e){e&&(o.session=e,o._appStateService.OldSession.next(void 0))})),this.subscriptions.push(this._appStateService.Settings.subscribe(function(e){e&&(o.themeSettings=e.dialogSettings,o.transcriptFormConfirm=e.transcriptFormConfirm,o.lostAgentDialogue=e.lostAgentDialogue)})),this.subscriptions.push(this._dataService.banned.subscribe(function(e){o.banned=e}))}return e.prototype.ngOnInit=function(){},e.prototype.ngOnDestroy=function(){this.subscriptions.map(function(e){e.unsubscribe()})},e.prototype.WantTranscript=function(){new RegExp(this.emailRegex).test(this.session.email)?this.SubmitTranscript(this.session.email,this.session.cid):this.state="invalidemail"},e.prototype.SubmitEmail=function(){this.invalidEmail=!1,new RegExp(this.emailRegex).test(this.email)?(this.state="sending",this.SubmitTranscript(this.email,this.session.cid)):this.invalidEmail=!0},e.prototype.CloseDialog=function(){this.dialogRef.close(),this.dialogue.open(Cm,{disableClose:!0,autoFocus:!0}).afterClosed().subscribe(function(e){})},e.prototype.Close=function(){this.dialogRef.close()},e.prototype.SubmitTranscript=function(e,t){var n=this;this._restService.SendXMLHttpRequest("/visitor/emailtranscript","POST",JSON.stringify({email:e||e,sid:this.session._id||this.session.id,cid:this.session.cid}),!1,!0,[{name:"Content-Type",value:"application/json"}]).subscribe(function(e){"ok"==JSON.parse(e).status&&(n.state="sent"),setTimeout(function(){n.dialogRef.close({status:"ok"})},3e3)},function(e){})},e}(),_m=Er({encapsulation:2,styles:[[""]],data:{}});function wm(e){return Cs(0,[(e()(),lu(0,0,null,null,1,"h6",[["class","title-with-border border-gray"]],null,null,null,null,null)),(e()(),ys(1,null,["",""]))],null,function(e,t){e(t,1,0,t.component.transcriptFormConfirm.wantTransc)})}function xm(e){return Cs(0,[(e()(),lu(0,0,null,null,8,"div",[["class","flex_btns"]],null,null,null,null,null)),(e()(),lu(1,0,null,null,3,"div",[],null,null,null,null,null)),(e()(),lu(2,0,null,null,2,"button",[["class","btn bg-olive"],["type","button"]],null,[[null,"click"]],function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.WantTranscript()&&i),i},null,null)),(e()(),lu(3,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),ys(4,null,["",""])),(e()(),lu(5,0,null,null,3,"div",[],null,null,null,null,null)),(e()(),lu(6,0,null,null,2,"button",[["class","btn bg-red"],["type","button"]],null,[[null,"click"]],function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.CloseDialog()&&i),i},null,null)),(e()(),lu(7,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),ys(8,null,["",""]))],null,function(e,t){var n=t.component;e(t,4,0,n.transcriptFormConfirm.btn1Text),e(t,8,0,n.transcriptFormConfirm.btn2Text)})}function Fm(e){return Cs(0,[(e()(),lu(0,0,null,null,10,"div",[["class","text-center clearfix p-24"]],null,null,null,null,null)),qu(1,278528,null,0,op,[er,Li,zi],{ngStyle:[0,"ngStyle"]},null),ms(2,{"background-color":0,color:1}),(e()(),lu(3,0,null,null,0,"img",[["alt","Chat Ended"],["class","m-b-20"],["height","auto"],["src","/cw/assets/img/icons/svg/chat-icon-orange.svg"],["width","80"]],null,null,null,null,null)),(e()(),lu(4,0,null,null,1,"h5",[["class","text-red"]],null,null,null,null,null)),(e()(),ys(5,null,["",""])),(e()(),lu(6,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),iu(16777216,null,null,1,null,wm)),qu(8,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,xm)),qu(10,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component,i=n.themeSettings?e(t,2,0,n.themeSettings.dialogBgColor,n.themeSettings.dialogTextColor):"";e(t,1,0,i),e(t,8,0,!n.banned),e(t,10,0,!n.banned)},function(e,t){e(t,5,0,t.component.transcriptFormConfirm.heading)})}function Em(e){return Cs(0,[(e()(),lu(0,0,null,null,17,"div",[["class","clearfix p-24"]],null,null,null,null,null)),qu(1,278528,null,0,op,[er,Li,zi],{ngStyle:[0,"ngStyle"]},null),ms(2,{"background-color":0,color:1}),(e()(),lu(3,0,null,null,1,"h6",[["class","title-with-border border-gray"]],null,null,null,null,null)),(e()(),ys(4,null,["",""])),(e()(),lu(5,0,null,null,7,"div",[["class","input-block"]],null,null,null,null,null)),(e()(),lu(6,0,null,null,6,"input",[["autocomplete","off"],["class","form-control"],["id","email"],["name","email"],["placeholder","Enter Email Address"],["type","email"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(e,t,n){var i=!0,l=e.component;return"input"===t&&(i=!1!==Ou(e,8)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==Ou(e,8).onTouched()&&i),"compositionstart"===t&&(i=!1!==Ou(e,8)._compositionStart()&&i),"compositionend"===t&&(i=!1!==Ou(e,8)._compositionEnd(n.target.value)&&i),"ngModelChange"===t&&(i=!1!==(l.email=n)&&i),i},null,null)),qu(7,278528,null,0,Xc,[Yo,er,Li,zi],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),qu(8,16384,null,0,tf,[zi,Li,[2,ef]],null,null),Ju(1024,null,Xh,function(e){return[e]},[tf]),qu(10,671744,null,0,Hf,[[8,null],[8,null],[8,null],[6,Xh]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),Ju(2048,null,uf,null,[Hf]),qu(12,16384,null,0,kf,[[4,uf]],null,null),(e()(),lu(13,0,null,null,4,"button",[["class","btn btn-block"],["type","submit"]],null,[[null,"click"]],function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.SubmitEmail()&&i),i},null,null)),qu(14,278528,null,0,op,[er,Li,zi],{ngStyle:[0,"ngStyle"]},null),ms(15,{"background-color":0,color:1}),(e()(),lu(16,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),ys(17,null,["",""]))],function(e,t){var n=t.component,i=n.themeSettings?e(t,2,0,n.themeSettings.dialogBgColor,n.themeSettings.dialogTextColor):"";e(t,1,0,i),e(t,7,0,"form-control",n.invalidemail?"border-red":""),e(t,10,0,"email",n.email);var l=n.themeSettings?e(t,15,0,n.themeSettings.dialogBtnColor,n.themeSettings.dialogBtnTextColor):"";e(t,14,0,l)},function(e,t){var n=t.component;e(t,4,0,n.transcriptFormConfirm.transcEmail),e(t,6,0,Ou(t,12).ngClassUntouched,Ou(t,12).ngClassTouched,Ou(t,12).ngClassPristine,Ou(t,12).ngClassDirty,Ou(t,12).ngClassValid,Ou(t,12).ngClassInvalid,Ou(t,12).ngClassPending),e(t,17,0,n.transcriptFormConfirm.transcEmailbtn)})}function km(e){return Cs(0,[(e()(),lu(0,0,null,null,3,"div",[["class","clearfix p-24"]],null,null,null,null,null)),qu(1,278528,null,0,op,[er,Li,zi],{ngStyle:[0,"ngStyle"]},null),ms(2,{"background-color":0,color:1}),(e()(),lu(3,0,null,null,0,"img",[["alt","Sending Transcript..."],["height","auto"],["src","/cw/assets/img/sending_mail.gif"],["width","100%"]],null,null,null,null,null))],function(e,t){var n=t.component,i=n.themeSettings?e(t,2,0,n.themeSettings.dialogBgColor,n.themeSettings.dialogTextColor):"";e(t,1,0,i)},null)}function Am(e){return Cs(0,[(e()(),lu(0,0,null,null,6,"div",[["class","clearfix p-24"]],null,null,null,null,null)),qu(1,278528,null,0,op,[er,Li,zi],{ngStyle:[0,"ngStyle"]},null),ms(2,{"background-color":0,color:1}),(e()(),lu(3,0,null,null,3,"div",[["class","text-center"]],null,null,null,null,null)),(e()(),lu(4,0,null,null,0,"img",[["alt","Success Icon"],["class","m-b-20"],["height","auto"],["src","/cw/assets/img/icons/svg/ok-done-green.svg"],["width","80"]],null,null,null,null,null)),(e()(),lu(5,0,null,null,1,"h6",[],null,null,null,null,null)),(e()(),ys(6,null,["",""]))],function(e,t){var n=t.component,i=n.themeSettings?e(t,2,0,n.themeSettings.dialogBgColor,n.themeSettings.dialogTextColor):"";e(t,1,0,i)},function(e,t){e(t,6,0,t.component.transcriptFormConfirm.transcriptSuccess)})}function Tm(e){return Cs(0,[(e()(),lu(0,0,null,null,2,"div",[["class","dialog-close svgOnHover"]],null,[[null,"click"]],function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.Close()&&i),i},null,null)),(e()(),lu(1,0,null,null,0,"img",[["class","svg"],["src","/cw/assets/img/icons/svg/cancel-circle-outline.svg"]],null,null,null,null,null)),(e()(),lu(2,0,null,null,0,"img",[["class","svg hover"],["src","/cw/assets/img/icons/svg/cancel-circle-filled.svg"]],null,null,null,null,null)),(e()(),iu(16777216,null,null,1,null,Fm)),qu(4,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,Em)),qu(6,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,km)),qu(8,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,Am)),qu(10,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component;e(t,4,0,"confirmation"==n.state),e(t,6,0,"invalidemail"==n.state),e(t,8,0,"sending"==n.state),e(t,10,0,"sent"==n.state)},null)}function Im(e){return Cs(0,[(e()(),lu(0,0,null,null,1,"app-transcript-confirmation",[],null,null,null,Tm,_m)),qu(1,245760,null,0,Sm,[tg,Zf,Yf,hd,yd],null,null)],function(e,t){e(t,1,0)},null)}var Bm=Su("app-transcript-confirmation",Sm,Im,{},{},[]),Om=function(){function e(e,t){var n=this;this.dialogRef=e,this._appStateService=t,this.closeScreen=void 0,this.subscriptions=[],this._appStateService.Settings.subscribe(function(e){e&&(n.closeScreen=e.closeScreen)}),this.subscriptions.push(this._appStateService.Settings.subscribe(function(e){e&&(n.themeSettings=e.dialogSettings)})),this.subscriptions.push(this._appStateService.endChat.subscribe(function(e){n.dialogRef&&e&&n.dialogRef.close()}))}return e.prototype.ngOnInit=function(){},e.prototype.SvgChangeColor=function(e){var t=this.logo.nativeElement.contentDocument.getElementsByTagName("path").item(0);t&&t.setAttribute("fill",this.themeSettings.dialogLogoColor)},e.prototype.Endchat=function(e){this.dialogRef.close(e?{close:!0}:{close:!1})},e.prototype.Close=function(){this.dialogRef.close({close:!1})},e.prototype.ngOnDestroy=function(){this.subscriptions.map(function(e){e.unsubscribe()})},e}(),Rm=Er({encapsulation:2,styles:[[""]],data:{}});function Mm(e){return Cs(0,[as(402653184,1,{logo:0}),(e()(),lu(1,0,null,null,2,"div",[["class","dialog-close svgOnHover"]],null,[[null,"click"]],function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.Close()&&i),i},null,null)),(e()(),lu(2,0,null,null,0,"img",[["class","svg"],["src","/cw/assets/img/icons/svg/cancel-circle-outline.svg"]],null,null,null,null,null)),(e()(),lu(3,0,null,null,0,"img",[["class","svg hover"],["src","/cw/assets/img/icons/svg/cancel-circle-filled.svg"]],null,null,null,null,null)),(e()(),lu(4,0,null,null,18,"div",[["class","text-center clearfix p-24"]],null,null,null,null,null)),qu(5,278528,null,0,op,[er,Li,zi],{ngStyle:[0,"ngStyle"]},null),ms(6,{"background-color":0,color:1}),(e()(),lu(7,0,[[1,0],["logo",1]],null,0,"object",[["class","m-b-20"],["data","/cw/assets/img/icons/svg/chat-icon.svg"],["height","auto"],["id","logo"],["name","logo"],["type","image/svg+xml"],["width","80"]],null,[[null,"load"]],function(e,t,n){var i=!0;return"load"===t&&(i=!1!==e.component.SvgChangeColor(n)&&i),i},null,null)),(e()(),lu(8,0,null,null,1,"h6",[["class","title-with-border border-gray"]],null,null,null,null,null)),(e()(),ys(9,null,["",""])),(e()(),lu(10,0,null,null,12,"div",[["class","flex_btns"]],null,null,null,null,null)),(e()(),lu(11,0,null,null,5,"div",[],null,null,null,null,null)),(e()(),lu(12,0,null,null,4,"button",[["class","btn"],["type","button"]],null,[[null,"click"]],function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.Endchat(!0)&&i),i},null,null)),qu(13,278528,null,0,op,[er,Li,zi],{ngStyle:[0,"ngStyle"]},null),ms(14,{"background-color":0,color:1}),(e()(),lu(15,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),ys(16,null,["",""])),(e()(),lu(17,0,null,null,5,"div",[],null,null,null,null,null)),(e()(),lu(18,0,null,null,4,"button",[["class","btn"],["type","button"]],null,[[null,"click"]],function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.Endchat(!1)&&i),i},null,null)),qu(19,278528,null,0,op,[er,Li,zi],{ngStyle:[0,"ngStyle"]},null),ms(20,{"background-color":0,color:1}),(e()(),lu(21,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),ys(22,null,["",""]))],function(e,t){var n=t.component,i=n.themeSettings?e(t,6,0,n.themeSettings.dialogBgColor,n.themeSettings.dialogTextColor):"";e(t,5,0,i);var l=n.themeSettings?e(t,14,0,n.themeSettings.dialogBtnColor,n.themeSettings.dialogBtnTextColor):"";e(t,13,0,l);var o=n.themeSettings?e(t,20,0,n.themeSettings.dialogSecondaryBtnColor,n.themeSettings.dialogSecondaryBtnTextColor):"";e(t,19,0,o)},function(e,t){var n=t.component;e(t,9,0,n.closeScreen.content),e(t,16,0,n.closeScreen.btn1Text),e(t,22,0,n.closeScreen.btn2Text)})}function Pm(e){return Cs(0,[(e()(),lu(0,0,null,null,1,"app-close-chat-confirmation",[],null,null,null,Mm,Rm)),qu(1,245760,null,0,Om,[hd,Zf],null,null)],function(e,t){e(t,1,0)},null)}var jm=Su("app-close-chat-confirmation",Om,Pm,{},{},[]),Nm=function(){function e(e,t,n,i,l){var o=this;this._dataService=e,this._restService=t,this.dialogue=n,this._appStateService=i,this.dialogRef=l,this.subscriptions=[],this.q1="yes",this.q2="good",this.wantTranscript=!1,this.emailRegex=/^[_a-z0-9]+(\.[_a-z0-9]+)*@[a-z0-9-]+(\.[a-z0-9-]+)*(\.[a-z]{2,4})$/,this.state="",this.invalidEmail=!1,this.submitting=!1,this.submitted=!1,this.loading=!1,this.session=void 0,this.themeSettings=void 0,this.feedbackForm=void 0,this.forceEndedChat=!1,this.errorFields=[],this.regex={email:/^[_a-z0-9]+(\.[_a-z0-9]+)*@[a-z0-9-]+(\.[a-z0-9-]+)*(\.[a-z]{2,4})$/,tel:/^[0-9+\-()\s]+$/,number:/^[0-9]+$/,httpRegex:/(http:\/\/)/,httpsRegex:/(https:\/\/)/,url:/^(https?):\/\/(-\.)?([^\s\/?\.#-]+\.?)+(\/[^\s]*)?$/i,numberRangeRegex:/^[0-9]+-[0-9]+$/,infiniteNumberRangeRegex:/^[0-9]+\+$/},this.feedback={},this.subscriptions.push(this._appStateService.Session.subscribe(function(e){e&&(o.session=e,e.email&&"unregistered"!=e.email.toLowerCase()&&(o.email=e.email))})),this.subscriptions.push(this._appStateService.Settings.subscribe(function(e){e&&(o.themeSettings=e.dialogSettings,o.feedbackForm=e.feedbackForm)})),this.subscriptions.push(this._dataService.forceEndedChat.subscribe(function(e){o.forceEndedChat=e}))}return e.prototype.ngOnInit=function(){},e.prototype.ngOnDestroy=function(){this.subscriptions.map(function(e){e.unsubscribe()})},e.prototype.ResetForm=function(){var e=this;return new _(function(t){var n=e.formNativeElement.nativeElement.querySelectorAll("input");Array.from(n).length&&Array.from(n).map(function(e){var t=document.getElementById("error-"+e.id),n=document.getElementById("errorValid-"+e.id);t&&(e.classList.remove("text-red"),t.classList.remove("show"),t.classList.add("hide")),n&&(e.classList.remove("text-red"),n.classList.remove("show"),n.classList.add("hide"))}),t.next(!0),t.complete()})},e.prototype.ValidateForm=function(){var e=this;try{if(this.ResetForm().subscribe(function(t){t&&(e.dataList={},e.errorFields=[],e.inputFields=[])}),this.inputFields=[],this.inputFields=this.formNativeElement.nativeElement.querySelectorAll('[id^="Q"]'),this.inputFields.length&&Array.from(this.inputFields).map(function(t,n){if("checkbox"==t.type&&t.checked)e.dataList[t.id]=t.name;else if("radio"==t.type)for(var i=document.getElementsByName(t.name),l=0;l<i.length;l++)i[l].checked&&(e.dataList[t.id]=i[l].value);else e.dataList[t.id]=t.options&&t.options.length?t.options[t.selectedIndex].value:!t.value||"text"!=t.type&&"textarea"!=t.type&&"email"!=t.type&&"password"!=t.type?"":t.value;if(t.value&&e.regex.hasOwnProperty(t.type)&&!new RegExp(e.regex[t.type]).test(e.dataList[t.id])){e.dataList[t.id]="";var o=document.getElementById("errorValid-"+t.id);o&&(t.classList.add("text-red"),o.classList.remove("hide"),o.classList.add("show"),-1===e.errorFields.indexOf(t.id)&&e.errorFields.push(t.id))}if(e.dataList[t.id])new Error("Construction Error: input field does not have ID");else{var r=document.getElementById("error-"+t.id);r&&(t.classList.add("text-red"),r.classList.remove("hide"),r.classList.add("show"),-1===e.errorFields.indexOf(t.id)&&e.errorFields.push(t.id))}}),this.errorFields.length)return;var t={};Object.keys(this.dataList).map(function(n,i){t[e.feedbackForm.customFields[i].name]=e.dataList[n],e.feedback[e.feedbackForm.customFields[i].label]=e.dataList[n]}),this.SubmitSurvey(t)}catch(n){}},e.prototype.SubmitSurvey=function(e){var t=this,n={};if(this.wantTranscript&&8!=this.session.state)if(this.invalidEmail=!1,this.email)if(this.invalidEmail=!0,new RegExp(this.emailRegex).test(this.email)){this.invalidEmail=!1,this.state="submitting",this.loading=!0,n={cid:this.session.cid,agent:this.session.agent};var i={};e&&Object.keys(e).length&&Object.keys(e).map(function(t){n[t]=e[t],i[t]=e[t]}),this.forceEndedChat||this._dataService.AppendEventsMessages("Chat Ended",!0),l=this._dataService.FormatSurvey(this.feedback,"Post Chat Survey"),this._dataService.SaveMessage(l),this._dataService.SubmitSurveyRest(n,l).subscribe(function(e){t.loading=!1,e&&(t.state="sending",t.loading=!0,t.SubmitTranscript(t.email,t.session.cid).subscribe(function(e){t.state="sent",t.loading=!1,t.CloseDialog()},function(e){t.loading=!1,t.CloseDialog()}))},function(e){t.state="",t.loading=!1})}else this.state="invalidemail",this.invalidEmail=!0,this.loading=!1;else this.state="invalidemail",this.invalidEmail=!0,this.loading=!1;else{this.state="submitting",this.loading=!0,n={cid:this.session.cid,agent:this.session.agent},e&&Object.keys(e).length&&Object.keys(e).map(function(t){n[t]=e[t]}),this.forceEndedChat||this._dataService.AppendEventsMessages("Chat Ended",!0);var l=this._dataService.FormatSurvey(this.feedback,"Post Chat Survey");this._dataService.SaveMessage(l),this._dataService.SubmitSurveyRest(n,l).subscribe(function(e){t.state="",t.loading=!1,e&&t.CloseDialog()},function(e){t.CloseDialog()})}},e.prototype.ToggleQuestion=function(e,t){t==this.q2&&e.preventDefault(),this.q2=t},e.prototype.ToggleTranscript=function(){this.wantTranscript=!this.wantTranscript},e.prototype.WantTranscript=function(){if(!new RegExp(this.emailRegex).test(this.session.email))return this.state="invalidemail","invalidemail"==this.state;this.SubmitTranscript(this.session.email,this.session.cid)},e.prototype.SubmitEmail=function(){this.invalidEmail=!1,new RegExp(this.emailRegex).test(this.email)?(this.state="sending",this.SubmitTranscript(this.email,this.session.cid)):this.invalidEmail=!0},e.prototype.CloseDialog=function(){var e=this;this._dataService.ClearSessionData().subscribe(function(t){t&&e.dialogRef.close({status:!0})})},e.prototype.Close=function(){this.dialogRef.close({status:!1})},e.prototype.SubmitTranscript=function(e,t){var n=this;return new _(function(t){n._restService.SendXMLHttpRequest("/visitor/emailtranscript","POST",JSON.stringify({email:e||e,sid:n.session._id||n.session.id,cid:n.session.cid}),!1,!0,[{name:"Content-Type",value:"application/json"}]).subscribe(function(e){"ok"==JSON.parse(e).status&&(n.state="sent",t.next({status:"ok"}),t.complete())},function(e){t.error(e)})})},e}(),Lm=Er({encapsulation:2,styles:[[""]],data:{}});function Vm(e){return Cs(0,[(e()(),lu(0,0,null,null,3,"div",[["class","input-block"]],null,null,null,null,null)),(e()(),lu(1,0,null,null,1,"label",[],null,null,null,null,null)),(e()(),ys(2,null,[" ","",""])),(e()(),lu(3,0,null,null,0,"input",[["class","form-control input-sm"]],[[8,"name",0],[8,"id",0],[8,"placeholder",0],[8,"type",0],[8,"value",0]],null,null,null,null))],null,function(e,t){e(t,2,0,t.parent.context.$implicit.label,t.parent.context.$implicit.required?"*":""),e(t,3,0,eu(1,"",t.parent.context.$implicit.name?t.parent.context.$implicit.name:"",""),"Q"+(t.parent.context.index+1+2),eu(1,"",t.parent.context.$implicit.placeholder,""),eu(1,"",t.parent.context.$implicit.elementType,""),eu(1,"",t.parent.context.$implicit.value?t.parent.context.$implicit.value:"",""))})}function $m(e){return Cs(0,[(e()(),lu(0,0,null,null,3,"div",[["class","input-block"]],null,null,null,null,null)),(e()(),lu(1,0,null,null,1,"label",[],null,null,null,null,null)),(e()(),ys(2,null,[" ","",""])),(e()(),lu(3,0,null,null,0,"textarea",[["class","form-control input-sm"]],[[8,"name",0],[8,"placeholder",0],[8,"id",0],[8,"value",0]],null,null,null,null))],null,function(e,t){e(t,2,0,t.parent.context.$implicit.label,t.parent.context.$implicit.required?"*":""),e(t,3,0,eu(1,"",t.parent.context.$implicit.name?t.parent.context.$implicit.name:"",""),eu(1,"",t.parent.context.$implicit.placeholder,""),"Q"+(t.parent.context.index+1+2),eu(1,"",t.parent.context.$implicit.value?t.parent.context.$implicit.value:"",""))})}function Um(e){return Cs(0,[(e()(),lu(0,0,null,null,4,"div",[["class","pretty p-default p-round m-b-7"]],null,null,null,null,null)),(e()(),lu(1,0,null,null,0,"input",[],[[8,"checked",0],[8,"type",0],[8,"id",0],[8,"name",0],[8,"checked",0],[8,"value",0]],null,null,null,null)),(e()(),lu(2,0,null,null,2,"div",[["class","state p-success"]],null,null,null,null,null)),(e()(),lu(3,0,null,null,1,"label",[],null,null,null,null,null)),(e()(),ys(4,null,["",""]))],null,function(e,t){e(t,1,0,t.context.$implicit.value,eu(1,"",t.parent.parent.context.$implicit.elementType,""),"Q"+(t.parent.parent.context.index+1+2),t.parent.parent.context.$implicit.name,"true"==t.parent.parent.context.$implicit.value,eu(1,"",t.context.$implicit.name,"")),e(t,4,0,t.context.$implicit.name)})}function Hm(e){return Cs(0,[(e()(),lu(0,0,null,null,4,"div",[["class","input-block m-0"]],null,null,null,null,null)),(e()(),lu(1,0,null,null,1,"label",[],null,null,null,null,null)),(e()(),ys(2,null,[" ","",""])),(e()(),iu(16777216,null,null,1,null,Um)),qu(4,278528,null,0,ep,[Oo,Al,Yo],{ngForOf:[0,"ngForOf"]},null)],function(e,t){e(t,4,0,t.parent.context.$implicit.options)},function(e,t){e(t,2,0,t.parent.context.$implicit.label,t.parent.context.$implicit.required?"*":"")})}function zm(e){return Cs(0,[(e()(),lu(0,0,null,null,8,"div",[["class","input-block m-0"]],null,null,null,null,null)),(e()(),lu(1,0,null,null,1,"label",[],null,null,null,null,null)),(e()(),ys(2,null,[" ","",""])),(e()(),lu(3,0,null,null,5,"div",[["class","pretty p-svg p-smooth"]],null,null,null,null,null)),(e()(),lu(4,0,null,null,0,"input",[],[[8,"type",0],[8,"name",0],[8,"id",0],[8,"checked",0]],null,null,null,null)),(e()(),lu(5,0,null,null,3,"div",[["class","state p-success"]],null,null,null,null,null)),(e()(),lu(6,0,null,null,0,"img",[["class","svg"],["src","/cw/assets/img/icons/svg/ok.svg"],["width","15"]],null,null,null,null,null)),(e()(),lu(7,0,null,null,1,"label",[],null,null,null,null,null)),(e()(),ys(8,null,["",""]))],null,function(e,t){e(t,2,0,t.parent.context.$implicit.label,t.parent.context.$implicit.required?"*":""),e(t,4,0,eu(1,"",t.parent.context.$implicit.elementType,""),eu(1,"",t.parent.context.$implicit.name,""),"Q"+(t.parent.context.index+1+2),!(!t.parent.context.$implicit||!t.parent.context.$implicit.value)&&t.parent.context.$implicit.value),e(t,8,0,t.parent.context.$implicit.name)})}function Gm(e){return Cs(0,[(e()(),lu(0,0,null,null,3,"option",[["disabled","true"]],[[8,"selected",0]],null,null,null,null)),qu(1,147456,null,0,gf,[Li,zi,[8,null]],{value:[0,"value"]},null),qu(2,147456,null,0,yf,[Li,zi,[8,null]],{value:[0,"value"]},null),(e()(),ys(3,null,[" "," "]))],function(e,t){e(t,1,0,eu(1,"",t.parent.parent.context.$implicit.value,"")),e(t,2,0,eu(1,"",t.parent.parent.context.$implicit.value,""))},function(e,t){e(t,0,0,t.parent.parent.context.$implicit.value),e(t,3,0,t.parent.parent.context.$implicit.value)})}function qm(e){return Cs(0,[(e()(),lu(0,0,null,null,3,"option",[],null,null,null,null,null)),qu(1,147456,null,0,gf,[Li,zi,[8,null]],{value:[0,"value"]},null),qu(2,147456,null,0,yf,[Li,zi,[8,null]],{value:[0,"value"]},null),(e()(),ys(3,null,[" "," "]))],function(e,t){e(t,1,0,eu(1,"",t.context.$implicit.value,"")),e(t,2,0,eu(1,"",t.context.$implicit.value,""))},function(e,t){e(t,3,0,t.context.$implicit.value)})}function Wm(e){return Cs(0,[(e()(),lu(0,0,null,null,8,"div",[["class","input-block m-0"]],null,null,null,null,null)),(e()(),lu(1,0,null,null,1,"label",[],null,null,null,null,null)),(e()(),ys(2,null,[" ","",""])),(e()(),lu(3,0,null,null,5,"div",[["class","sel style1 sel-sm"]],null,null,null,null,null)),(e()(),lu(4,0,null,null,4,"select",[["class","form-control input-sm"]],[[8,"id",0]],null,null,null,null)),(e()(),iu(16777216,null,null,1,null,Gm)),qu(6,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,qm)),qu(8,278528,null,0,ep,[Oo,Al,Yo],{ngForOf:[0,"ngForOf"]},null)],function(e,t){e(t,6,0,t.parent.context.$implicit.value),e(t,8,0,t.parent.context.$implicit.options)},function(e,t){e(t,2,0,t.parent.context.$implicit.label,t.parent.context.$implicit.required?"*":""),e(t,4,0,"Q"+(t.parent.context.index+1+2))})}function Jm(e){return Cs(0,[(e()(),lu(0,0,null,null,1,"p",[["class","hide text-red"]],[[8,"id",0]],null,null,null,null)),(e()(),ys(-1,null,["Please select at least one option"]))],null,function(e,t){e(t,0,0,"error-Q"+(t.parent.parent.context.index+1+2))})}function Km(e){return Cs(0,[(e()(),lu(0,0,null,null,2,"div",[["class","input-block"]],null,null,null,null,null)),(e()(),iu(16777216,null,null,1,null,Jm)),qu(2,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null)],function(e,t){e(t,2,0,t.parent.context.$implicit.required)},null)}function Qm(e){return Cs(0,[(e()(),lu(0,0,null,null,1,"p",[["class","hide text-red"]],[[8,"id",0]],null,null,null,null)),(e()(),ys(-1,null,["Please select the given option"]))],null,function(e,t){e(t,0,0,"error-Q"+(t.parent.parent.context.index+1+2))})}function Zm(e){return Cs(0,[(e()(),lu(0,0,null,null,2,"div",[["class","input-block"]],null,null,null,null,null)),(e()(),iu(16777216,null,null,1,null,Qm)),qu(2,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null)],function(e,t){e(t,2,0,t.parent.context.$implicit.required)},null)}function Xm(e){return Cs(0,[(e()(),lu(0,0,null,null,1,"p",[["class","hide text-red"]],[[8,"id",0]],null,null,null,null)),(e()(),ys(-1,null,["Please fill the given field"]))],null,function(e,t){e(t,0,0,"error-Q"+(t.parent.parent.context.index+1+2))})}function Ym(e){return Cs(0,[(e()(),lu(0,0,null,null,2,"div",[["class","input-block"]],null,null,null,null,null)),(e()(),iu(16777216,null,null,1,null,Xm)),qu(2,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null)],function(e,t){e(t,2,0,t.parent.context.$implicit.required)},null)}function ev(e){return Cs(0,[(e()(),lu(0,0,null,null,2,"div",[["class","input-block"]],null,null,null,null,null)),(e()(),lu(1,0,null,null,1,"p",[["class","hide text-red"]],[[8,"id",0]],null,null,null,null)),(e()(),ys(2,null,["Please enter valid ",""]))],null,function(e,t){e(t,1,0,"errorValid-Q"+(t.parent.context.index+1+2)),e(t,2,0,t.parent.context.$implicit.elementType)})}function tv(e){return Cs(0,[(e()(),lu(0,0,null,null,18,"li",[],null,null,null,null,null)),(e()(),iu(16777216,null,null,1,null,Vm)),qu(2,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,$m)),qu(4,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,Hm)),qu(6,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,zm)),qu(8,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,Wm)),qu(10,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,Km)),qu(12,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,Zm)),qu(14,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,Ym)),qu(16,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,ev)),qu(18,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null)],function(e,t){e(t,2,0,"password"==t.context.$implicit.elementType||"email"==t.context.$implicit.elementType),e(t,4,0,"text"==t.context.$implicit.elementType),e(t,6,0,"radio"==t.context.$implicit.elementType),e(t,8,0,"checkbox"==t.context.$implicit.elementType),e(t,10,0,"dropdown"==t.context.$implicit.elementType),e(t,12,0,"radio"==t.context.$implicit.elementType||"dropdown"==t.context.$implicit.elementType),e(t,14,0,"checkbox"==t.context.$implicit.elementType),e(t,16,0,"text"==t.context.$implicit.elementType||"password"==t.context.$implicit.elementType||"email"==t.context.$implicit.elementType),e(t,18,0,"text"==t.context.$implicit.elementType||"password"==t.context.$implicit.elementType||"email"==t.context.$implicit.elementType)},null)}function nv(e){return Cs(0,[(e()(),lu(0,0,null,null,3,"div",[["class","input-group-addon tooltip top-right"]],null,null,null,null,null)),(e()(),lu(1,0,null,null,0,"img",[["class","svg floatToCenter w-20"],["src","/cw/assets/img/icons/svg/error-filled.svg"]],null,null,null,null,null)),(e()(),lu(2,0,null,null,1,"span",[["class","tooltip-inner"]],null,null,null,null,null)),(e()(),ys(-1,null,["Please enter a valid email"]))],null,null)}function iv(e){return Cs(0,[(e()(),lu(0,0,null,null,22,"li",[],null,null,null,null,null)),(e()(),lu(1,0,null,null,6,"div",[["class","pretty p-svg p-smooth m-b-10"]],null,null,null,null,null)),(e()(),lu(2,0,null,null,0,"input",[["type","checkbox"]],[[8,"checked",0]],[[null,"click"]],function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.ToggleTranscript()&&i),i},null,null)),(e()(),lu(3,0,null,null,4,"div",[["class","state p-success"]],null,null,null,null,null)),(e()(),lu(4,0,null,null,0,"img",[["class","svg"],["src","/cw/assets/img/icons/svg/ok.svg"],["width","15"]],null,null,null,null,null)),(e()(),lu(5,0,null,null,2,"label",[],null,null,null,null,null)),(e()(),lu(6,0,null,null,1,"small",[],null,null,null,null,null)),(e()(),ys(7,null,["",""])),(e()(),lu(8,0,null,null,14,"div",[["class","clearfix"]],null,null,null,null,null)),(e()(),lu(9,0,null,null,13,"div",[["class","input-block"]],null,null,null,null,null)),(e()(),lu(10,0,null,null,12,"div",[["class","input-group"]],null,null,null,null,null)),qu(11,278528,null,0,Xc,[Yo,er,Li,zi],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(e()(),lu(12,0,null,null,8,"input",[["autocomplete","off"],["class","form-control input-sm"],["id","email"],["name","email"],["placeholder","Email"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(e,t,n){var i=!0,l=e.component;return"input"===t&&(i=!1!==Ou(e,16)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==Ou(e,16).onTouched()&&i),"compositionstart"===t&&(i=!1!==Ou(e,16)._compositionStart()&&i),"compositionend"===t&&(i=!1!==Ou(e,16)._compositionEnd(n.target.value)&&i),"ngModelChange"===t&&(i=!1!==(l.email=n)&&i),i},null,null)),qu(13,278528,null,0,Xc,[Yo,er,Li,zi],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),qu(14,278528,null,0,op,[er,Li,zi],{ngStyle:[0,"ngStyle"]},null),ms(15,{color:0}),qu(16,16384,null,0,tf,[zi,Li,[2,ef]],null,null),Ju(1024,null,Xh,function(e){return[e]},[tf]),qu(18,671744,null,0,Hf,[[8,null],[8,null],[8,null],[6,Xh]],{name:[0,"name"],isDisabled:[1,"isDisabled"],model:[2,"model"]},{update:"ngModelChange"}),Ju(2048,null,uf,null,[Hf]),qu(20,16384,null,0,kf,[[4,uf]],null,null),(e()(),iu(16777216,null,null,1,null,nv)),qu(22,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component;e(t,11,0,"input-group",n.invalidEmail?"has-danger":""),e(t,13,0,"form-control input-sm",n.invalidEmail?"border-red":"");var i=n.themeSettings?e(t,15,0,n.themeSettings.dialogTextColor):"";e(t,14,0,i),e(t,18,0,"email",!n.wantTranscript,n.email),e(t,22,0,n.invalidEmail)},function(e,t){var n=t.component;e(t,2,0,n.wantTranscript),e(t,7,0,n.feedbackForm.transcriptContent),e(t,12,0,Ou(t,20).ngClassUntouched,Ou(t,20).ngClassTouched,Ou(t,20).ngClassPristine,Ou(t,20).ngClassDirty,Ou(t,20).ngClassValid,Ou(t,20).ngClassInvalid,Ou(t,20).ngClassPending)})}function lv(e){return Cs(0,[as(402653184,1,{formNativeElement:0}),(e()(),lu(1,0,null,null,2,"div",[["class","dialog-close svgOnHover"]],null,[[null,"click"]],function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.Close()&&i),i},null,null)),(e()(),lu(2,0,null,null,0,"img",[["class","svg"],["src","/cw/assets/img/icons/svg/cancel-circle-outline.svg"]],null,null,null,null,null)),(e()(),lu(3,0,null,null,0,"img",[["class","svg hover"],["src","/cw/assets/img/icons/svg/cancel-circle-filled.svg"]],null,null,null,null,null)),(e()(),lu(4,0,null,null,2,"div",[["class","clearfix dialog-header"]],null,null,null,null,null)),(e()(),lu(5,0,null,null,1,"h5",[],null,null,null,null,null)),(e()(),ys(-1,null,["Feedback Form"])),(e()(),lu(7,0,null,null,12,"div",[["class","clearfix dialog-content"]],null,null,null,null,null)),qu(8,278528,null,0,op,[er,Li,zi],{ngStyle:[0,"ngStyle"]},null),ms(9,{"background-color":0,color:1}),(e()(),lu(10,0,null,null,9,"ul",[],null,null,null,null,null)),(e()(),lu(11,0,[[1,0],["cannedForm",1]],null,6,"form",[["id","formInputs"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(e,t,n){var i=!0;return"submit"===t&&(i=!1!==Ou(e,13).onSubmit(n)&&i),"reset"===t&&(i=!1!==Ou(e,13).onReset()&&i),i},null,null)),qu(12,16384,null,0,Gf,[],null,null),qu(13,4210688,null,0,Nf,[[8,null],[8,null]],null,null),Ju(2048,null,zh,null,[Nf]),qu(15,16384,null,0,Af,[[4,zh]],null,null),(e()(),iu(16777216,null,null,1,null,tv)),qu(17,278528,null,0,ep,[Oo,Al,Yo],{ngForOf:[0,"ngForOf"]},null),(e()(),iu(16777216,null,null,1,null,iv)),qu(19,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),lu(20,0,null,null,6,"div",[["class","dialog-footer"]],null,null,null,null,null)),(e()(),lu(21,0,null,null,5,"button",[["class","btn btn-md btn-block"],["type","submit"]],null,[[null,"click"]],function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.ValidateForm()&&i),i},null,null)),qu(22,278528,null,0,Xc,[Yo,er,Li,zi],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),qu(23,278528,null,0,op,[er,Li,zi],{ngStyle:[0,"ngStyle"]},null),ms(24,{"background-color":0,color:1}),(e()(),lu(25,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),ys(26,null,["",""]))],function(e,t){var n=t.component,i=n.themeSettings?e(t,9,0,n.themeSettings.dialogBgColor,n.themeSettings.dialogTextColor):"";e(t,8,0,i),e(t,17,0,n.feedbackForm.customFields),e(t,19,0,n.session&&8!=n.session.state),e(t,22,0,"btn btn-md btn-block",n.loading?"btnSpinner":"");var l=n.themeSettings?e(t,24,0,n.themeSettings.dialogBtnColor,n.themeSettings.dialogBtnTextColor):"";e(t,23,0,l)},function(e,t){var n=t.component;e(t,11,0,Ou(t,15).ngClassUntouched,Ou(t,15).ngClassTouched,Ou(t,15).ngClassPristine,Ou(t,15).ngClassDirty,Ou(t,15).ngClassValid,Ou(t,15).ngClassInvalid,Ou(t,15).ngClassPending),e(t,26,0,"sending"==n.state?"Sending Transcript":"sent"==n.state?"Transcript Sent":"submitting"==n.state?"Submitting Survey":"Submit")})}function ov(e){return Cs(0,[(e()(),lu(0,0,null,null,1,"app-feedback-form",[],null,null,null,lv,Lm)),qu(1,245760,null,0,Nm,[tg,Yf,yd,Zf,hd],null,null)],function(e,t){e(t,1,0)},null)}var rv=Su("app-feedback-form",Nm,ov,{},{},[]),uv=Er({encapsulation:2,styles:[[""]],data:{}});function sv(e){return Cs(0,[(e()(),lu(0,0,null,null,6,"div",[["class","flex_btns"]],null,null,null,null,null)),(e()(),lu(1,0,null,null,5,"div",[],null,null,null,null,null)),(e()(),lu(2,0,null,null,4,"button",[["class","btn"],["type","button"]],null,[[null,"click"]],function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.StartAgain()&&i),i},null,null)),qu(3,278528,null,0,op,[er,Li,zi],{ngStyle:[0,"ngStyle"]},null),ms(4,{"background-color":0,color:1}),(e()(),lu(5,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),ys(6,null,["",""]))],function(e,t){var n=t.component,i=n.themeSettings?e(t,4,0,n.themeSettings.dialogSecondaryBtnColor,n.themeSettings.btnTextcolor):"";e(t,3,0,i)},function(e,t){e(t,6,0,t.component.reinitiateDialogue.btnText)})}function av(e){return Cs(0,[(e()(),lu(0,0,null,null,7,"div",[["class","text-center clearfix p-24"]],null,null,null,null,null)),qu(1,278528,null,0,op,[er,Li,zi],{ngStyle:[0,"ngStyle"]},null),ms(2,{"background-color":0,color:1}),(e()(),lu(3,0,[[1,0],["logo",1]],null,0,"object",[["class","m-b-20"],["data","/cw/assets/img/icons/svg/chat-icon.svg"],["height","auto"],["id","logo"],["name","logo"],["type","image/svg+xml"],["width","80"]],null,[[null,"load"]],function(e,t,n){var i=!0;return"load"===t&&(i=!1!==e.component.SvgChangeColor(n)&&i),i},null,null)),(e()(),lu(4,0,null,null,1,"h6",[["class","title-with-border border-gray"]],null,null,null,null,null)),(e()(),ys(5,null,["",""])),(e()(),iu(16777216,null,null,1,null,sv)),qu(7,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component,i=n.themeSettings?e(t,2,0,n.themeSettings.dialogBgColor,n.themeSettings.dialogTextColor):"";e(t,1,0,i),e(t,7,0,!n.banned)},function(e,t){e(t,5,0,t.component.reinitiateDialogue.heading)})}function cv(e){return Cs(0,[(e()(),lu(0,0,null,null,5,"div",[["class","text-center clearfix p-24"]],null,null,null,null,null)),qu(1,278528,null,0,op,[er,Li,zi],{ngStyle:[0,"ngStyle"]},null),ms(2,{"background-color":0,color:1}),(e()(),lu(3,0,[[1,0],["logo",1]],null,0,"object",[["class","m-b-20"],["data","/cw/assets/img/icons/svg/chat-icon.svg"],["height","auto"],["id","logo"],["name","logo"],["type","image/svg+xml"],["width","80"]],null,[[null,"load"]],function(e,t,n){var i=!0;return"load"===t&&(i=!1!==e.component.SvgChangeColor(n)&&i),i},null,null)),(e()(),lu(4,0,null,null,1,"h6",[["class","title-with-border border-gray"]],null,null,null,null,null)),(e()(),ys(5,null,["",""]))],function(e,t){var n=t.component,i=n.themeSettings?e(t,2,0,n.themeSettings.dialogBgColor,n.themeSettings.dialogTextColor):"";e(t,1,0,i)},function(e,t){e(t,5,0,t.component.reinitiateDialogue.Reloadcontent)})}function pv(e){return Cs(0,[as(671088640,1,{logo:0}),(e()(),iu(16777216,null,null,1,null,av)),qu(2,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,cv)),qu(4,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component;e(t,2,0,!n.restarting),e(t,4,0,n.restarting)},null)}function dv(e){return Cs(0,[(e()(),lu(0,0,null,null,1,"app-reinitiate-chat",[],null,null,null,pv,uv)),qu(1,245760,null,0,Cm,[hd,Ra,Zf,tg],null,null)],function(e,t){e(t,1,0)},null)}var hv=Su("app-reinitiate-chat",Cm,dv,{},{},[]),fv=function(){function e(){}return e.prototype.transform=function(e,t){var n="";if(t){for(var i=parseInt(t,10),l=e.toString().length,o=0;o<i-l;o++)n="0"+n;n+=e}return n},e}(),gv=function(){return function(e,t){var n=this;this.data=e,this._appService=t,this.msg="",this.subscriptions=[],this.msg=e.msg,this.subscriptions.push(this._appService.Settings.subscribe(function(e){e&&(n.themeSettings=e.dialogSettings)}))}}(),mv=function(){function e(e,t,n){var i=this;this._socket=e,this._appService=t,this.dialog=n,this.callRecieved=new Jf.BehaviorSubject(!1),this.remoteStream=new Jf.BehaviorSubject(void 0),this.localStream=new Jf.BehaviorSubject(void 0),this.remote_sender=new Jf.BehaviorSubject(""),this.listAudioEvents=[],this.selectedAgent=new Jf.BehaviorSubject(""),this.config=void 0,this.timeoutID=new Jf.BehaviorSubject(void 0),this.minutes=new Jf.BehaviorSubject(0),this.seconds=new Jf.BehaviorSubject(0),this.isRemoteSession=!1,this.count=new Jf.BehaviorSubject(5),this.showRetry=new Jf.BehaviorSubject(!1),this.retryInterval_ID=new Jf.BehaviorSubject(void 0),this.callAccepted=new Jf.BehaviorSubject(!1),this.callRejected=new Jf.BehaviorSubject(!1),this.callSelfEnded=new Jf.BehaviorSubject(!1),this.callStart=new Jf.BehaviorSubject(!0),this.callEnd=new Jf.BehaviorSubject(!1),this.alreadyOnCall=new Jf.BehaviorSubject(!1),this.agentBusy=new Jf.BehaviorSubject(!1),this.callConnect=new Jf.BehaviorSubject(!0),this.callerTune=new Jf.BehaviorSubject({src:"../assets/sounds/simple_cool_tone.mp3",state:!1}),this.callerTuneEnd=new Jf.BehaviorSubject({src:"../assets/sounds/beep_mp3.mp3"}),this.micEnabled=new Jf.BehaviorSubject(!0),this.audioEnabled=new Jf.BehaviorSubject(!0),this.remoteCandidates=[],this.callEventList=[],this._socket.GetSocketInstance().subscribe(function(e){e&&(i.socket=e,i.getICEServers(),i._appService.Session.subscribe(function(e){e&&(i.Session=e,i.Host=i.Session.csid,i.selectedAgent.next(i.Session.agent))}),i.socket.on("answerOffer",function(e){Ia(i.rtcPeerConnection),i.rtcPeerConnection&&"closed"!=i.rtcPeerConnection.connectionState?(Ia("Already On Call!"),i.socket.emit("alreadyOnCall",{to:e.sender})):(i.remote_sender.next(e.sender),i.CallerTune(!0),i.callAccepted.next(!1),i.callStart.next(!0),i.callRejected.next(!1),i.callSelfEnded.next(!1),i.callEnd.next(!1),i.seconds.next(0),i.minutes.next(0),navigator.mediaDevices.getUserMedia({audio:!0,video:!1}).then(function(t){t&&i.addLocalStream(t),i.createPeerConnection(),i.rtcPeerConnection.setRemoteDescription(new RTCSessionDescription(e.sdp)),i.rtcPeerConnection.createAnswer().then(function(e){return i.rtcPeerConnection.setLocalDescription(e)}).catch(function(e){return console.log(e)}),i.callRecieved.next(!0)}).catch(function(t){i.Self_End("User does not have mic enabled!"),alert(e.sender+" called you, please enable your mic to allow calls."),Ia("An error ocurred when accessing media devices"),Ia(t)}))}),i.socket.on("missedCall",function(e){i.dialog.open(gv,{data:{title:"Missed Call!",alertContent:e.sender+" called you while you were busy..",url:"/agents",tag:1},autoFocus:!0,panelClass:["dialog-inner"]}).afterClosed().subscribe(function(e){Ia("Call Notifications Dialog Closed")}),alert("Missed Call from"+i.Session.agent),Ia("User is already on call please wait...")}),i.socket.on("closeAllDialogs",function(e){i.CallerTune(!1)}),i.socket.on("acceptCall",function(e){i.callAccepted.next(!0),i.callStart.next(!1),i.callRejected.next(!1),i.callSelfEnded.next(!1),i.callEnd.next(!1),i.CallerTune(!1),i.startCallTimer(),i.callAccepted.next(!0),i.rtcPeerConnection.setRemoteDescription(new RTCSessionDescription(e.sdp)).then(function(){i.remoteCandidates.map(function(e){i.rtcPeerConnection.addIceCandidate(e)}),i.isRemoteSession=!0})}),i.socket.on("rejectCall",function(e){i.callAccepted.next(!1),i.callStart.next(!1),i.callRejected.next(!0),i.callSelfEnded.next(!1),i.callEnd.next(!1),i.CallerTune(!1),i.EndCall(!0),i.startCallRetryTimer()}),i.socket.on("selfEnd",function(e){Ia("Remote Agent Ended Call!"),i.callAccepted.next(!1),i.callStart.next(!1),i.callRejected.next(!1),i.callSelfEnded.next(!0),i.callEnd.next(!1),clearInterval(i.timeoutID.getValue()),i.EndCall(),e&&e.error&&alert(e.error)}),i.socket.on("disconnectCall",function(e){i.EndCall(),i.dialog.open(gv,{data:{msg:"Call disconnected!"},autoFocus:!0,panelClass:["dialog-inner"]}).afterClosed().subscribe(function(e){Ia("Call Notifications Dialog Closed")})}),i.socket.on("candidate",function(e){var t=new RTCIceCandidate(e.candidate);i.rtcPeerConnection&&i.rtcPeerConnection.remoteDescription?i.rtcPeerConnection.addIceCandidate(t):i.remoteCandidates.push(t)}))})}return e.prototype.getICEServers=function(){var e=this;this.socket.emit("getICEServers",{},function(t){t.servers&&(e.config=t.servers)})},e.prototype.CallRecieved=function(){return this.callRecieved.asObservable()},e.prototype.onIceCandidate=function(e){this.callEventList.push("Candidate Recieved!"),e.candidate&&this.socket.emit("candidate",{target:this.selectedAgent.getValue()?this.selectedAgent.getValue().id:this.remote_sender.getValue(),type:"candidate",label:e.candidate.sdpMLineIndex,id:e.candidate.sdpMid,candidate:e.candidate})},e.prototype.onAddStream=function(e){this.callEventList.push("Got Remote Stream!"),this.remoteStream.next(e.stream),this.remoteStream.getValue().getAudioTracks().length>0?this.addAudioEvent("Remote user is sending Audio"):this.addAudioEvent("Remote user is not sending Audio")},e.prototype.createPeerConnection=function(){var e=this;this.rtcPeerConnection=new RTCPeerConnection(this.config),this.rtcPeerConnection.onicecandidate=function(t){e.onIceCandidate(t)},this.rtcPeerConnection.onaddstream=function(t){e.onAddStream(t)},this.rtcPeerConnection.onconnectionstatechange=function(t){e.RTCConnectionStateHandler(t)},this.rtcPeerConnection.oniceconnectionstatechange=function(t){e.ICEConnectionStateHandler(t)},this.rtcPeerConnection.onsignalingstatechange=function(t){e.RTCSignalingStateHandler(t)},this.rtcPeerConnection.addStream(this.localStream.getValue())},e.prototype.RTCConnectionStateHandler=function(e){switch(this.rtcPeerConnection.connectionState){case"connected":this.callEventList.push("Call Connected!");break;case"disconnected":this.callEventList.push("Call Disconnected!");break;case"failed":this.callEventList.push("Call Failed!");break;case"closed":this.callEventList.push("Call Closed!")}},e.prototype.ICEConnectionStateHandler=function(e){switch(this.rtcPeerConnection.iceConnectionState){case"new":this.callEventList.push("ICE Candidate connectionState new!");break;case"checking":this.callEventList.push("ICE Candidate connectionState checking!");break;case"connected":this.callEventList.push("ICE Candidate connectionState connected!");break;case"completed":this.callEventList.push("ICE Candidate connectionState completed!");break;case"disconnected":this.callEventList.push("ICE Candidate connectionState dicconnected!");break;case"failed":this.callEventList.push("ICE Candidate connectionState failed!");break;case"closed":this.callEventList.push("ICE Candidate connectionState closed!")}},e.prototype.RTCSignalingStateHandler=function(e){switch(this.rtcPeerConnection.signalingState){case"stable":this.callEventList.push("WebRTC signaling state stable");break;case"have-local-offer":this.callEventList.push("WebRTC signaling state have-local-offer");break;case"have-remote-offer":this.callEventList.push("WebRTC signaling state have-remote-offer");break;case"have-local-pranswer":this.callEventList.push("WebRTC signaling state have-local-pranswer");break;case"have-remote-pranswer":this.callEventList.push("WebRTC signaling state have-remote-pranswer")}},e.prototype.addAudioEvent=function(e){this.listAudioEvents.push(e)},e.prototype.addLocalStream=function(e){this.localStream.next(e)},e.prototype.setLocalAndOffer=function(e){var t=this;this.rtcPeerConnection.setLocalDescription(e),this.callEventList.push("Local Description Set!"),this.socket.emit("createOffer",{sender:this.Host,name:this.Session.username,reciever:this.selectedAgent.getValue().id,type:"offer",sdp:e},function(e){Ia(e),e&&e.recieverStatus?e.callStatus?(t.EndCall(),t.dialog.open(gv,{panelClass:["dialog-inner"],data:{msg:"User is already on call please wait.."},autoFocus:!0}).afterClosed().subscribe(function(e){Ia("Call Notifications Dialog Closed")})):(Ia("CALL CONNECTED!"),t.callConnect.next(!1),t.CallerTune(!0),t.callAccepted.next(!1),t.callStart.next(!0),t.callRejected.next(!1),t.callSelfEnded.next(!1),t.callEnd.next(!1),t.seconds.next(0),t.minutes.next(0)):(t.EndCall(),t.dialog.open(gv,{data:{msg:"Could not connect call. Please try again..."},autoFocus:!0,panelClass:["dialog-inner"]}).afterClosed().subscribe(function(e){Ia("Call Notifications Dialog Closed")}))})},e.prototype.setLocalAndAnswer=function(e){this.rtcPeerConnection.setLocalDescription(e)},e.prototype.createOffer=function(){var e=this;this.callEventList=[],this.CallerTune(!0),this.callAccepted.next(!1),this.callStart.next(!0),this.callRejected.next(!1),this.callSelfEnded.next(!1),this.callEnd.next(!1),this.seconds.next(0),this.minutes.next(0),this.selectedAgent.next(this.Session.agent),navigator.mediaDevices.getUserMedia({audio:!0,video:!1}).then(function(t){t&&e.addLocalStream(t),e.createPeerConnection(),e.rtcPeerConnection.createOffer({offerToReceiveAudio:1}).then(function(t){return e.setLocalAndOffer(t)}).catch(function(e){return Ia(e)})}).catch(function(t){alert("An error ocurred when accessing media devices, please enable your mic."),e.Self_End(e.selectedAgent.getValue()),Ia("An error ocurred when accessing media devices"),Ia(t)})},e.prototype.AcceptCall=function(){var e=this;this.callAccepted.next(!0),this.callStart.next(!1),this.callRejected.next(!1),this.callSelfEnded.next(!1),this.callEnd.next(!1),this.startCallTimer(),this.socket.emit("acceptCall",{sender:this.Host,target:this.Session.agent.id,sdp:this.rtcPeerConnection.localDescription,type:"answer"}),this.remoteCandidates.map(function(t){e.rtcPeerConnection.addIceCandidate(t)})},e.prototype.RejectCall=function(){this.callAccepted.next(!1),this.callStart.next(!1),this.callRejected.next(!0),this.callSelfEnded.next(!1),this.callEnd.next(!1),this.EndCall(!0),this.socket.emit("rejectCall",{sender:this.Host,target:this.Session.agent.id,type:"reject"})},e.prototype.Self_End=function(e){this.callAccepted.next(!1),this.callStart.next(!1),this.callRejected.next(!1),this.callSelfEnded.next(!0),this.callEnd.next(!1),clearInterval(this.timeoutID.getValue()),this.socket.emit("selfEnd",{sender:this.Host,target:this.Session.agent.id,type:"reject",error:e||""}),this.EndCall()},e.prototype.EndCall=function(e){void 0===e&&(e=!1),this.callAccepted.next(!1),this.callStart.next(!1),this.callSelfEnded.next(!1),clearInterval(this.timeoutID.getValue()),clearInterval(this.retryInterval_ID.getValue()),e?(this.callRejected.next(!0),this.callEnd.next(!1)):(this.callRejected.next(!1),this.callEnd.next(!0)),this.alreadyOnCall.next(!1),this.rtcPeerConnection&&(this.rtcPeerConnection.ontrack=null,this.rtcPeerConnection.removeTrack=null,this.rtcPeerConnection.onicecandidate=null,this.rtcPeerConnection.oniceconnectionstatechange=null,this.rtcPeerConnection.onsignalingstatechange=null,this.rtcPeerConnection.onicegatheringstatechange=null,this.rtcPeerConnection.onnegotiationneeded=null,this.rtcPeerConnection.close()),this.RemoveStreams(),this.CallerTune(!1),this.remoteCandidates=[],this.isRemoteSession=!1},e.prototype.RemoveStreams=function(){this.localStream.getValue()&&this.localStream.getValue().getTracks().forEach(function(e){e.stop()})},e.prototype.updateCallTimer=function(){this.seconds.next(this.seconds.getValue()+1),60==this.seconds.getValue()&&(this.seconds.next(0),this.minutes.next(this.minutes.getValue()+1))},e.prototype.updateCallRetryTimer=function(){this.count.next(this.count.getValue()-1),0==this.count.getValue()&&(this.showRetry.next(!0),clearInterval(this.retryInterval_ID.getValue()))},e.prototype.startCallTimer=function(){var e=this;this.timeoutID.next(setInterval(function(){e.updateCallTimer()},1e3))},e.prototype.startCallRetryTimer=function(){var e=this;this.count.next(5),this.showRetry.next(!1),this.retryInterval_ID.next(setInterval(function(){e.updateCallRetryTimer()},1e3))},e.prototype.ToggleMic=function(){this.micEnabled.next(!this.micEnabled.getValue()),this.localStream.getValue().getAudioTracks()[0].enabled=this.micEnabled.getValue(),this.localStream.next(this.localStream.getValue())},e.prototype.ToggleAudio=function(){this.audioEnabled.next(!this.audioEnabled.getValue()),this.remoteStream.getValue().getAudioTracks()[0].enabled=this.audioEnabled.getValue(),this.remoteStream.next(this.remoteStream.getValue())},e.prototype.CallerTune=function(e){this.callerTune.getValue().state=e},e.prototype.showEvents=function(){Ia(this.callEventList)},e}(),vv=function(){function e(e,t,n){var i=this;this._callingService=e,this._appService=t,this.dialogRef=n,this.subscriptions=[],this.callAccepted=!1,this.callRejected=!1,this.callSelfEnded=!1,this.callStart=!1,this.callEnd=!1,this.callTime=0,this.alreadyOnCall=!1,this.micEnabled=!0,this.audioEnabled=!0,this.seconds=0,this.minutes=0,this.count=3,this.showRetry=!0,this.subscriptions.push(this._appService.Settings.subscribe(function(e){e&&(i.themeSettings=e.dialogSettings)})),this._appService.Session.subscribe(function(e){e&&(i.Session=e)}),this._callingService.createOffer(),this._callingService.callAccepted.subscribe(function(e){i.callAccepted=e}),this._callingService.callRejected.subscribe(function(e){i.callRejected=e}),this._callingService.callSelfEnded.subscribe(function(e){i.callSelfEnded=e}),this._callingService.callStart.subscribe(function(e){i.callStart=e}),this._callingService.callEnd.subscribe(function(e){i.callEnd=e,e&&i.dialogRef.close()}),this._callingService.alreadyOnCall.subscribe(function(e){i.alreadyOnCall=e}),this._callingService.micEnabled.subscribe(function(e){i.micEnabled=e}),this._callingService.audioEnabled.subscribe(function(e){i.audioEnabled=e}),this._callingService.seconds.subscribe(function(e){i.seconds=e}),this._callingService.minutes.subscribe(function(e){i.minutes=e}),this._callingService.count.subscribe(function(e){i.count=e}),this._callingService.showRetry.subscribe(function(e){i.showRetry=e}),this._callingService.callerTune.subscribe(function(e){i.callerTune=e}),this._callingService.callerTuneEnd.subscribe(function(e){i.callerTuneEnd=e})}return e.prototype.ngOnInit=function(){var e=this;this.self_audio.nativeElement.muted=!0,this.subscriptions.push(this._callingService.localStream.subscribe(function(t){t&&(e.self_audio.nativeElement.srcObject=t)})),this.subscriptions.push(this._callingService.remoteStream.subscribe(function(t){t&&(e.remote_audio.nativeElement.srcObject=t)}))},e.prototype.ngOnDestroy=function(){this.subscriptions.map(function(e){e.unsubscribe()})},e.prototype.endCall=function(){this._callingService.Self_End(),this.dialogRef.close()},e.prototype.reCall=function(){this._callingService.createOffer()},e.prototype.ToggleMic=function(){this._callingService.ToggleMic()},e.prototype.ToggleAudio=function(){this._callingService.ToggleAudio()},e.prototype.showEvents=function(){this._callingService.showEvents()},e}(),yv=Er({encapsulation:2,styles:[[""]],data:{}});function bv(e){return Cs(0,[(e()(),lu(0,0,null,null,1,"audio",[["autoplay",""],["loop",""]],null,null,null,null,null)),(e()(),lu(1,0,null,null,0,"source",[],[[8,"src",4]],null,null,null,null))],null,function(e,t){e(t,1,0,t.component.callerTune.src)})}function Dv(e){return Cs(0,[(e()(),lu(0,0,null,null,6,"div",[],null,null,null,null,null)),(e()(),lu(1,0,null,null,3,"div",[["class","fs-15 fw-7"]],null,null,null,null,null)),qu(2,278528,null,0,op,[er,Li,zi],{ngStyle:[0,"ngStyle"]},null),ms(3,{color:0}),(e()(),ys(-1,null,["Ringing"])),(e()(),iu(16777216,null,null,1,null,bv)),qu(6,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component,i=n.themeSettings?e(t,3,0,n.themeSettings.dialogLogoColor):"";e(t,2,0,i),e(t,6,0,n.callerTune.state)},null)}function Cv(e){return Cs(0,[(e()(),lu(0,0,null,null,4,"div",[],null,null,null,null,null)),(e()(),lu(1,0,null,null,3,"div",[["class","fs-15 fw-7"]],null,null,null,null,null)),qu(2,278528,null,0,op,[er,Li,zi],{ngStyle:[0,"ngStyle"]},null),ms(3,{color:0}),(e()(),ys(-1,null,["Call Accepted"]))],function(e,t){var n=t.component,i=n.themeSettings?e(t,3,0,n.themeSettings.dialogLogoColor):"";e(t,2,0,i)},null)}function Sv(e){return Cs(0,[(e()(),lu(0,0,null,null,4,"div",[],null,null,null,null,null)),(e()(),lu(1,0,null,null,3,"div",[["class","fs-15 fw-7"]],null,null,null,null,null)),qu(2,278528,null,0,op,[er,Li,zi],{ngStyle:[0,"ngStyle"]},null),ms(3,{color:0}),(e()(),ys(-1,null,["Call Rejected"]))],function(e,t){var n=t.component,i=n.themeSettings?e(t,3,0,n.themeSettings.dialogLogoColor):"";e(t,2,0,i)},null)}function _v(e){return Cs(0,[(e()(),lu(0,0,null,null,4,"div",[],null,null,null,null,null)),(e()(),lu(1,0,null,null,3,"div",[["class","fs-15 fw-7"]],null,null,null,null,null)),qu(2,278528,null,0,op,[er,Li,zi],{ngStyle:[0,"ngStyle"]},null),ms(3,{color:0}),(e()(),ys(-1,null,["Call Ended"]))],function(e,t){var n=t.component,i=n.themeSettings?e(t,3,0,n.themeSettings.dialogLogoColor):"";e(t,2,0,i)},null)}function wv(e){return Cs(0,[(e()(),lu(0,0,null,null,4,"div",[],null,null,null,null,null)),(e()(),lu(1,0,null,null,3,"div",[["class","fs-15 fw-7"]],null,null,null,null,null)),qu(2,278528,null,0,op,[er,Li,zi],{ngStyle:[0,"ngStyle"]},null),ms(3,{color:0}),(e()(),ys(-1,null,["Is Busy, callback later"]))],function(e,t){var n=t.component,i=n.themeSettings?e(t,3,0,n.themeSettings.dialogLogoColor):"";e(t,2,0,i)},null)}function xv(e){return Cs(0,[(e()(),lu(0,0,null,null,6,"div",[],null,null,null,null,null)),qu(1,278528,null,0,op,[er,Li,zi],{ngStyle:[0,"ngStyle"]},null),ms(2,{color:0}),(e()(),lu(3,0,null,null,3,"div",[],null,null,null,null,null)),(e()(),ys(4,null,["",":",""])),gs(5,2),gs(6,2)],function(e,t){var n=t.component,i=n.themeSettings?e(t,2,0,n.themeSettings.dialogLogoColor):"";e(t,1,0,i)},function(e,t){var n=t.component,i=wr(t,4,0,e(t,5,0,Ou(t.parent.parent,1),n.minutes,2)),l=wr(t,4,1,e(t,6,0,Ou(t.parent.parent,1),n.seconds,2));e(t,4,0,i,l)})}function Fv(e){return Cs(0,[(e()(),lu(0,0,null,null,1,"div",[],null,null,null,null,null)),(e()(),ys(1,null,["Redial In (",") "]))],null,function(e,t){e(t,1,0,t.component.count)})}function Ev(e){return Cs(0,[(e()(),lu(0,0,null,null,4,"div",[],null,null,null,null,null)),qu(1,278528,null,0,op,[er,Li,zi],{ngStyle:[0,"ngStyle"]},null),ms(2,{color:0}),(e()(),iu(16777216,null,null,1,null,Fv)),qu(4,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component,i=n.themeSettings?e(t,2,0,n.themeSettings.dialogLogoColor):"";e(t,1,0,i),e(t,4,0,n.count)},null)}function kv(e){return Cs(0,[(e()(),lu(0,0,null,null,2,"div",[],null,null,null,null,null)),(e()(),lu(1,0,null,null,1,"audio",[["autoplay",""]],null,null,null,null,null)),(e()(),lu(2,0,null,null,0,"source",[],[[8,"src",4]],null,null,null,null))],null,function(e,t){e(t,2,0,t.component.callerTuneEnd.src)})}function Av(e){return Cs(0,[(e()(),lu(0,0,null,null,1,"div",[["class","animations"]],null,null,null,null,null)),(e()(),lu(1,0,null,null,0,"img",[["alt",""],["src","/cw/assets/img/loaders/ringing.gif"],["width","80"]],null,null,null,null,null))],null,null)}function Tv(e){return Cs(0,[(e()(),lu(0,0,null,null,4,"div",[],null,null,null,null,null)),(e()(),lu(1,0,null,null,1,"button",[["class","btn bg-black"],["title","Mute Mic"],["type","button"]],null,[[null,"click"]],function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.ToggleMic()&&i),i},null,null)),(e()(),lu(2,0,null,null,0,"img",[["width","100%"]],[[8,"src",4]],null,null,null,null)),(e()(),lu(3,0,null,null,1,"button",[["class","btn bg-black"],["title","Mute Voice"],["type","button"]],null,[[null,"click"]],function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.ToggleAudio()&&i),i},null,null)),(e()(),lu(4,0,null,null,0,"img",[["width","100%"]],[[8,"src",4]],null,null,null,null))],null,function(e,t){var n=t.component;e(t,2,0,n.micEnabled?"/cw/assets/img/icons/svg/mic-on.svg":"/assets/img/icons/svg/mic-off.svg"),e(t,4,0,n.audioEnabled?"/cw/assets/img/icons/svg/volume-on.svg":"/assets/img/icons/svg/volume-off.svg")})}function Iv(e){return Cs(0,[(e()(),lu(0,0,null,null,9,"div",[],null,null,null,null,null)),(e()(),lu(1,0,null,null,3,"button",[["class","btn"],["title","Redial"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.reCall()&&i),i},null,null)),qu(2,278528,null,0,op,[er,Li,zi],{ngStyle:[0,"ngStyle"]},null),ms(3,{"background-color":0,color:1}),(e()(),lu(4,0,null,null,0,"img",[["src","/cw/assets/img/icons/svg/call-redial.svg"],["width","100%"]],null,null,null,null,null)),(e()(),lu(5,0,null,null,4,"button",[["class","btn"],["mat-dialog-close",""],["title","End Call"],["type","button"]],[[1,"aria-label",0]],[[null,"click"]],function(e,t,n){var i=!0,l=e.component;return"click"===t&&(i=!1!==Ou(e,8).dialogRef.close(Ou(e,8).dialogResult)&&i),"click"===t&&(i=!1!==l.endCall()&&i),i},null,null)),qu(6,278528,null,0,op,[er,Li,zi],{ngStyle:[0,"ngStyle"]},null),ms(7,{"background-color":0,color:1}),qu(8,606208,null,0,bd,[[2,hd],Li,yd],{dialogResult:[0,"dialogResult"]},null),(e()(),lu(9,0,null,null,0,"img",[["src","/cw/assets/img/icons/svg/call-end.svg"],["width","100%"]],null,null,null,null,null))],function(e,t){var n=t.component,i=n.themeSettings?e(t,3,0,n.themeSettings.dialogBtnColor,n.themeSettings.dialogBtnTextColor):"";e(t,2,0,i);var l=n.themeSettings?e(t,7,0,n.themeSettings.dialogSecondaryBtnColor,n.themeSettings.dialogSecondaryBtnTextColor):"";e(t,6,0,l),e(t,8,0,"")},function(e,t){e(t,1,0,!t.component.showRetry),e(t,5,0,Ou(t,8).ariaLabel||null)})}function Bv(e){return Cs(0,[(e()(),lu(0,0,null,null,5,"div",[],null,null,null,null,null)),(e()(),lu(1,0,null,null,4,"button",[["class","btn"],["mat-dialog-close",""],["title","End Call"],["type","button"]],[[1,"aria-label",0]],[[null,"click"]],function(e,t,n){var i=!0,l=e.component;return"click"===t&&(i=!1!==Ou(e,4).dialogRef.close(Ou(e,4).dialogResult)&&i),"click"===t&&(i=!1!==l.endCall()&&i),i},null,null)),qu(2,278528,null,0,op,[er,Li,zi],{ngStyle:[0,"ngStyle"]},null),ms(3,{"background-color":0,color:1}),qu(4,606208,null,0,bd,[[2,hd],Li,yd],{dialogResult:[0,"dialogResult"]},null),(e()(),lu(5,0,null,null,0,"img",[["src","/cw/assets/img/icons/svg/call-end.svg"],["width","100%"]],null,null,null,null,null))],function(e,t){var n=t.component,i=n.themeSettings?e(t,3,0,n.themeSettings.dialogSecondaryBtnColor,n.themeSettings.dialogSecondaryBtnTextColor):"";e(t,2,0,i),e(t,4,0,"")},function(e,t){e(t,1,0,Ou(t,4).ariaLabel||null)})}function Ov(e){return Cs(0,[(e()(),lu(0,0,null,null,43,"div",[["class","clearfix p-24"]],null,null,null,null,null)),qu(1,278528,null,0,op,[er,Li,zi],{ngStyle:[0,"ngStyle"]},null),ms(2,{"background-color":0,color:1}),(e()(),lu(3,0,null,null,8,"div",[["class","avatar"]],null,null,null,null,null)),qu(4,278528,null,0,Xc,[Yo,er,Li,zi],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),qu(5,278528,null,0,op,[er,Li,zi],{ngStyle:[0,"ngStyle"]},null),ms(6,{color:0,"border-color":1}),(e()(),lu(7,0,null,null,4,"a",[["class","no-pointer"]],null,null,null,null,null)),(e()(),lu(8,0,null,null,3,"span",[],null,null,null,null,null)),(e()(),ys(9,null,["",""])),Wu(0,cp,[]),gs(11,1),(e()(),lu(12,0,null,null,4,"div",[["class","callee"]],null,null,null,null,null)),qu(13,278528,null,0,op,[er,Li,zi],{ngStyle:[0,"ngStyle"]},null),ms(14,{color:0}),(e()(),lu(15,0,null,null,1,"div",[["class","fs-20 fw-8"]],null,null,null,null,null)),(e()(),ys(16,null,["",""])),(e()(),lu(17,0,null,null,10,"div",[["class","status"]],null,null,null,null,null)),(e()(),iu(16777216,null,null,1,null,Dv)),qu(19,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,Cv)),qu(21,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,Sv)),qu(23,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,_v)),qu(25,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,wv)),qu(27,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),lu(28,0,null,null,4,"div",[["class","counter"]],null,null,null,null,null)),(e()(),iu(16777216,null,null,1,null,xv)),qu(30,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,Ev)),qu(32,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,kv)),qu(34,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,Av)),qu(36,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),lu(37,0,null,null,6,"div",[["class","buttons"]],null,null,null,null,null)),(e()(),iu(16777216,null,null,1,null,Tv)),qu(39,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,Iv)),qu(41,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,Bv)),qu(43,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component,i=n.themeSettings?e(t,2,0,n.themeSettings.dialogBgColor,n.themeSettings.dialogTextColor):"";e(t,1,0,i),e(t,4,0,"avatar",n.callAccepted?"":"ringing");var l=n.themeSettings?e(t,6,0,n.themeSettings.dialogLogoColor,n.themeSettings.dialogLogoColor):"";e(t,5,0,l);var o=n.themeSettings?e(t,14,0,n.themeSettings.dialogTextColor):"";e(t,13,0,o),e(t,19,0,n.callStart),e(t,21,0,n.callAccepted),e(t,23,0,n.callRejected),e(t,25,0,n.callSelfEnded||n.callEnd),e(t,27,0,n.alreadyOnCall),e(t,30,0,n.callAccepted||n.callSelfEnded||n.callEnd),e(t,32,0,n.callRejected),e(t,34,0,n.callSelfEnded||n.callEnd||n.callRejected||n.alreadyOnCall),e(t,36,0,n.callStart),e(t,39,0,n.callAccepted),e(t,41,0,n.callRejected),e(t,43,0,!n.callRejected&&!n.callEnd)},function(e,t){var n=t.component,i=n.Session.agent.name?wr(t,9,0,e(t,11,0,Ou(t.parent,0),wr(t,9,0,Ou(t,10).transform(n.Session.agent.name,0,1)))):"";e(t,9,0,i),e(t,16,0,n.Session.agent.name)})}function Rv(e){return Cs(0,[Wu(0,up,[]),Wu(0,fv,[]),as(402653184,1,{self_audio:0}),as(402653184,2,{remote_audio:0}),(e()(),iu(16777216,null,null,1,null,Ov)),qu(5,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),lu(6,0,null,null,2,"div",[["class","clearfix"]],[[8,"hidden",0]],null,null,null,null)),(e()(),lu(7,0,[[1,0],["self_audio",1]],null,0,"audio",[["autoplay",""],["muted",""]],null,null,null,null,null)),(e()(),lu(8,0,[[2,0],["remote_audio",1]],null,0,"audio",[["autoplay",""]],null,null,null,null,null))],function(e,t){e(t,5,0,t.component.Session.agent)},function(e,t){e(t,6,0,!t.component.callAccepted)})}function Mv(e){return Cs(0,[(e()(),lu(0,0,null,null,1,"app-call-dialog",[],null,null,null,Rv,yv)),qu(1,245760,null,0,vv,[mv,Zf,hd],null,null)],function(e,t){e(t,1,0)},null)}var Pv=Su("app-call-dialog",vv,Mv,{},{},[]),jv=function(){function e(e,t,n){var i=this;this.dialogRef=e,this._appStateService=t,this._dataService=n,this.themeSettings=void 0,this.lostAgentDialogue=void 0,this._appStateService.Settings.subscribe(function(e){e&&(i.themeSettings=e.dialogSettings,i.lostAgentDialogue=e.lostAgentDialogue)}),this._appStateService.endChat.subscribe(function(e){i.dialogRef&&e&&i.dialogRef.close()}),this._dataService.gotAgent.subscribe(function(e){e&&i.dialogRef.close({status:"No"})})}return e.prototype.ngOnInit=function(){},e.prototype.SubmitTicket=function(e){this.dialogRef.close(e?{status:"Yes"}:{status:"No"})},e.prototype.SvgChangeColor=function(e){var t=this.logo.nativeElement.contentDocument.getElementsByTagName("path").item(0);t&&t.setAttribute("fill",this.themeSettings.dialogLogoColor)},e.prototype.Close=function(){this.dialogRef.close({status:"No"})},e}(),Nv=Er({encapsulation:2,styles:[[""]],data:{}});function Lv(e){return Cs(0,[as(402653184,1,{logo:0}),(e()(),lu(1,0,null,null,2,"div",[["class","dialog-close svgOnHover"]],null,[[null,"click"]],function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.Close()&&i),i},null,null)),(e()(),lu(2,0,null,null,0,"img",[["class","svg"],["src","/cw/assets/img/icons/svg/cancel-circle-outline.svg"]],null,null,null,null,null)),(e()(),lu(3,0,null,null,0,"img",[["class","svg hover"],["src","/cw/assets/img/icons/svg/cancel-circle-filled.svg"]],null,null,null,null,null)),(e()(),lu(4,0,null,null,28,"div",[["class","text-center clearfix p-24"]],null,null,null,null,null)),qu(5,278528,null,0,op,[er,Li,zi],{ngStyle:[0,"ngStyle"]},null),ms(6,{"background-color":0,color:1}),(e()(),lu(7,0,[[1,0],["logo",1]],null,0,"object",[["class","m-b-20"],["data","/cw/assets/img/icons/svg/chat-icon.svg"],["height","auto"],["id","logo"],["name","logo"],["type","image/svg+xml"],["width","80"]],null,[[null,"load"]],function(e,t,n){var i=!0;return"load"===t&&(i=!1!==e.component.SvgChangeColor(n)&&i),i},null,null)),(e()(),lu(8,0,null,null,1,"h5",[["class","title-with-border border-gray"]],null,null,null,null,null)),(e()(),ys(9,null,["",""])),(e()(),lu(10,0,null,null,1,"h6",[["class","text-red"]],null,null,null,null,null)),(e()(),ys(11,null,["",""])),(e()(),lu(12,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),ys(13,null,["",""])),(e()(),lu(14,0,null,null,2,"div",[["class","text-with-divider solid"]],null,null,null,null,null)),(e()(),lu(15,0,null,null,1,"span",[["class","bg-white"]],null,null,null,null,null)),(e()(),ys(-1,null,["OR"])),(e()(),lu(17,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),ys(18,null,["",""])),(e()(),lu(19,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),lu(20,0,null,null,12,"div",[["class","flex_btns"]],null,null,null,null,null)),(e()(),lu(21,0,null,null,5,"div",[],null,null,null,null,null)),(e()(),lu(22,0,null,null,4,"button",[["class","btn"],["type","button"]],null,[[null,"click"]],function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.SubmitTicket(!0)&&i),i},null,null)),qu(23,278528,null,0,op,[er,Li,zi],{ngStyle:[0,"ngStyle"]},null),ms(24,{"background-color":0,color:1}),(e()(),lu(25,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),ys(26,null,["",""])),(e()(),lu(27,0,null,null,5,"div",[],null,null,null,null,null)),(e()(),lu(28,0,null,null,4,"button",[["class","btn"],["type","button"]],null,[[null,"click"]],function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.SubmitTicket(!1)&&i),i},null,null)),qu(29,278528,null,0,op,[er,Li,zi],{ngStyle:[0,"ngStyle"]},null),ms(30,{"background-color":0,color:1}),(e()(),lu(31,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),ys(-1,null,["No"]))],function(e,t){var n=t.component,i=n.themeSettings?e(t,6,0,n.themeSettings.dialogBgColor,n.themeSettings.dialogTextColor):"";e(t,5,0,i);var l=n.themeSettings?e(t,24,0,n.themeSettings.dialogBtnColor,n.themeSettings.dialogBtnTextColor):"";e(t,23,0,l);var o=n.themeSettings?e(t,30,0,n.themeSettings.dialogSecondaryBtnColor,n.themeSettings.dialogSecondaryBtnTextColor):"";e(t,29,0,o)},function(e,t){var n=t.component;e(t,9,0,n.lostAgentDialogue.heading),e(t,11,0,n.lostAgentDialogue.content1),e(t,13,0,n.lostAgentDialogue.content2),e(t,18,0,n.lostAgentDialogue.content3),e(t,26,0,n.lostAgentDialogue.btnText)})}function Vv(e){return Cs(0,[(e()(),lu(0,0,null,null,1,"app-lost-agent",[],null,null,null,Lv,Nv)),qu(1,114688,null,0,jv,[hd,Zf,tg],null,null)],function(e,t){e(t,1,0)},null)}var $v=Su("app-lost-agent",jv,Vv,{},{},[]),Uv=function(){function e(e,t,n){var i=this;this._callingService=e,this._appStateService=t,this.dialogRef=n,this.subscriptions=[],this.callAccepted=!1,this.callRejected=!1,this.callSelfEnded=!1,this.callStart=!1,this.callEnd=!1,this.callTime=0,this.micEnabled=!0,this.audioEnabled=!0,this.seconds=0,this.minutes=0,this.subscriptions.push(this._appStateService.Session.subscribe(function(e){e&&(i.session=e)})),this.subscriptions.push(this._callingService.callAccepted.subscribe(function(e){i.callAccepted=e})),this.subscriptions.push(this._callingService.callRejected.subscribe(function(e){i.callRejected=e})),this.subscriptions.push(this._callingService.callSelfEnded.subscribe(function(e){i.callSelfEnded=e})),this.subscriptions.push(this._callingService.callStart.subscribe(function(e){i.callStart=e})),this.subscriptions.push(this._callingService.callEnd.subscribe(function(e){i.callEnd=e,e&&setTimeout(function(){i.dialogRef.close()},3e3)})),this.subscriptions.push(this._callingService.seconds.subscribe(function(e){i.seconds=e})),this.subscriptions.push(this._callingService.minutes.subscribe(function(e){i.minutes=e})),this.subscriptions.push(this._callingService.micEnabled.subscribe(function(e){i.micEnabled=e})),this.subscriptions.push(this._callingService.callerTuneEnd.subscribe(function(e){i.callerTuneEnd=e})),this.subscriptions.push(this._callingService.audioEnabled.subscribe(function(e){i.audioEnabled=e})),this.subscriptions.push(this._callingService.callerTune.subscribe(function(e){i.callerTune=e})),this.subscriptions.push(this._appStateService.Settings.subscribe(function(e){e&&(i.themeSettings=e.dialogSettings)}))}return e.prototype.ngOnInit=function(){var e=this;this.self_audio.nativeElement.muted=!0,this.subscriptions.push(this._callingService.localStream.subscribe(function(t){t&&e.self_audio.nativeElement&&(e.self_audio.nativeElement.srcObject=t)})),this.subscriptions.push(this._callingService.remoteStream.subscribe(function(t){t&&e.remote_audio.nativeElement&&(e.remote_audio.nativeElement.srcObject=t)}))},e.prototype.ngOnDestroy=function(){this.subscriptions.map(function(e){e.unsubscribe()})},e.prototype.acceptCall=function(){this._callingService.AcceptCall()},e.prototype.rejectCall=function(){this._callingService.RejectCall()},e.prototype.endCall=function(){this._callingService.Self_End()},e.prototype.ToggleMic=function(){this._callingService.ToggleMic()},e.prototype.ToggleAudio=function(){this._callingService.ToggleAudio()},e}(),Hv=Er({encapsulation:2,styles:[[""]],data:{}});function zv(e){return Cs(0,[(e()(),lu(0,0,null,null,1,"audio",[["autoplay",""],["loop",""]],null,null,null,null,null)),(e()(),lu(1,0,null,null,0,"source",[],[[8,"src",4]],null,null,null,null))],null,function(e,t){e(t,1,0,t.component.callerTune.src)})}function Gv(e){return Cs(0,[(e()(),lu(0,0,null,null,4,"div",[],null,null,null,null,null)),(e()(),lu(1,0,null,null,1,"div",[["class","text-orange fs-15 fw-7"]],null,null,null,null,null)),(e()(),ys(-1,null,["Ringing"])),(e()(),iu(16777216,null,null,1,null,zv)),qu(4,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null)],function(e,t){e(t,4,0,t.component.callerTune.state)},null)}function qv(e){return Cs(0,[(e()(),lu(0,0,null,null,2,"div",[],null,null,null,null,null)),(e()(),lu(1,0,null,null,1,"div",[["class","text-orange fs-15 fw-7"]],null,null,null,null,null)),(e()(),ys(-1,null,["Call Accepted"]))],null,null)}function Wv(e){return Cs(0,[(e()(),lu(0,0,null,null,2,"div",[],null,null,null,null,null)),(e()(),lu(1,0,null,null,1,"div",[["class","text-orange fs-15 fw-7"]],null,null,null,null,null)),(e()(),ys(-1,null,["Call Rejected"]))],null,null)}function Jv(e){return Cs(0,[(e()(),lu(0,0,null,null,2,"div",[],null,null,null,null,null)),(e()(),lu(1,0,null,null,1,"div",[["class","text-orange fs-15 fw-7"]],null,null,null,null,null)),(e()(),ys(-1,null,["Call Ended"]))],null,null)}function Kv(e){return Cs(0,[(e()(),lu(0,0,null,null,2,"div",[],null,null,null,null,null)),(e()(),lu(1,0,null,null,1,"div",[["class","text-orange fs-15 fw-7"]],null,null,null,null,null)),(e()(),ys(-1,null,["Is Busy, callback later"]))],null,null)}function Qv(e){return Cs(0,[(e()(),lu(0,0,null,null,4,"div",[],null,null,null,null,null)),(e()(),lu(1,0,null,null,3,"div",[],null,null,null,null,null)),(e()(),ys(2,null,["",":",""])),gs(3,2),gs(4,2)],null,function(e,t){var n=t.component,i=wr(t,2,0,e(t,3,0,Ou(t.parent.parent,1),n.minutes,2)),l=wr(t,2,1,e(t,4,0,Ou(t.parent.parent,1),n.seconds,2));e(t,2,0,i,l)})}function Zv(e){return Cs(0,[(e()(),lu(0,0,null,null,1,"div",[],null,null,null,null,null)),(e()(),ys(1,null,["Redial In (",") "]))],null,function(e,t){e(t,1,0,t.component.count)})}function Xv(e){return Cs(0,[(e()(),lu(0,0,null,null,2,"div",[],null,null,null,null,null)),(e()(),iu(16777216,null,null,1,null,Zv)),qu(2,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null)],function(e,t){e(t,2,0,t.component.count)},null)}function Yv(e){return Cs(0,[(e()(),lu(0,0,null,null,2,"div",[],null,null,null,null,null)),(e()(),lu(1,0,null,null,1,"audio",[["autoplay",""]],null,null,null,null,null)),(e()(),lu(2,0,null,null,0,"source",[],[[8,"src",4]],null,null,null,null))],null,function(e,t){e(t,2,0,t.component.callerTuneEnd.src)})}function ey(e){return Cs(0,[(e()(),lu(0,0,null,null,1,"div",[["class","animations"]],null,null,null,null,null)),(e()(),lu(1,0,null,null,0,"img",[["alt",""],["src","/cw/assets/img/loaders/ringing.gif"],["width","80"]],null,null,null,null,null))],null,null)}function ty(e){return Cs(0,[(e()(),lu(0,0,null,null,4,"div",[],null,null,null,null,null)),(e()(),lu(1,0,null,null,1,"button",[["class","btn bg-black"],["title","Mute Mic"],["type","button"]],null,[[null,"click"]],function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.ToggleMic()&&i),i},null,null)),(e()(),lu(2,0,null,null,0,"img",[["width","100%"]],[[8,"src",4]],null,null,null,null)),(e()(),lu(3,0,null,null,1,"button",[["class","btn bg-black"],["title","Mute Voice"],["type","button"]],null,[[null,"click"]],function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.ToggleAudio()&&i),i},null,null)),(e()(),lu(4,0,null,null,0,"img",[["width","100%"]],[[8,"src",4]],null,null,null,null))],null,function(e,t){var n=t.component;e(t,2,0,n.micEnabled?"/cw/assets/img/icons/svg/mic-on.svg":"/assets/img/icons/svg/mic-off.svg"),e(t,4,0,n.audioEnabled?"/cw/assets/img/icons/svg/volume-on.svg":"/assets/img/icons/svg/volume-off.svg")})}function ny(e){return Cs(0,[(e()(),lu(0,0,null,null,5,"div",[],null,null,null,null,null)),(e()(),lu(1,0,null,null,4,"button",[["class","btn bg-red"],["mat-dialog-close",""],["title","End Call"],["type","button"]],[[1,"aria-label",0]],[[null,"click"]],function(e,t,n){var i=!0,l=e.component;return"click"===t&&(i=!1!==Ou(e,4).dialogRef.close(Ou(e,4).dialogResult)&&i),"click"===t&&(i=!1!==l.endCall()&&i),i},null,null)),qu(2,278528,null,0,op,[er,Li,zi],{ngStyle:[0,"ngStyle"]},null),ms(3,{"background-color":0,color:1}),qu(4,606208,null,0,bd,[[2,hd],Li,yd],{dialogResult:[0,"dialogResult"]},null),(e()(),lu(5,0,null,null,0,"img",[["src","/cw/assets/img/icons/svg/call-end.svg"],["width","100%"]],null,null,null,null,null))],function(e,t){var n=t.component,i=n.themeSettings?e(t,3,0,n.themeSettings.dialogSecondaryBtnColor,n.themeSettings.dialogSecondaryBtnTextColor):"";e(t,2,0,i),e(t,4,0,"")},function(e,t){e(t,1,0,Ou(t,4).ariaLabel||null)})}function iy(e){return Cs(0,[(e()(),lu(0,0,null,null,9,"div",[],null,null,null,null,null)),(e()(),lu(1,0,null,null,3,"button",[["class","btn bg-green"],["title","Recieve Call"],["type","button"]],null,[[null,"click"]],function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.acceptCall()&&i),i},null,null)),qu(2,278528,null,0,op,[er,Li,zi],{ngStyle:[0,"ngStyle"]},null),ms(3,{"background-color":0,color:1}),(e()(),lu(4,0,null,null,0,"img",[["src","/cw/assets/img/icons/svg/call.svg"],["width","100%"]],null,null,null,null,null)),(e()(),lu(5,0,null,null,4,"button",[["class","btn bg-red"],["mat-dialog-close",""],["title","Reject Call"],["type","button"]],[[1,"aria-label",0]],[[null,"click"]],function(e,t,n){var i=!0,l=e.component;return"click"===t&&(i=!1!==Ou(e,8).dialogRef.close(Ou(e,8).dialogResult)&&i),"click"===t&&(i=!1!==l.rejectCall()&&i),i},null,null)),qu(6,278528,null,0,op,[er,Li,zi],{ngStyle:[0,"ngStyle"]},null),ms(7,{"background-color":0,color:1}),qu(8,606208,null,0,bd,[[2,hd],Li,yd],{dialogResult:[0,"dialogResult"]},null),(e()(),lu(9,0,null,null,0,"img",[["src","/cw/assets/img/icons/svg/call-end.svg"],["width","100%"]],null,null,null,null,null))],function(e,t){var n=t.component,i=n.themeSettings?e(t,3,0,n.themeSettings.dialogBtnColor,n.themeSettings.dialogBtnTextColor):"";e(t,2,0,i);var l=n.themeSettings?e(t,7,0,n.themeSettings.dialogSecondaryBtnColor,n.themeSettings.dialogSecondaryBtnTextColor):"";e(t,6,0,l),e(t,8,0,"")},function(e,t){e(t,5,0,Ou(t,8).ariaLabel||null)})}function ly(e){return Cs(0,[(e()(),lu(0,0,null,null,39,"div",[["class","clearfix p-24"]],null,null,null,null,null)),qu(1,278528,null,0,op,[er,Li,zi],{ngStyle:[0,"ngStyle"]},null),ms(2,{"background-color":0,color:1}),(e()(),lu(3,0,null,null,6,"div",[["class","avatar border-orange"]],null,null,null,null,null)),qu(4,278528,null,0,Xc,[Yo,er,Li,zi],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(e()(),lu(5,0,null,null,4,"a",[["class","no-pointer"]],null,null,null,null,null)),(e()(),lu(6,0,null,null,3,"span",[],null,null,null,null,null)),(e()(),ys(7,null,["",""])),Wu(0,cp,[]),gs(9,1),(e()(),lu(10,0,null,null,2,"div",[["class","callee"]],null,null,null,null,null)),(e()(),lu(11,0,null,null,1,"div",[["class","text-black fs-20 fw-8"]],null,null,null,null,null)),(e()(),ys(12,null,["",""])),(e()(),lu(13,0,null,null,10,"div",[["class","status"]],null,null,null,null,null)),(e()(),iu(16777216,null,null,1,null,Gv)),qu(15,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,qv)),qu(17,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,Wv)),qu(19,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,Jv)),qu(21,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,Kv)),qu(23,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),lu(24,0,null,null,4,"div",[["class","counter"]],null,null,null,null,null)),(e()(),iu(16777216,null,null,1,null,Qv)),qu(26,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,Xv)),qu(28,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,Yv)),qu(30,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,ey)),qu(32,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),lu(33,0,null,null,6,"div",[["class","buttons"]],null,null,null,null,null)),(e()(),iu(16777216,null,null,1,null,ty)),qu(35,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,ny)),qu(37,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,iy)),qu(39,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component,i=n.themeSettings?e(t,2,0,n.themeSettings.dialogBgColor,n.themeSettings.dialogTextColor):"";e(t,1,0,i),e(t,4,0,"avatar border-orange",n.callAccepted?"":"ringing"),e(t,15,0,n.callStart),e(t,17,0,n.callAccepted),e(t,19,0,n.callRejected),e(t,21,0,n.callSelfEnded||n.callEnd),e(t,23,0,n.alreadyOnCall),e(t,26,0,n.callAccepted||n.callSelfEnded||n.callEnd),e(t,28,0,n.callRejected),e(t,30,0,n.callSelfEnded||n.callEnd||n.callRejected||n.alreadyOnCall),e(t,32,0,n.callStart),e(t,35,0,n.callAccepted),e(t,37,0,n.callRejected),e(t,39,0,!n.callRejected&&!n.callEnd)},function(e,t){var n=t.component,i=n.session.agent.name?wr(t,7,0,e(t,9,0,Ou(t.parent,0),wr(t,7,0,Ou(t,8).transform(n.session.agent.name,0,1)))):"";e(t,7,0,i),e(t,12,0,n.session.agent.name)})}function oy(e){return Cs(0,[Wu(0,up,[]),Wu(0,fv,[]),as(402653184,1,{self_audio:0}),as(402653184,2,{remote_audio:0}),(e()(),iu(16777216,null,null,1,null,ly)),qu(5,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),lu(6,0,null,null,2,"div",[["class","clearfix"]],[[8,"hidden",0]],null,null,null,null)),(e()(),lu(7,0,[[1,0],["self_audio",1]],null,0,"audio",[["autoplay",""],["muted",""]],null,null,null,null,null)),(e()(),lu(8,0,[[2,0],["remote_audio",1]],null,0,"audio",[["autoplay",""]],null,null,null,null,null))],function(e,t){e(t,5,0,t.component.session.agent)},function(e,t){e(t,6,0,!t.component.callAccepted)})}function ry(e){return Cs(0,[(e()(),lu(0,0,null,null,1,"app-call-reciever",[],null,null,null,oy,Hv)),qu(1,245760,null,0,Uv,[mv,Zf,hd],null,null)],function(e,t){e(t,1,0)},null)}var uy=Su("app-call-reciever",Uv,ry,{},{},[]),sy=function(){function e(e,t,n){var i=this;this._callingService=e,this.dialogRef=t,this._appStateService=n,this.subscriptions=[],this._callingService.agentBusy.next(!1),this.subscriptions.push(this._appStateService.Settings.subscribe(function(e){e&&(i.themeSettings=e.dialogSettings)}))}return e.prototype.SvgChangeColor=function(e){var t=this.logo.nativeElement.contentDocument.getElementsByTagName("path").item(0);t&&t.setAttribute("fill",this.themeSettings.dialogLogoColor)},e.prototype.ngOnInit=function(){var e=this;setTimeout(function(){e.dialogRef.close()},3e3)},e.prototype.ngOnDestroy=function(){this.subscriptions.map(function(e){e.unsubscribe()})},e}(),ay=Er({encapsulation:0,styles:[[""]],data:{}});function cy(e){return Cs(0,[as(402653184,1,{logo:0}),(e()(),lu(1,0,null,null,9,"div",[["class","text-center clearfix p-24"]],null,null,null,null,null)),qu(2,278528,null,0,op,[er,Li,zi],{ngStyle:[0,"ngStyle"]},null),ms(3,{"background-color":0,color:1}),(e()(),lu(4,0,[[1,0],["logo",1]],null,0,"object",[["class","m-b-20"],["data","/cw/assets/img/icons/svg/chat-icon.svg"],["height","auto"],["id","logo"],["name","logo"],["type","image/svg+xml"],["width","80"]],null,[[null,"load"]],function(e,t,n){var i=!0;return"load"===t&&(i=!1!==e.component.SvgChangeColor(n)&&i),i},null,null)),(e()(),lu(5,0,null,null,1,"h6",[["class","title-with-border border-gray"]],null,null,null,null,null)),(e()(),ys(-1,null,["We're Sorry"])),(e()(),lu(7,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),ys(-1,null,["The Agent Is Alraedy On Call "])),(e()(),lu(9,0,null,null,0,"div",[["class","text-with-divider solid"]],null,null,null,null,null)),(e()(),lu(10,0,null,null,0,"br",[],null,null,null,null,null))],function(e,t){var n=t.component,i=n.themeSettings?e(t,3,0,n.themeSettings.dialogBgColor,n.themeSettings.dialogTextColor):"";e(t,2,0,i)},null)}function py(e){return Cs(0,[(e()(),lu(0,0,null,null,1,"app-call-status-dialog",[],null,null,null,cy,ay)),qu(1,245760,null,0,sy,[mv,hd,Zf],null,null)],function(e,t){e(t,1,0)},null)}var dy=Su("app-call-status-dialog",sy,py,{},{},[]),hy=Er({encapsulation:2,styles:[[".alertIcon{position:absolute;left:0;padding:15px;top:0;margin:0;background-color:var(--black-alpha2)}"]],data:{}});function fy(e){return Cs(0,[(e()(),lu(0,0,null,null,2,"i",[["class","alertIcon"]],null,null,null,null,null)),qu(1,278528,null,0,op,[er,Li,zi],{ngStyle:[0,"ngStyle"]},null),ms(2,{"background-color":0,color:1}),(e()(),lu(3,0,null,null,3,"p",[],null,null,null,null,null)),qu(4,278528,null,0,op,[er,Li,zi],{ngStyle:[0,"ngStyle"]},null),ms(5,{"background-color":0,color:1}),(e()(),ys(6,null,["",""])),(e()(),lu(7,0,null,null,2,"div",[["class","clear p-24"]],null,null,null,null,null)),qu(8,278528,null,0,op,[er,Li,zi],{ngStyle:[0,"ngStyle"]},null),ms(9,{"background-color":0,color:1})],function(e,t){var n=t.component,i=n.themeSettings?e(t,2,0,n.themeSettings.dialogBgColor,n.themeSettings.dialogTextColor):"";e(t,1,0,i);var l=n.themeSettings?e(t,5,0,n.themeSettings.dialogBgColor,n.themeSettings.dialogTextColor):"";e(t,4,0,l);var o=n.themeSettings?e(t,9,0,n.themeSettings.dialogBgColor,n.themeSettings.dialogTextColor):"";e(t,8,0,o)},function(e,t){e(t,6,0,t.component.msg)})}function gy(e){return Cs(0,[(e()(),lu(0,0,null,null,1,"app-call-notifications",[],null,null,null,fy,hy)),qu(1,49152,null,0,gv,[fd,Zf],null,null)],null,null)}var my=Su("app-call-notifications",gv,gy,{},{},[]),vy=function(){function e(e,t,n,i){var l=this;this._appStateService=e,this._dataService=t,this._socketService=n,this.dialogRef=i,this.subscriptions=[],this.session=void 0,this.workflow=void 0,this.checkboxfields=[],this.radiofields=[],this.radiolabel=[],this.checkboxlabel=[],this.alreadyOpened=!1,this.status=!1,this.greetingChatBotForm='<div class="text-center clearfix p-24" [ngStyle]="(themeSettings) ? { "background-color" : themeSettings.dialogBgColor , color : themeSettings.dialogTextColor } : {}"><object id="logo" name="logo" class="m-b-20" width="80" height="auto" type="image/svg+xml" data="/cw/assets/img/icons/svg/chat-icon.svg" width="80" ></object> <h6 class="title-with-border border-gray">Hello!</h6><button id="greetBtn" type="button"  class="btn btn-block">Get Started</button></div>',this.subscriptions.push(this._socketService.GetStatus().subscribe(function(e){e&&(l.status=e)})),this.subscriptions.push(this._appStateService.Session.subscribe(function(e){if(e&&(l.session=e,l.status&&(6==l.session.state||8==l.session.state)&&!l.alreadyOpened)){l.session.workflow||(l.session.workflow=JSON.parse(l._appStateService.GetStorage("workFlow")));for(var t=(new DOMParser).parseFromString(l.session.workflow,"text/html"),n=t.getElementsByTagName("input"),i=(t.getElementsByTagName("button"),0);i<n.length&&i!=n.length-1;i++)l.submitBtn=n[i+1],"radio"==n[i].type&&(l.radiofields.push(n[i]),l.radiolabel.push(n[i].nextSibling.firstChild)),"checkbox"==n[i].type&&(l.checkboxfields.push(n[i]),l.checkboxlabel.push(n[i].nextSibling.firstChild));l.alreadyOpened=!0}})),this.subscriptions.push(this._appStateService.Settings.subscribe(function(e){e&&(l.themeSettings=e.dialogSettings)}))}return e.prototype.ngOnInit=function(){},e.prototype.BindGreeting=function(){var e=this;return new _(function(t){e.newChatBotGreetMsg.nativeElement.innerHTML=e.greetingChatBotForm,t.next(!0),t.complete()})},e.prototype.SvgChangeColoForNativeElement=function(e){var t=this.logo.nativeElement.contentDocument.getElementsByTagName("path").item(0);t&&t.setAttribute("fill",this.themeSettings?this.themeSettings.dialogLogoColor:"#F15C24FF")},e.prototype.ngOnDestroy=function(){this.subscriptions.map(function(e){e.unsubscribe()})},e.prototype.Submit=function(){var e,t=this;e=this.radioSelected?this.radioSelected?this.radioSelected:"":this.checkboxSelected?this.checkboxSelected:"",this.workflowHtml.nativeElement="",this.botGreetMsg.nativeElement="",this._dataService.WorkFlowInput(e).subscribe(function(e){e&&(t.dialogRef.close(e),t._appStateService.RemoveStorage("workFlow"),t._appStateService.RemoveStorage("msg"),setTimeout(function(){t.alreadyOpened=!1},0))},function(n){t.dialogRef.close(e),t.alreadyOpened=!1})},e.prototype.StartChatWithBot=function(){this.dialogRef.close({status:"chatBot"})},e}(),yy=Er({encapsulation:2,styles:[["#workflow_form{max-height:120px}.workflow-scroll{margin-bottom:20px}.pretty.p-default input:checked~.state label:after{background-color:#ff681f!important;display:block}.radio-main input:last-child{margin-bottom:0!important}"]],data:{}});function by(e){return Cs(0,[(e()(),lu(0,0,[[2,0],["botMessage",1]],null,1,"h6",[["class","title-with-border border-gray"]],null,null,null,null,null)),(e()(),ys(1,null,[" ",""]))],null,function(e,t){e(t,1,0,t.component.session.msg[0].body)})}function Dy(e){return Cs(0,[(e()(),lu(0,0,null,null,1,"label",[["class","checkbox"]],null,null,null,null,null)),(e()(),ys(1,null,["",""]))],null,function(e,t){e(t,1,0,t.component.checkboxlabel[t.parent.context.index].innerHTML)})}function Cy(e){return Cs(0,[(e()(),lu(0,0,null,null,9,"div",[["class","pretty p-default clearfix m-t-b-11 radio-main"]],null,null,null,null,null)),(e()(),lu(1,0,null,null,5,"input",[["name","workflow-checkbox"],["type","checkbox"]],[[8,"id",0],[8,"value",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(e,t,n){var i=!0,l=e.component;return"change"===t&&(i=!1!==Ou(e,2).onChange(n.target.checked)&&i),"blur"===t&&(i=!1!==Ou(e,2).onTouched()&&i),"ngModelChange"===t&&(i=!1!==(l.checkboxSelected=n)&&i),i},null,null)),qu(2,16384,null,0,Yh,[zi,Li],null,null),Ju(1024,null,Xh,function(e){return[e]},[Yh]),qu(4,671744,null,0,Hf,[[2,zh],[8,null],[8,null],[6,Xh]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),Ju(2048,null,uf,null,[Hf]),qu(6,16384,null,0,kf,[[4,uf]],null,null),(e()(),lu(7,0,null,null,2,"div",[["class","state"]],null,null,null,null,null)),(e()(),iu(16777216,null,null,1,null,Dy)),qu(9,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component;e(t,4,0,"workflow-checkbox",n.checkboxSelected),e(t,9,0,n.checkboxlabel&&n.checkboxlabel.length)},function(e,t){e(t,1,0,eu(1,"workflow-",t.context.$implicit.name,""),eu(1,"",t.context.$implicit.value,""),Ou(t,6).ngClassUntouched,Ou(t,6).ngClassTouched,Ou(t,6).ngClassPristine,Ou(t,6).ngClassDirty,Ou(t,6).ngClassValid,Ou(t,6).ngClassInvalid,Ou(t,6).ngClassPending)})}function Sy(e){return Cs(0,[(e()(),lu(0,0,null,null,2,"div",[["class","full-width"]],null,null,null,null,null)),(e()(),iu(16777216,null,null,1,null,Cy)),qu(2,278528,null,0,ep,[Oo,Al,Yo],{ngForOf:[0,"ngForOf"]},null)],function(e,t){e(t,2,0,t.component.checkboxfields)},null)}function _y(e){return Cs(0,[(e()(),lu(0,0,null,null,1,"label",[["class","radio"]],null,null,null,null,null)),(e()(),ys(1,null,["",""]))],null,function(e,t){e(t,1,0,t.component.radiolabel[t.parent.context.index].innerHTML)})}function wy(e){return Cs(0,[(e()(),lu(0,0,null,null,10,"div",[["class","pretty p-default p-round m-t-b-11 radio-main"]],null,null,null,null,null)),(e()(),lu(1,0,null,null,6,"input",[["name","workflow-radioBtn"],["type","radio"]],[[8,"id",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(e,t,n){var i=!0,l=e.component;return"input"===t&&(i=!1!==Ou(e,2)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==Ou(e,2).onTouched()&&i),"compositionstart"===t&&(i=!1!==Ou(e,2)._compositionStart()&&i),"compositionend"===t&&(i=!1!==Ou(e,2)._compositionEnd(n.target.value)&&i),"change"===t&&(i=!1!==Ou(e,3).onChange()&&i),"blur"===t&&(i=!1!==Ou(e,3).onTouched()&&i),"ngModelChange"===t&&(i=!1!==(l.radioSelected=n)&&i),i},null,null)),qu(2,16384,null,0,tf,[zi,Li,[2,ef]],null,null),qu(3,212992,null,0,af,[zi,Li,sf,ti],{name:[0,"name"],value:[1,"value"]},null),Ju(1024,null,Xh,function(e,t){return[e,t]},[tf,af]),qu(5,671744,null,0,Hf,[[2,zh],[8,null],[8,null],[6,Xh]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),Ju(2048,null,uf,null,[Hf]),qu(7,16384,null,0,kf,[[4,uf]],null,null),(e()(),lu(8,0,null,null,2,"div",[["class","state"]],null,null,null,null,null)),(e()(),iu(16777216,null,null,1,null,_y)),qu(10,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component;e(t,3,0,"workflow-radioBtn",eu(1,"",t.context.$implicit.value,"")),e(t,5,0,"workflow-radioBtn",n.radioSelected),e(t,10,0,n.radiolabel&&n.radiolabel.length)},function(e,t){e(t,1,0,eu(1,"workflow-",t.context.$implicit.name,""),Ou(t,7).ngClassUntouched,Ou(t,7).ngClassTouched,Ou(t,7).ngClassPristine,Ou(t,7).ngClassDirty,Ou(t,7).ngClassValid,Ou(t,7).ngClassInvalid,Ou(t,7).ngClassPending)})}function xy(e){return Cs(0,[(e()(),lu(0,0,null,null,2,"div",[["class","full-width"]],null,null,null,null,null)),(e()(),iu(16777216,null,null,1,null,wy)),qu(2,278528,null,0,ep,[Oo,Al,Yo],{ngForOf:[0,"ngForOf"]},null)],function(e,t){e(t,2,0,t.component.radiofields)},null)}function Fy(e){return Cs(0,[(e()(),lu(0,0,null,null,4,"button",[["class","btn btn-md btn-block m-t-10"],["id","workflow-submit"]],null,[[null,"click"]],function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.Submit()&&i),i},null,null)),qu(1,278528,null,0,op,[er,Li,zi],{ngStyle:[0,"ngStyle"]},null),ms(2,{"background-color":0,color:1}),(e()(),lu(3,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),ys(4,null,["",""]))],function(e,t){var n=t.component,i=n.themeSettings?e(t,2,0,n.themeSettings.dialogBtnColor,n.themeSettings.dialogBtnTextColor):"";e(t,1,0,i)},function(e,t){e(t,4,0,t.component.submitBtn.value)})}function Ey(e){return Cs(0,[(e()(),lu(0,0,null,null,13,"div",[],null,null,null,null,null)),(e()(),lu(1,0,null,null,9,"div",[["class","workflow-scroll"]],null,null,null,null,null)),(e()(),lu(2,0,[[1,0],["workflow_Html",1]],null,8,"form",[["id","workflow_form"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(e,t,n){var i=!0;return"submit"===t&&(i=!1!==Ou(e,4).onSubmit(n)&&i),"reset"===t&&(i=!1!==Ou(e,4).onReset()&&i),i},null,null)),qu(3,16384,null,0,Gf,[],null,null),qu(4,4210688,null,0,Nf,[[8,null],[8,null]],null,null),Ju(2048,null,zh,null,[Nf]),qu(6,16384,null,0,Af,[[4,zh]],null,null),(e()(),iu(16777216,null,null,1,null,Sy)),qu(8,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,xy)),qu(10,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),lu(11,0,null,null,2,"div",[["class","full-width"]],null,null,null,null,null)),(e()(),iu(16777216,null,null,1,null,Fy)),qu(13,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component;e(t,8,0,n.checkboxfields&&n.checkboxfields.length),e(t,10,0,n.radiofields&&n.radiofields.length),e(t,13,0,n.submitBtn)},function(e,t){e(t,2,0,Ou(t,6).ngClassUntouched,Ou(t,6).ngClassTouched,Ou(t,6).ngClassPristine,Ou(t,6).ngClassDirty,Ou(t,6).ngClassValid,Ou(t,6).ngClassInvalid,Ou(t,6).ngClassPending)})}function ky(e){return Cs(0,[(e()(),lu(0,0,null,null,4,"div",[],null,null,null,null,null)),(e()(),iu(16777216,null,null,1,null,by)),qu(2,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,Ey)),qu(4,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component;e(t,2,0,n.session.msg[0].body&&""!=n.session.msg[0].body&&"Agents"==n.session.msg[0].type),e(t,4,0,n.session.workflow&&""==!n.session.workflow)},null)}function Ay(e){return Cs(0,[(e()(),lu(0,0,[[3,0],["chatBotGreet",1]],null,11,"div",[],null,null,null,null,null)),(e()(),lu(1,0,null,null,10,"div",[["class","text-center clearfix p-24"]],null,null,null,null,null)),qu(2,278528,null,0,op,[er,Li,zi],{ngStyle:[0,"ngStyle"]},null),ms(3,{"background-color":0,color:1}),(e()(),lu(4,0,[[4,0],["logo",1]],null,0,"object",[["class","m-b-20"],["data","/cw/assets/img/icons/svg/chat-icon.svg"],["height","auto"],["id","logo"],["name","logo"],["type","image/svg+xml"],["width","80"]],null,[[null,"load"]],function(e,t,n){var i=!0;return"load"===t&&(i=!1!==e.component.SvgChangeColoForNativeElement(n)&&i),i},null,null)),(e()(),lu(5,0,null,null,1,"h6",[["class","title-with-border border-gray"]],null,null,null,null,null)),(e()(),ys(-1,null,["Hello"])),(e()(),lu(7,0,null,null,4,"button",[["class","btn"],["id","greetBtn"],["type","button"]],null,[[null,"click"]],function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.StartChatWithBot()&&i),i},null,null)),qu(8,278528,null,0,op,[er,Li,zi],{ngStyle:[0,"ngStyle"]},null),ms(9,{"background-color":0,color:1}),(e()(),lu(10,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),ys(-1,null,["Get Started"]))],function(e,t){var n=t.component,i=n.themeSettings?e(t,3,0,n.themeSettings.dialogBgColor,n.themeSettings.dialogTextColor):nu;e(t,2,0,i);var l=n.themeSettings?e(t,9,0,n.themeSettings.btnColor,n.themeSettings.btnTextcolor):"";e(t,8,0,l)},null)}function Ty(e){return Cs(0,[(e()(),lu(0,0,null,null,6,"div",[["class","clearfix p-24"]],null,null,null,null,null)),qu(1,278528,null,0,op,[er,Li,zi],{ngStyle:[0,"ngStyle"]},null),ms(2,{"background-color":0,color:1}),(e()(),iu(16777216,null,null,1,null,ky)),qu(4,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,Ay)),qu(6,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component,i=n.themeSettings?e(t,2,0,n.themeSettings.dialogBgColor,n.themeSettings.dialogTextColor):"";e(t,1,0,i),e(t,4,0,n.session.msg&&n.session.msg.length&&6==n.session.state),e(t,6,0,8==n.session.state)},null)}function Iy(e){return Cs(0,[as(671088640,1,{workflowHtml:0}),as(671088640,2,{botGreetMsg:0}),as(671088640,3,{newChatBotGreetMsg:0}),as(671088640,4,{logo:0}),(e()(),iu(16777216,null,null,1,null,Ty)),qu(5,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null)],function(e,t){e(t,5,0,t.component.session)},null)}function By(e){return Cs(0,[(e()(),lu(0,0,null,null,1,"app-chat-bot-window",[],null,null,null,Iy,yy)),qu(1,245760,null,0,vy,[Zf,tg,eg,hd],null,null)],function(e,t){e(t,1,0)},null)}var Oy=Su("app-chat-bot-window",vy,By,{},{},[]),Ry=function(){function e(e,t,n,i,l){var o=this;this._postMessageService=e,this._appService=t,this._dataService=n,this.dialogRef=i,this.dialog=l,this.subscriptions=[],this.restarting=!1,this.themeSettings=void 0,this.chatInitiated=!1,this.subscriptions.push(this._postMessageService.helpWindow.subscribe(function(e){e&&(o.helpWindow=e)})),this.subscriptions.push(this._dataService.helpChatInitiated.subscribe(function(e){e&&(o.chatInitiated=e,1==o._dataService.Session.state?o.OpenChat(e):o.dialogRef.close({status:"ok"}))})),this.subscriptions.push(this._appService.Settings.subscribe(function(e){e&&(o.themeSettings=e.dialogSettings)}))}return e.prototype.ngOnInit=function(){},e.prototype.SvgChangeColor=function(e){var t=this.logo.nativeElement.contentDocument.getElementsByTagName("path").item(0);t&&t.setAttribute("fill",this.themeSettings?this.themeSettings.dialogLogoColor:"#F15C24FF")},e.prototype.ngOnDestroy=function(){this.subscriptions.map(function(e){e.unsubscribe()})},e.prototype.OpenChat=function(e){var t=this;this._dataService.UserInformation(e).subscribe(function(e){t.dialogRef.close({status:"ok"}),e||t.dialog.open(ng,{disableClose:!0,autoFocus:!0,panelClass:["dialog-inner"]}).afterClosed().subscribe(function(e){e&&"Yes"==e.status&&t.dialog.open(lg,{panelClass:["dialog-inner"],disableClose:!0,autoFocus:!0}).afterClosed().subscribe(function(e){e&&"chat"==e.result&&t._dataService.viewMode.next("message-window")})},function(e){})})},e}(),My=Er({encapsulation:0,styles:[[""]],data:{}});function Py(e){return Cs(0,[(e()(),lu(0,0,null,null,5,"div",[["class","text-center clearfix p-24"]],null,null,null,null,null)),qu(1,278528,null,0,op,[er,Li,zi],{ngStyle:[0,"ngStyle"]},null),ms(2,{"background-color":0,color:1}),(e()(),lu(3,0,[[1,0],["logo",1]],null,0,"object",[["class","m-b-20"],["data","/cw/assets/img/icons/svg/chat-icon.svg"],["height","auto"],["id","logo"],["name","logo"],["type","image/svg+xml"],["width","80"]],null,[[null,"load"]],function(e,t,n){var i=!0;return"load"===t&&(i=!1!==e.component.SvgChangeColor(n)&&i),i},null,null)),(e()(),lu(4,0,null,null,1,"h6",[["class","title-with-border border-gray"]],null,null,null,null,null)),(e()(),ys(-1,null,["Initiating Chat, Please Wait..."]))],function(e,t){var n=t.component,i=n.themeSettings?e(t,2,0,n.themeSettings.dialogBgColor,n.themeSettings.dialogTextColor):"";e(t,1,0,i)},null)}function jy(e){return Cs(0,[as(671088640,1,{logo:0}),(e()(),iu(16777216,null,null,1,null,Py)),qu(2,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null)],function(e,t){e(t,2,0,!t.component.chatInitiated)},null)}function Ny(e){return Cs(0,[(e()(),lu(0,0,null,null,1,"app-chat-load",[],null,null,null,jy,My)),qu(1,245760,null,0,Ry,[Ra,Zf,tg,hd,yd],null,null)],function(e,t){e(t,1,0)},null)}var Ly=Su("app-chat-load",Ry,Ny,{},{},[]),Vy=function(){function e(e,t,n,i,l,o){var r=this;this._socketService=e,this._appService=t,this.dialogRef=n,this.dialog=i,this._postMessageService=l,this._dataService=o,this.serverDisconnect=!0,this.restarting=!1,this.subscriptions=[],this.themeSettings=void 0,this.sessionResetStatus=!1,this.banned=!1,this.loading=!1,this.endChat=!1,this.subscriptions.push(this._appService.endChat.subscribe(function(e){r.endChat=e})),this.subscriptions.push(this._socketService.GetDisconnectionStatus().subscribe(function(e){r._dataService.loading.next(!1),e||r.socket.disconnected||r.endChat||(r.serverDisconnect=!1,r.restarting=!1,r._dataService.restartingApp.next(!1),setTimeout(function(){r.dialogRef.close(),r._dataService.GetDisconnectedTime()},500))})),this.subscriptions.push(this._socketService.GetSocketInstance().subscribe(function(e){e&&(r.socket=e)})),this.subscriptions.push(this._dataService.banned.subscribe(function(e){r.banned=e})),this.subscriptions.push(this._postMessageService.Load.subscribe(function(e){e&&e.session&&setTimeout(function(){r.restarting=!1,r._dataService.loading.getValue()&&r._dataService.loading.next(!1),r.sessionResetStatus=!1,r.serverDisconnect=!1,r._dataService.restartingApp.next(!1),r.dialogRef&&r.dialogRef.close()},500)})),this.subscriptions.push(this._appService.Settings.subscribe(function(e){e&&(r.settings=e,r.themeSettings=e.dialogSettings)})),this.subscriptions.push(this._appService.Session.subscribe(function(e){r.Session=e})),this.subscriptions.push(this._postMessageService.sessionResetStatus.subscribe(function(e){r.serverDisconnect&&(r.sessionResetStatus||(r.sessionResetStatus=!0,setTimeout(function(){r.sessionResetStatus=!1,r.restarting=!1},500)))}))}return e.prototype.ngOnInit=function(){},e.prototype.SvgChangeColor=function(e){var t=this.logo.nativeElement.contentDocument.getElementsByTagName("path").item(0);t&&t.setAttribute("fill",this.themeSettings?this.themeSettings.dialogLogoColor:"#F15C24FF")},e.prototype.StartAgain=function(e){if(!this.loading){this.loading=!0,this.Session&&this._dataService.EndChatOnDisconnect(),this.restarting=!0,this._dataService.restartingApp.next(!0);var t={};this.Session&&(this.Session.username&&-1!=this.Session.username.indexOf("Guest")?t={}:(t.username=this.Session.username,t.useremail=this.Session.email)),this.loading=!1,this._postMessageService.SendMessage("restartChat",t,"*"),this._dataService.ViewingChatHistory.next(!1)}},e}(),$y=Er({encapsulation:2,styles:[[""]],data:{}});function Uy(e){return Cs(0,[(e()(),lu(0,0,null,null,1,"h6",[["class","title-with-border border-gray"]],null,null,null,null,null)),(e()(),ys(-1,null,["Your Session is Disconnected..."]))],null,null)}function Hy(e){return Cs(0,[(e()(),lu(0,0,null,null,1,"h6",[["class","title-with-border border-gray"]],null,null,null,null,null)),(e()(),ys(-1,null,["Cannot Connect. Please Try a Few Moments Later"]))],null,null)}function zy(e){return Cs(0,[(e()(),lu(0,0,null,null,1,"h6",[["class","title-with-border border-gray"]],null,null,null,null,null)),(e()(),ys(-1,null,[" Connecting"]))],null,null)}function Gy(e){return Cs(0,[(e()(),lu(0,0,null,null,6,"div",[["class","flex_btns"]],null,null,null,null,null)),(e()(),lu(1,0,null,null,5,"button",[["class","btn"],["type","button"]],null,[[null,"click"]],function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.StartAgain()&&i),i},null,null)),qu(2,278528,null,0,Xc,[Yo,er,Li,zi],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),qu(3,278528,null,0,op,[er,Li,zi],{ngStyle:[0,"ngStyle"]},null),ms(4,{"background-color":0,color:1}),(e()(),lu(5,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),ys(6,null,["",""]))],function(e,t){var n=t.component;e(t,2,0,"btn",n.loading?"btnSpinner":"");var i=n.themeSettings?e(t,4,0,n.themeSettings.dialogSecondaryBtnColor,n.themeSettings.btnTextcolor):"";e(t,3,0,i)},function(e,t){e(t,6,0,t.component.settings.reinitiateDialogue.btnText)})}function qy(e){return Cs(0,[(e()(),lu(0,0,null,null,11,"div",[["class","text-center clearfix p-24"]],null,null,null,null,null)),qu(1,278528,null,0,op,[er,Li,zi],{ngStyle:[0,"ngStyle"]},null),ms(2,{"background-color":0,color:1}),(e()(),lu(3,0,[[1,0],["logo",1]],null,0,"object",[["class","m-b-20"],["data","/cw/assets/img/icons/svg/chat-icon.svg"],["height","auto"],["id","logo"],["name","logo"],["type","image/svg+xml"],["width","80"]],null,[[null,"load"]],function(e,t,n){var i=!0;return"load"===t&&(i=!1!==e.component.SvgChangeColor(n)&&i),i},null,null)),(e()(),iu(16777216,null,null,1,null,Uy)),qu(5,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,Hy)),qu(7,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,zy)),qu(9,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,Gy)),qu(11,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component,i=n.themeSettings?e(t,2,0,n.themeSettings.dialogBgColor,n.themeSettings.dialogTextColor):"";e(t,1,0,i),e(t,5,0,!n.restarting&&!n.sessionResetStatus),e(t,7,0,n.restarting&&n.sessionResetStatus),e(t,9,0,n.restarting&&!n.sessionResetStatus),e(t,11,0,!n.restarting&&!n.sessionResetStatus&&!n.banned)},null)}function Wy(e){return Cs(0,[(e()(),lu(0,0,null,null,1,"h6",[["class","title-with-border border-gray"]],null,null,null,null,null)),(e()(),ys(-1,null,[" Connected..."]))],null,null)}function Jy(e){return Cs(0,[(e()(),lu(0,0,null,null,5,"div",[["class","text-center clearfix p-24"]],null,null,null,null,null)),qu(1,278528,null,0,op,[er,Li,zi],{ngStyle:[0,"ngStyle"]},null),ms(2,{"background-color":0,color:1}),(e()(),lu(3,0,[[1,0],["logo",1]],null,0,"object",[["class","m-b-20"],["data","/cw/assets/img/icons/svg/chat-icon.svg"],["height","auto"],["id","logo"],["name","logo"],["type","image/svg+xml"],["width","80"]],null,[[null,"load"]],function(e,t,n){var i=!0;return"load"===t&&(i=!1!==e.component.SvgChangeColor(n)&&i),i},null,null)),(e()(),iu(16777216,null,null,1,null,Wy)),qu(5,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component,i=n.themeSettings?e(t,2,0,n.themeSettings.dialogBgColor,n.themeSettings.dialogTextColor):"";e(t,1,0,i),e(t,5,0,!n.serverDisconnect&&n.Session)},null)}function Ky(e){return Cs(0,[as(671088640,1,{logo:0}),(e()(),iu(16777216,null,null,1,null,qy)),qu(2,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,Jy)),qu(4,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component;e(t,2,0,n.serverDisconnect),e(t,4,0,!n.serverDisconnect)},null)}function Qy(e){return Cs(0,[(e()(),lu(0,0,null,null,1,"app-sv-disconnect",[],null,null,null,Ky,$y)),qu(1,114688,null,0,Vy,[eg,Zf,hd,yd,Ra,tg],null,null)],function(e,t){e(t,1,0)},null)}var Zy=Su("app-sv-disconnect",Vy,Qy,{},{},[]),Xy=function(){function e(e,t,n,i,l){var o=this;this._appService=e,this._restService=t,this._dataService=n,this.dialogRef=i,this.data=l,this.formData={},this.inputFields={},this.dataList={},this.errorFields=[],this.subscriptions=[],this.formSubmitted=!1,this.validForm=!1,this.requestError=!1,this.loading=!1,this.regex={email:/^[_a-z0-9]+(\.[_a-z0-9]+)*@[a-z0-9-]+(\.[a-z0-9-]+)*(\.[a-z]{2,4})$/,tel:/^[0-9+\-()\s]+$/,number:/^[0-9]+$/,httpRegex:/(http:\/\/)/,httpsRegex:/(https:\/\/)/,url:/^(https?):\/\/(-\.)?([^\s\/?\.#-]+\.?)+(\/[^\s]*)?$/i,numberRangeRegex:/^[0-9]+-[0-9]+$/,infiniteNumberRangeRegex:/^[0-9]+\+$/},this.form=this.data.form,this.subscriptions.push(this._appService.Session.subscribe(function(e){o.Session=e})),this.subscriptions.push(this._dataService.restartingApp.subscribe(function(e){e&&o.dialogRef.close()})),this.subscriptions.push(this._dataService.closeActionForm.subscribe(function(e){o.dialogRef.close()})),this.subscriptions.push(this._appService.Settings.subscribe(function(e){e&&(o.settings=e,o.themeSettings=e.dialogSettings)}))}return e.prototype.ngOnInit=function(){},e.prototype.ResetForm=function(e){var t=this;return new _(function(e){Array.from(t.inputFields).length&&Array.from(t.inputFields).map(function(e){var t=document.getElementById("error-"+e.id),n=document.getElementById("errorValid-"+e.id);t&&(e.classList.remove("text-red"),t.classList.remove("show"),t.classList.add("hide")),n&&(e.classList.remove("text-red"),n.classList.remove("show"),n.classList.add("hide"))}),e.next(!0),e.complete()})},e.prototype.Submit=function(){var e=this;try{if(this.ResetForm(this.formNativeElement.nativeElement).subscribe(function(t){t&&(e.dataList={},e.errorFields=[],e.inputFields=[])}),this.inputFields=[],new RegExp("input"),this.inputFields=this.formNativeElement.nativeElement.querySelectorAll('[id^="input-"]'),this.inputFields.length&&Array.from(this.inputFields).map(function(t){if(t.id){if("checkbox"==t.type&&t.checked)e.dataList[t.id]=t.value;else if("radio"==t.type)for(var n=document.getElementsByName(t.id),i=0;i<n.length;i++)n[i].checked&&(e.dataList[t.id]=n[i].value);else e.dataList[t.id]=t.options&&t.options.length?t.options[t.selectedIndex].value:!t.value||"text"!=t.type&&"email"!=t.type&&"password"!=t.type?"":t.value;if(t.value&&e.regex.hasOwnProperty(t.type)&&!new RegExp(e.regex[t.type]).test(e.dataList[t.id])){e.dataList[t.id]="";var l=document.getElementById("errorValid-"+t.id);l&&(t.classList.add("text-red"),l.classList.remove("hide"),l.classList.add("show"),-1===e.errorFields.indexOf(t.id)&&e.errorFields.push(t.id))}if(!e.dataList[t.id]){var o=document.getElementById("error-"+t.id);o&&(t.classList.add("text-red"),o.classList.remove("hide"),o.classList.add("show"),-1===e.errorFields.indexOf(t.id)&&e.errorFields.push(t.id))}}else new Error("Construction Error: input field does not have ID")}),this.dataList.form=this.form?this.form:"",this.dataList.nsp=this.Session.nsp?this.Session.nsp:"",this.dataList.csid=this.Session._id?this.Session._id:"",this.form&&this.form.formFields.map(function(t){t.submittedData=e.dataList[t.id]}),this.errorFields.length)return;this.validForm=!0,this.SendCannedForm().subscribe(function(t){t&&(e.loading=!1,setTimeout(function(){e.dialogRef.close({status:e.requestError?"failed":"ok",form:e.form,message:t.message})},2e3))},function(t){e.requestError=!0,setTimeout(function(){e.dialogRef.close({status:e.requestError?"failed":"ok",form:e.form})},2e3)})}catch(t){}},e.prototype.SendCannedForm=function(){var e=this;return this.formSubmitted=!0,this.loading=!0,new _(function(t){var n=new RegExp(e.regex.url).test(e.form.actionUrl);try{n?e._restService.SendXMLHttpRequest(e.form.actionUrl,"POST",JSON.stringify(e.dataList),!1,!0,[{name:"Content-Type",value:"application/json"}]).subscribe(function(e){var n=JSON.parse(e);n&&"success"==n.status?(t.next(n),t.complete()):t.error(e)},function(e){t.error(e)}):t.error({error:"error"})}catch(i){t.error({error:"error"})}})},e.prototype.TogglePasswordVisibility=function(e,t){var n=document.getElementById(t);n.type="password"===n.type?"text":"password"},e.prototype.Close=function(){this.dialogRef.close({status:"closed"})},e.prototype.SvgChangeColor=function(e){this.logo.nativeElement.contentDocument.getElementsByTagName("path").item(0).setAttribute("fill",this.themeSettings?this.themeSettings.dialogLogoColor:"#F15C24FF")},e}(),Yy=Er({encapsulation:2,styles:[[""]],data:{}});function eb(e){return Cs(0,[(e()(),lu(0,0,null,null,8,"div",[["class","input-group-addon"]],null,null,null,null,null)),(e()(),lu(1,0,null,null,7,"div",[["class","pretty p-svg p-toggle m-0"]],null,[[null,"click"]],function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.TogglePasswordVisibility(n,e.parent.parent.context.$implicit.id)&&i),i},null,null)),(e()(),lu(2,0,null,null,0,"input",[["type","checkbox"]],null,null,null,null,null)),(e()(),lu(3,0,null,null,2,"div",[["class","state p-success-o p-on"]],null,null,null,null,null)),(e()(),lu(4,0,null,null,0,"img",[["class","svg"],["src","/cw/assets/img/icons/svg/show-black.svg"],["width","15"]],null,null,null,null,null)),(e()(),lu(5,0,null,null,0,"label",[["class","b-0"]],null,null,null,null,null)),(e()(),lu(6,0,null,null,2,"div",[["class","state p-black-o p-off"]],null,null,null,null,null)),(e()(),lu(7,0,null,null,0,"img",[["class","svg"],["src","/cw/assets/img/icons/svg/hide-black.svg"],["width","15"]],null,null,null,null,null)),(e()(),lu(8,0,null,null,0,"label",[["class","b-0"]],null,null,null,null,null))],null,null)}function tb(e){return Cs(0,[(e()(),lu(0,0,null,null,6,"div",[["class","input-block"]],null,null,null,null,null)),(e()(),lu(1,0,null,null,1,"label",[],null,null,null,null,null)),(e()(),ys(2,null,[" ","",""])),(e()(),lu(3,0,null,null,3,"div",[["class","input-group"]],null,null,null,null,null)),(e()(),lu(4,0,null,null,0,"input",[["class","form-control"]],[[8,"id",0],[8,"name",0],[8,"placeholder",0],[8,"type",0],[8,"value",0]],null,null,null,null)),(e()(),iu(16777216,null,null,1,null,eb)),qu(6,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null)],function(e,t){e(t,6,0,"password"==t.parent.context.$implicit.type)},function(e,t){e(t,2,0,t.parent.context.$implicit.label,t.parent.context.$implicit.validation?"*":""),e(t,4,0,eu(1,"",t.parent.context.$implicit.id,""),eu(1,"",t.parent.context.$implicit.id,""),eu(1,"",t.parent.context.$implicit.placeholder,""),eu(1,"",t.parent.context.$implicit.type,""),eu(1,"",t.parent.context.$implicit.submittedData,""))})}function nb(e){return Cs(0,[(e()(),lu(0,0,null,null,4,"div",[["class","pretty p-default p-round"]],null,null,null,null,null)),(e()(),lu(1,0,null,null,0,"input",[],[[8,"id",0],[8,"checked",0],[8,"type",0],[8,"value",0],[8,"name",0]],null,null,null,null)),(e()(),lu(2,0,null,null,2,"div",[["class","state"]],null,null,null,null,null)),(e()(),lu(3,0,null,null,1,"label",[],null,null,null,null,null)),(e()(),ys(4,null,["",""]))],null,function(e,t){e(t,1,0,eu(1,"",t.parent.parent.context.$implicit.id,""),t.parent.parent.context.$implicit.submittedData,eu(1,"",t.parent.parent.context.$implicit.type,""),eu(1,"",t.context.$implicit.key,""),eu(1,"",t.parent.parent.context.$implicit.id,"")),e(t,4,0,t.context.$implicit.value)})}function ib(e){return Cs(0,[(e()(),lu(0,0,null,null,4,"div",[["class","input-block"]],null,null,null,null,null)),(e()(),lu(1,0,null,null,1,"label",[],null,null,null,null,null)),(e()(),ys(2,null,[" ","",""])),(e()(),iu(16777216,null,null,1,null,nb)),qu(4,278528,null,0,ep,[Oo,Al,Yo],{ngForOf:[0,"ngForOf"]},null)],function(e,t){e(t,4,0,t.parent.context.$implicit.options)},function(e,t){e(t,2,0,t.parent.context.$implicit.label,t.parent.context.$implicit.validation?"*":"")})}function lb(e){return Cs(0,[(e()(),lu(0,0,null,null,7,"div",[["class","input-block"]],null,null,null,null,null)),(e()(),lu(1,0,null,null,1,"label",[],null,null,null,null,null)),(e()(),ys(2,null,[" ","",""])),(e()(),lu(3,0,null,null,4,"div",[["class","pretty p-default p-round"]],null,null,null,null,null)),(e()(),lu(4,0,null,null,0,"input",[["class","form-control"]],[[8,"id",0],[8,"checked",0],[8,"type",0],[8,"value",0]],null,null,null,null)),(e()(),lu(5,0,null,null,2,"div",[["class","state"]],null,null,null,null,null)),(e()(),lu(6,0,null,null,1,"label",[],null,null,null,null,null)),(e()(),ys(7,null,["",""]))],null,function(e,t){e(t,2,0,t.parent.context.$implicit.label,t.parent.context.$implicit.validation?"*":""),e(t,4,0,eu(1,"",t.parent.context.$implicit.id,""),t.parent.context.$implicit.submittedData,eu(1,"",t.parent.context.$implicit.type,""),eu(1,"",t.parent.context.$implicit.value[0],"")),e(t,7,0,t.parent.context.$implicit.value[0])})}function ob(e){return Cs(0,[(e()(),lu(0,0,null,null,3,"option",[["disabled","true"]],[[8,"selected",0]],null,null,null,null)),qu(1,147456,null,0,gf,[Li,zi,[8,null]],{value:[0,"value"]},null),qu(2,147456,null,0,yf,[Li,zi,[8,null]],{value:[0,"value"]},null),(e()(),ys(3,null,[" "," "]))],function(e,t){e(t,1,0,eu(1,"",t.parent.parent.context.$implicit.submittedData,"")),e(t,2,0,eu(1,"",t.parent.parent.context.$implicit.submittedData,""))},function(e,t){e(t,0,0,t.parent.parent.context.$implicit.submittedData),e(t,3,0,t.parent.parent.context.$implicit.submittedData)})}function rb(e){return Cs(0,[(e()(),lu(0,0,null,null,3,"option",[],null,null,null,null,null)),qu(1,147456,null,0,gf,[Li,zi,[8,null]],{value:[0,"value"]},null),qu(2,147456,null,0,yf,[Li,zi,[8,null]],{value:[0,"value"]},null),(e()(),ys(3,null,[" "," "]))],function(e,t){e(t,1,0,eu(1,"",t.context.$implicit.key,"")),e(t,2,0,eu(1,"",t.context.$implicit.key,""))},function(e,t){e(t,3,0,t.context.$implicit.value)})}function ub(e){return Cs(0,[(e()(),lu(0,0,null,null,8,"div",[["class","input-block"]],null,null,null,null,null)),(e()(),lu(1,0,null,null,1,"label",[],null,null,null,null,null)),(e()(),ys(2,null,[" ","",""])),(e()(),lu(3,0,null,null,5,"div",[["class","sel style1"]],null,null,null,null,null)),(e()(),lu(4,0,null,null,4,"select",[["class","form-control"]],[[8,"name",0],[8,"id",0]],null,null,null,null)),(e()(),iu(16777216,null,null,1,null,ob)),qu(6,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,rb)),qu(8,278528,null,0,ep,[Oo,Al,Yo],{ngForOf:[0,"ngForOf"]},null)],function(e,t){e(t,6,0,t.parent.context.$implicit.submittedData),e(t,8,0,t.parent.context.$implicit.options)},function(e,t){e(t,2,0,t.parent.context.$implicit.label,t.parent.context.$implicit.validation?"*":""),e(t,4,0,eu(1,"",t.parent.context.$implicit.id,""),eu(1,"",t.parent.context.$implicit.id,""))})}function sb(e){return Cs(0,[(e()(),lu(0,0,null,null,1,"p",[["class","hide text-red"]],[[8,"id",0]],null,null,null,null)),(e()(),ys(-1,null,[" please fill the given field"]))],null,function(e,t){e(t,0,0,eu(1,"error-",t.parent.context.$implicit.id,""))})}function ab(e){return Cs(0,[(e()(),lu(0,0,null,null,12,"div",[],null,null,null,null,null)),(e()(),iu(16777216,null,null,1,null,tb)),qu(2,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,ib)),qu(4,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,lb)),qu(6,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,ub)),qu(8,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,sb)),qu(10,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),lu(11,0,null,null,1,"p",[["class","hide text-red"]],[[8,"id",0]],null,null,null,null)),(e()(),ys(12,null,[" please enter valid ",""]))],function(e,t){e(t,2,0,"text"==t.context.$implicit.type||"password"==t.context.$implicit.type||"email"==t.context.$implicit.type),e(t,4,0,"radio"==t.context.$implicit.type),e(t,6,0,"checkbox"==t.context.$implicit.type),e(t,8,0,"dropdown"==t.context.$implicit.type),e(t,10,0,t.context.$implicit.validation)},function(e,t){e(t,11,0,eu(1,"errorValid-",t.context.$implicit.id,"")),e(t,12,0,t.context.$implicit.type)})}function cb(e){return Cs(0,[(e()(),lu(0,0,null,null,1,"b",[],null,null,null,null,null)),(e()(),ys(1,null,["",""]))],null,function(e,t){e(t,1,0,t.component.form.formFooter)})}function pb(e){return Cs(0,[(e()(),lu(0,0,null,null,18,"div",[["class","container"]],null,null,null,null,null)),(e()(),lu(1,0,null,null,1,"h4",[["class","clearfix"]],null,null,null,null,null)),(e()(),ys(2,null,["",""])),(e()(),lu(3,0,null,null,0,"hr",[["class","bg-gray clearfix"]],null,null,null,null,null)),(e()(),lu(4,0,[[1,0],["cannedForm",1]],null,6,"form",[["id","formInputs"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(e,t,n){var i=!0;return"submit"===t&&(i=!1!==Ou(e,6).onSubmit(n)&&i),"reset"===t&&(i=!1!==Ou(e,6).onReset()&&i),i},null,null)),qu(5,16384,null,0,Gf,[],null,null),qu(6,4210688,null,0,Nf,[[8,null],[8,null]],null,null),Ju(2048,null,zh,null,[Nf]),qu(8,16384,null,0,Af,[[4,zh]],null,null),(e()(),iu(16777216,null,null,1,null,ab)),qu(10,278528,null,0,ep,[Oo,Al,Yo],{ngForOf:[0,"ngForOf"]},null),(e()(),lu(11,0,null,null,0,"hr",[["class","bg-gray"]],null,null,null,null,null)),(e()(),iu(16777216,null,null,1,null,cb)),qu(13,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),lu(14,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),lu(15,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),lu(16,0,null,null,2,"button",[["class","btn btn-md bg-blue"],["id","submitForm"]],null,[[null,"click"]],function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.Submit()&&i),i},null,null)),(e()(),lu(17,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),ys(-1,null,["Submit"]))],function(e,t){var n=t.component;e(t,10,0,n.form.formFields),e(t,13,0,n.form.formFooter)},function(e,t){var n=t.component;e(t,2,0,n.form.formHeader?n.form.formHeader:"Form"),e(t,4,0,Ou(t,8).ngClassUntouched,Ou(t,8).ngClassTouched,Ou(t,8).ngClassPristine,Ou(t,8).ngClassDirty,Ou(t,8).ngClassValid,Ou(t,8).ngClassInvalid,Ou(t,8).ngClassPending)})}function db(e){return Cs(0,[(e()(),lu(0,0,null,null,2,"button",[["class","btn btn-block bg-charcoal btnSpinner"]],null,null,null,null,null)),(e()(),lu(1,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),ys(-1,null,["Sending Form"]))],null,null)}function hb(e){return Cs(0,[(e()(),lu(0,0,null,null,1,"h5",[],null,null,null,null,null)),(e()(),ys(-1,null,["Form Submitted Successfully"]))],null,null)}function fb(e){return Cs(0,[(e()(),lu(0,0,null,null,1,"h5",[["class","text-red"]],null,null,null,null,null)),(e()(),ys(-1,null,["Form Submission Failed"]))],null,null)}function gb(e){return Cs(0,[(e()(),lu(0,0,null,null,10,"div",[["class","text-center clearfix p-24"]],null,null,null,null,null)),qu(1,278528,null,0,op,[er,Li,zi],{ngStyle:[0,"ngStyle"]},null),ms(2,{"background-color":0,color:1}),(e()(),lu(3,0,[[2,0],["logo",1]],null,0,"object",[["class","m-b-20"],["data","/cw/assets/img/icons/svg/chat-icon.svg"],["height","auto"],["id","logo"],["name","logo"],["type","image/svg+xml"],["width","80"]],null,[[null,"load"]],function(e,t,n){var i=!0;return"load"===t&&(i=!1!==e.component.SvgChangeColor(n)&&i),i},null,null)),(e()(),lu(4,0,null,null,0,"hr",[["class","bg-gray"]],null,null,null,null,null)),(e()(),iu(16777216,null,null,1,null,db)),qu(6,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,hb)),qu(8,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,fb)),qu(10,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component,i=n.themeSettings?e(t,2,0,n.themeSettings.dialogBgColor,n.themeSettings.dialogTextColor):"";e(t,1,0,i),e(t,6,0,n.validForm&&!n.requestError&&n.loading),e(t,8,0,n.validForm&&!n.requestError&&!n.loading),e(t,10,0,n.requestError)},null)}function mb(e){return Cs(0,[(e()(),lu(0,0,null,null,6,"div",[["class","clearfix p-24"]],null,null,null,null,null)),qu(1,278528,null,0,op,[er,Li,zi],{ngStyle:[0,"ngStyle"]},null),ms(2,{"background-color":0,color:1}),(e()(),iu(16777216,null,null,1,null,pb)),qu(4,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,gb)),qu(6,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component,i=n.themeSettings?e(t,2,0,n.themeSettings.dialogBgColor,n.themeSettings.dialogTextColor):"";e(t,1,0,i),e(t,4,0,n.form&&!n.validForm&&!n.formSubmitted&&!n.requestError),e(t,6,0,n.formSubmitted)},null)}function vb(e){return Cs(0,[as(671088640,1,{formNativeElement:0}),as(671088640,2,{logo:0}),(e()(),lu(2,0,null,null,2,"div",[["class","dialog-close svgOnHover"]],null,[[null,"click"]],function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.Close()&&i),i},null,null)),(e()(),lu(3,0,null,null,0,"img",[["class","svg"],["src","/cw/assets/img/icons/svg/cancel-circle-outline.svg"]],null,null,null,null,null)),(e()(),lu(4,0,null,null,0,"img",[["class","svg hover"],["src","/cw/assets/img/icons/svg/cancel-circle-filled.svg"]],null,null,null,null,null)),(e()(),iu(16777216,null,null,1,null,mb)),qu(6,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null)],function(e,t){e(t,6,0,t.component.Session)},null)}function yb(e){return Cs(0,[(e()(),lu(0,0,null,null,1,"app-canned-form-dialog",[],null,null,null,vb,Yy)),qu(1,114688,null,0,Xy,[Zf,Yf,tg,hd,fd],null,null)],function(e,t){e(t,1,0)},null)}var bb=Su("app-canned-form-dialog",Xy,yb,{},{},[]),Db=function(){function e(){}return e.prototype.ngOnInit=function(){},e}(),Cb=Er({encapsulation:2,styles:[[""]],data:{}});function Sb(e){return Cs(0,[(e()(),lu(0,0,null,null,0,"img",[["height","auto"],["src","/cw/assets/img/icons/svg/preloader01.svg"],["width","12"]],null,null,null,null,null))],null,null)}function _b(e){return Cs(0,[(e()(),lu(0,0,null,null,0,"img",[["height","auto"],["src","/cw/assets/img/icons/svg/stat-loader.svg"],["width","12"]],null,null,null,null,null))],null,null)}function wb(e){return Cs(0,[(e()(),lu(0,0,null,null,0,"img",[["src","/cw/assets/img/loaders/spin.svg"]],[[8,"width",0],[8,"height",0]],null,null,null,null))],null,function(e,t){var n=t.component;e(t,0,0,eu(1,"",n.spinnerWidth?n.spinnerWidth:12,""),eu(1,"",n.spinnerHeight?n.spinnerHeight:"auto",""))})}function xb(e){return Cs(0,[(e()(),lu(0,0,null,null,0,"img",[["src","/cw/assets/img/loaders/spin-gray.svg"]],[[8,"width",0],[8,"height",0]],null,null,null,null))],null,function(e,t){var n=t.component;e(t,0,0,eu(1,"",n.spinnerWidth?n.spinnerWidth:12,""),eu(1,"",n.spinnerHeight?n.spinnerHeight:"auto",""))})}function Fb(e){return Cs(0,[(e()(),lu(0,0,null,null,4,"div",[["class","page-loader"]],null,null,null,null,null)),(e()(),lu(1,0,null,null,3,"div",[["class","preloader bubble-pops"]],null,null,null,null,null)),(e()(),lu(2,0,null,null,0,"div",[["class","bubble-pop"]],null,null,null,null,null)),(e()(),lu(3,0,null,null,1,"p",[["class","bubble-label"]],null,null,null,null,null)),(e()(),ys(-1,null,["Loading"]))],null,null)}function Eb(e){return Cs(0,[(e()(),lu(0,0,null,null,3,"div",[["class","preloader bubble-pops"]],null,null,null,null,null)),(e()(),lu(1,0,null,null,0,"div",[["class","bubble-pop"]],null,null,null,null,null)),(e()(),lu(2,0,null,null,1,"p",[["class","bubble-label"]],null,null,null,null,null)),(e()(),ys(-1,null,["Loading"]))],null,null)}function kb(e){return Cs(0,[(e()(),lu(0,0,null,null,3,"div",[["class","preloader smiley"]],null,null,null,null,null)),(e()(),lu(1,0,null,null,0,"div",[["class","leftEye"]],null,null,null,null,null)),(e()(),lu(2,0,null,null,0,"div",[["class","rightEye"]],null,null,null,null,null)),(e()(),lu(3,0,null,null,0,"div",[["class","mouth"]],null,null,null,null,null))],null,null)}function Ab(e){return Cs(0,[(e()(),lu(0,0,null,null,9,"div",[["class","preloader sk-cube-grid"]],null,null,null,null,null)),(e()(),lu(1,0,null,null,0,"div",[["class","sk-cube sk-cube1"]],null,null,null,null,null)),(e()(),lu(2,0,null,null,0,"div",[["class","sk-cube sk-cube2"]],null,null,null,null,null)),(e()(),lu(3,0,null,null,0,"div",[["class","sk-cube sk-cube3"]],null,null,null,null,null)),(e()(),lu(4,0,null,null,0,"div",[["class","sk-cube sk-cube4"]],null,null,null,null,null)),(e()(),lu(5,0,null,null,0,"div",[["class","sk-cube sk-cube5"]],null,null,null,null,null)),(e()(),lu(6,0,null,null,0,"div",[["class","sk-cube sk-cube6"]],null,null,null,null,null)),(e()(),lu(7,0,null,null,0,"div",[["class","sk-cube sk-cube7"]],null,null,null,null,null)),(e()(),lu(8,0,null,null,0,"div",[["class","sk-cube sk-cube8"]],null,null,null,null,null)),(e()(),lu(9,0,null,null,0,"div",[["class","sk-cube sk-cube9"]],null,null,null,null,null))],null,null)}function Tb(e){return Cs(0,[(e()(),lu(0,0,null,null,0,"img",[["height","auto"],["src","/cw/assets/img/icons/svg/preloader05.svg"],["width","40"]],null,null,null,null,null))],null,null)}function Ib(e){return Cs(0,[(e()(),iu(16777216,null,null,1,null,Sb)),qu(1,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,_b)),qu(3,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,wb)),qu(5,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,xb)),qu(7,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,Fb)),qu(9,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,Eb)),qu(11,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,kb)),qu(13,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,Ab)),qu(15,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,Tb)),qu(17,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component;e(t,1,0,"stat-loader"==n.type),e(t,3,0,"stat-loader-black"==n.type),e(t,5,0,"spin-loader"==n.type),e(t,7,0,"spin-loader-gray"==n.type),e(t,9,0,"page-bubble-pop"==n.type),e(t,11,0,"bubble-pop"==n.type),e(t,13,0,"smiley"==n.type),e(t,15,0,"cube-grid"==n.type),e(t,17,0,"dot-loader"==n.type)},null)}var Bb=function(){function e(e){this.sanitizer=e}return e.prototype.transform=function(e,t){switch(t){case"html":return this.sanitizer.bypassSecurityTrustHtml(e);case"style":return this.sanitizer.bypassSecurityTrustStyle(e);case"script":return this.sanitizer.bypassSecurityTrustScript(e);case"url":return this.sanitizer.bypassSecurityTrustUrl(e);case"resourceUrl":return this.sanitizer.bypassSecurityTrustResourceUrl(e);default:throw new Error("Invalid safe type specified: "+t)}},e}(),Ob=function(){function e(e,t,n,i){var l=this;this._appStateService=e,this._dataService=t,this.dialogRef=n,this.data=i,this.subscriptions=[],this.fileName="",this.invalidName=!1,this.maxCharLimit=!1,this.namePattern=/^[a-z0-9]+$/i,this.numberPattern=/^\d+$/,this.emojiRegex=/\uD83C\uDFF4\uDB40\uDC67\uDB40\uDC62(?:\uDB40\uDC65\uDB40\uDC6E\uDB40\uDC67|\uDB40\uDC73\uDB40\uDC63\uDB40\uDC74|\uDB40\uDC77\uDB40\uDC6C\uDB40\uDC73)\uDB40\uDC7F|\uD83D\uDC68(?:\uD83C\uDFFC\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68\uD83C\uDFFB|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFE])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFD])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFC])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83D\uDC68|(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D[\uDC66\uDC67])|[\u2695\u2696\u2708]\uFE0F|\uD83D[\uDC66\uDC67]|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|(?:\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708])\uFE0F|\uD83C\uDFFB\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C[\uDFFB-\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFB\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFC\u200D\uD83E\uDD1D\u200D\uD83D\uDC69)\uD83C\uDFFB|\uD83E\uDDD1(?:\uD83C\uDFFF\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1(?:\uD83C[\uDFFB-\uDFFF])|\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1)|(?:\uD83E\uDDD1\uD83C\uDFFE\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFF\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB-\uDFFE])|(?:\uD83E\uDDD1\uD83C\uDFFC\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFD\u200D\uD83E\uDD1D\u200D\uD83D\uDC69)(?:\uD83C[\uDFFB\uDFFC])|\uD83D\uDC69(?:\uD83C\uDFFE\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFD\uDFFF])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFD-\uDFFF])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFB\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFC-\uDFFF])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|(?:\uD83E\uDDD1\uD83C\uDFFD\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFE\u200D\uD83E\uDD1D\u200D\uD83D\uDC69)(?:\uD83C[\uDFFB-\uDFFD])|\uD83D\uDC69\u200D\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83D\uDC41\uFE0F\u200D\uD83D\uDDE8|\uD83D\uDC69(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|(?:(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)\uFE0F|\uD83D\uDC6F|\uD83E[\uDD3C\uDDDE\uDDDF])\u200D[\u2640\u2642]|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD6-\uDDDD])(?:(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|\u200D[\u2640\u2642])|\uD83C\uDFF4\u200D\u2620)\uFE0F|\uD83D\uDC69\u200D\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C\uDFF3\uFE0F\u200D\uD83C\uDF08|\uD83D\uDC15\u200D\uD83E\uDDBA|\uD83D\uDC69\u200D\uD83D\uDC66|\uD83D\uDC69\u200D\uD83D\uDC67|\uD83C\uDDFD\uD83C\uDDF0|\uD83C\uDDF4\uD83C\uDDF2|\uD83C\uDDF6\uD83C\uDDE6|[#\*0-9]\uFE0F\u20E3|\uD83C\uDDE7(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|\uD83C\uDDF9(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|\uD83C\uDDEA(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|\uD83E\uDDD1(?:\uD83C[\uDFFB-\uDFFF])|\uD83C\uDDF7(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])|\uD83C\uDDF2(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|\uD83C\uDDE6(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|\uD83C\uDDF0(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|\uD83C\uDDED(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|\uD83C\uDDE9(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|\uD83C\uDDFE(?:\uD83C[\uDDEA\uDDF9])|\uD83C\uDDEC(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|\uD83C\uDDF8(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|\uD83C\uDDEB(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|\uD83C\uDDF5(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|\uD83C\uDDFB(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|\uD83C\uDDF3(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|\uD83C\uDDE8(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|\uD83C\uDDF1(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|\uD83C\uDDFF(?:\uD83C[\uDDE6\uDDF2\uDDFC])|\uD83C\uDDFC(?:\uD83C[\uDDEB\uDDF8])|\uD83C\uDDFA(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|\uD83C\uDDEE(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|\uD83C\uDDEF(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u270A-\u270D]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC70\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDCAA\uDD74\uDD7A\uDD90\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD0F\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD36\uDDB5\uDDB6\uDDBB\uDDD2-\uDDD5])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u270A\u270B\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF93\uDFA0-\uDFCA\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF4\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC3E\uDC40\uDC42-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDD7A\uDD95\uDD96\uDDA4\uDDFB-\uDE4F\uDE80-\uDEC5\uDECC\uDED0-\uDED2\uDED5\uDEEB\uDEEC\uDEF4-\uDEFA\uDFE0-\uDFEB]|\uD83E[\uDD0D-\uDD3A\uDD3C-\uDD45\uDD47-\uDD71\uDD73-\uDD76\uDD7A-\uDDA2\uDDA5-\uDDAA\uDDAE-\uDDCA\uDDCD-\uDDFF\uDE70-\uDE73\uDE78-\uDE7A\uDE80-\uDE82\uDE90-\uDE95])|(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDED5\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEFA\uDFE0-\uDFEB]|\uD83E[\uDD0D-\uDD3A\uDD3C-\uDD45\uDD47-\uDD71\uDD73-\uDD76\uDD7A-\uDDA2\uDDA5-\uDDAA\uDDAE-\uDDCA\uDDCD-\uDDFF\uDE70-\uDE73\uDE78-\uDE7A\uDE80-\uDE82\uDE90-\uDE95])\uFE0F|(?:[\u261D\u26F9\u270A-\u270D]|\uD83C[\uDF85\uDFC2-\uDFC4\uDFC7\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDC8F\uDC91\uDCAA\uDD74\uDD75\uDD7A\uDD90\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD0F\uDD18-\uDD1F\uDD26\uDD30-\uDD39\uDD3C-\uDD3E\uDDB5\uDDB6\uDDB8\uDDB9\uDDBB\uDDCD-\uDDCF\uDDD1-\uDDDD])/g,setTimeout(function(){document.getElementById("chatContentArea").click(),document.getElementById("chatContentArea").focus()},0),i&&i.audioUrl&&(this.audioUrl=i.audioUrl),this.subscriptions.push(this._appStateService.Settings.subscribe(function(e){e&&(l.themeSettings=e.dialogSettings)}))}return e.prototype.ngOnInit=function(){},e.prototype.ngOnDestroy=function(){this.subscriptions.map(function(e){e.unsubscribe()})},e.prototype.closeDialog=function(e){if(e){if(new RegExp(this.emojiRegex).test(this.fileName.toLowerCase())||!new RegExp(this.namePattern).test(this.fileName.toLowerCase())||new RegExp(this.numberPattern).test(this.fileName.toLowerCase()))return void(this.invalidName=!0);if(this.fileName.toLowerCase().length>50)return void(this.maxCharLimit=!0);this.dialogRef.close({status:"ok",fileName:this.fileName})}else this.dialogRef.close({status:"cancel"})},e.prototype.Close=function(){this.dialogRef.close({status:"closed"})},e}(),Rb=Er({encapsulation:2,styles:[[""]],data:{}});function Mb(e){return Cs(0,[(e()(),lu(0,0,null,null,1,"p",[["class","text-red"],["id","emailAlert"]],null,null,null,null,null)),(e()(),ys(-1,null,["please enter a valid name"]))],null,null)}function Pb(e){return Cs(0,[(e()(),lu(0,0,null,null,1,"p",[["class","text-red"],["id","emailAlert"]],null,null,null,null,null)),(e()(),ys(-1,null,["max 50 characters allowed in filename"]))],null,null)}function jb(e){return Cs(0,[(e()(),lu(0,0,null,null,36,"div",[["class","clearfix p-24"]],null,null,null,null,null)),qu(1,278528,null,0,op,[er,Li,zi],{ngStyle:[0,"ngStyle"]},null),ms(2,{"background-color":0,color:1}),(e()(),lu(3,0,null,null,33,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(e,t,n){var i=!0;return"submit"===t&&(i=!1!==Ou(e,5).onSubmit(n)&&i),"reset"===t&&(i=!1!==Ou(e,5).onReset()&&i),i},null,null)),qu(4,16384,null,0,Gf,[],null,null),qu(5,4210688,null,0,Nf,[[8,null],[8,null]],null,null),Ju(2048,null,zh,null,[Nf]),qu(7,16384,null,0,Af,[[4,zh]],null,null),(e()(),lu(8,0,null,null,1,"h6",[["class","title-with-border border-gray"]],null,null,null,null,null)),(e()(),ys(-1,null,["Specify a Name for Audio Note"])),(e()(),lu(10,0,null,null,12,"div",[["class","input-block"]],null,null,null,null,null)),(e()(),lu(11,0,null,null,6,"input",[["autocomplete","off"],["class","form-control"],["id","fileName"],["name","fileName"],["placeholder","Enter Name"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(e,t,n){var i=!0,l=e.component;return"input"===t&&(i=!1!==Ou(e,13)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==Ou(e,13).onTouched()&&i),"compositionstart"===t&&(i=!1!==Ou(e,13)._compositionStart()&&i),"compositionend"===t&&(i=!1!==Ou(e,13)._compositionEnd(n.target.value)&&i),"ngModelChange"===t&&(i=!1!==(l.fileName=n)&&i),i},null,null)),qu(12,278528,null,0,Xc,[Yo,er,Li,zi],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),qu(13,16384,null,0,tf,[zi,Li,[2,ef]],null,null),Ju(1024,null,Xh,function(e){return[e]},[tf]),qu(15,671744,null,0,Hf,[[2,zh],[8,null],[8,null],[6,Xh]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),Ju(2048,null,uf,null,[Hf]),qu(17,16384,null,0,kf,[[4,uf]],null,null),(e()(),lu(18,0,null,null,4,"div",[["class","form-control-feedback"]],null,null,null,null,null)),(e()(),iu(16777216,null,null,1,null,Mb)),qu(20,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,Pb)),qu(22,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),lu(23,0,null,null,2,"div",[["class","input-block has-feedback"]],null,null,null,null,null)),(e()(),lu(24,0,null,null,1,"audio",[["controls",""],["controlsList","nodownload"],["style","width: 222px;"]],[[8,"src",4]],null,null,null,null)),gs(25,2),(e()(),lu(26,0,null,null,10,"div",[["class","btn-group"]],null,null,null,null,null)),(e()(),lu(27,0,null,null,4,"button",[["class","btn bg-charcoal w50"],["id","btnStartChat"],["type","button"]],null,[[null,"click"]],function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.closeDialog(!0)&&i),i},null,null)),qu(28,278528,null,0,op,[er,Li,zi],{ngStyle:[0,"ngStyle"]},null),ms(29,{"background-color":0,color:1}),(e()(),lu(30,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),ys(-1,null,["Ok"])),(e()(),lu(32,0,null,null,4,"button",[["class","btn bg-charcoal w50"],["id","btnStartChat"],["type","button"]],null,[[null,"click"]],function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.closeDialog(!1)&&i),i},null,null)),qu(33,278528,null,0,op,[er,Li,zi],{ngStyle:[0,"ngStyle"]},null),ms(34,{"background-color":0,color:1}),(e()(),lu(35,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),ys(-1,null,["Cancel"]))],function(e,t){var n=t.component,i=n.themeSettings?e(t,2,0,n.themeSettings.dialogBgColor,n.themeSettings.dialogTextColor):"";e(t,1,0,i),e(t,12,0,"form-control",n.invalidName||n.maxCharLimit?"border-red":""),e(t,15,0,"fileName",n.fileName),e(t,20,0,n.invalidName),e(t,22,0,n.maxCharLimit);var l=n.themeSettings?e(t,29,0,n.themeSettings.btnColor,n.themeSettings.btnTextcolor):"";e(t,28,0,l);var o=n.themeSettings?e(t,34,0,n.themeSettings.btnColor,n.themeSettings.btnTextcolor):"";e(t,33,0,o)},function(e,t){var n=t.component;e(t,3,0,Ou(t,7).ngClassUntouched,Ou(t,7).ngClassTouched,Ou(t,7).ngClassPristine,Ou(t,7).ngClassDirty,Ou(t,7).ngClassValid,Ou(t,7).ngClassInvalid,Ou(t,7).ngClassPending),e(t,11,0,Ou(t,17).ngClassUntouched,Ou(t,17).ngClassTouched,Ou(t,17).ngClassPristine,Ou(t,17).ngClassDirty,Ou(t,17).ngClassValid,Ou(t,17).ngClassInvalid,Ou(t,17).ngClassPending);var i=wr(t,24,0,e(t,25,0,Ou(t.parent,0),n.audioUrl,"url"));e(t,24,0,i)})}function Nb(e){return Cs(0,[(e()(),lu(0,0,null,null,2,"div",[],null,null,null,null,null)),(e()(),lu(1,0,null,null,1,"app-preloader",[["type","spin-loader-gray"]],null,null,null,Ib,Cb)),qu(2,114688,null,0,Db,[],{type:[0,"type"],spinnerWidth:[1,"spinnerWidth"],spinnerHeight:[2,"spinnerHeight"]},null)],function(e,t){e(t,2,0,"spin-loader-gray",30,30)},null)}function Lb(e){return Cs(0,[Wu(0,Bb,[bh]),(e()(),lu(1,0,null,null,2,"div",[["class","dialog-close svgOnHover"]],null,[[null,"click"]],function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.Close()&&i),i},null,null)),(e()(),lu(2,0,null,null,0,"img",[["class","svg"],["src","/cw/assets/img/icons/svg/cancel-circle-outline.svg"]],null,null,null,null,null)),(e()(),lu(3,0,null,null,0,"img",[["class","svg hover"],["src","/cw/assets/img/icons/svg/cancel-circle-filled.svg"]],null,null,null,null,null)),(e()(),iu(16777216,null,null,1,null,jb)),qu(5,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,Nb)),qu(7,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component;e(t,5,0,n.audioUrl),e(t,7,0,!n.audioUrl)},null)}function Vb(e){return Cs(0,[(e()(),lu(0,0,null,null,1,"app-audio-player-dialog",[],null,null,null,Lb,Rb)),qu(1,245760,null,0,Ob,[Zf,tg,hd,fd],null,null)],function(e,t){e(t,1,0)},null)}var $b=Su("app-audio-player-dialog",Ob,Vb,{},{},[]),Ub=function(){function e(e,t,n,i,l){var o=this;this._dataService=e,this._appStateService=t,this._restService=n,this.dialogRef=i,this.dialogue=l,this.subscriptions=[],this.emailRegex=/^[_a-z0-9]+(\.[_a-z0-9]+)*@[a-z0-9-]+(\.[a-z0-9-]+)*(\.[a-z]{2,4})$/,this.email="",this.invalidEmail=!1,this.session=void 0,this.banned=!1,this.loading=!1,this.themeSettings=void 0,this.transcriptFormConfirm=void 0,this.lostAgentDialogue=void 0,this.subscriptions.push(this._appStateService.Session.subscribe(function(e){e&&(e&&2!=e.state&&3!=e.state||(o.session=e,e.email&&"unregistered"!=e.email.toLowerCase()&&(o.email=e.email)))})),this.subscriptions.push(this._appStateService.Settings.subscribe(function(e){e&&(o.themeSettings=e.dialogSettings,o.transcriptFormConfirm=e.transcriptFormConfirm,o.lostAgentDialogue=e.lostAgentDialogue)})),this.subscriptions.push(this._dataService.banned.subscribe(function(e){o.banned=e}))}return e.prototype.Close=function(){this.dialogRef.close({status:"closed"})},e.prototype.SendTranscript=function(){var e=this;this.invalidEmail=!1,this.email||(this.invalidEmail=!0),this.email&&"unregistered"!=this.email.toLowerCase()&&this.email&&(new RegExp(this.emailRegex).test(this.email.toLowerCase())||(this.invalidEmail=!0)),this.invalidEmail||(this.loading=!0,this.subscriptions.push(this.SubmitTranscript(this.email).subscribe(function(t){e.loading=!1,"ok"==JSON.parse(t).status&&e.dialogRef.close({status:"ok"})},function(t){e.loading=!1})))},e.prototype.SubmitTranscript=function(e){return this._restService.SendXMLHttpRequest("/visitor/emailtranscript","POST",JSON.stringify({email:e||e,sid:this.session._id||this.session.id,cid:this.session.cid}),!1,!0,[{name:"Content-Type",value:"application/json"}])},e.prototype.ngOnInit=function(){},e.prototype.ngOnDestroy=function(){this.subscriptions.map(function(e){e.unsubscribe()})},e}(),Hb=Er({encapsulation:2,styles:[[""]],data:{}});function zb(e){return Cs(0,[(e()(),lu(0,0,null,null,1,"h6",[["class","title-with-border border-gray"]],null,null,null,null,null)),(e()(),ys(-1,null,["Please Enter Your Email"]))],null,null)}function Gb(e){return Cs(0,[(e()(),lu(0,0,null,null,3,"div",[["class","input-group-addon tooltip top-right"]],null,null,null,null,null)),(e()(),lu(1,0,null,null,0,"img",[["class","svg floatToCenter w-20"],["src","/cw/assets/img/icons/svg/error-filled.svg"]],null,null,null,null,null)),(e()(),lu(2,0,null,null,1,"span",[["class","tooltip-inner"]],null,null,null,null,null)),(e()(),ys(-1,null,["Please enter a valid email"]))],null,null)}function qb(e){return Cs(0,[(e()(),lu(0,0,null,null,16,"div",[["class","flex_btns"]],null,null,null,null,null)),(e()(),lu(1,0,null,null,15,"div",[["class","input-block"]],null,null,null,null,null)),(e()(),lu(2,0,null,null,10,"div",[["class","input-group m-b-10"]],null,null,null,null,null)),qu(3,278528,null,0,Xc,[Yo,er,Li,zi],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(e()(),lu(4,0,null,null,6,"input",[["autocomplete","off"],["class","form-control"],["id","email"],["name","email"],["placeholder","Enter Email Address"],["type","email"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(e,t,n){var i=!0,l=e.component;return"input"===t&&(i=!1!==Ou(e,6)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==Ou(e,6).onTouched()&&i),"compositionstart"===t&&(i=!1!==Ou(e,6)._compositionStart()&&i),"compositionend"===t&&(i=!1!==Ou(e,6)._compositionEnd(n.target.value)&&i),"ngModelChange"===t&&(i=!1!==(l.email=n)&&i),i},null,null)),qu(5,278528,null,0,Xc,[Yo,er,Li,zi],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),qu(6,16384,null,0,tf,[zi,Li,[2,ef]],null,null),Ju(1024,null,Xh,function(e){return[e]},[tf]),qu(8,671744,null,0,Hf,[[8,null],[8,null],[8,null],[6,Xh]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),Ju(2048,null,uf,null,[Hf]),qu(10,16384,null,0,kf,[[4,uf]],null,null),(e()(),iu(16777216,null,null,1,null,Gb)),qu(12,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),lu(13,0,null,null,3,"button",[["class","btn bg-olive"]],null,[[null,"click"]],function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.SendTranscript()&&i),i},null,null)),qu(14,278528,null,0,Xc,[Yo,er,Li,zi],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(e()(),lu(15,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),ys(-1,null,["Submit"]))],function(e,t){var n=t.component;e(t,3,0,"input-group m-b-10",n.invalidEmail?"has-danger":""),e(t,5,0,"form-control",n.invalidemail?"border-red":""),e(t,8,0,"email",n.email),e(t,12,0,n.invalidEmail),e(t,14,0,"btn bg-olive",n.loading?"btnSpinner":"")},function(e,t){e(t,4,0,Ou(t,10).ngClassUntouched,Ou(t,10).ngClassTouched,Ou(t,10).ngClassPristine,Ou(t,10).ngClassDirty,Ou(t,10).ngClassValid,Ou(t,10).ngClassInvalid,Ou(t,10).ngClassPending)})}function Wb(e){return Cs(0,[(e()(),lu(0,0,null,null,2,"div",[["class","dialog-close svgOnHover"]],null,[[null,"click"]],function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.Close()&&i),i},null,null)),(e()(),lu(1,0,null,null,0,"img",[["class","svg"],["src","/cw/assets/img/icons/svg/cancel-circle-outline.svg"]],null,null,null,null,null)),(e()(),lu(2,0,null,null,0,"img",[["class","svg hover"],["src","/cw/assets/img/icons/svg/cancel-circle-filled.svg"]],null,null,null,null,null)),(e()(),lu(3,0,null,null,7,"div",[["class","text-center clearfix p-24"]],null,null,null,null,null)),qu(4,278528,null,0,op,[er,Li,zi],{ngStyle:[0,"ngStyle"]},null),ms(5,{"background-color":0,color:1}),(e()(),lu(6,0,null,null,0,"img",[["alt","Chat Ended"],["class","m-b-20"],["height","auto"],["src","/cw/assets/img/icons/svg/chat-icon-orange.svg"],["width","80"]],null,null,null,null,null)),(e()(),iu(16777216,null,null,1,null,zb)),qu(8,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,qb)),qu(10,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component,i=n.themeSettings?e(t,5,0,n.themeSettings.dialogBgColor,n.themeSettings.dialogTextColor):"";e(t,4,0,i),e(t,8,0,!n.banned),e(t,10,0,!n.banned)},null)}function Jb(e){return Cs(0,[(e()(),lu(0,0,null,null,1,"app-transcript-component-new",[],null,null,null,Wb,Hb)),qu(1,245760,null,0,Ub,[tg,Zf,Yf,hd,yd],null,null)],function(e,t){e(t,1,0)},null)}var Kb=Su("app-transcript-component-new",Ub,Jb,{},{},[]),Qb=function(){function e(e,t){var n=this;this._appStateService=e,this._dataService=t,this.subscription=[],this.count=0,this.subscription.push(this._appStateService.Maximized.subscribe(function(e){e&&(n.isMaximized=e)})),this.subscription.push(this._appStateService.Settings.subscribe(function(e){e&&(n.themeSettings=e.themeSettings)})),this.subscription.push(this._appStateService.NotificationCount.subscribe(function(e){n.count=e}))}return e.prototype.ngOnInit=function(){},e.prototype.ngOnDestroy=function(){this.subscription.map(function(e){e.unsubscribe()})},e.prototype.SvgLoad=function(e,t){e.getElementsByTagName("path").item(0).setAttribute("fill",this.themeSettings[t])},e.prototype.GoToMessages=function(){var e=this;Promise.resolve().then(function(){e._dataService.viewMode.next("message-window")})},e}(),Zb=Er({encapsulation:2,styles:[[""]],data:{}});function Xb(e){return Cs(0,[(e()(),lu(0,0,null,null,5,"button",[["class","cd-btn svgOnHover tooltip bottom notif"],["id","cd-notification"]],null,null,null,null,null)),(e()(),lu(1,0,[["notif",1]],null,0,"object",[["data","/cw/assets/img/icons/svg/notification-active.svg"],["type","image/svg+xml"],["width","100%"]],null,[[null,"load"]],function(e,t,n){var i=!0;return"load"===t&&(i=!1!==e.component.SvgLoad(Ou(e,1).contentDocument,"headerTextColor")&&i),i},null,null)),(e()(),lu(2,0,null,null,1,"span",[["class","notif-count animated pulse"]],null,null,null,null,null)),(e()(),ys(3,null,["",""])),(e()(),lu(4,0,null,null,1,"span",[["class","tooltip-inner"]],null,null,null,null,null)),(e()(),ys(-1,null,["Incoming Chats"]))],null,function(e,t){e(t,3,0,t.component.count)})}var Yb=function(){function e(e,t,n,i){var l=this;this._appService=e,this._dataService=t,this._callingService=n,this.dialog=i,this.allowedCall=!1,this.imageError=!1,this.subscription=[],this.themeSettings=void 0,this.unregistered=!1,this.subscription.push(this._appService.Session.subscribe(function(e){e&&(l.Session=e,l.unregistered=!!(!e.email||e.email&&"unregistered"==e.email.toLowerCase()||e.username&&-1!=e.username.indexOf("Guest")))})),this.subscription.push(this._appService.AllowedCall.subscribe(function(e){l.allowedCall=e})),this.subscription.push(this._appService.Settings.subscribe(function(e){e&&(l.themeSettings=e.themeSettings)})),this.subscription.push(this._callingService.agentBusy.subscribe(function(e){e&&l.dialog.open(sy,{panelClass:["dialog-inner"]}).afterClosed().subscribe(function(e){})}))}return e.prototype.ngOnInit=function(){},e.prototype.RegisterUser=function(){this._dataService.UpdateCredentials.next(!0),this.dialog.open(Dg,{panelClass:["dialog-inner"],autoFocus:!0}).afterClosed().subscribe(function(e){})},e.prototype.TryCall=function(){var e=this;event.preventDefault(),this.dialog.open(vv,{panelClass:["calling-dialog","dialog-inner"],autoFocus:!0}).afterClosed().subscribe(function(t){e._callingService.EndCall()})},e.prototype.ngOnDestroy=function(){this.subscription.map(function(e){e.unsubscribe()})},e.prototype.ImageBroken=function(){this.imageError=!0},e}(),eD=Er({encapsulation:2,styles:[[""]],data:{}});function tD(e){return Cs(0,[(e()(),lu(0,0,null,null,0,"img",[["alt",""]],[[8,"src",4]],[[null,"error"]],function(e,t,n){var i=!0;return"error"===t&&(i=!1!==e.component.ImageBroken()&&i),i},null,null))],null,function(e,t){e(t,0,0,t.component.Session.agent.image)})}function nD(e){return Cs(0,[(e()(),lu(0,0,null,null,3,"div",[["class","initials"]],null,null,null,null,null)),(e()(),ys(1,null,[" "," "])),Wu(0,cp,[]),gs(3,1)],null,function(e,t){var n=t.component,i=wr(t,1,0,e(t,3,0,Ou(t.parent.parent,0),wr(t,1,0,Ou(t,2).transform(n.Session.agent.name,0,1))));e(t,1,0,i)})}function iD(e){return Cs(0,[(e()(),lu(0,0,null,null,0,"img",[["alt",""],["src","/cw/assets/img/avatar/agent-lost.png"]],null,null,null,null,null))],null,null)}function lD(e){return Cs(0,[(e()(),lu(0,0,null,null,3,"span",[["class","fw-5"]],null,null,null,null,null)),qu(1,278528,null,0,op,[er,Li,zi],{ngStyle:[0,"ngStyle"]},null),ms(2,{color:0}),(e()(),ys(3,null,["",""]))],function(e,t){var n=t.component,i=n.themeSettings?e(t,2,0,n.themeSettings.headerTextColor):"";e(t,1,0,i)},function(e,t){e(t,3,0,t.component.Session.agent.name)})}function oD(e){return Cs(0,[(e()(),lu(0,0,null,null,1,"span",[["class","initials"],["style","font-style: italic;"]],null,null,null,null,null)),(e()(),ys(1,null,[" ",""]))],null,function(e,t){e(t,1,0,5==t.component.Session.state?"":"(no agent)")})}function rD(e){return Cs(0,[(e()(),lu(0,0,null,null,11,"div",[],null,null,null,null,null)),(e()(),lu(1,0,null,null,10,"p",[],null,null,null,null,null)),(e()(),iu(16777216,null,null,1,null,lD)),qu(3,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,oD)),qu(5,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),lu(6,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),lu(7,0,null,null,4,"small",[],null,null,null,null,null)),qu(8,278528,null,0,op,[er,Li,zi],{ngStyle:[0,"ngStyle"]},null),ms(9,{color:0}),(e()(),lu(10,0,null,null,1,"em",[["title","(please note this ID to keep track of your conversation)"]],null,null,null,null,null)),(e()(),ys(11,null,["",""]))],function(e,t){var n=t.component;e(t,3,0,n.Session.agent.name),e(t,5,0,n.Session.agent&&!n.Session.agent.image&&!n.Session.agent.nickname&&!n.Session.agent.name);var i=n.themeSettings?e(t,9,0,n.themeSettings.headerTextColor):"";e(t,8,0,i)},function(e,t){var n=t.component;e(t,11,0,n.Session.clientID?n.Session.clientID:"")})}function uD(e){return Cs(0,[(e()(),lu(0,0,null,null,12,"div",[["class","agentDetail"]],null,null,null,null,null)),(e()(),lu(1,0,null,null,9,"div",[["class","avatar notif"]],null,null,null,null,null)),(e()(),iu(16777216,null,null,1,null,tD)),qu(3,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,nD)),qu(5,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,iD)),qu(7,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),lu(8,0,null,null,2,"span",[["class","notif-count no-count bg-green"]],null,null,null,null,null)),qu(9,278528,null,0,op,[er,Li,zi],{ngStyle:[0,"ngStyle"]},null),ms(10,{"border-color":0}),(e()(),iu(16777216,null,null,1,null,rD)),qu(12,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component;e(t,3,0,n.Session.agent&&n.Session.agent.image&&!n.imageError),e(t,5,0,n.Session.agent&&n.Session.agent.name&&!n.Session.agent.image||n.imageError),e(t,7,0,n.Session.agent&&!n.Session.agent.image&&!n.Session.agent.nickname&&!n.Session.agent.name);var i=n.themeSettings?e(t,10,0,n.themeSettings.headerSecondryColor):"";e(t,9,0,i),e(t,12,0,n.Session.agent)},null)}function sD(e){return Cs(0,[(e()(),lu(0,0,null,null,4,"button",[["class","cd-btn svgOnHover tooltip bottom"]],null,[[null,"click"]],function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.TryCall()&&i),i},null,null)),(e()(),lu(1,0,null,null,0,"img",[["class","svg"],["src","/cw/assets/img/icons/svg/call.svg"]],null,null,null,null,null)),(e()(),lu(2,0,null,null,0,"img",[["class","svg hover"],["src","/cw/assets/img/icons/svg/call.svg"]],null,null,null,null,null)),(e()(),lu(3,0,null,null,1,"span",[["class","tooltip-inner"]],null,null,null,null,null)),(e()(),ys(-1,null,["Call Agent"]))],null,null)}function aD(e){return Cs(0,[(e()(),lu(0,0,null,null,4,"button",[["class","cd-btn svgOnHover tooltip bottom-right"]],null,[[null,"click"]],function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.RegisterUser()&&i),i},null,null)),(e()(),lu(1,0,null,null,0,"img",[["class","svg"],["src","/cw/assets/img/icons/svg/plus.svg"]],null,null,null,null,null)),(e()(),lu(2,0,null,null,0,"img",[["class","svg hover"],["src","/cw/assets/img/icons/svg/plus.svg"]],null,null,null,null,null)),(e()(),lu(3,0,null,null,1,"span",[["class","tooltip-inner"]],null,null,null,null,null)),(e()(),ys(-1,null,["Register Yourself"]))],null,null)}function cD(e){return Cs(0,[(e()(),lu(0,0,null,null,4,"div",[["class","headerTools"]],null,null,null,null,null)),(e()(),iu(16777216,null,null,1,null,sD)),qu(2,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,aD)),qu(4,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component;e(t,2,0,n.allowedCall&&3==n.Session.state),e(t,4,0,n.unregistered)},null)}function pD(e){return Cs(0,[Wu(0,up,[]),(e()(),iu(16777216,null,null,1,null,uD)),qu(2,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,cD)),qu(4,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component;e(t,2,0,n.Session&&(2==n.Session.state&&n.Session.inactive||3==n.Session.state||4==n.Session.state||5==n.Session.state||7==n.Session.state||8==n.Session.state)),e(t,4,0,n.Session&&(3==n.Session.state||4==n.Session.state||5==n.Session.state||7==n.Session.state||8==n.Session.state))},null)}var dD=function(){function e(e,t){var n=this;this._appService=e,this._dataService=t,this.viewingChatHistory=!1,this.subscription=[],this.Conversation=[],this.themeSettings=void 0,this.subscription.push(this._appService.Session.subscribe(function(e){e&&(n.Session=e)})),this.subscription.push(this._appService.Settings.subscribe(function(e){e&&(n.themeSettings=e.themeSettings)})),this.subscription.push(this._dataService.ViewingChatHistory.subscribe(function(e){n.viewingChatHistory=e})),this.subscription.push(this._dataService.SelectedConversation.subscribe(function(e){n.Conversation=e.conversationDetails})),this.subscription.push(this._dataService.viewMode.subscribe(function(e){n.viewMode=e})),this.subscription.push(this._dataService.Conversations.subscribe(function(e){e.length>0&&(n.AllConversations=e)})),this.subscription.push(this._dataService.noMoreRecentChatsToShow.subscribe(function(e){n.ifNoMoreRecentChats=e}))}return e.prototype.GoToHome=function(){this._dataService.ViewingChatHistory.next(!1),this._dataService.viewMode.next("home")},e.prototype.GoToChat=function(){this._dataService.ViewingChatHistory.next(!1),this._dataService.viewMode.next("message-window")},e.prototype.GoBack=function(){this._dataService.SelectedConversation.next({}),this._dataService.viewMode.next("conversation-window")},e.prototype.ngOnInit=function(){},e.prototype.ngOnDestroy=function(){this.subscription.map(function(e){e.unsubscribe()})},e.prototype.Previous=function(){this._dataService.ShowSelectedChat(this.AllConversations.indexOf(this.Conversation)-1)},e.prototype.Next=function(){this.AllConversations.indexOf(this.Conversation)==this.AllConversations.length-1?this._dataService.GetMoreRecentChatsRest(this.Session.deviceID,this.AllConversations[this.AllConversations.length-1]._id).subscribe(function(e){},function(e){}):this._dataService.ShowSelectedChat(this.AllConversations.indexOf(this.Conversation)+1)},e}(),hD=Er({encapsulation:2,styles:[[""]],data:{}});function fD(e){return Cs(0,[(e()(),lu(0,0,null,null,3,"span",[],null,null,null,null,null)),qu(1,278528,null,0,op,[er,Li,zi],{ngStyle:[0,"ngStyle"]},null),ms(2,{color:0}),(e()(),ys(-1,null,["RECENT CHATS"]))],function(e,t){var n=t.component,i=n.themeSettings?e(t,2,0,n.themeSettings.headerTextColor):"";e(t,1,0,i)},null)}function gD(e){return Cs(0,[(e()(),lu(0,0,null,null,3,"span",[],null,null,null,null,null)),qu(1,278528,null,0,op,[er,Li,zi],{ngStyle:[0,"ngStyle"]},null),ms(2,{color:0}),(e()(),ys(3,null,["",""]))],function(e,t){var n=t.component,i=n.themeSettings?e(t,2,0,n.themeSettings.headerTextColor):"";e(t,1,0,i)},function(e,t){e(t,3,0,t.component.Conversation.agentName)})}function mD(e){return Cs(0,[(e()(),lu(0,0,null,null,3,"span",[["class","ellipsis"],["style","font-style: italic;"]],null,null,null,null,null)),qu(1,278528,null,0,op,[er,Li,zi],{ngStyle:[0,"ngStyle"]},null),ms(2,{color:0}),(e()(),ys(-1,null,["(no agent)"]))],function(e,t){var n=t.component,i=n.themeSettings?e(t,2,0,n.themeSettings.headerTextColor):"";e(t,1,0,i)},null)}function vD(e){return Cs(0,[(e()(),lu(0,0,null,null,4,"small",[],null,null,null,null,null)),qu(1,278528,null,0,op,[er,Li,zi],{ngStyle:[0,"ngStyle"]},null),ms(2,{color:0}),(e()(),lu(3,0,null,null,1,"em",[["title","(please note this ID to keep track of your conversation)"]],null,null,null,null,null)),(e()(),ys(4,null,["",""]))],function(e,t){var n=t.component,i=n.themeSettings?e(t,2,0,n.themeSettings.headerTextColor):"";e(t,1,0,i)},function(e,t){var n=t.component;e(t,4,0,n.Conversation.clientID?n.Conversation.clientID:n.Conversation.sessionid?n.Conversation.sessionid:"\xa0")})}function yD(e){return Cs(0,[(e()(),lu(0,0,null,null,11,"div",[["class","agentDetail"]],null,null,null,null,null)),(e()(),lu(1,0,null,null,10,"div",[],null,null,null,null,null)),(e()(),lu(2,0,null,null,9,"p",[],null,null,null,null,null)),(e()(),iu(16777216,null,null,1,null,fD)),qu(4,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,gD)),qu(6,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,mD)),qu(8,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),lu(9,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),iu(16777216,null,null,1,null,vD)),qu(11,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component;e(t,4,0,!n.Conversation),e(t,6,0,n.Conversation&&n.Conversation.agentName),e(t,8,0,n.Conversation&&!n.Conversation.agentName),e(t,11,0,n.Conversation)},null)}function bD(e){return Cs(0,[(e()(),lu(0,0,null,null,5,"div",[["class","headerTools"]],null,null,null,null,null)),(e()(),lu(1,0,null,null,4,"button",[["class","cd-btn svgOnHover tooltip bottom-right"]],null,[[null,"click"]],function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.GoToChat()&&i),i},null,null)),(e()(),lu(2,0,null,null,0,"img",[["class","svg"],["src","/cw/assets/img/icons/svg/chat-icon.svg"]],null,null,null,null,null)),(e()(),lu(3,0,null,null,0,"img",[["class","svg hover"],["src","/cw/assets/img/icons/svg/chat-icon.svg"]],null,null,null,null,null)),(e()(),lu(4,0,null,null,1,"span",[["class","tooltip-inner"]],null,null,null,null,null)),(e()(),ys(-1,null,["Go Back To Chat"]))],null,null)}function DD(e){return Cs(0,[(e()(),lu(0,0,null,null,4,"button",[["class","cd-btn svgOnHover tooltip bottom"]],[[8,"disabled",0]],[[null,"click"]],function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.Previous()&&i),i},null,null)),(e()(),lu(1,0,null,null,0,"img",[["class","svg"],["src","/cw/assets/img/icons/svg/arrow-prev.svg"]],null,null,null,null,null)),(e()(),lu(2,0,null,null,0,"img",[["class","svg hover"],["src","/cw/assets/img/icons/svg/arrow-prev.svg"]],null,null,null,null,null)),(e()(),lu(3,0,null,null,1,"span",[["class","tooltip-inner"]],null,null,null,null,null)),(e()(),ys(-1,null,["Previous"]))],null,function(e,t){var n=t.component;e(t,0,0,0==n.AllConversations.indexOf(n.Conversation))})}function CD(e){return Cs(0,[(e()(),lu(0,0,null,null,4,"button",[["class","cd-btn svgOnHover tooltip bottom"]],null,[[null,"click"]],function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.GoBack()&&i),i},null,null)),(e()(),lu(1,0,null,null,0,"img",[["class","svg"],["src","/cw/assets/img/icons/svg/menu.svg"]],null,null,null,null,null)),(e()(),lu(2,0,null,null,0,"img",[["class","svg hover"],["src","/cw/assets/img/icons/svg/menu.svg"]],null,null,null,null,null)),(e()(),lu(3,0,null,null,1,"span",[["class","tooltip-inner"]],null,null,null,null,null)),(e()(),ys(-1,null,["All Chats"]))],null,null)}function SD(e){return Cs(0,[(e()(),lu(0,0,null,null,4,"button",[["class","cd-btn svgOnHover tooltip bottom-right"]],[[8,"disabled",0]],[[null,"click"]],function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.Next()&&i),i},null,null)),(e()(),lu(1,0,null,null,0,"img",[["class","svg"],["src","/cw/assets/img/icons/svg/arrow-next.svg"]],null,null,null,null,null)),(e()(),lu(2,0,null,null,0,"img",[["class","svg hover"],["src","/cw/assets/img/icons/svg/arrow-next.svg"]],null,null,null,null,null)),(e()(),lu(3,0,null,null,1,"span",[["class","tooltip-inner"]],null,null,null,null,null)),(e()(),ys(-1,null,["Next"]))],null,function(e,t){var n=t.component;e(t,0,0,n.AllConversations.indexOf(n.Conversation)==n.AllConversations.length-1&&n.ifNoMoreRecentChats)})}function _D(e){return Cs(0,[(e()(),lu(0,0,null,null,6,"div",[["class","headerTools"]],null,null,null,null,null)),(e()(),iu(16777216,null,null,1,null,DD)),qu(2,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,CD)),qu(4,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,SD)),qu(6,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component;e(t,2,0,"message-window"==n.viewMode),e(t,4,0,"message-window"==n.viewMode),e(t,6,0,"message-window"==n.viewMode)},null)}function wD(e){return Cs(0,[(e()(),iu(16777216,null,null,1,null,yD)),qu(1,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,bD)),qu(3,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,_D)),qu(5,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component;e(t,1,0,(3!=n.Session.state||7!=n.Session.state||8!=n.Session.state)&&n.viewingChatHistory),e(t,3,0,(2==n.Session.state||3==n.Session.state||4==n.Session.state||5==n.Session.state)&&n.viewingChatHistory),e(t,5,0,n.viewingChatHistory)},null)}var xD=function(){function e(e){var t=this;this._dataService=e,this.subscriptions=[],this.AgentList=void 0,this.extraAgents=0,this.subscriptions.push(this._dataService.AgentList.subscribe(function(e){e&&(e.length-5>0&&(t.extraAgents=e.length-5),t.AgentList=e)}))}return e.prototype.ngOnInit=function(){},e.prototype.ngOnDestroy=function(){this.subscriptions.map(function(e){e.unsubscribe()})},e.prototype.ImageBroken=function(e){this.AgentList[e].error=!0},e}(),FD=Er({encapsulation:2,styles:[[""]],data:{}});function ED(e){return Cs(0,[(e()(),lu(0,0,null,null,0,"img",[["alt",""]],[[8,"src",4]],[[null,"error"]],function(e,t,n){var i=!0;return"error"===t&&(i=!1!==e.component.ImageBroken(e.parent.parent.context.index)&&i),i},null,null))],null,function(e,t){e(t,0,0,t.parent.parent.context.$implicit.image)})}function kD(e){return Cs(0,[(e()(),lu(0,0,null,null,3,"span",[],null,null,null,null,null)),(e()(),ys(1,null,["",""])),Wu(0,cp,[]),gs(3,1)],null,function(e,t){var n=wr(t,1,0,e(t,3,0,Ou(t.parent.parent.parent.parent,0),wr(t,1,0,Ou(t,2).transform(t.parent.parent.context.$implicit.nickname,0,1))));e(t,1,0,n)})}function AD(e){return Cs(0,[(e()(),lu(0,0,null,null,4,"li",[],null,null,null,null,null)),(e()(),iu(16777216,null,null,1,null,ED)),qu(2,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,kD)),qu(4,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component;e(t,2,0,t.parent.context.$implicit.image&&t.parent.context.index<5&&!n.AgentList[t.parent.context.index].error),e(t,4,0,(!t.parent.context.$implicit.image||n.AgentList[t.parent.context.index].error)&&t.parent.context.index<5)},null)}function TD(e){return Cs(0,[(e()(),iu(16777216,null,null,1,null,AD)),qu(1,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(0,null,null,0))],function(e,t){e(t,1,0,t.context.index<5)},null)}function ID(e){return Cs(0,[(e()(),lu(0,0,null,null,1,"li",[],null,null,null,null,null)),(e()(),ys(1,null,["+",""]))],null,function(e,t){e(t,1,0,t.component.extraAgents)})}function BD(e){return Cs(0,[(e()(),lu(0,0,null,null,4,"ul",[["class","clearfix"]],null,null,null,null,null)),(e()(),iu(16777216,null,null,1,null,TD)),qu(2,278528,null,0,ep,[Oo,Al,Yo],{ngForOf:[0,"ngForOf"]},null),(e()(),iu(16777216,null,null,1,null,ID)),qu(4,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component;e(t,2,0,n.AgentList),e(t,4,0,n.extraAgents)},null)}function OD(e){return Cs(0,[Wu(0,up,[]),(e()(),iu(16777216,null,null,1,null,BD)),qu(2,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null)],function(e,t){e(t,2,0,t.component.AgentList)},null)}var RD=function(){function e(e){var t=this;this._dataService=e,this.newsFetching=!0,this.subscriptions=[],this.newsList=[],this.news=[],this.counter=0,this.forward=!1,this.currentNews=!1,this.spinnerWidth=75,this.spinnerHeight=45,this.loading=!0,this.subscriptions.push(this._dataService.newsFetched.subscribe(function(e){t.loading=e})),this.subscriptions.push(this._dataService.News.subscribe(function(e){t.loading?t.newsFetching=!1:setTimeout(function(){t.newsFetching=!1},500),e&&e.length&&(t.newsList=e),t.news&&t.news.length&&(t.news=t.newsList[t.counter]),t.currentNews=!0}))}return e.prototype.ngOnInit=function(){},e.prototype.ngOnDestroy=function(){this.subscriptions.map(function(e){e.unsubscribe()})},e.prototype.ToggleNewsPrevious=function(){this.forward=!1,this.counter>0?this.counter-=1:this.counter=this.newsList.length-1},e.prototype.ToggleNewsNext=function(){this.forward=!0,this.counter<this.newsList.length-1?this.counter+=1:this.counter=0},e.prototype.NewsChange=function(){var e=this;this.currentNews=!1,setTimeout(function(){e.currentNews=!0},0)},e}(),MD=Er({encapsulation:2,styles:[[""]],data:{}});function PD(e){return Cs(0,[(e()(),lu(0,0,null,null,1,"a",[["target","_blank"]],[[8,"href",4]],null,null,null,null)),(e()(),lu(1,0,null,null,0,"img",[["alt",""]],[[8,"src",4]],null,null,null,null))],null,function(e,t){var n=t.component;e(t,0,0,eu(1,"",n.newsList[n.counter].link,"")),e(t,1,0,n.newsList[n.counter].image)})}function jD(e){return Cs(0,[(e()(),lu(0,0,null,null,0,"img",[["alt","Image not found"]],[[8,"src",4]],null,null,null,null))],null,function(e,t){var n=t.component;e(t,0,0,n.newsList[n.counter].image)})}function ND(e){return Cs(0,[(e()(),lu(0,0,null,null,4,"div",[["class","avatar"]],null,null,null,null,null)),(e()(),iu(16777216,null,null,1,null,PD)),qu(2,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,jD)),qu(4,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component;e(t,2,0,n.newsList[n.counter].link),e(t,4,0,!n.newsList[n.counter].link)},null)}function LD(e){return Cs(0,[(e()(),lu(0,0,null,null,1,"h4",[],null,null,null,null,null)),(e()(),ys(1,null,["",""]))],null,function(e,t){var n=t.component;e(t,1,0,n.newsList[n.counter].title)})}function VD(e){return Cs(0,[(e()(),lu(0,0,null,null,2,"h4",[],null,null,null,null,null)),(e()(),lu(1,0,null,null,1,"a",[["target","_blank"]],[[8,"href",4]],null,null,null,null)),(e()(),ys(2,null,["",""]))],null,function(e,t){var n=t.component;e(t,1,0,eu(1,"",n.newsList[n.counter].link,"")),e(t,2,0,n.newsList[n.counter].title)})}function $D(e){return Cs(0,[(e()(),lu(0,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),ys(1,null,["",""]))],null,function(e,t){var n=t.component;e(t,1,0,n.newsList[n.counter].desc)})}function UD(e){return Cs(0,[(e()(),lu(0,0,null,null,9,"li",[["class","item imgContent animated"]],null,null,null,null,null)),qu(1,278528,null,0,Xc,[Yo,er,Li,zi],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(e()(),iu(16777216,null,null,1,null,ND)),qu(3,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,LD)),qu(5,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,VD)),qu(7,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,$D)),qu(9,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component;e(t,1,0,"item imgContent animated",n.forward?"fadeInLeft":"fadeInRight"),e(t,3,0,n.newsList[n.counter].image),e(t,5,0,n.newsList[n.counter].title&&!n.newsList[n.counter].link),e(t,7,0,n.newsList[n.counter].title&&n.newsList[n.counter].link),e(t,9,0,n.newsList[n.counter].desc)},null)}function HD(e){return Cs(0,[(e()(),lu(0,0,null,null,2,"ul",[["class","list-items"]],null,null,null,null,null)),(e()(),iu(16777216,null,null,1,null,UD)),qu(2,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null)],function(e,t){e(t,2,0,t.component.currentNews)},null)}function zD(e){return Cs(0,[(e()(),lu(0,0,null,null,3,"ul",[["class","list-items"]],null,null,null,null,null)),(e()(),lu(1,0,null,null,2,"li",[["class","item imgContent animated"]],null,null,null,null,null)),(e()(),lu(2,0,null,null,1,"app-preloader",[["class","mainSpinner"],["type","spin-loader-gray"]],null,null,null,Ib,Cb)),qu(3,114688,null,0,Db,[],{type:[0,"type"],spinnerWidth:[1,"spinnerWidth"],spinnerHeight:[2,"spinnerHeight"]},null)],function(e,t){var n=t.component;e(t,3,0,"spin-loader-gray",n.spinnerWidth,n.spinnerHeight)},null)}function GD(e){return Cs(0,[(e()(),lu(0,0,null,null,4,"div",[["class","arrows"]],null,[[null,"click"]],function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.NewsChange()&&i),i},null,null)),(e()(),lu(1,0,null,null,1,"div",[["class","left"]],null,[[null,"click"]],function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.ToggleNewsPrevious()&&i),i},null,null)),(e()(),lu(2,0,null,null,0,"img",[["src","/cw/assets/img/icons/svg/arrow-prev-black.svg"],["width","15"]],null,null,null,null,null)),(e()(),lu(3,0,null,null,1,"div",[["class","right"]],null,[[null,"click"]],function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.ToggleNewsNext()&&i),i},null,null)),(e()(),lu(4,0,null,null,0,"img",[["src","/cw/assets/img/icons/svg/arrow-next-black.svg"],["width","15"]],null,null,null,null,null))],null,null)}function qD(e){return Cs(0,[(e()(),iu(16777216,null,null,1,null,HD)),qu(1,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,zD)),qu(3,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,GD)),qu(5,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component;e(t,1,0,n.newsList&&n.newsList.length&&!n.newsFetching),e(t,3,0,n.newsFetching),e(t,5,0,n.newsList&&n.newsList.length&&!n.newsFetching)},null)}var WD=function(){function e(e,t){var n=this;this._dataService=e,this._appStateService=t,this.themeSettings=void 0,this.actionsForm=void 0,this.Conversations=[],this.subscriptions=[],this.showrecentChat=!1,this.subscriptions.push(this._appStateService.Settings.subscribe(function(e){e&&(n.themeSettings=e.themeSettings,n.actionsForm=e.actionsForm)})),this.subscriptions.push(this._appStateService.Permissions.subscribe(function(e){n.showrecentChat=e.showchathistory})),this.subscriptions.push(this._dataService.Conversations.subscribe(function(e){e.length>0&&(n.Conversations=e)})),this.subscriptions.push(this._appStateService.endChat.subscribe(function(e){n.endChat=e}))}return e.prototype.ngOnInit=function(){},e.prototype.GoToChat=function(){this._dataService.viewMode.next("message-window")},e.prototype.ngOnDestroy=function(){this.subscriptions.map(function(e){e.unsubscribe()})},e}(),JD=Er({encapsulation:2,styles:[[""]],data:{}});function KD(e){return Cs(0,[(e()(),lu(0,0,null,null,4,"button",[["class","btn w50"],["type","button"]],null,[[null,"click"]],function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component._dataService.OpenConversations()&&i),i},null,null)),qu(1,278528,null,0,op,[er,Li,zi],{ngStyle:[0,"ngStyle"]},null),ms(2,{"background-color":0,color:1}),(e()(),lu(3,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),ys(-1,null,["Recent Chats"]))],function(e,t){var n=t.component,i=n.themeSettings?e(t,2,0,n.themeSettings.secondryBtnColor,n.themeSettings.secondryBtnTextColor):"";e(t,1,0,i)},null)}function QD(e){return Cs(0,[(e()(),lu(0,0,null,null,8,"div",[["class","btn-group m-b-15"]],null,null,null,null,null)),(e()(),lu(1,0,null,null,5,"button",[["class","btn"],["id","btnSubmitTicket"],["type","button"]],null,[[null,"click"]],function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.GoToChat()&&i),i},null,null)),qu(2,278528,null,0,Xc,[Yo,er,Li,zi],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),qu(3,278528,null,0,op,[er,Li,zi],{ngStyle:[0,"ngStyle"]},null),ms(4,{"background-color":0,color:1}),(e()(),lu(5,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),ys(6,null,["",""])),(e()(),iu(16777216,null,null,1,null,KD)),qu(8,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component;e(t,2,0,"btn",n.Conversations&&n.Conversations.length&&!n.endChat&&n.showrecentChat?"w50":"btn-block");var i=n.themeSettings?e(t,4,0,n.themeSettings.btnColor,n.themeSettings.btnTextcolor):"";e(t,3,0,i),e(t,8,0,n.showrecentChat&&!n.endChat&&n.Conversations.length>0)},function(e,t){e(t,6,0,t.component.actionsForm.btnGoToChat)})}var ZD=function(){function e(e,t,n){var i=this;this.dialog=e,this._appStateService=t,this._dataService=n,this.themeSettings=void 0,this.actionsForm=void 0,this.subscriptions=[],this.permissions=void 0,this.Conversations=[],this.chatBotMsg="",this.agentsList=[],this.subscriptions.push(this._appStateService.Settings.subscribe(function(e){e&&(i.themeSettings=e.themeSettings,i.actionsForm=e.actionsForm)})),this.subscriptions.push(this._appStateService.Session.subscribe(function(e){e&&(i.session=e)})),this.subscriptions.push(this._appStateService.Permissions.subscribe(function(e){i.permissions=e})),this.subscriptions.push(this._dataService.Conversations.subscribe(function(e){e.length>0&&(i.Conversations=e)})),this.subscriptions.push(this._dataService.AgentList.subscribe(function(e){i.agentsList=e})),this.subscriptions.push(this._appStateService.endChat.subscribe(function(e){i.endChat=e}))}return e.prototype.ngOnInit=function(){},e.prototype.ngOnDestroy=function(){this.subscriptions.map(function(e){e.unsubscribe()})},e.prototype.OpenUserForm=function(){var e=this;this.agentsList&&!this.agentsList.length?this.dialog.open(ng,{autoFocus:!0,panelClass:["dialog-inner"]}).afterClosed().subscribe(function(t){t&&"Yes"==t.status&&e.dialog.open(lg,{panelClass:["dialog-inner"],autoFocus:!0}).afterClosed().subscribe(function(t){t&&"chat"==t.result&&e._dataService.viewMode.next("message-window")})},function(e){}):this.dialog.open(Dg,{panelClass:["dialog-inner"],autoFocus:!0}).afterClosed().subscribe(function(t){t&&"failure"==t.status&&(e._dataService.TempData.next(t.user),e.dialog.open(ng,{autoFocus:!0,panelClass:["dialog-inner"]}).afterClosed().subscribe(function(t){t&&"Yes"==t.status&&e.dialog.open(lg,{panelClass:["dialog-inner"],autoFocus:!0}).afterClosed().subscribe(function(t){t&&"chat"==t.result&&e._dataService.viewMode.next("message-window")})},function(e){}))})},e.prototype.OpenTicketForm=function(){var e=this;this.dialog.open(lg,{panelClass:["dialog-inner"],autoFocus:!0}).afterClosed().subscribe(function(t){t&&"chat"==t.result&&e._dataService.viewMode.next("message-window")})},e.prototype.GoToChat=function(){this._dataService.UpdateMessageSentStatusRest(),this._dataService.viewMode.next("message-window")},e.prototype.ChatBotMessage=function(e){this._dataService.ChatBotMessage(e).subscribe(function(e){})},e}(),XD=Er({encapsulation:2,styles:[[""]],data:{}});function YD(e){return Cs(0,[(e()(),lu(0,0,null,null,5,"button",[["class","btn"],["style","font-size:13px"],["type","button"]],null,[[null,"click"]],function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.GoToChat()&&i),i},null,null)),qu(1,278528,null,0,Xc,[Yo,er,Li,zi],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),qu(2,278528,null,0,op,[er,Li,zi],{ngStyle:[0,"ngStyle"]},null),ms(3,{"background-color":0,color:1}),(e()(),lu(4,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),ys(5,null,["",""]))],function(e,t){var n=t.component;e(t,1,0,"btn",n.Conversations&&n.Conversations.length>0&&!n.endChat&&n.permissions.showchathistory?"w50":"btn-block");var i=n.themeSettings?e(t,3,0,n.themeSettings.btnColor,n.themeSettings.btnTextcolor):"";e(t,2,0,i)},function(e,t){e(t,5,0,t.component.actionsForm.btnGoToChat)})}function eC(e){return Cs(0,[(e()(),lu(0,0,null,null,5,"button",[["class","btn"],["style","font-size:13px"],["type","button"]],null,[[null,"click"]],function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.OpenUserForm()&&i),i},null,null)),qu(1,278528,null,0,Xc,[Yo,er,Li,zi],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),qu(2,278528,null,0,op,[er,Li,zi],{ngStyle:[0,"ngStyle"]},null),ms(3,{"background-color":0,color:1}),(e()(),lu(4,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),ys(5,null,["",""]))],function(e,t){var n=t.component;e(t,1,0,"btn",n.Conversations&&n.Conversations.length>0&&!n.endChat&&n.permissions.showchathistory?"w50":"btn-block");var i=n.themeSettings?e(t,3,0,n.themeSettings.btnColor,n.themeSettings.btnTextcolor):"";e(t,2,0,i)},function(e,t){e(t,5,0,t.component.actionsForm.btnChat)})}function tC(e){return Cs(0,[(e()(),lu(0,0,null,null,4,"button",[["class","btn w50"],["style","font-size:13px"],["type","button"]],null,[[null,"click"]],function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component._dataService.OpenConversations()&&i),i},null,null)),qu(1,278528,null,0,op,[er,Li,zi],{ngStyle:[0,"ngStyle"]},null),ms(2,{"background-color":0,color:1}),(e()(),lu(3,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),ys(-1,null,["Recent Chats"]))],function(e,t){var n=t.component,i=n.themeSettings?e(t,2,0,n.themeSettings.secondryBtnColor,n.themeSettings.secondryBtnTextColor):"";e(t,1,0,i)},null)}function nC(e){return Cs(0,[(e()(),lu(0,0,null,null,4,"button",[["class","btn btn-block"],["style","font-size:13px"],["type","button"]],null,[[null,"click"]],function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.OpenTicketForm()&&i),i},null,null)),qu(1,278528,null,0,op,[er,Li,zi],{ngStyle:[0,"ngStyle"]},null),ms(2,{"background-color":0,color:1}),(e()(),lu(3,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),ys(4,null,["",""]))],function(e,t){var n=t.component,i=n.themeSettings?e(t,2,0,n.themeSettings.btnColor,n.themeSettings.btnTextcolor):"";e(t,1,0,i)},function(e,t){e(t,4,0,t.component.actionsForm.btnTicket)})}function iC(e){return Cs(0,[(e()(),lu(0,0,null,null,6,"div",[["class","btn-group m-b-15"]],null,null,null,null,null)),(e()(),iu(16777216,null,null,1,null,YD)),qu(2,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,eC)),qu(4,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,tC)),qu(6,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,nC)),qu(8,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component;e(t,2,0,n.session&&(3==n.session.state||2==n.session.state||4==n.session.state||5==n.session.state||7==n.session.state||8==n.session.state)),e(t,4,0,n.session&&3!=n.session.state&&2!=n.session.state&&4!=n.session.state&&5!=n.session.state&&7!=n.session.state&&8!=n.session.state),e(t,6,0,n.session&&!n.endChat&&n.Conversations&&n.Conversations.length>0&&n.permissions.showchathistory),e(t,8,0,n.permissions&&n.permissions.allowedAgentAvailable&&n.agentsList&&!n.agentsList.length)},null)}var lC=function(){function e(e,t){var n=this;this._appStateService=e,this._dataService=t,this.themeSettings=void 0,this.subscriptions=[],this.faqs=void 0,this.search="",this.loading=!1,this.infoForm=void 0,this.faqInput=new Ta.Subject,this.subscriptions.push(this._appStateService.Settings.subscribe(function(e){e&&(n.themeSettings=e.themeSettings,n.infoForm=e.infoForm)}))}return e.prototype.ngOnInit=function(){},e.prototype.ngOnDestroy=function(){this.subscriptions.map(function(e){e.unsubscribe()})},e.prototype.Find=function(){var e=this;this.search?(this.loading=!0,this._dataService.GetFAQSRest(this.search).subscribe(function(t){e.loading=!1,"ok"==t.status&&(e.faqs=t.FAQS)})):this.faqs=[]},e}(),oC=Er({encapsulation:2,styles:[['.answer{padding-left:15px;position:relative}.answer:before{content:"A.";position:absolute;left:0;top:0;color:var(--gray-dark)}']],data:{}});function rC(e){return Cs(0,[(e()(),lu(0,0,null,null,5,"li",[],null,null,null,null,null)),(e()(),lu(1,0,null,null,4,"div",[],null,null,null,null,null)),(e()(),lu(2,0,null,null,1,"h5",[],null,null,null,null,null)),(e()(),ys(3,null,["Q. ",""])),(e()(),lu(4,0,null,null,1,"div",[["class","answer"]],[[8,"innerHTML",1]],null,null,null,null)),gs(5,2)],null,function(e,t){e(t,3,0,t.context.$implicit.question);var n=wr(t,4,0,e(t,5,0,Ou(t.parent.parent,0),t.context.$implicit.answer,"html"));e(t,4,0,n)})}function uC(e){return Cs(0,[(e()(),lu(0,0,null,null,2,"ul",[["class","dropdown_list"]],null,null,null,null,null)),(e()(),iu(16777216,null,null,1,null,rC)),qu(2,278528,null,0,ep,[Oo,Al,Yo],{ngForOf:[0,"ngForOf"]},null)],function(e,t){e(t,2,0,t.component.faqs)},null)}function sC(e){return Cs(0,[Wu(0,Bb,[bh]),(e()(),lu(1,0,null,null,23,"ul",[["class","list-items"]],null,null,null,null,null)),(e()(),lu(2,0,null,null,22,"li",[["class","item dropdown"]],null,null,null,null,null)),(e()(),lu(3,0,null,null,19,"div",[["class","input-block m-b-0"]],null,null,null,null,null)),(e()(),lu(4,0,null,null,3,"label",[],null,null,null,null,null)),qu(5,278528,null,0,op,[er,Li,zi],{ngStyle:[0,"ngStyle"]},null),ms(6,{color:0}),(e()(),ys(7,null,["",""])),(e()(),lu(8,0,null,null,14,"div",[["class","input-group"]],null,null,null,null,null)),(e()(),lu(9,0,null,null,7,"input",[["class","form-control"],["placeholder","Search..."],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(e,t,n){var i=!0,l=e.component;return"input"===t&&(i=!1!==Ou(e,12)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==Ou(e,12).onTouched()&&i),"compositionstart"===t&&(i=!1!==Ou(e,12)._compositionStart()&&i),"compositionend"===t&&(i=!1!==Ou(e,12)._compositionEnd(n.target.value)&&i),"ngModelChange"===t&&(i=!1!==(l.search=n)&&i),i},null,null)),qu(10,278528,null,0,op,[er,Li,zi],{ngStyle:[0,"ngStyle"]},null),ms(11,{"border-color":0}),qu(12,16384,null,0,tf,[zi,Li,[2,ef]],null,null),Ju(1024,null,Xh,function(e){return[e]},[tf]),qu(14,671744,null,0,Hf,[[8,null],[8,null],[8,null],[6,Xh]],{model:[0,"model"]},{update:"ngModelChange"}),Ju(2048,null,uf,null,[Hf]),qu(16,16384,null,0,kf,[[4,uf]],null,null),(e()(),lu(17,0,null,null,5,"div",[["class","input-group-btn"]],null,null,null,null,null)),(e()(),lu(18,0,null,null,4,"button",[["class","btn"],["type","button"]],null,[[null,"click"]],function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.Find()&&i),i},null,null)),qu(19,278528,null,0,Xc,[Yo,er,Li,zi],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),qu(20,278528,null,0,op,[er,Li,zi],{ngStyle:[0,"ngStyle"]},null),ms(21,{"background-color":0,color:1}),(e()(),ys(22,null,["",""])),(e()(),iu(16777216,null,null,1,null,uC)),qu(24,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component,i=n.themeSettings?e(t,6,0,n.themeSettings.contentColor):"";e(t,5,0,i);var l=n.themeSettings?e(t,11,0,n.themeSettings.borderColor):"";e(t,10,0,l),e(t,14,0,n.search),e(t,19,0,"btn",n.loading?"btnSpinner":"");var o=n.themeSettings?e(t,21,0,n.themeSettings.btnColor,n.themeSettings.btnTextcolor):"";e(t,20,0,o),e(t,24,0,n.faqs&&n.faqs.length)},function(e,t){var n=t.component;e(t,7,0,n.infoForm.heading),e(t,9,0,Ou(t,16).ngClassUntouched,Ou(t,16).ngClassTouched,Ou(t,16).ngClassPristine,Ou(t,16).ngClassDirty,Ou(t,16).ngClassValid,Ou(t,16).ngClassInvalid,Ou(t,16).ngClassPending),e(t,22,0,n.infoForm.btnName)})}var aC=function(){function e(e,t){var n=this;this._dataService=e,this._appStateService=t,this.subscriptions=[],this.promotionsList=[],this.promotionsFetching=!0,this.loading=!0,this.spinnerWidth=75,this.spinnerHeight=45,this.subscriptions.push(this._dataService.promotionsFetched.subscribe(function(e){n.loading=e})),this.subscriptions.push(this._dataService.Promotions.subscribe(function(e){n.loading?n.promotionsFetching=!1:setTimeout(function(){n.promotionsFetching=!1},500),e&&e.length&&(n.promotionsList=e)})),this.subscriptions.push(this._appStateService.Settings.subscribe(function(e){e&&(n.themeSettings=e.themeSettings)}))}return e.prototype.ngOnInit=function(){},e.prototype.ngOnDestroy=function(){this.subscriptions.map(function(e){e.unsubscribe()})},e}(),cC=Er({encapsulation:2,styles:[[""]],data:{}});function pC(e){return Cs(0,[(e()(),lu(0,0,null,null,3,"h3",[["class"," title-with-border p-0 b-0"]],null,null,null,null,null)),qu(1,278528,null,0,op,[er,Li,zi],{ngStyle:[0,"ngStyle"]},null),ms(2,{color:0}),(e()(),ys(-1,null,["\nPromotions"]))],function(e,t){var n=t.component,i=n.themeSettings?e(t,2,0,n.themeSettings.contentColor):"";e(t,1,0,i)},null)}function dC(e){return Cs(0,[(e()(),lu(0,0,null,null,1,"a",[["target","_blank"]],[[8,"href",4]],null,null,null,null)),(e()(),lu(1,0,null,null,0,"img",[["alt",""]],[[8,"src",4]],null,null,null,null))],null,function(e,t){e(t,0,0,eu(1,"",t.parent.parent.parent.context.$implicit.link,"")),e(t,1,0,t.parent.parent.parent.context.$implicit.image)})}function hC(e){return Cs(0,[(e()(),lu(0,0,null,null,2,"div",[["class","avatar"]],null,null,null,null,null)),(e()(),iu(16777216,null,null,1,null,dC)),qu(2,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null)],function(e,t){e(t,2,0,t.parent.parent.context.$implicit.link)},null)}function fC(e){return Cs(0,[(e()(),lu(0,0,null,null,1,"h4",[],null,null,null,null,null)),(e()(),ys(1,null,["",""]))],null,function(e,t){e(t,1,0,t.parent.parent.context.$implicit.title)})}function gC(e){return Cs(0,[(e()(),lu(0,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),ys(1,null,["",""]))],null,function(e,t){e(t,1,0,t.parent.parent.context.$implicit.desc)})}function mC(e){return Cs(0,[(e()(),lu(0,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),ys(1,null,["",""]))],null,function(e,t){e(t,1,0,t.parent.parent.context.$implicit.price)})}function vC(e){return Cs(0,[(e()(),lu(0,0,null,null,8,"li",[["class","item imgContent animated slideInLeft"]],null,null,null,null,null)),(e()(),iu(16777216,null,null,1,null,hC)),qu(2,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,fC)),qu(4,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,gC)),qu(6,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,mC)),qu(8,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null)],function(e,t){e(t,2,0,t.parent.context.$implicit.image),e(t,4,0,t.parent.context.$implicit.title),e(t,6,0,t.parent.context.$implicit.desc),e(t,8,0,t.parent.context.$implicit.price)},null)}function yC(e){return Cs(0,[(e()(),lu(0,0,null,null,1,"a",[["target","_blank"]],[[8,"href",4]],null,null,null,null)),(e()(),lu(1,0,null,null,0,"img",[["alt",""]],[[8,"src",4]],null,null,null,null))],null,function(e,t){e(t,0,0,eu(1,"",t.parent.parent.parent.context.$implicit.link?t.parent.parent.parent.context.$implicit.link:"Click the Link","")),e(t,1,0,t.parent.parent.parent.context.$implicit.image)})}function bC(e){return Cs(0,[(e()(),lu(0,0,null,null,2,"div",[["class","avatar"]],null,null,null,null,null)),(e()(),iu(16777216,null,null,1,null,yC)),qu(2,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null)],function(e,t){e(t,2,0,t.parent.parent.context.$implicit.image)},null)}function DC(e){return Cs(0,[(e()(),lu(0,0,null,null,2,"li",[["class","item banner animated slideInLeft"]],null,null,null,null,null)),(e()(),iu(16777216,null,null,1,null,bC)),qu(2,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null)],function(e,t){e(t,2,0,t.parent.context.$implicit.image)},null)}function CC(e){return Cs(0,[(e()(),lu(0,0,null,null,0,"img",[["alt",""]],[[8,"src",4]],null,null,null,null))],null,function(e,t){e(t,0,0,t.parent.parent.context.$implicit.image)})}function SC(e){return Cs(0,[(e()(),lu(0,0,null,null,1,"a",[["target","_blank"]],[[8,"href",4]],null,null,null,null)),(e()(),lu(1,0,null,null,0,"img",[["alt",""]],[[8,"src",4]],null,null,null,null))],null,function(e,t){e(t,0,0,eu(1,"",t.parent.parent.context.$implicit.link,"")),e(t,1,0,t.parent.parent.context.$implicit.image)})}function _C(e){return Cs(0,[(e()(),lu(0,0,null,null,2,"h4",[],null,null,null,null,null)),(e()(),lu(1,0,null,null,1,"a",[["target","_blank"]],[[8,"href",4]],null,null,null,null)),(e()(),ys(2,null,["",""]))],null,function(e,t){e(t,1,0,eu(1,"",t.parent.parent.context.$implicit.link,"")),e(t,2,0,t.parent.parent.context.$implicit.title)})}function wC(e){return Cs(0,[(e()(),lu(0,0,null,null,1,"h4",[],null,null,null,null,null)),(e()(),ys(1,null,["",""]))],null,function(e,t){e(t,1,0,t.parent.parent.context.$implicit.title)})}function xC(e){return Cs(0,[(e()(),lu(0,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),ys(1,null,["",""]))],null,function(e,t){e(t,1,0,t.parent.parent.context.$implicit.desc)})}function FC(e){return Cs(0,[(e()(),lu(0,0,null,null,11,"li",[["class","item post animated slideInLeft"]],null,null,null,null,null)),(e()(),iu(16777216,null,null,1,null,CC)),qu(2,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,SC)),qu(4,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),lu(5,0,null,null,6,"div",[["class","content"]],null,null,null,null,null)),(e()(),iu(16777216,null,null,1,null,_C)),qu(7,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,wC)),qu(9,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,xC)),qu(11,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null)],function(e,t){e(t,2,0,!t.parent.context.$implicit.link&&t.parent.context.$implicit.image),e(t,4,0,t.parent.context.$implicit.link&&t.parent.context.$implicit.image),e(t,7,0,t.parent.context.$implicit.title&&t.parent.context.$implicit.link),e(t,9,0,t.parent.context.$implicit.title&&!t.parent.context.$implicit.link),e(t,11,0,t.parent.context.$implicit.desc)},null)}function EC(e){return Cs(0,[(e()(),lu(0,0,null,null,6,"ul",[["class","list-items"]],null,null,null,null,null)),(e()(),iu(16777216,null,null,1,null,vC)),qu(2,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,DC)),qu(4,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,FC)),qu(6,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null)],function(e,t){e(t,2,0,t.context.$implicit.type&&"product"==t.context.$implicit.type),e(t,4,0,t.context.$implicit.type&&"banner"==t.context.$implicit.type),e(t,6,0,t.context.$implicit.type&&"post"==t.context.$implicit.type)},null)}function kC(e){return Cs(0,[(e()(),lu(0,0,null,null,2,"div",[["class","clearfix"]],null,null,null,null,null)),(e()(),iu(16777216,null,null,1,null,EC)),qu(2,278528,null,0,ep,[Oo,Al,Yo],{ngForOf:[0,"ngForOf"]},null)],function(e,t){e(t,2,0,t.component.promotionsList)},null)}function AC(e){return Cs(0,[(e()(),lu(0,0,null,null,1,"app-preloader",[["class","mainSpinner"],["type","spin-loader-gray"]],null,null,null,Ib,Cb)),qu(1,114688,null,0,Db,[],{type:[0,"type"],spinnerWidth:[1,"spinnerWidth"],spinnerHeight:[2,"spinnerHeight"]},null)],function(e,t){var n=t.component;e(t,1,0,"spin-loader-gray",n.spinnerWidth,n.spinnerHeight)},null)}function TC(e){return Cs(0,[(e()(),lu(0,0,null,null,2,"div",[["class","clearfix"]],null,null,null,null,null)),(e()(),iu(16777216,null,null,1,null,AC)),qu(2,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null)],function(e,t){e(t,2,0,t.component.promotionsFetching)},null)}function IC(e){return Cs(0,[(e()(),iu(16777216,null,null,1,null,pC)),qu(1,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,kC)),qu(3,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,TC)),qu(5,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component;e(t,1,0,n.promotionsList&&n.promotionsList.length&&!n.promotionsFetching),e(t,3,0,n.promotionsList&&n.promotionsList.length&&!n.promotionsFetching),e(t,5,0,n.promotionsFetching)},null)}var BC=function(){function e(e,t,n){var i=this;this._dataService=e,this._appStateService=t,this.dialogue=n,this.subscriptions=[],this.newsList=void 0,this.promotions=void 0,this.BotDialogue=!1,this.session=void 0,this.newsFetched=!1,this.subscriptions.push(this._appStateService.Permissions.subscribe(function(e){i.permissions=e})),this.subscriptions.push(this._appStateService.botConversationStarted.subscribe(function(e){i.botConversationStarted=e})),this.subscriptions.push(this._dataService.News.subscribe(function(e){i.newsList=e})),this.subscriptions.push(this._dataService.Promotions.subscribe(function(e){i.promotions=e})),this.subscriptions.push(this._dataService.newsFetched.subscribe(function(e){i.newsFetched=e})),this.subscriptions.push(this._appStateService.Session.subscribe(function(e){e&&(i.session=JSON.parse(JSON.stringify(e)),setTimeout(function(){!i.session||6!=i.session.state||i.BotDialogue||i.botConversationStarted||(i.BotDialogue=!0,i.dialogue.open(vy,{disableClose:!0,autoFocus:!0}).afterClosed().subscribe(function(e){i.BotDialogue=!1,e&&"ok"==e.status?(i._dataService.LoadMessagesOffline(),i._dataService.viewMode.next("message-window")):e&&"chatBot"==e.status&&(i._appStateService.SaveChatBotState(!0),i._dataService.viewMode.next("message-window"))}))},0))})),this.subscriptions.push(this._dataService.noAgentAvailable.subscribe(function(e){i.session&&e&&setTimeout(function(){i.dialogue.open(ng,{autoFocus:!0,disableClose:!0}).afterClosed().subscribe(function(e){e&&"Yes"==e.status&&i.dialogue.open(lg,{autoFocus:!0}).afterClosed().subscribe(function(e){e&&"chat"==e.result&&i._dataService.viewMode.next("message-window")})},function(e){})},500)}))}return e.prototype.ngOnInit=function(){},e.prototype.ngOnDestroy=function(){this.subscriptions.map(function(e){return e.unsubscribe()})},e}(),OC=Er({encapsulation:2,styles:[[""]],data:{}});function RC(e){return Cs(0,[(e()(),lu(0,0,null,null,1,"app-userinformation-form",[["class","userInformation clearfix"],["id","userInformation"]],null,null,null,vg,rg)),qu(1,245760,null,0,og,[tg,Zf,yd],null,null)],function(e,t){e(t,1,0)},null)}function MC(e){return Cs(0,[(e()(),lu(0,0,null,null,1,"app-go-to-chat",[["class","goToChat clearfix"],["id","goToChat"]],null,null,null,QD,JD)),qu(1,245760,null,0,WD,[tg,Zf],null,null)],function(e,t){e(t,1,0)},null)}function PC(e){return Cs(0,[(e()(),lu(0,0,null,null,1,"app-actions",[["class","actionBtns clearfix"],["id","actionBtns"]],null,null,null,iC,XD)),qu(1,245760,null,0,ZD,[yd,Zf,tg],null,null)],function(e,t){e(t,1,0)},null)}function jC(e){return Cs(0,[(e()(),lu(0,0,null,null,1,"app-info",[["class","faqList clearfix"],["id","faqList"]],null,null,null,sC,oC)),qu(1,245760,null,0,lC,[Zf,tg],null,null)],function(e,t){e(t,1,0)},null)}function NC(e){return Cs(0,[(e()(),lu(0,0,null,null,1,"app-promotions",[["class","promotionList clearfix"],["id","promotionList"]],null,null,null,IC,cC)),qu(1,245760,null,0,aC,[tg,Zf],null,null)],function(e,t){e(t,1,0)},null)}function LC(e){return Cs(0,[(e()(),iu(16777216,null,null,1,null,RC)),qu(1,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,MC)),qu(3,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,PC)),qu(5,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,jC)),qu(7,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,NC)),qu(9,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component;e(t,1,0,n.session&&3!=n.session.state&&2!=n.session.state&&4!=n.session.state&&5!=n.session.state&&7!=n.session.state&&8!=n.session.state&&n.permissions&&(!n.permissions.news||n.newsList&&!n.newsList.length&&n.newsFetched)),e(t,3,0,n.session&&(3==n.session.state||2==n.session.state||4==n.session.state||5==n.session.state||7==n.session.state||8==n.session.state)&&n.permissions&&(!n.permissions.news||n.newsList&&!n.newsList.length&&n.newsFetched)),e(t,5,0,n.permissions&&n.permissions.news&&n.newsList&&n.newsList.length&&n.newsFetched&&6!=n.session.state),e(t,7,0,n.permissions&&n.permissions.faqs),e(t,9,0,n.permissions&&n.permissions.promotions)},null)}var VC=function(){function e(e,t,n){var i=this;this._dataService=e,this._appservice=t,this.dialogue=n,this.Messages=[],this.botUnconfigMessages=[],this.scrollHeight=0,this.autoScroll=!1,this.subscription=[],this.imageError=!1,this.typing=!1,this.sending=!1,this.forceEndedChat=!1,this.chatEnded=!1,this.subscription.push(this._appservice.Settings.subscribe(function(e){e&&(i.themeSettings=e.themeSettings,i.displaySettings=e.messageWindow,i.dialogueSettings=e.dialogSettings)})),this.subscription.push(this._dataService.Messages.subscribe(function(e){e&&e.length>0&&(i.Messages=e)})),this.subscription.push(this._appservice.endChat.subscribe(function(e){i.chatEnded=e})),this.subscription.push(this._appservice.AutoScroll.subscribe(function(e){i.autoScroll=e})),this.subscription.push(this._appservice.Session.subscribe(function(e){e&&(i.Session=e)})),this.subscription.push(this._dataService.botMessages.subscribe(function(e){e.length>0&&(i.botUnconfigMessages=e)})),this.subscription.push(this._dataService.botError.subscribe(function(e){})),this.subscription.push(this._dataService.typing.subscribe(function(e){i.typing=e})),this.subscription.push(this._dataService.sending.subscribe(function(e){i.sending=e})),this.subscription.push(this._dataService.forceEndedChat.subscribe(function(e){i.forceEndedChat=e}))}return e.prototype.CheckAttachmentType=function(e){return"string"==typeof e},e.prototype.ngOnDestroy=function(){this.subscription.map(function(e){e.unsubscribe()})},e.prototype.ngAfterViewInit=function(){this.scrollHeight=this.scrollbarRef.nativeElement.scrollHeight,this.scrollbarRef.nativeElement.scrollTop=this.scrollbarRef.nativeElement.scrollHeight},e.prototype.ScrollChanged=function(e){Math.round(e.target.scrollTop+e.target.clientHeight)>=this.scrollbarRef.nativeElement.scrollHeight-10?this.autoScroll||(this._appservice.AutoScroll.next(!0),this._appservice.SetMessageCount(0)):this.autoScroll&&this._appservice.AutoScroll.next(!1),this.scrollHeight=this.scrollbarRef.nativeElement.scrollHeight},e.prototype.ngAfterViewChecked=function(){this.scrollbarRef&&this.scrollbarRef.nativeElement.scrollHeight!=this.scrollHeight&&(this.scrollHeight=this.scrollbarRef.nativeElement.scrollHeight,this.autoScroll&&(this.scrollbarRef.nativeElement.scrollTop=this.scrollbarRef.nativeElement.scrollHeight+20))},e.prototype.ngOnInit=function(){},e.prototype.ImageBroken=function(){this.imageError=!0},e.prototype.ApplyHeaderColorWithGradient=function(e){return JSON.parse(JSON.parse(JSON.stringify('{\n      "background": "linear-gradient(20deg,'+this.themeSettings.headerSecondryColor+" 30%, "+this.themeSettings.headerColor+' 100%)"\n    }')))},e.prototype.ResendMessage=function(e){this._dataService.SendMessage(e,!0)},e.prototype.StartOver=function(e){var t=this;this._dataService.ClearSessionData().subscribe(function(e){e&&t._dataService.SessionStartOver(!0).subscribe(function(e){})})},e}(),$C=Er({encapsulation:2,styles:[[""]],data:{}});function UC(e){return Cs(0,[(e()(),lu(0,0,null,null,7,"div",[["class","day-separator clearfix"]],null,null,null,null,null)),(e()(),lu(1,0,null,null,6,"span",[["class","badge"]],null,null,null,null,null)),(e()(),lu(2,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),ys(3,null,["",""])),(e()(),lu(4,0,null,null,3,"span",[["class","date"]],null,null,null,null,null)),(e()(),ys(5,null,[""," ",""])),gs(6,2),gs(7,2)],null,function(e,t){e(t,3,0,t.parent.context.$implicit.body);var n=wr(t,5,0,e(t,6,0,Ou(t.parent.parent.parent.parent,0),t.parent.context.$implicit.date,"mediumDate")),i=wr(t,5,1,e(t,7,0,Ou(t.parent.parent.parent.parent,0),t.parent.context.$implicit.date,"shortTime"));e(t,5,0,n,i)})}function HC(e){return Cs(0,[(e()(),lu(0,0,null,null,0,"img",[["height","auto"],["src","/cw/assets/img/icons/svg/attach-black.svg"],["width","20"]],null,null,null,null,null))],null,null)}function zC(e){return Cs(0,[(e()(),lu(0,0,null,null,0,"img",[["height","auto"],["width","100%"]],[[8,"src",4]],null,null,null,null))],null,function(e,t){e(t,0,0,eu(1,"",t.parent.parent.context.$implicit.body,""))})}function GC(e){return Cs(0,[(e()(),lu(0,0,null,null,0,"audio",[["controls",""]],[[8,"src",4]],[[null,"progress"]],function(e,t,n){var i=!0;return"progress"===t&&(i=!1!==e.component.Audio(n)&&i),i},null,null))],null,function(e,t){e(t,0,0,eu(1,"",t.parent.parent.context.$implicit.body,""))})}function qC(e){return Cs(0,[(e()(),lu(0,0,null,null,1,"video",[["controls",""],["width","250"]],null,null,null,null,null)),(e()(),lu(1,0,null,null,0,"source",[["type","video/mp4"]],[[8,"src",4]],null,null,null,null))],null,function(e,t){e(t,1,0,eu(1,"",t.parent.parent.context.$implicit.body,""))})}function WC(e){return Cs(0,[(e()(),lu(0,0,null,null,35,"div",[["class","chat-text attachment"]],null,null,null,null,null)),qu(1,278528,null,0,op,[er,Li,zi],{ngStyle:[0,"ngStyle"]},null),ms(2,{"background-color":0,color:1}),ms(3,{"background-color":0,color:1}),(e()(),lu(4,0,null,null,27,"a",[],[[8,"href",4],[8,"target",0]],null,null,null,null)),qu(5,278528,null,0,Xc,[Yo,er,Li,zi],{ngClass:[0,"ngClass"]},null),gs(6,1),gs(7,1),gs(8,1),gs(9,1),gs(10,1),gs(11,1),gs(12,1),(e()(),lu(13,0,null,null,13,"div",[["class","thumbnail"]],null,null,null,null,null)),(e()(),iu(16777216,null,null,3,null,HC)),qu(15,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),gs(16,1),gs(17,1),(e()(),iu(16777216,null,null,2,null,zC)),qu(19,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),gs(20,1),(e()(),iu(16777216,null,null,2,null,GC)),qu(22,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),gs(23,1),(e()(),iu(16777216,null,null,2,null,qC)),qu(25,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),gs(26,1),(e()(),lu(27,0,null,null,4,"div",[["class","file-name tooltip top"]],null,null,null,null,null)),(e()(),lu(28,0,null,null,1,"span",[["class","ellipsis"]],null,null,null,null,null)),(e()(),ys(29,null,["",""])),(e()(),lu(30,0,null,null,1,"span",[["class","tooltip-inner"]],null,null,null,null,null)),(e()(),ys(31,null,["",""])),(e()(),lu(32,0,null,null,3,"span",[["class","arrow"]],null,null,null,null,null)),qu(33,278528,null,0,op,[er,Li,zi],{ngStyle:[0,"ngStyle"]},null),ms(34,{"border-top-color":0}),ms(35,{"border-top-color":0})],function(e,t){var n=t.component,i=n.themeSettings?n.ApplyHeaderColorWithGradient(n.themeSettings.headerColor):n.displaySettings?"Visitors"==t.parent.context.$implicit.type?e(t,2,0,n.displaySettings.sentBGColor,n.displaySettings.sentForeColor):e(t,3,0,n.displaySettings.recieveBGColor,n.displaySettings.recieveForeColor):"";e(t,1,0,i);var l="data"==wr(t,5,0,e(t,6,0,Ou(t.parent.parent.parent.parent,1),t.parent.context.$implicit.body))?"file":"image"==wr(t,5,0,e(t,7,0,Ou(t.parent.parent.parent.parent,1),t.parent.context.$implicit.body))?"image":"audio"==wr(t,5,0,e(t,8,0,Ou(t.parent.parent.parent.parent,1),t.parent.context.$implicit.body))?"audio":"document"==wr(t,5,0,e(t,9,0,Ou(t.parent.parent.parent.parent,1),t.parent.context.$implicit.body))?"document":"video"==wr(t,5,0,e(t,10,0,Ou(t.parent.parent.parent.parent,1),t.parent.context.$implicit.body))?"video":"";e(t,5,0,l);var o="document"==wr(t,15,0,e(t,16,0,Ou(t.parent.parent.parent.parent,1),t.parent.context.$implicit.body))||"data"==wr(t,15,0,e(t,17,0,Ou(t.parent.parent.parent.parent,1),t.parent.context.$implicit.body));e(t,15,0,o);var r=t.parent.context.$implicit.attachment&&"image"==wr(t,19,0,e(t,20,0,Ou(t.parent.parent.parent.parent,1),t.parent.context.$implicit.body));e(t,19,0,r);var u=t.parent.context.$implicit.attachment&&"audio"==wr(t,22,0,e(t,23,0,Ou(t.parent.parent.parent.parent,1),t.parent.context.$implicit.body));e(t,22,0,u);var s=t.parent.context.$implicit.attachment&&"video"==wr(t,25,0,e(t,26,0,Ou(t.parent.parent.parent.parent,1),t.parent.context.$implicit.body));e(t,25,0,s);var a=n.displaySettings?"Visitors"==t.parent.context.$implicit.type?e(t,34,0,n.displaySettings.sentBGColor):e(t,35,0,n.displaySettings.recieveBGColor):"";e(t,33,0,a)},function(e,t){var n=eu(1,"",t.parent.context.$implicit.body,""),i="document"!=wr(t,4,1,e(t,11,0,Ou(t.parent.parent.parent.parent,1),t.parent.context.$implicit.body))||"data"!=wr(t,4,1,e(t,12,0,Ou(t.parent.parent.parent.parent,1),t.parent.context.$implicit.body))?"self":"_blank";e(t,4,0,n,i),e(t,29,0,t.parent.context.$implicit.filename),e(t,31,0,t.parent.context.$implicit.filename)})}function JC(e){return Cs(0,[(e()(),lu(0,0,null,null,0,"img",[["class","svg"],["height","100"],["width","auto"]],[[8,"src",4]],null,null,null,null))],null,function(e,t){e(t,0,0,eu(1,"",t.parent.context.$implicit.path,""))})}function KC(e){return Cs(0,[(e()(),lu(0,0,null,null,0,"img",[["height","auto"],["src","/cw/assets/img/icons/svg/attach-black.svg"],["width","20"]],null,null,null,null,null))],null,null)}function QC(e){return Cs(0,[(e()(),lu(0,0,null,null,0,"audio",[["controls",""]],[[8,"src",4]],null,null,null,null))],null,function(e,t){e(t,0,0,eu(1,"",t.parent.context.$implicit.path,""))})}function ZC(e){return Cs(0,[(e()(),lu(0,0,null,null,1,"video",[["controls",""],["width","250"]],null,null,null,null,null)),(e()(),lu(1,0,null,null,0,"source",[["type","video/mp4"]],[[8,"src",4]],null,null,null,null))],null,function(e,t){e(t,1,0,eu(1,"",t.parent.context.$implicit.path,""))})}function XC(e){return Cs(0,[(e()(),lu(0,0,null,null,25,"a",[],[[8,"href",4],[8,"target",0]],null,null,null,null)),qu(1,278528,null,0,Xc,[Yo,er,Li,zi],{ngClass:[0,"ngClass"]},null),gs(2,1),gs(3,1),gs(4,1),gs(5,1),gs(6,1),(e()(),lu(7,0,null,null,13,"div",[["class","thumbnail"]],null,null,null,null,null)),(e()(),iu(16777216,null,null,2,null,JC)),qu(9,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),gs(10,1),(e()(),iu(16777216,null,null,3,null,KC)),qu(12,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),gs(13,1),gs(14,1),(e()(),iu(16777216,null,null,2,null,QC)),qu(16,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),gs(17,1),(e()(),iu(16777216,null,null,2,null,ZC)),qu(19,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),gs(20,1),(e()(),lu(21,0,null,null,4,"div",[["class","file-name tooltip top"]],null,null,null,null,null)),(e()(),lu(22,0,null,null,1,"span",[["class","ellipsis"]],null,null,null,null,null)),(e()(),ys(23,null,["",""])),(e()(),lu(24,0,null,null,1,"span",[["class","tooltip-inner"]],null,null,null,null,null)),(e()(),ys(25,null,["",""]))],function(e,t){var n="data"==wr(t,1,0,e(t,2,0,Ou(t.parent.parent.parent.parent.parent,1),t.context.$implicit.filename))?"file":"image"==wr(t,1,0,e(t,3,0,Ou(t.parent.parent.parent.parent.parent,1),t.context.$implicit.filename))?"image":"audio"==wr(t,1,0,e(t,4,0,Ou(t.parent.parent.parent.parent.parent,1),t.context.$implicit.filename))?"audio":"document"==wr(t,1,0,e(t,5,0,Ou(t.parent.parent.parent.parent.parent,1),t.context.$implicit.filename))?"document":"";e(t,1,0,n);var i="image"==wr(t,9,0,e(t,10,0,Ou(t.parent.parent.parent.parent.parent,1),t.context.$implicit.filename));e(t,9,0,i);var l="data"==wr(t,12,0,e(t,13,0,Ou(t.parent.parent.parent.parent.parent,1),t.context.$implicit.filename))||"document"==wr(t,12,0,e(t,14,0,Ou(t.parent.parent.parent.parent.parent,1),t.context.$implicit.filename));e(t,12,0,l);var o="audio"==wr(t,16,0,e(t,17,0,Ou(t.parent.parent.parent.parent.parent,1),t.context.$implicit.filename));e(t,16,0,o);var r="video"==wr(t,19,0,e(t,20,0,Ou(t.parent.parent.parent.parent.parent,1),t.context.$implicit.filename));e(t,19,0,r)},function(e,t){var n=eu(1,"",t.context.$implicit.path,""),i="document"==wr(t,0,1,e(t,6,0,Ou(t.parent.parent.parent.parent.parent,1),t.context.$implicit.filename))?"_parent":"_blank";e(t,0,0,n,i),e(t,23,0,t.context.$implicit.filename),e(t,25,0,t.context.$implicit.filename)})}function YC(e){return Cs(0,[(e()(),lu(0,0,null,null,9,"div",[["class","chat-text attachment"]],null,null,null,null,null)),qu(1,278528,null,0,op,[er,Li,zi],{ngStyle:[0,"ngStyle"]},null),ms(2,{"background-color":0,color:1}),ms(3,{"background-color":0,color:1}),(e()(),iu(16777216,null,null,1,null,XC)),qu(5,278528,null,0,ep,[Oo,Al,Yo],{ngForOf:[0,"ngForOf"]},null),(e()(),lu(6,0,null,null,3,"span",[["class","arrow"]],null,null,null,null,null)),qu(7,278528,null,0,op,[er,Li,zi],{ngStyle:[0,"ngStyle"]},null),ms(8,{"border-top-color":0}),ms(9,{"border-top-color":0})],function(e,t){var n=t.component,i=n.displaySettings?"Visitors"==t.parent.context.$implicit.type?e(t,2,0,n.displaySettings.sentBGColor,n.displaySettings.sentForeColor):e(t,3,0,n.displaySettings.recieveBGColor,n.displaySettings.recieveForeColor):"";e(t,1,0,i),e(t,5,0,t.parent.context.$implicit.body);var l=n.displaySettings?"Visitors"==t.parent.context.$implicit.type?e(t,8,0,n.displaySettings.sentBGColor):e(t,9,0,n.displaySettings.recieveBGColor):"";e(t,7,0,l)},null)}function eS(e){return Cs(0,[(e()(),lu(0,0,null,null,12,"div",[["class","chat-text"]],null,null,null,null,null)),qu(1,278528,null,0,op,[er,Li,zi],{ngStyle:[0,"ngStyle"]},null),ms(2,{"background-color":0,color:1}),ms(3,{"background-color":0,color:1}),(e()(),lu(4,0,null,null,4,"p",[],null,null,null,null,null)),qu(5,278528,null,0,Xc,[Yo,er,Li,zi],{ngClass:[0,"ngClass"]},null),gs(6,1),(e()(),lu(7,0,null,null,1,"span",[],[[8,"innerHTML",1]],null,null,null,null)),gs(8,2),(e()(),lu(9,0,null,null,3,"span",[["class","arrow"]],null,null,null,null,null)),qu(10,278528,null,0,op,[er,Li,zi],{ngStyle:[0,"ngStyle"]},null),ms(11,{"border-top-color":0}),ms(12,{"border-top-color":0})],function(e,t){var n=t.component,i=n.displaySettings?"Visitors"==t.parent.context.$implicit.type?e(t,2,0,n.displaySettings.sentBGColor,n.displaySettings.sentForeColor):e(t,3,0,n.displaySettings.recieveBGColor,n.displaySettings.recieveForeColor):"";e(t,1,0,i);var l=wr(t,5,0,e(t,6,0,Ou(t.parent.parent.parent.parent,2),t.parent.context.$implicit.body))?"onlyEmoji":"";e(t,5,0,l);var o=n.displaySettings?"Visitors"==t.parent.context.$implicit.type?e(t,11,0,n.displaySettings.sentBGColor):e(t,12,0,n.displaySettings.recieveBGColor):"";e(t,10,0,o)},function(e,t){var n=wr(t,7,0,e(t,8,0,Ou(t.parent.parent.parent.parent,3),t.parent.context.$implicit.body,"html"));e(t,7,0,n)})}function tS(e){return Cs(0,[(e()(),lu(0,0,null,null,8,"div",[["class","input-group-addon"]],null,null,null,null,null)),(e()(),lu(1,0,null,null,7,"div",[["class","pretty p-svg p-toggle m-0"]],null,null,null,null,null)),(e()(),lu(2,0,null,null,0,"input",[["disabled",""],["type","checkbox"]],null,null,null,null,null)),(e()(),lu(3,0,null,null,2,"div",[["class","state p-success-o p-on"]],null,null,null,null,null)),(e()(),lu(4,0,null,null,0,"img",[["class","svg"],["src","/cw/assets/img/icons/svg/show-black.svg"],["width","15"]],null,null,null,null,null)),(e()(),lu(5,0,null,null,0,"label",[["class","b-0"]],null,null,null,null,null)),(e()(),lu(6,0,null,null,2,"div",[["class","state p-black-o p-off"]],null,null,null,null,null)),(e()(),lu(7,0,null,null,0,"img",[["class","svg"],["src","/cw/assets/img/icons/svg/hide-black.svg"],["width","15"]],null,null,null,null,null)),(e()(),lu(8,0,null,null,0,"label",[["class","b-0"]],null,null,null,null,null))],null,null)}function nS(e){return Cs(0,[(e()(),lu(0,0,null,null,6,"div",[["class","input-block"]],null,null,null,null,null)),(e()(),lu(1,0,null,null,1,"label",[],null,null,null,null,null)),(e()(),ys(2,null,[" ","",""])),(e()(),lu(3,0,null,null,3,"div",[["class","input-group"]],null,null,null,null,null)),(e()(),lu(4,0,null,null,0,"input",[["class","form-control"],["disabled",""]],[[8,"id",0],[8,"name",0],[8,"placeholder",0],[8,"type",0],[8,"value",0]],null,null,null,null)),(e()(),iu(16777216,null,null,1,null,tS)),qu(6,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null)],function(e,t){e(t,6,0,"password"==t.parent.context.$implicit.type)},function(e,t){e(t,2,0,t.parent.context.$implicit.label,t.parent.context.$implicit.validation?"*":""),e(t,4,0,eu(1,"",t.parent.context.$implicit.id,""),eu(1,"",t.parent.context.$implicit.id,""),eu(1,"",t.parent.context.$implicit.placeholder,""),eu(1,"",t.parent.context.$implicit.type,""),eu(1,"",t.parent.context.$implicit.submittedData,""))})}function iS(e){return Cs(0,[(e()(),lu(0,0,null,null,4,"div",[["class","pretty p-default p-round m-b-7"]],null,null,null,null,null)),(e()(),lu(1,0,null,null,0,"input",[["disabled",""]],[[8,"id",0],[8,"checked",0],[8,"type",0],[8,"value",0],[8,"name",0]],null,null,null,null)),(e()(),lu(2,0,null,null,2,"div",[["class","state"]],null,null,null,null,null)),(e()(),lu(3,0,null,null,1,"label",[],null,null,null,null,null)),(e()(),ys(4,null,["",""]))],null,function(e,t){e(t,1,0,eu(1,"",t.parent.parent.context.$implicit.id,""),t.parent.parent.context.$implicit.submittedData,eu(1,"",t.parent.parent.context.$implicit.type,""),eu(1,"",t.context.$implicit.key,""),eu(1,"",t.parent.parent.context.$implicit.id,"")),e(t,4,0,t.context.$implicit.value)})}function lS(e){return Cs(0,[(e()(),lu(0,0,null,null,4,"div",[["class","input-block"]],null,null,null,null,null)),(e()(),lu(1,0,null,null,1,"label",[],null,null,null,null,null)),(e()(),ys(2,null,["","",""])),(e()(),iu(16777216,null,null,1,null,iS)),qu(4,278528,null,0,ep,[Oo,Al,Yo],{ngForOf:[0,"ngForOf"]},null)],function(e,t){e(t,4,0,t.parent.context.$implicit.options)},function(e,t){e(t,2,0,t.parent.context.$implicit.label,t.parent.context.$implicit.validation?"*":"")})}function oS(e){return Cs(0,[(e()(),lu(0,0,null,null,7,"div",[["class","input-block"]],null,null,null,null,null)),(e()(),lu(1,0,null,null,1,"label",[],null,null,null,null,null)),(e()(),ys(2,null,[" ","",""])),(e()(),lu(3,0,null,null,4,"div",[["class","pretty p-default p-round"]],null,null,null,null,null)),(e()(),lu(4,0,null,null,0,"input",[["class","form-control"],["disabled",""]],[[8,"id",0],[8,"checked",0],[8,"type",0],[8,"value",0]],null,null,null,null)),(e()(),lu(5,0,null,null,2,"div",[["class","state"]],null,null,null,null,null)),(e()(),lu(6,0,null,null,1,"label",[],null,null,null,null,null)),(e()(),ys(7,null,["",""]))],null,function(e,t){e(t,2,0,t.parent.context.$implicit.label,t.parent.context.$implicit.validation?"*":""),e(t,4,0,eu(1,"",t.parent.context.$implicit.id,""),t.parent.context.$implicit.submittedData,eu(1,"",t.parent.context.$implicit.type,""),eu(1,"",t.parent.context.$implicit.value[0],"")),e(t,7,0,t.parent.context.$implicit.value[0])})}function rS(e){return Cs(0,[(e()(),lu(0,0,null,null,3,"option",[["disabled","true"]],[[8,"selected",0]],null,null,null,null)),qu(1,147456,null,0,gf,[Li,zi,[8,null]],{value:[0,"value"]},null),qu(2,147456,null,0,yf,[Li,zi,[8,null]],{value:[0,"value"]},null),(e()(),ys(3,null,[" "," "]))],function(e,t){e(t,1,0,eu(1,"",t.parent.parent.context.$implicit.submittedData,"")),e(t,2,0,eu(1,"",t.parent.parent.context.$implicit.submittedData,""))},function(e,t){e(t,0,0,t.parent.parent.context.$implicit.submittedData),e(t,3,0,t.parent.parent.context.$implicit.submittedData)})}function uS(e){return Cs(0,[(e()(),lu(0,0,null,null,3,"option",[["disabled","true"]],null,null,null,null,null)),qu(1,147456,null,0,gf,[Li,zi,[8,null]],{value:[0,"value"]},null),qu(2,147456,null,0,yf,[Li,zi,[8,null]],{value:[0,"value"]},null),(e()(),ys(3,null,[" "," "]))],function(e,t){e(t,1,0,eu(1,"",t.context.$implicit.key,"")),e(t,2,0,eu(1,"",t.context.$implicit.key,""))},function(e,t){e(t,3,0,t.context.$implicit.value)})}function sS(e){return Cs(0,[(e()(),lu(0,0,null,null,8,"div",[["class","input-block"]],null,null,null,null,null)),(e()(),lu(1,0,null,null,1,"label",[],null,null,null,null,null)),(e()(),ys(2,null,[" ","",""])),(e()(),lu(3,0,null,null,5,"div",[["class","sel style1"]],null,null,null,null,null)),(e()(),lu(4,0,null,null,4,"select",[["class","form-control"]],[[8,"name",0],[8,"id",0]],null,null,null,null)),(e()(),iu(16777216,null,null,1,null,rS)),qu(6,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,uS)),qu(8,278528,null,0,ep,[Oo,Al,Yo],{ngForOf:[0,"ngForOf"]},null)],function(e,t){e(t,6,0,t.parent.context.$implicit.submittedData),e(t,8,0,t.parent.context.$implicit.options)},function(e,t){e(t,2,0,t.parent.context.$implicit.label,t.parent.context.$implicit.validation?"*":""),e(t,4,0,eu(1,"",t.parent.context.$implicit.id,""),eu(1,"",t.parent.context.$implicit.id,""))})}function aS(e){return Cs(0,[(e()(),iu(16777216,null,null,1,null,nS)),qu(1,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,lS)),qu(3,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,oS)),qu(5,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,sS)),qu(7,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(0,null,null,0))],function(e,t){e(t,1,0,"text"==t.context.$implicit.type||"password"==t.context.$implicit.type||"email"==t.context.$implicit.type),e(t,3,0,"radio"==t.context.$implicit.type),e(t,5,0,"checkbox"==t.context.$implicit.type),e(t,7,0,"dropdown"==t.context.$implicit.type)},null)}function cS(e){return Cs(0,[(e()(),lu(0,0,null,null,1,"b",[],null,null,null,null,null)),(e()(),ys(1,null,["",""]))],null,function(e,t){e(t,1,0,t.parent.parent.context.$implicit.form[0].formFooter)})}function pS(e){return Cs(0,[(e()(),lu(0,0,null,null,15,"div",[["class","clearfix canned-access-form"]],null,null,null,null,null)),(e()(),lu(1,0,null,null,1,"h4",[["class","clearfix"]],null,null,null,null,null)),(e()(),ys(2,null,["",""])),(e()(),lu(3,0,null,null,0,"hr",[["class","bg-gray clearfix"]],null,null,null,null,null)),(e()(),lu(4,0,null,null,6,"form",[["id","formInputs"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(e,t,n){var i=!0;return"submit"===t&&(i=!1!==Ou(e,6).onSubmit(n)&&i),"reset"===t&&(i=!1!==Ou(e,6).onReset()&&i),i},null,null)),qu(5,16384,null,0,Gf,[],null,null),qu(6,4210688,null,0,Nf,[[8,null],[8,null]],null,null),Ju(2048,null,zh,null,[Nf]),qu(8,16384,null,0,Af,[[4,zh]],null,null),(e()(),iu(16777216,null,null,1,null,aS)),qu(10,278528,null,0,ep,[Oo,Al,Yo],{ngForOf:[0,"ngForOf"]},null),(e()(),lu(11,0,null,null,0,"hr",[["class","bg-gray"]],null,null,null,null,null)),(e()(),iu(16777216,null,null,1,null,cS)),qu(13,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),lu(14,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),lu(15,0,null,null,0,"br",[],null,null,null,null,null))],function(e,t){e(t,10,0,t.parent.context.$implicit.form[0].formFields),e(t,13,0,t.parent.context.$implicit.form[0].formFooter)},function(e,t){e(t,2,0,t.parent.context.$implicit.form[0].formHeader?t.parent.context.$implicit.form[0].formHeader:"Form"),e(t,4,0,Ou(t,8).ngClassUntouched,Ou(t,8).ngClassTouched,Ou(t,8).ngClassPristine,Ou(t,8).ngClassDirty,Ou(t,8).ngClassValid,Ou(t,8).ngClassInvalid,Ou(t,8).ngClassPending)})}function dS(e){return Cs(0,[(e()(),lu(0,0,null,null,3,"span",[["class","msg-status text-red crsr-pointer"]],null,[[null,"click"]],function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.ResendMessage(e.parent.parent.context.$implicit)&&i),i},null,null)),(e()(),lu(1,0,null,null,0,"img",[["height","auto"],["src","/cw/assets/img/icons/svg/redo-black.svg"],["width","15"]],null,null,null,null,null)),(e()(),lu(2,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),ys(-1,null,["Resend"]))],null,null)}function hS(e){return Cs(0,[(e()(),lu(0,0,null,null,2,"span",[["class","msg-status text-blue"]],null,null,null,null,null)),(e()(),lu(1,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),ys(-1,null,["Seen"]))],null,null)}function fS(e){return Cs(0,[(e()(),lu(0,0,null,null,2,"span",[["class","msg-status"]],null,null,null,null,null)),(e()(),lu(1,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),ys(-1,null,["Delivered"]))],null,null)}function gS(e){return Cs(0,[(e()(),lu(0,0,null,null,13,"div",[["class","chat-info"]],null,null,null,null,null)),qu(1,278528,null,0,op,[er,Li,zi],{ngStyle:[0,"ngStyle"]},null),ms(2,{color:0}),ms(3,{color:0}),(e()(),lu(4,0,null,null,3,"span",[],null,null,null,null,null)),(e()(),ys(5,null,[""," ",""])),gs(6,2),gs(7,2),(e()(),iu(16777216,null,null,1,null,dS)),qu(9,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,hS)),qu(11,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,fS)),qu(13,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component,i=n.displaySettings?"Visitors"==t.parent.context.$implicit.type?e(t,2,0,n.displaySettings.sentForeColor):e(t,3,0,n.displaySettings.recieveForeColor):"";e(t,1,0,i),e(t,9,0,t.parent.context.$implicit.retry&&!(t.parent.context.$implicit.delivered||t.parent.context.$implicit.sent)),e(t,11,0,t.parent.context.$implicit.sent&&"Visitors"==t.parent.context.$implicit.type),e(t,13,0,!t.parent.context.$implicit.sent&&t.parent.context.$implicit.delivered&&"Visitors"==t.parent.context.$implicit.type)},function(e,t){var n=wr(t,5,0,e(t,6,0,Ou(t.parent.parent.parent.parent,0),t.parent.context.$implicit.date,"mediumDate")),i=wr(t,5,1,e(t,7,0,Ou(t.parent.parent.parent.parent,0),t.parent.context.$implicit.date,"shortTime"));e(t,5,0,n,i)})}function mS(e){return Cs(0,[(e()(),lu(0,0,null,null,3,"div",[["class","chat-info"]],null,null,null,null,null)),(e()(),lu(1,0,null,null,2,"span",[["class","msg-status"]],null,null,null,null,null)),(e()(),lu(2,0,null,null,1,"app-preloader",[["type","spin-loader-gray"]],null,null,null,Ib,Cb)),qu(3,114688,null,0,Db,[],{type:[0,"type"],spinnerWidth:[1,"spinnerWidth"],spinnerHeight:[2,"spinnerHeight"]},null)],function(e,t){e(t,3,0,"spin-loader-gray",10,10)},null)}function vS(e){return Cs(0,[(e()(),lu(0,0,null,null,15,"div",[],null,null,null,null,null)),qu(1,278528,null,0,Xc,[Yo,er,Li,zi],{ngClass:[0,"ngClass"]},null),(e()(),iu(16777216,null,null,1,null,UC)),qu(3,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,WC)),qu(5,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,YC)),qu(7,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,eS)),qu(9,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,pS)),qu(11,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,gS)),qu(13,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,mS)),qu(15,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component;e(t,1,0,"Visitors"==t.context.$implicit.type?"chat-msg msg_sent":"Events"==t.context.$implicit.type?"chat-msg":"chat-msg msg_recieved"),e(t,3,0,"Events"==t.context.$implicit.type),e(t,5,0,""!=t.context.$implicit.body&&t.context.$implicit.attachment&&n.CheckAttachmentType(t.context.$implicit.body)&&"Events"!=t.context.$implicit.type),e(t,7,0,""!=t.context.$implicit.body&&t.context.$implicit.attachment&&!n.CheckAttachmentType(t.context.$implicit.body)&&t.context.$implicit.body.length&&"Events"!=t.context.$implicit.type),e(t,9,0,""!=t.context.$implicit.body&&!t.context.$implicit.attachment&&"Events"!=t.context.$implicit.type),e(t,11,0,t.context.$implicit.form&&t.context.$implicit.form.length&&"Events"!=t.context.$implicit.type),e(t,13,0,!t.context.$implicit.sending&&(""!=t.context.$implicit.body||t.context.$implicit.form&&t.context.$implicit.form.length)&&"Events"!=t.context.$implicit.type);var i=t.context.$implicit.sending&&(t.context.$implicit.hasOwnProperty("delivered")||t.context.$implicit.hasOwnProperty("retry")||t.context.$implicit.hasOwnProperty("sent"))&&"Visitors"==t.context.$implicit.type;e(t,15,0,i)},null)}function yS(e){return Cs(0,[(e()(),lu(0,0,null,null,2,"div",[["class","messages clearfix"]],null,null,null,null,null)),(e()(),iu(16777216,null,null,1,null,vS)),qu(2,278528,null,0,ep,[Oo,Al,Yo],{ngForOf:[0,"ngForOf"]},null)],function(e,t){e(t,2,0,t.component.Messages)},null)}function bS(e){return Cs(0,[(e()(),lu(0,0,null,null,9,"div",[["class","chat-text"]],null,null,null,null,null)),qu(1,278528,null,0,op,[er,Li,zi],{ngStyle:[0,"ngStyle"]},null),ms(2,{"background-color":0}),(e()(),lu(3,0,null,null,2,"p",[],null,null,null,null,null)),(e()(),lu(4,0,null,null,1,"span",[],[[8,"innerHTML",1]],null,null,null,null)),gs(5,2),(e()(),lu(6,0,null,null,3,"span",[["class","arrow"]],null,null,null,null,null)),qu(7,278528,null,0,op,[er,Li,zi],{ngStyle:[0,"ngStyle"]},null),ms(8,{"border-top-color":0}),ms(9,{"border-top-color":0})],function(e,t){var n=t.component,i=n.displaySettings?e(t,2,0,n.displaySettings.recieveBGColor):"";e(t,1,0,i);var l=n.displaySettings?"Visitors"==t.parent.context.$implicit.type?e(t,8,0,n.displaySettings.sentBGColor):e(t,9,0,n.displaySettings.recieveBGColor):"";e(t,7,0,l)},function(e,t){var n=wr(t,4,0,e(t,5,0,Ou(t.parent.parent.parent.parent,3),t.parent.context.$implicit.body,"html"));e(t,4,0,n)})}function DS(e){return Cs(0,[(e()(),lu(0,0,null,null,3,"span",[],null,null,null,null,null)),(e()(),ys(1,null,[""," ",""])),gs(2,2),gs(3,2)],null,function(e,t){var n=wr(t,1,0,e(t,2,0,Ou(t.parent.parent.parent.parent.parent,0),t.parent.parent.context.$implicit.date,"mediumDate")),i=wr(t,1,1,e(t,3,0,Ou(t.parent.parent.parent.parent.parent,0),t.parent.parent.context.$implicit.date,"shortTime"));e(t,1,0,n,i)})}function CS(e){return Cs(0,[(e()(),lu(0,0,null,null,2,"div",[["class","chat-info"]],null,null,null,null,null)),(e()(),iu(16777216,null,null,1,null,DS)),qu(2,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null)],function(e,t){e(t,2,0,""!=t.parent.context.$implicit.body)},null)}function SS(e){return Cs(0,[(e()(),lu(0,0,null,null,8,"div",[["class","input-group-addon"]],null,null,null,null,null)),(e()(),lu(1,0,null,null,7,"div",[["class","pretty p-svg p-toggle m-0"]],null,null,null,null,null)),(e()(),lu(2,0,null,null,0,"input",[["disabled",""],["type","checkbox"]],null,null,null,null,null)),(e()(),lu(3,0,null,null,2,"div",[["class","state p-success-o p-on"]],null,null,null,null,null)),(e()(),lu(4,0,null,null,0,"img",[["class","svg"],["src","/cw/assets/img/icons/svg/show-black.svg"],["width","15"]],null,null,null,null,null)),(e()(),lu(5,0,null,null,0,"label",[["class","b-0"]],null,null,null,null,null)),(e()(),lu(6,0,null,null,2,"div",[["class","state p-black-o p-off"]],null,null,null,null,null)),(e()(),lu(7,0,null,null,0,"img",[["class","svg"],["src","/cw/assets/img/icons/svg/hide-black.svg"],["width","15"]],null,null,null,null,null)),(e()(),lu(8,0,null,null,0,"label",[["class","b-0"]],null,null,null,null,null))],null,null)}function _S(e){return Cs(0,[(e()(),lu(0,0,null,null,6,"div",[["class","input-block"]],null,null,null,null,null)),(e()(),lu(1,0,null,null,1,"label",[],null,null,null,null,null)),(e()(),ys(2,null,[" ","",""])),(e()(),lu(3,0,null,null,3,"div",[["class","input-group"]],null,null,null,null,null)),(e()(),lu(4,0,null,null,0,"input",[["class","form-control"],["disabled",""]],[[8,"id",0],[8,"name",0],[8,"placeholder",0],[8,"type",0],[8,"value",0]],null,null,null,null)),(e()(),iu(16777216,null,null,1,null,SS)),qu(6,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null)],function(e,t){e(t,6,0,"password"==t.parent.context.$implicit.type)},function(e,t){e(t,2,0,t.parent.context.$implicit.label,t.parent.context.$implicit.validation?"*":""),e(t,4,0,eu(1,"",t.parent.context.$implicit.id,""),eu(1,"",t.parent.context.$implicit.id,""),eu(1,"",t.parent.context.$implicit.placeholder,""),eu(1,"",t.parent.context.$implicit.type,""),eu(1,"",t.parent.context.$implicit.submittedData,""))})}function wS(e){return Cs(0,[(e()(),lu(0,0,null,null,4,"div",[["class","pretty p-default p-round m-b-7"]],null,null,null,null,null)),(e()(),lu(1,0,null,null,0,"input",[["disabled",""]],[[8,"id",0],[8,"checked",0],[8,"type",0],[8,"value",0],[8,"name",0]],null,null,null,null)),(e()(),lu(2,0,null,null,2,"div",[["class","state"]],null,null,null,null,null)),(e()(),lu(3,0,null,null,1,"label",[],null,null,null,null,null)),(e()(),ys(4,null,["",""]))],null,function(e,t){e(t,1,0,eu(1,"",t.parent.parent.context.$implicit.id,""),t.parent.parent.context.$implicit.submittedData,eu(1,"",t.parent.parent.context.$implicit.type,""),eu(1,"",t.context.$implicit.key,""),eu(1,"",t.parent.parent.context.$implicit.id,"")),e(t,4,0,t.context.$implicit.value)})}function xS(e){return Cs(0,[(e()(),lu(0,0,null,null,4,"div",[["class","input-block"]],null,null,null,null,null)),(e()(),lu(1,0,null,null,1,"label",[],null,null,null,null,null)),(e()(),ys(2,null,["","",""])),(e()(),iu(16777216,null,null,1,null,wS)),qu(4,278528,null,0,ep,[Oo,Al,Yo],{ngForOf:[0,"ngForOf"]},null)],function(e,t){e(t,4,0,t.parent.context.$implicit.options)},function(e,t){e(t,2,0,t.parent.context.$implicit.label,t.parent.context.$implicit.validation?"*":"")})}function FS(e){return Cs(0,[(e()(),lu(0,0,null,null,7,"div",[["class","input-block"]],null,null,null,null,null)),(e()(),lu(1,0,null,null,1,"label",[],null,null,null,null,null)),(e()(),ys(2,null,[" ","",""])),(e()(),lu(3,0,null,null,4,"div",[["class","pretty p-default p-round"]],null,null,null,null,null)),(e()(),lu(4,0,null,null,0,"input",[["class","form-control"],["disabled",""]],[[8,"id",0],[8,"checked",0],[8,"type",0],[8,"value",0]],null,null,null,null)),(e()(),lu(5,0,null,null,2,"div",[["class","state"]],null,null,null,null,null)),(e()(),lu(6,0,null,null,1,"label",[],null,null,null,null,null)),(e()(),ys(7,null,["",""]))],null,function(e,t){e(t,2,0,t.parent.context.$implicit.label,t.parent.context.$implicit.validation?"*":""),e(t,4,0,eu(1,"",t.parent.context.$implicit.id,""),t.parent.context.$implicit.submittedData,eu(1,"",t.parent.context.$implicit.type,""),eu(1,"",t.parent.context.$implicit.value[0],"")),e(t,7,0,t.parent.context.$implicit.value[0])})}function ES(e){return Cs(0,[(e()(),lu(0,0,null,null,3,"option",[["disabled","true"]],[[8,"selected",0]],null,null,null,null)),qu(1,147456,null,0,gf,[Li,zi,[8,null]],{value:[0,"value"]},null),qu(2,147456,null,0,yf,[Li,zi,[8,null]],{value:[0,"value"]},null),(e()(),ys(3,null,[" "," "]))],function(e,t){e(t,1,0,eu(1,"",t.parent.parent.context.$implicit.submittedData,"")),e(t,2,0,eu(1,"",t.parent.parent.context.$implicit.submittedData,""))},function(e,t){e(t,0,0,t.parent.parent.context.$implicit.submittedData),e(t,3,0,t.parent.parent.context.$implicit.submittedData)})}function kS(e){return Cs(0,[(e()(),lu(0,0,null,null,3,"option",[["disabled","true"]],null,null,null,null,null)),qu(1,147456,null,0,gf,[Li,zi,[8,null]],{value:[0,"value"]},null),qu(2,147456,null,0,yf,[Li,zi,[8,null]],{value:[0,"value"]},null),(e()(),ys(3,null,[" "," "]))],function(e,t){e(t,1,0,eu(1,"",t.context.$implicit.key,"")),e(t,2,0,eu(1,"",t.context.$implicit.key,""))},function(e,t){e(t,3,0,t.context.$implicit.value)})}function AS(e){return Cs(0,[(e()(),lu(0,0,null,null,8,"div",[["class","input-block"]],null,null,null,null,null)),(e()(),lu(1,0,null,null,1,"label",[],null,null,null,null,null)),(e()(),ys(2,null,[" ","",""])),(e()(),lu(3,0,null,null,5,"div",[["class","sel style1"]],null,null,null,null,null)),(e()(),lu(4,0,null,null,4,"select",[["class","form-control"]],[[8,"name",0],[8,"id",0]],null,null,null,null)),(e()(),iu(16777216,null,null,1,null,ES)),qu(6,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,kS)),qu(8,278528,null,0,ep,[Oo,Al,Yo],{ngForOf:[0,"ngForOf"]},null)],function(e,t){e(t,6,0,t.parent.context.$implicit.submittedData),e(t,8,0,t.parent.context.$implicit.options)},function(e,t){e(t,2,0,t.parent.context.$implicit.label,t.parent.context.$implicit.validation?"*":""),e(t,4,0,eu(1,"",t.parent.context.$implicit.id,""),eu(1,"",t.parent.context.$implicit.id,""))})}function TS(e){return Cs(0,[(e()(),iu(16777216,null,null,1,null,_S)),qu(1,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,xS)),qu(3,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,FS)),qu(5,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,AS)),qu(7,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(0,null,null,0))],function(e,t){e(t,1,0,"text"==t.context.$implicit.type||"password"==t.context.$implicit.type||"email"==t.context.$implicit.type),e(t,3,0,"radio"==t.context.$implicit.type),e(t,5,0,"checkbox"==t.context.$implicit.type),e(t,7,0,"dropdown"==t.context.$implicit.type)},null)}function IS(e){return Cs(0,[(e()(),lu(0,0,null,null,1,"b",[],null,null,null,null,null)),(e()(),ys(1,null,["",""]))],null,function(e,t){e(t,1,0,t.parent.parent.context.$implicit.form[0].formFooter)})}function BS(e){return Cs(0,[(e()(),lu(0,0,null,null,15,"div",[["class","clearfix canned-access-form"]],null,null,null,null,null)),(e()(),lu(1,0,null,null,1,"h4",[["class","clearfix"]],null,null,null,null,null)),(e()(),ys(2,null,[""," "])),(e()(),lu(3,0,null,null,0,"hr",[["class","bg-gray clearfix"]],null,null,null,null,null)),(e()(),lu(4,0,null,null,6,"form",[["id","formInputs"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(e,t,n){var i=!0;return"submit"===t&&(i=!1!==Ou(e,6).onSubmit(n)&&i),"reset"===t&&(i=!1!==Ou(e,6).onReset()&&i),i},null,null)),qu(5,16384,null,0,Gf,[],null,null),qu(6,4210688,null,0,Nf,[[8,null],[8,null]],null,null),Ju(2048,null,zh,null,[Nf]),qu(8,16384,null,0,Af,[[4,zh]],null,null),(e()(),iu(16777216,null,null,1,null,TS)),qu(10,278528,null,0,ep,[Oo,Al,Yo],{ngForOf:[0,"ngForOf"]},null),(e()(),lu(11,0,null,null,0,"hr",[["class","bg-gray"]],null,null,null,null,null)),(e()(),iu(16777216,null,null,1,null,IS)),qu(13,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),lu(14,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),lu(15,0,null,null,0,"br",[],null,null,null,null,null))],function(e,t){e(t,10,0,t.parent.context.$implicit.form[0].formFields),e(t,13,0,t.parent.context.$implicit.form[0].formFooter)},function(e,t){e(t,2,0,t.parent.context.$implicit.form[0].formHeader?t.parent.context.$implicit.form[0].formHeader:"Form"),e(t,4,0,Ou(t,8).ngClassUntouched,Ou(t,8).ngClassTouched,Ou(t,8).ngClassPristine,Ou(t,8).ngClassDirty,Ou(t,8).ngClassValid,Ou(t,8).ngClassInvalid,Ou(t,8).ngClassPending)})}function OS(e){return Cs(0,[(e()(),lu(0,0,null,null,7,"div",[],null,null,null,null,null)),qu(1,278528,null,0,Xc,[Yo,er,Li,zi],{ngClass:[0,"ngClass"]},null),(e()(),iu(16777216,null,null,1,null,bS)),qu(3,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,CS)),qu(5,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,BS)),qu(7,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null)],function(e,t){e(t,1,0,"Visitors"==t.context.$implicit.type?"chat-msg msg_sent":"chat-msg msg_recieved"),e(t,3,0,""!=t.context.$implicit.body),e(t,5,0,""!=t.context.$implicit.body),e(t,7,0,t.context.$implicit.form&&t.context.$implicit.form.length)},null)}function RS(e){return Cs(0,[(e()(),lu(0,0,null,null,2,"div",[["class","messages clearfix"]],null,null,null,null,null)),(e()(),iu(16777216,null,null,1,null,OS)),qu(2,278528,null,0,ep,[Oo,Al,Yo],{ngForOf:[0,"ngForOf"]},null)],function(e,t){e(t,2,0,t.component.botUnconfigMessages)},null)}function MS(e){return Cs(0,[(e()(),lu(0,0,null,null,9,"div",[["class","chat-msg msg_recieved"]],null,null,null,null,null)),(e()(),lu(1,0,null,null,8,"div",[["class","chat-text"]],null,null,null,null,null)),qu(2,278528,null,0,op,[er,Li,zi],{ngStyle:[0,"ngStyle"]},null),ms(3,{"background-color":0}),(e()(),lu(4,0,null,null,2,"p",[],null,null,null,null,null)),(e()(),lu(5,0,null,null,1,"app-preloader",[["type","dot-loader"]],null,null,null,Ib,Cb)),qu(6,114688,null,0,Db,[],{type:[0,"type"]},null),(e()(),lu(7,0,null,null,2,"span",[["class","arrow"]],null,null,null,null,null)),qu(8,278528,null,0,op,[er,Li,zi],{ngStyle:[0,"ngStyle"]},null),ms(9,{"border-top-color":0})],function(e,t){var n=t.component,i=n.displaySettings?e(t,3,0,n.displaySettings.recieveBGColor):"";e(t,2,0,i),e(t,6,0,"dot-loader");var l=n.displaySettings?e(t,9,0,n.displaySettings.recieveBGColor):"";e(t,8,0,l)},null)}function PS(e){return Cs(0,[(e()(),lu(0,0,null,null,7,"div",[["class","messages clearfix"]],null,null,null,null,null)),(e()(),lu(1,0,null,null,6,"div",[["class","chat-msg"]],null,null,null,null,null)),(e()(),lu(2,0,null,null,5,"div",[["class","day-separator clearfix"]],null,null,null,null,null)),(e()(),lu(3,0,null,null,4,"button",[["class","btn m-0"],["type","button"]],null,[[null,"click"]],function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.StartOver(n)&&i),i},null,null)),qu(4,278528,null,0,op,[er,Li,zi],{ngStyle:[0,"ngStyle"]},null),ms(5,{"background-color":0,color:1}),(e()(),lu(6,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),ys(-1,null,["Start Over"]))],function(e,t){var n=t.component,i=n.dialogueSettings?e(t,5,0,n.dialogueSettings.dialogSecondaryBtnColor,n.dialogueSettings.btnTextcolor):"";e(t,4,0,i)},null)}function jS(e){return Cs(0,[(e()(),lu(0,0,[[1,0],["scrollbarRef",1]],null,9,"div",[["class","msgList"],["id","msgList"]],null,[[null,"scroll"]],function(e,t,n){var i=!0;return"scroll"===t&&(i=!1!==e.component.ScrollChanged(n)&&i),i},null,null)),(e()(),iu(16777216,null,null,1,null,yS)),qu(2,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,RS)),qu(4,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),lu(5,0,null,null,2,"div",[["class","messages clearfix"]],null,null,null,null,null)),(e()(),iu(16777216,null,null,1,null,MS)),qu(7,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,PS)),qu(9,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component;e(t,2,0,n.Messages&&n.Messages.length),e(t,4,0,(7==n.Session.state||8==n.Session.state)&&n.botUnconfigMessages&&n.botUnconfigMessages.length),e(t,7,0,n.typing),e(t,9,0,n.forceEndedChat&&n.Session&&(2==n.Session.state||3==n.Session.state||4==n.Session.state||5==n.Session.state||7==n.Session.state))},null)}function NS(e){return Cs(0,[Wu(0,sp,[or]),Wu(0,qg,[]),Wu(0,Wg,[]),Wu(0,Bb,[bh]),as(671088640,1,{scrollbarRef:0}),(e()(),iu(16777216,null,null,1,null,jS)),qu(6,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null)],function(e,t){e(t,6,0,t.component.Session.agent)},null)}var LS=function(){function e(e,t){this.el=e,this.renderer=t}return e.prototype.ngOnInit=function(){},e.prototype.ngAfterViewInit=function(){var e=this;(this._autofocus||void 0===this._autofocus)&&setTimeout(function(){e.el.nativeElement.focus()},1e3)},Object.defineProperty(e.prototype,"autofocus",{set:function(e){this._autofocus=0!=e},enumerable:!0,configurable:!0}),e}(),VS=function(){function e(e){this.element=e}return e.prototype.ngOnInit=function(){this.adjustCustom()},e.prototype.adjustCustom=function(){var e=this.element.nativeElement;e.style.height=this.minHeight+"px",e.style.height=e.scrollHeight+"px",e.scrollHeight<=this.maximumHeight?(e.style.overflowY="hidden",delete e.style.maxHeight):(e.style.overflowY="scroll",e.style.maxHeight=this.maximumHeight+"px")},e}(),$S=n("VYWT"),US=n("wVMs"),HS=function(){function e(e,t,n){var i=this;this._appService=e,this._socketService=t,this._restService=n,this.uploadingUrl="",this.mediaAddress="",this.cdnAddress="",this.fileLinks=[],this.DateFormats=new Jf.BehaviorSubject({fullPickerInput:{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric"},datePickerInput:{year:"numeric",month:"numeric",day:"numeric"},timePickerInput:{hour:"numeric",minute:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}),this._appService.CDNAddress.subscribe(function(e){i.cdnAddress=e}),this._appService.MediaServiceAddress.subscribe(function(e){i.mediaAddress=e}),this._appService.Session.subscribe(function(e){i.Session=e}),this._socketService.GetSocketInstance().subscribe(function(e){i.Socket=e})}return e.prototype.getSeekableBlob1=function(e){return new Xf.Observable(function(t){try{var n=new $S.Reader,i=new $S.Decoder,l=$S.tools,o=new FileReader;o.addEventListener("load",function(e){i.decode(e.target.result).forEach(function(e){n.read(e)}),n.stop();var o=l.makeMetadataSeekable(n.metadatas,n.duration,n.cues),r=e.target.result.slice(n.metadataSize),u=new Blob([o,r],{type:"audio/webm"});u&&(t.next(u),t.complete())}),o.readAsArrayBuffer(e)}catch(r){}})},e.prototype.CreateAuioURL=function(e){return new Xf.Observable(function(t){e&&(t.next(URL.createObjectURL(e)),t.complete())})},e.prototype.GetFileasURL=function(e){var t=this;try{var n=new FileReader;return this.fileLinks=[],Array.from(e).map(function(e,i){"file"===e.kind&&(t.fileLinks.push(e.getAsFile()),n.addEventListener("load",function(e){}),t.fileLinks.push(n.readAsDataURL(e)))}),Object(US.forkJoin)(this.fileLinks)}catch(i){}},e.prototype.GenerateLinkForUploadFiles=function(e){var t=this;try{return this.fileLinks=[],Array.from(e).map(function(e){t.fileLinks.push(t.SignRequest(e))}),Object(US.forkJoin)(this.fileLinks)}catch(n){}},e.prototype.SignRequest=function(e){var t=this;return new Xf.Observable(function(n){if(e.name){var i=e.name.substr(e.name.lastIndexOf(".")+1),l=e.name.replace(new RegExp(i,"gi"),i.toLowerCase()),o=e.slice(0,e.size,e.type);e=new File([o],l,{type:e.type,lastModified:e.lastModified});var r=new XMLHttpRequest;r.open("POST",t.mediaAddress+"/upload/uploadCredintials/",!0),r.setRequestHeader("Content-type","application/json"),r.send(JSON.stringify({size:e.size.toString(),type:e.type,name:encodeURIComponent(e.name),nsp:t.Session.nsp})),r.onreadystatechange=function(i){try{if(200==r.status&&4==r.readyState){var l=JSON.parse(r.response);l.file=e,t.uploadAttachment(l).subscribe(function(i){var l=(ka.dev||ka.local?"":t.cdnAddress+"/")+t.ValidateS3MediaUploadResponse(i);n.next({filename:e.name,path:l}),n.complete()},function(e){n.error({error:'"Error in Uploading"'})})}else r.status>=200&&r.status<400||4!=r.readyState||t.ShowAttachmentError(JSON.parse(r.response)).subscribe(function(t){n.next({name:e.name,error:t}),n.complete()})}catch(o){n.error({error:"Error in uploading"})}}}else n.error({error:"invalid input"})})},e.prototype.uploadAttachment=function(e){var t=this;return new Xf.Observable(function(n){var i=new FormData;i.append("key",e.key),i.append("acl",e.acl),i.append("success_action_status",e.success_action_status),i.append("Content-Type",e.file.type),i.append("policy",e.policy),i.append("cache-control","public, max-age=31536000"),i.append("content-disposition",(t.isImage(e.file.name)?"inline; ":"attachment; ")+'filename="'+e.uName+'"'),i.append("x-amz-algorithm",e["x-amz-algorithm"]),i.append("X-Amz-Credential",e["x-amz-credential"]),i.append("x-amz-date",e["x-amz-date"]),i.append("x-amz-signature",e["x-amz-signature"]),i.append("file",e.file),delete e.uName,t._restService.SendXMLHttpRequest(e.upload_url,"POST",i,!1,!1).subscribe(function(e){e&&t.parseXML(e).subscribe(function(e){n.next(e),n.complete()},function(e){n.error({error:"Error in uploading"})})},function(e){n.error({error:"Error in uploading"})})})},e.prototype.parseXML=function(e){return new Xf.Observable(function(t){try{var n=(new DOMParser).parseFromString(e,"text/xml");t.next(n),t.complete()}catch(i){t.error("Error in Parsing XML")}})},e.prototype.ValidateS3MediaUploadResponse=function(e){var t=ka.production&&!ka.dev?e.getElementsByTagName("Key")[0].innerHTML:ka.local||ka.dev?e.getElementsByTagName("Location")[0].innerHTML:e.getElementsByTagName("Key")[0].innerHTML;if(t)return t;throw new Error((new XMLSerializer).serializeToString(e.documentElement))},e.prototype.isImage=function(e){switch(e.split(".").pop().toLowerCase()){case"png":case"jpg":case"jpeg":return!0;default:return!1}},e.prototype.getSeekableBlob=function(e,t){var n=new $S.Reader,i=new $S.Decoder,l=$S.tools,o=new FileReader;o.onload=function(e){i.decode(e.target.result).forEach(function(e){n.read(e)}),n.stop();var o=l.makeMetadataSeekable(n.metadatas,n.duration,n.cues),r=e.target.result.slice(n.metadataSize),u=new Blob([o,r],{type:"audio/webm"});t(u)},o.readAsArrayBuffer(e)},e.prototype.GetDateFormats=function(){return this.DateFormats.asObservable()},e.prototype.ShowAttachmentError=function(e){return new Xf.Observable(function(t){try{var n;e.errors&&Object.keys(e.errors).length?Object.keys(e.errors).some(function(t){if(e.errors[t])return n=t,e.errors[t]}):n=e.error;var i=void 0;switch(n){case"typeError":i="Invalid file type.";break;case"sizeError":i="file size should be Less than 5MB";break;case"nameError":i="Invalid file name.";break;case"requestError":i="Invalid request";break;default:i=n}t.next(i),t.complete()}catch(e){t.error({error:e})}})},e}(),zS=n("qe5e"),GS=n("mkMP"),qS=function(){function e(e,t,n,i){var l=this;this._dataService=e,this._appservice=t,this._uploadingService=n,this.dialogue=i,this.plainText="",this.plainTextWithEmoji="",this.hasEmoji=!1,this.fileValid=!1,this.file=void 0,this.fileErrors=[],this.audioError=!1,this.seconds=0,this.mins=0,this.recordingStarted=!1,this.isAudioSent=!1,this.uploading=!1,this.shiftdown=!1,this.error=!1,this.filesDropped=[],this.EmojiWrapper=!1,this.uploadingErrorText="",this.fileSharingPermission=!1,this.disbleForm=!1,this.subscription=[],this.cannedFormOpened=!1,this.ShowAttachmentAreaDnd=!1,this.chatEnded=!1,this.id="emoji-&#x",this.hash="&#x",this.EmojiSections=[!0,!1,!1,!1,!1,!1,!1,!1,!1],this.CheckTypingState=new A,this.SneakPeak=new A,this.tempTypingState=!1,this.tempTypingData="",this.noAgentWarning=!1,this.subscription.push(this._appservice.Session.subscribe(function(e){l.Session=e,l.Session&&2!=l.Session.state&&l.noAgentWarning&&(l.noAgentWarning=!1)})),this.subscription.push(this._dataService.cannedFormOpened.subscribe(function(e){l.cannedFormOpened=e})),this.subscription.push(this._dataService.closeEmoji.subscribe(function(e){e&&(l.EmojiWrapper&&(l.EmojiWrapper=!1),!l.fileValid&&l.error&&l.uploadingErrorText&&(l.uploadingErrorText="",l.fileValid=!0,l.audioError=!1,l.error=!1),l.userMediaError&&(l.userMediaError=void 0))})),this.subscription.push(this._dataService.actionFormReceived.subscribe(function(e){e&&!l.cannedFormOpened&&(l._dataService.cannedFormOpened.next(!0),l.dialogue.open(Xy,{disableClose:!0,autoFocus:!0,data:{form:e}}).afterClosed().subscribe(function(e){l._dataService.cannedFormOpened.next(!1),e&&"ok"==e.status&&(e.message&&l._dataService.AppendEventsMessages(e.message),l.Session&&8==l.Session.state?l._dataService.AppendChatBotMessage(l._dataService.GetChatBotReplyMessage("",[e.form])):l._dataService.SendPlainMessage("",[e.form]))}))})),this.subscription.push(this._dataService.attachmentGallery.subscribe(function(e){e&&e.files&&e.filesUrls&&(l.filesDropped=e.filesUrls,l.AddFileToView(e.files),l._dataService.attachmentGallery.next(void 0))})),this.subscription.push(this.CheckTypingState.subscribe(function(e){3==l.Session.state&&(l.plainText.trim()?l.plainText.trim().length>1&&!l.tempTypingState?l._dataService.SendTypingEventRest(!0).subscribe(function(e){l.tempTypingState=!0}):l.plainText.trim().length<2&&!l.tempTypingState&&l._dataService.SendTypingEventRest(!0).subscribe(function(e){l.tempTypingState=!0}):l._dataService.SendTypingEventRest(!1).subscribe(function(e){l.tempTypingState=!1}))})),this.subscription.push(this.SneakPeak.pipe(Object(ig.debounceTime)(1e3)).subscribe(function(e){var t=l.plainText.trim();3==l.Session.state&&l.tempTypingData!=l.plainText&&l._dataService.SneakPeakRest(t).subscribe(function(e){l.tempTypingData=t})})),this.Emojis=GS,this.subscription.push(this._appservice.FSharePermissions.subscribe(function(e){l.fileSharingPermission=e})),this.subscription.push(this._appservice.FSharePermissions.subscribe(function(e){l.fileSharingPermission=e})),this.subscription.push(this._dataService.forceEndedChat.subscribe(function(e){l.forceChatEnded=e})),this.subscription.push(this._appservice.ShowEndchatDialog.subscribe(function(e){l.chatEnded=e,8==l.Session.state||l.chatEnded||l.forceChatEnded||l._dataService.SendTypingEventRest(!1).subscribe(function(e){l.tempTypingState=!1})})),this.subscription.push(this._appservice.Settings.subscribe(function(e){e&&(l.themeSettings=e.dialogSettings)}))}return e.prototype.UpdateArray=function(e,t){var n=e.findIndex(function(e){return e.id===t.id});-1===n?e.push(t):e[n]=t},e.prototype.ngOnInit=function(){this.Session&&!this.Session.inactive&&(this.CheckTypingState.next(),this.SneakPeak.next())},e.prototype.EmojiHeader=function(e){for(var t=this.EmojiContent.nativeElement.children,n=this.EmojiHead.nativeElement.children,i=e,l=0;l<n.length;l++)n[l].className="";var o=document.getElementById("emoji-icon-"+i);for(o.className="",o.className="active",l=0;l<t.length;l++)t[l].className="",t[l].className="hide";var r=document.getElementById(i||"Smileys");r.className="",r.className="show"},e.prototype.EmojiContentAppend=function(e){-1!==e.target.id.indexOf("emoji-&#x")&&(this.plainText+=e.target.innerText)},e.prototype.ngAfterViewInit=function(){},e.prototype.AddFileToView=function(e){if(!this.uploading){if(this.fileValid=!0,this.file){var t=this.file.concat(e);this.RemoveDuplicateFiles(t)}else this.file=[],this.file=this.file.concat(e);this.file.map(function(e){e.loading=!1})}},e.prototype.RemoveDuplicateFiles=function(e){this.file=e.filter(function(t,n){return e.findIndex(function(e){return e.name==t.name})==n})},e.prototype.SendAttachment=function(){var e=this;if(this.file&&this.file.length){if(this.file&&this.file.length&&!this.uploading){this.file=this.file.filter(function(e){return!e.hasOwnProperty("error")});var t=this.file;this.audioFile&&this.audioFile.length&&(t=this.file.filter(function(t){return null==e.audioFile.find(function(e){return t.name==e.name})})),t=this.audioFile&&this.audioFile.length?t.concat(this.audioFile.filter(function(e){return!(e.hasOwnProperty("error")||e.loading)})):t,this.audioFile&&this.audioFile.length&&(this.audioFile=this.audioFile.filter(function(e){return e.loading})),t&&t.length&&(this.uploading=!0,this._uploadingService.GenerateLinkForUploadFiles(t).subscribe(function(t){var n=t.filter(function(e){return!e.hasOwnProperty("error")});e.file=t.filter(function(e){return e.hasOwnProperty("error")}),n&&n.length&&e._dataService.SendAttatchment({from:e.Session.username?e.Session.username:"",to:e.Session.agent,body:n,type:"Visitors",cid:e.Session.cid?e.Session.cid:"",attachment:!0}),e.uploading=!1,e.file&&!e.file.length&&(e.file=void 0),(e.file&&!e.file.length||e.fileInput.nativeElement)&&(e.fileInput.nativeElement.value=""),e._dataService.attachmentGallery.next(void 0)},function(t){Ia("in generate link error"),Ia(t),e._uploadingService.ShowAttachmentError(t).subscribe(function(n){Ia("fileerror"),t&&(e.error=!0,e.fileValid=!1,e.uploading=!1,e.uploadingErrorText=n,e._dataService.attachmentGallery.next(void 0))},function(t){Ia("error"),e.error=!0,e.fileValid=!1,e.uploading=!1,e.uploadingErrorText=t.error,e._dataService.attachmentGallery.next(void 0),Ia("error in attatchment")})}))}this._dataService.attachmentGallery.next(void 0)}},e.prototype.Send=function(){var e=this;this.uploading||this.SendAttachment(),(this.plainText||this.plainText.replace(/^\s+|\s+$/g,""))&&this._dataService.SendTypingEventRest(!1).subscribe(function(t){e.tempTypingState=!1}),this._dataService.SendPlainMessage(this.plainText),this.plainText="",this.plainTextWithEmoji="",2==this.Session.state&&(this.noAgentWarning=!0),this._dataService.attachmentGallery.next(void 0)},e.prototype.FileSelected=function(e){var t=this;if(e.target.files&&e.target.files.length){var n=Array.from(e.target.files).filter(function(e){return e.type});this.AddFileToView(n)}else this.fileValid=!1,this.ClearFile(),setTimeout(function(){return[t.fileValid=!0]},3e3)},e.prototype.ClearFile=function(e,t){e&&(e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation()),this.file&&this.file.length&&(this.file=this.file.filter(function(e){return e.name!=t})),this.audioFile&&this.audioFile.length&&(this.audioFile=this.audioFile.filter(function(e){return e.name!=t})),(this.file&&!this.file.length||!t)&&(this.file=void 0,this.fileInput.nativeElement.value=""),(this.audioFile&&!this.audioFile.length||!t)&&(this.audioFile=void 0)},e.prototype.startRecording=function(){var e=this;if(!this.recordingStarted)try{this.userMediaError="",navigator.mediaDevices.getUserMedia({audio:!0,video:!1}).then(function(t){e.isAudioSent=!1,e.recordingStarted=!0,Ia("recording"),setTimeout(function(){var n=document.getElementById("progressBarParent").clientWidth,i=document.getElementById("progressBar"),l=n/60,o=0;e.mediaStream=t,e.recordRTC=zS(t,{type:"audio"}),e.recordRTC.startRecording(),e.recordingInterval=setInterval(function(){e.seconds++,i.style.width=(o+=l)+"px",60==e.seconds&&(e.mins+=1,e.stopRecording(),clearInterval(e.recordingInterval))},1e3)},0)}).catch(function(t){e.userMediaError="NotAllowedError"==t.name?"Please allow your browser to access you microphone.":t,Ia("catch block get usermedia"),Ia(t),e.recordingStarted=!1})}catch(t){this.userMediaError=t,Ia("error in getting navigator"),Ia(t)}},e.prototype.cancelRecording=function(){var e=this;this.seconds=0,this.mins=0,this.recordingStarted=!1,this.recordRTC.stopRecording(function(){e.mediaStream.getTracks()[0].stop(),e.isAudioSent=!1,clearInterval(e.recordingInterval)})},e.prototype.stopRecording=function(){var e=this;this.recordingStarted=!1,this.isAudioSent||(this.seconds=0,this.mins=0,this.recordRTC.stopRecording(function(){e._uploadingService.getSeekableBlob(e.recordRTC.getBlob(),function(t){var n=new File([t],"stream"+(new Date).getTime()+".mp3",{type:"audio/webm"});n&&!e.uploading&&(e.uploading=!0,e._uploadingService.GenerateLinkForUploadFiles([n]).subscribe(function(t){e.uploading=!1,e._dataService.SendAttatchment({from:e.Session.username?e.Session.username:"",to:e.Session.agent,body:t,type:"Visitors",cid:e.Session.cid?e.Session.cid:"",attachment:!0,filename:n.name}),e.mediaStream.getTracks()[0].stop()},function(t){e._uploadingService.ShowAttachmentError(t).subscribe(function(n){t&&(e.audioError=!0,e.error=!0,e.fileValid=!1,e.uploading=!1,e.uploadingErrorText=n,e._dataService.attachmentGallery.next(void 0),e.ClearFile())},function(t){e.audioError=!0,e.error=!0,e.fileValid=!1,e.uploading=!1,e.uploadingErrorText=t.error,e._dataService.attachmentGallery.next(void 0),e.ClearFile()})})),e.mediaStream.getTracks()[0].stop(),e.isAudioSent=!0,clearInterval(e.recordingInterval)})}))},e.prototype.stopRecordingasFIle=function(){var e=this;this.seconds=0,this.mins=0,this.fileValid=!0,(!this.file||this.file&&!this.file.length)&&(this.file=[]);var t="stream"+(new Date).getTime()+".mp3",n=new File([],t,{type:"audio/webm"});this.recordingStarted=!1,Object.defineProperty(n,"loading",{value:!0,enumerable:!0}),this.file=this.file.concat([n]);try{this.recordRTC.stopRecording(function(){e._uploadingService.getSeekableBlob(e.recordRTC.getBlob(),function(n){var i=new File([n],t,{type:"audio/webm"});if(i){(!e.audioFile||e.audioFile&&!e.audioFile.length)&&(e.audioFile=[]),e.audioFile=e.audioFile.concat([i]);var l=e.file.findIndex(function(e){return e.name==i.name});delete e.file[l].loading,e._uploadingService.CreateAuioURL(n).subscribe(function(n){n&&e.dialogue.open(Ob,{data:{audioUrl:n},disableClose:!0,autoFocus:!0,panelClass:["dialog-inner"]}).afterClosed().subscribe(function(n){if("ok"==n.status){if(n.fileName){var o=n.fileName+"."+e.file[l].name.split(".")[1];Object.defineProperty(e.file[l],"name",{value:o,enumerable:!0}),e.audioFile.map(function(e){return e.name==t&&Object.defineProperty(e,"name",{value:o,enumerable:!0}),e})}Object.defineProperty(e.file[l],"lastModified",{value:i.lastModified,enumerable:!0}),Object.defineProperty(e.file[l],"size",{value:i.size,enumerable:!0})}else e.ClearFile(void 0,i.name)})})}else e.file=e.file.map(function(e){return e.name==i.name&&(e.error="Error in voice in note",e.loading=!1),e});e.mediaStream.getTracks()[0].stop(),clearInterval(e.recordingInterval)})})}catch(i){this.mediaStream.getTracks()[0].stop(),clearInterval(this.recordingInterval),this.recordingStarted=!1}},e.prototype.TypingEvent=function(e){this.Session&&!this.Session.inactive&&(this.CheckTypingState.next(),this.SneakPeak.next())},e.prototype.keydown=function(e){var t=this;if(this.disbleForm)return!1;if("Enter"==e.key&&e.shiftKey);else if("Enter"==e.key&&!e.shiftKey){if(4==this.Session.state||5==this.Session.state){this.disbleForm=!0;var n=this.plainText;this._dataService.ChangeState(3).subscribe(function(e){"ok"==e.status?(t.plainText=n,t.disbleForm=!1,t.messageTextArea.nativeElement.focus(),t.Send()):(t.messageTextArea.nativeElement.focus(),t.disbleForm=!1)},function(e){t.messageTextArea.nativeElement.focus(),t.disbleForm=!1})}else this.Send();return!1}},e.prototype.keyDownFunction=function(e){var t=this;if(1==e.which){var n=new KeyboardEvent("keydown",{shiftKey:!1,bubbles:!0,cancelable:!1,code:"Enter",composed:!0,key:"Enter",view:window});this.messageTextArea.nativeElement.dispatchEvent(n),this.keydown(n),setTimeout(function(){t.messageTextArea.nativeElement.dispatchEvent(n),t.messageTextArea.nativeElement.focus()},0)}},e.prototype.EmojiTab=function(e){e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),this.EmojiWrapper=!this.EmojiWrapper},e.prototype.stopRecording1=function(){var e=this;this.seconds=0,this.mins=0,this.fileValid=!0,(!this.file||this.file&&!this.file.length)&&(this.file=[]);var t="stream"+(new Date).getTime()+".mp3",n=new File([],t,{type:"audio/webm"});this.recordingStarted=!1,Object.defineProperty(n,"loading",{value:!0,enumerable:!0}),this.file=this.file.concat([n]);try{this.recordRTC.stopRecording(function(){setTimeout(function(){document.getElementById("chatContentArea").click(),document.getElementById("chatContentArea").focus()},1e3),e._uploadingService.getSeekableBlob(e.recordRTC.getBlob(),function(n){var i=new File([n],t,{type:"audio/webm"});if(i){(!e.audioFile||e.audioFile&&!e.audioFile.length)&&(e.audioFile=[]),e.audioFile=e.audioFile.concat([i]);var l=e.file.findIndex(function(e){return e.name==i.name});delete e.file[l].loading,Object.defineProperty(e.file[l],"lastModified",{value:i.lastModified,enumerable:!0}),Object.defineProperty(e.file[l],"size",{value:i.size,enumerable:!0})}else e.file=e.file.map(function(e){return e.name==i.name&&(e.error="Error in voice in note",e.loading=!1),e});e.mediaStream.getTracks()[0].stop(),clearInterval(e.recordingInterval)})})}catch(i){this.mediaStream.getTracks()[0].stop(),clearInterval(this.recordingInterval),this.recordingStarted=!1}},e}(),WS=Er({encapsulation:2,styles:[['@charset "UTF-8";#emoji-div-wrapper{height:200px;width:calc(100% - 40px);position:fixed;padding:0;left:20px;border:1px solid #ccc;border-top-left-radius:5px;border-top-right-radius:5px;border-bottom:none;opacity:0;display:block}#emoji-div-wrapper.showEmoji{-webkit-transition:opacity .3s linear,visibility .5s;transition:opacity .3s linear,visibility .5s;visibility:visible;opacity:1;bottom:100px;z-index:9999}#emoji-div-wrapper.hideEmoji{-webkit-transition:opacity .3s linear,visibility .5s;transition:opacity .3s linear,visibility .5s;opacity:0;bottom:-100px;z-index:9999;visibility:hidden}#emoji-div-wrapper #emoji-div{height:200px;width:100%;overflow:hidden;overflow-y:scroll;background:#fff;border-bottom:none;padding:15px}#emoji-div-wrapper #emoji-div p{text-align:left}#emoji-div-wrapper #emoji-div p a{font-size:22px;width:34px;height:34px;margin:0;text-align:center;display:inline-block;-webkit-transform:scale(1);transform:scale(1);-webkit-transition:-webkit-transform .2s;transition:-webkit-transform .2s ease;transition:transform .2s ease;transition:transform .2s ease,-webkit-transform .2s ease}#emoji-div-wrapper #emoji-div p a:hover{-webkit-transform:scale(1.3);transform:scale(1.3)}#emoji-div-wrapper #emoji-menu{width:100%;border-top:1px solid #ccc;border-bottom:1px solid #ccc;position:absolute;background:#fff;text-align:center;top:100%}#emoji-div-wrapper #emoji-menu li{display:inline-block;padding:8.8px}#emoji-div-wrapper #emoji-menu li.active,#emoji-div-wrapper #emoji-menu li:hover{background:#ccc}#emoji-div-wrapper #emoji-menu i{font-style:unset}#emojiBox{position:inherit;right:20px;float:right}[data-title]:hover::before{content:attr(data-title);position:absolute;display:inline-block;padding:3px 5px;border-radius:2px;background:#000;color:#fff;font-size:10px;font-family:sans-serif;line-height:1.5;white-space:inherit;top:40px;width:auto}.icon-emoji:before{content:"\ud83d\ude0a";font-size:17px}.icon-emoji-smiley:before{content:"\ud83d\ude0a"}.icon-emoji-animal:before{content:"\ud83d\udc15"}.icon-emoji-activity:before{content:"\ud83c\udfc4"}.icon-emoji-people:before{content:"\ud83d\udc68"}.icon-emoji-object:before{content:"\ud83d\udd59"}.icon-emoji-place:before{content:"\ud83d\ude86"}.icon-emoji-food:before{content:"\ud83c\udf54"}.icon-emoji-cloth:before{content:"\ud83d\udc54"}.icon-emoji-sport:before{content:"\u26bd"}.icon-emoji-size{font-size:3vw}.fileAlert{vertical-align:bottom;margin-left:5px}']],data:{}});function JS(e){return Cs(0,[(e()(),lu(0,0,null,null,22,"ul",[["class","attachment-area recording"]],null,null,null,null,null)),(e()(),lu(1,0,null,null,21,"li",[],null,null,null,null,null)),(e()(),lu(2,0,null,null,1,"div",[["class","icon animated pulse"]],null,null,null,null,null)),(e()(),lu(3,0,null,null,0,"img",[["alt",""],["src","/cw/assets/img/icons/svg/mic-on-gray.svg"],["width","100%"]],null,null,null,null,null)),(e()(),lu(4,0,null,null,7,"div",[["class","progress-bar"]],null,null,null,null,null)),(e()(),lu(5,0,null,null,1,"div",[["id","progressBarParent"]],null,null,null,null,null)),(e()(),lu(6,0,null,null,0,"span",[["id","progressBar"]],null,null,null,null,null)),(e()(),lu(7,0,null,null,4,"div",[["class","counter"]],null,null,null,null,null)),(e()(),lu(8,0,null,null,3,"span",[],null,null,null,null,null)),(e()(),ys(9,null,["",":"," | 01:00"])),gs(10,2),gs(11,2),(e()(),lu(12,0,null,null,10,"div",[["class","actions"]],null,null,null,null,null)),(e()(),lu(13,0,null,null,4,"button",[["class","btn bg-gray-light svgOnHover tooltip top"]],null,[[null,"click"]],function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.cancelRecording()&&i),i},null,null)),(e()(),lu(14,0,null,null,0,"img",[["class","svg"],["src","/cw/assets/img/icons/svg/cancel-circle-outline.svg"]],null,null,null,null,null)),(e()(),lu(15,0,null,null,0,"img",[["class","svg hover"],["src","/cw/assets/img/icons/svg/cancel-circle-filled.svg"]],null,null,null,null,null)),(e()(),lu(16,0,null,null,1,"span",[["class","tooltip-inner"]],null,null,null,null,null)),(e()(),ys(-1,null,["Cancel Recording"])),(e()(),lu(18,0,null,null,4,"button",[["class","btn bg-gray-light svgOnHover tooltip top-right"],["title","Send"]],null,[[null,"click"]],function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.stopRecording()&&i),i},null,null)),(e()(),lu(19,0,null,null,0,"img",[["class","svg"],["src","/cw/assets/img/icons/svg/send-outline.svg"]],null,null,null,null,null)),(e()(),lu(20,0,null,null,0,"img",[["class","svg hover"],["src","/cw/assets/img/icons/svg/send-filled.svg"]],null,null,null,null,null)),(e()(),lu(21,0,null,null,1,"span",[["class","tooltip-inner"]],null,null,null,null,null)),(e()(),ys(-1,null,["Send"]))],null,function(e,t){var n=t.component,i=wr(t,9,0,e(t,10,0,Ou(t.parent.parent,0),n.mins,1)),l=wr(t,9,1,e(t,11,0,Ou(t.parent.parent,0),n.seconds,2));e(t,9,0,i,l)})}function KS(e){return Cs(0,[(e()(),lu(0,0,null,null,7,"ul",[["class","attachment-area errors"]],null,null,null,null,null)),(e()(),lu(1,0,null,null,6,"li",[["class","bg-danger"]],null,null,null,null,null)),(e()(),lu(2,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),ys(3,null,["",""])),(e()(),lu(4,0,null,null,3,"a",[["class","btn btn-xs btn-transparent pull-right tooltip top-right"],["href","https://utlv.screenstepslive.com/s/faculty/m/54123/l/984966-enabling-microphone-and-camera-use-in-web-browsers#enabling-microphone-and-camera-in-mozilla-firefox"],["target","_blank"]],null,null,null,null,null)),(e()(),lu(5,0,null,null,0,"img",[["alt","Delete"],["src","/cw/assets/img/icons/svg/info-circle-outline-white.svg"],["width","20"]],null,null,null,null,null)),(e()(),lu(6,0,null,null,1,"span",[["class","tooltip-inner"]],null,null,null,null,null)),(e()(),ys(-1,null,["Click Here"]))],null,function(e,t){e(t,3,0,t.component.userMediaError)})}function QS(e){return Cs(0,[(e()(),lu(0,0,null,null,8,"ul",[["class","attachment-area warning"]],null,null,null,null,null)),(e()(),lu(1,0,null,null,7,"li",[],null,null,null,null,null)),(e()(),lu(2,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),ys(-1,null,["Please Wait We'll Get Back To You Soon.."])),(e()(),lu(4,0,null,null,4,"button",[["class","btn btn-xs btn-transparent pull-right svgOnHover tooltip top-right"]],null,[[null,"click"]],function(e,t,n){var i=!0,l=e.component;return"click"===t&&(i=0!=(l.noAgentWarning=!l.noAgentWarning)&&i),i},null,null)),(e()(),lu(5,0,null,null,0,"img",[["class","svg"],["src","/cw/assets/img/icons/svg/cancel-circle-outline.svg"],["width","20"]],null,null,null,null,null)),(e()(),lu(6,0,null,null,0,"img",[["class","svg hover"],["src","/cw/assets/img/icons/svg/cancel-circle-filled.svg"],["width","20"]],null,null,null,null,null)),(e()(),lu(7,0,null,null,1,"span",[["class","tooltip-inner"]],null,null,null,null,null)),(e()(),ys(-1,null,["Close"]))],null,null)}function ZS(e){return Cs(0,[(e()(),lu(0,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),ys(1,null,[""," ",""]))],null,function(e,t){var n=t.parent.context.$implicit.name,i=t.parent.context.$implicit.hasOwnProperty("size")&&t.parent.context.$implicit.size<1?"(Empty File)":"";e(t,1,0,n,i)})}function XS(e){return Cs(0,[(e()(),lu(0,0,null,null,3,"span",[],null,null,null,null,null)),(e()(),lu(1,0,null,null,2,"div",[],null,null,null,null,null)),(e()(),lu(2,0,null,null,1,"app-preloader",[["type","spin-loader-gray"]],null,null,null,Ib,Cb)),qu(3,114688,null,0,Db,[],{type:[0,"type"],spinnerWidth:[1,"spinnerWidth"],spinnerHeight:[2,"spinnerHeight"]},null)],function(e,t){e(t,3,0,"spin-loader-gray",25,25)},null)}function YS(e){return Cs(0,[(e()(),lu(0,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),ys(1,null,["",""]))],null,function(e,t){e(t,1,0,t.parent.context.$implicit.name)})}function e_(e){return Cs(0,[(e()(),lu(0,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),ys(1,null,["",""]))],null,function(e,t){e(t,1,0,t.parent.context.$implicit.error?t.parent.context.$implicit.error:"")})}function t_(e){return Cs(0,[(e()(),lu(0,0,null,null,1,"app-preloader",[["type","stat-loader-black"]],null,null,null,Ib,Cb)),qu(1,114688,null,0,Db,[],{type:[0,"type"]},null)],function(e,t){e(t,1,0,"stat-loader-black")},null)}function n_(e){return Cs(0,[(e()(),lu(0,0,null,null,2,"button",[["class","btn btn-xs btn-transparent pull-right svgOnHover"]],null,[[null,"click"]],function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.ClearFile(n,e.parent.context.$implicit.name)&&i),i},null,null)),(e()(),lu(1,0,null,null,0,"img",[["class","svg"],["src","/cw/assets/img/icons/svg/delete-outline.svg"],["width","20"]],null,null,null,null,null)),(e()(),lu(2,0,null,null,0,"img",[["class","svg hover"],["src","/cw/assets/img/icons/svg/delete-filled.svg"],["width","20"]],null,null,null,null,null))],null,null)}function i_(e){return Cs(0,[(e()(),lu(0,0,null,null,15,"li",[],null,null,null,null,null)),qu(1,278528,null,0,Xc,[Yo,er,Li,zi],{ngClass:[0,"ngClass"]},null),(e()(),iu(16777216,null,null,1,null,ZS)),qu(3,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,XS)),qu(5,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),lu(6,0,null,null,5,"span",[],null,null,null,null,null)),(e()(),iu(16777216,null,null,1,null,YS)),qu(8,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),lu(9,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),iu(16777216,null,null,1,null,e_)),qu(11,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,t_)),qu(13,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,n_)),qu(15,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component;e(t,1,0,t.context.$implicit.error?"bg-danger":""),e(t,3,0,!t.context.$implicit.error);var i=t.context.$implicit.hasOwnProperty("loading")&&t.context.$implicit.loading;e(t,5,0,i);var l=t.context.$implicit.name&&t.context.$implicit.error&&!n.uploading&&(!t.context.$implicit.hasOwnProperty("loading")||t.context.$implicit.hasOwnProperty("loading")&&!t.context.$implicit.loading);e(t,8,0,l);var o=t.context.$implicit.name&&t.context.$implicit.error&&!n.uploading&&(!t.context.$implicit.hasOwnProperty("loading")||t.context.$implicit.hasOwnProperty("loading")&&!t.context.$implicit.loading);e(t,11,0,o);var r=n.uploading&&(!t.context.$implicit.hasOwnProperty("loading")||t.context.$implicit.hasOwnProperty("loading")&&!t.context.$implicit.loading);e(t,13,0,r);var u=(!n.uploading||t.context.$implicit.error)&&(!t.context.$implicit.hasOwnProperty("loading")||t.context.$implicit.hasOwnProperty("loading")&&!t.context.$implicit.loading);e(t,15,0,u)},null)}function l_(e){return Cs(0,[(e()(),lu(0,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),ys(1,null,["",""]))],null,function(e,t){e(t,1,0,t.component.uploadingErrorText)})}function o_(e){return Cs(0,[(e()(),lu(0,0,null,null,2,"div",[["class","bg-danger p-7 w100 m-b-7"]],null,null,null,null,null)),(e()(),iu(16777216,null,null,1,null,l_)),qu(2,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null)],function(e,t){e(t,2,0,t.component.error)},null)}function r_(e){return Cs(0,[(e()(),lu(0,0,null,null,19,"div",[["class","attachment-area document"]],null,null,null,null,null)),(e()(),lu(1,0,null,null,2,"ul",[],null,null,null,null,null)),(e()(),iu(16777216,null,null,1,null,i_)),qu(3,278528,null,0,ep,[Oo,Al,Yo],{ngForOf:[0,"ngForOf"]},null),(e()(),lu(4,0,null,null,15,"div",[["class","attachment-footer"]],null,null,null,null,null)),(e()(),lu(5,0,null,null,2,"div",[],null,null,null,null,null)),(e()(),iu(16777216,null,null,1,null,o_)),qu(7,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),lu(8,0,null,null,11,"div",[],null,null,null,null,null)),(e()(),lu(9,0,null,null,5,"button",[["class","btn btn-xxs"]],null,[[null,"click"]],function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.SendAttachment()&&i),i},null,null)),qu(10,278528,null,0,Xc,[Yo,er,Li,zi],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),qu(11,278528,null,0,op,[er,Li,zi],{ngStyle:[0,"ngStyle"]},null),ms(12,{"background-color":0,color:1}),(e()(),lu(13,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),ys(14,null,["Send ",""])),(e()(),lu(15,0,null,null,4,"button",[["class","btn btn-xxs bg-red"]],null,[[null,"click"]],function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.ClearFile(n)&&i),i},null,null)),qu(16,278528,null,0,op,[er,Li,zi],{ngStyle:[0,"ngStyle"]},null),ms(17,{"background-color":0,color:1}),(e()(),lu(18,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),ys(-1,null,["Remove All"]))],function(e,t){var n=t.component;e(t,3,0,n.file),e(t,7,0,!n.fileValid),e(t,10,0,"btn btn-xxs",!n.file||n.uploading?"disabled":"");var i=n.themeSettings?e(t,12,0,n.themeSettings.dialogBtnColor,n.themeSettings.dialogBtnTextColor):"";e(t,11,0,i);var l=n.themeSettings?e(t,17,0,n.themeSettings.dialogSecondaryBtnColor,n.themeSettings.dialogSecondaryBtnTextColor):"";e(t,16,0,l)},function(e,t){var n=t.component;e(t,14,0,n.file&&n.file.length>1?"Attachments":"Attachment")})}function u_(e){return Cs(0,[(e()(),lu(0,0,[[2,0],["chatMessage",1]],null,10,"textarea",[["appAutoGrow",""],["autofocus",""],["id","chatMessage"],["maxlength","20000"],["name","chatMessage"],["placeholder","Type and hit 'Enter' to send"]],[[1,"maxlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"keydown"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"keyup"],[null,"cut"],[null,"paste"],[null,"change"]],function(e,t,n){var i=!0,l=e.component;return"input"===t&&(i=!1!==Ou(e,2)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==Ou(e,2).onTouched()&&i),"compositionstart"===t&&(i=!1!==Ou(e,2)._compositionStart()&&i),"compositionend"===t&&(i=!1!==Ou(e,2)._compositionEnd(n.target.value)&&i),"input"===t&&(i=!1!==Ou(e,10).ngOnInit(n.target)&&i),"keydown"===t&&(i=!1!==Ou(e,10).ngOnInit(n.target)&&i),"keyup"===t&&(i=!1!==Ou(e,10).ngOnInit(n.target)&&i),"cut"===t&&(i=!1!==Ou(e,10).ngOnInit(n.target)&&i),"paste"===t&&(i=!1!==Ou(e,10).ngOnInit(n.target)&&i),"change"===t&&(i=!1!==Ou(e,10).ngOnInit(n.target)&&i),"ngModelChange"===t&&(i=!1!==(l.plainText=n)&&i),"keydown"===t&&(i=!1!==l.keydown(n)&&i),"input"===t&&(i=!1!==l.TypingEvent(n)&&i),i},null,null)),qu(1,278528,null,0,Xc,[Yo,er,Li,zi],{ngClass:[0,"ngClass"]},null),qu(2,16384,null,0,tf,[zi,Li,[2,ef]],null,null),qu(3,540672,null,0,zf,[],{maxlength:[0,"maxlength"]},null),Ju(1024,null,qh,function(e){return[e]},[zf]),Ju(1024,null,Xh,function(e){return[e]},[tf]),qu(6,671744,null,0,Hf,[[8,null],[6,qh],[8,null],[6,Xh]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),Ju(2048,null,uf,null,[Hf]),qu(8,16384,null,0,kf,[[4,uf]],null,null),qu(9,4276224,null,0,LS,[Li,$i],{autofocus:[0,"autofocus"]},null),qu(10,81920,null,0,VS,[Li],{maximumHeight:[0,"maximumHeight"],minHeight:[1,"minHeight"]},null)],function(e,t){var n=t.component;e(t,1,0,n.chatEnded||n.disbleForm?"disabled":""),e(t,3,0,"20000"),e(t,6,0,"chatMessage",n.plainText),e(t,9,0,""),e(t,10,0,200,43)},function(e,t){e(t,0,0,Ou(t,3).maxlength?Ou(t,3).maxlength:null,Ou(t,8).ngClassUntouched,Ou(t,8).ngClassTouched,Ou(t,8).ngClassPristine,Ou(t,8).ngClassDirty,Ou(t,8).ngClassValid,Ou(t,8).ngClassInvalid,Ou(t,8).ngClassPending)})}function s_(e){return Cs(0,[(e()(),lu(0,0,[[2,0],["chatMessage",1]],null,10,"textarea",[["appAutoGrow",""],["autofocus",""],["id","chatMessage"],["maxlength","20000"],["name","chatMessage"],["placeholder","Type and hit 'Enter' to send"]],[[1,"maxlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"keydown"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"keyup"],[null,"cut"],[null,"paste"],[null,"change"]],function(e,t,n){var i=!0,l=e.component;return"input"===t&&(i=!1!==Ou(e,2)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==Ou(e,2).onTouched()&&i),"compositionstart"===t&&(i=!1!==Ou(e,2)._compositionStart()&&i),"compositionend"===t&&(i=!1!==Ou(e,2)._compositionEnd(n.target.value)&&i),"input"===t&&(i=!1!==Ou(e,10).ngOnInit(n.target)&&i),"keydown"===t&&(i=!1!==Ou(e,10).ngOnInit(n.target)&&i),"keyup"===t&&(i=!1!==Ou(e,10).ngOnInit(n.target)&&i),"cut"===t&&(i=!1!==Ou(e,10).ngOnInit(n.target)&&i),"paste"===t&&(i=!1!==Ou(e,10).ngOnInit(n.target)&&i),"change"===t&&(i=!1!==Ou(e,10).ngOnInit(n.target)&&i),"ngModelChange"===t&&(i=!1!==(l.plainText=n)&&i),"keydown"===t&&(i=!1!==l.keydown(n)&&i),"input"===t&&(i=!1!==l.TypingEvent(n)&&i),i},null,null)),qu(1,278528,null,0,Xc,[Yo,er,Li,zi],{ngClass:[0,"ngClass"]},null),qu(2,16384,null,0,tf,[zi,Li,[2,ef]],null,null),qu(3,540672,null,0,zf,[],{maxlength:[0,"maxlength"]},null),Ju(1024,null,qh,function(e){return[e]},[zf]),Ju(1024,null,Xh,function(e){return[e]},[tf]),qu(6,671744,null,0,Hf,[[8,null],[6,qh],[8,null],[6,Xh]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),Ju(2048,null,uf,null,[Hf]),qu(8,16384,null,0,kf,[[4,uf]],null,null),qu(9,4276224,null,0,LS,[Li,$i],{autofocus:[0,"autofocus"]},null),qu(10,81920,null,0,VS,[Li],{maximumHeight:[0,"maximumHeight"],minHeight:[1,"minHeight"]},null)],function(e,t){var n=t.component;e(t,1,0,n.chatEnded||n.disbleForm?"disabled":""),e(t,3,0,"20000"),e(t,6,0,"chatMessage",n.plainText),e(t,9,0,""),e(t,10,0,200,43)},function(e,t){e(t,0,0,Ou(t,3).maxlength?Ou(t,3).maxlength:null,Ou(t,8).ngClassUntouched,Ou(t,8).ngClassTouched,Ou(t,8).ngClassPristine,Ou(t,8).ngClassDirty,Ou(t,8).ngClassValid,Ou(t,8).ngClassInvalid,Ou(t,8).ngClassPending)})}function a_(e){return Cs(0,[(e()(),lu(0,0,null,null,0,"a",[],[[8,"id",0],[8,"innerHTML",1]],null,null,null,null))],null,function(e,t){e(t,0,0,eu(1,"emoji-",t.context.$implicit,""),t.context.$implicit)})}function c_(e){return Cs(0,[(e()(),lu(0,0,null,null,0,"a",[],[[8,"id",0],[8,"innerHTML",1]],null,null,null,null))],null,function(e,t){e(t,0,0,eu(1,"emoji-",t.context.$implicit,""),t.context.$implicit)})}function p_(e){return Cs(0,[(e()(),lu(0,0,null,null,0,"a",[],[[8,"id",0],[8,"innerHTML",1]],null,null,null,null))],null,function(e,t){e(t,0,0,eu(1,"emoji-",t.context.$implicit,""),t.context.$implicit)})}function d_(e){return Cs(0,[(e()(),lu(0,0,null,null,0,"a",[],[[8,"id",0],[8,"innerHTML",1]],null,null,null,null))],null,function(e,t){e(t,0,0,eu(1,"emoji-",t.context.$implicit,""),t.context.$implicit)})}function h_(e){return Cs(0,[(e()(),lu(0,0,null,null,0,"a",[],[[8,"id",0],[8,"innerHTML",1]],null,null,null,null))],null,function(e,t){e(t,0,0,eu(1,"emoji-",t.context.$implicit,""),t.context.$implicit)})}function f_(e){return Cs(0,[(e()(),lu(0,0,null,null,0,"a",[],[[8,"id",0],[8,"innerHTML",1]],null,null,null,null))],null,function(e,t){e(t,0,0,eu(1,"emoji-",t.context.$implicit,""),t.context.$implicit)})}function g_(e){return Cs(0,[(e()(),lu(0,0,null,null,0,"a",[],[[8,"id",0],[8,"innerHTML",1]],null,null,null,null))],null,function(e,t){e(t,0,0,eu(1,"emoji-",t.context.$implicit,""),t.context.$implicit)})}function m_(e){return Cs(0,[(e()(),lu(0,0,null,null,0,"a",[],[[8,"id",0],[8,"innerHTML",1]],null,null,null,null))],null,function(e,t){e(t,0,0,eu(1,"emoji-",t.context.$implicit,""),t.context.$implicit)})}function v_(e){return Cs(0,[(e()(),lu(0,0,null,null,0,"a",[],[[8,"id",0],[8,"innerHTML",1]],null,null,null,null))],null,function(e,t){e(t,0,0,eu(1,"emoji-",t.context.$implicit,""),t.context.$implicit)})}function y_(e){return Cs(0,[(e()(),lu(0,0,null,null,57,"div",[["id","emoji-div-wrapper"]],null,null,null,null,null)),qu(1,278528,null,0,Xc,[Yo,er,Li,zi],{ngClass:[0,"ngClass"]},null),(e()(),lu(2,0,[[3,0],["emoji_header",1]],null,27,"ul",[["id","emoji-menu"]],null,null,null,null,null)),(e()(),lu(3,0,null,null,2,"li",[["class","active"],["id","emoji-icon-Smileys"]],null,[[null,"click"]],function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.EmojiHeader("Smileys")&&i),i},null,null)),(e()(),lu(4,0,null,null,1,"a",[["class","icon-emoji-size"],["data-title","Smileys"],["id","emoji-icon-li-Smileys"]],null,null,null,null,null)),(e()(),lu(5,0,null,null,0,"i",[["class","icon-emoji-smiley"]],null,null,null,null,null)),(e()(),lu(6,0,null,null,2,"li",[["id","emoji-icon-Animals"]],null,[[null,"click"]],function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.EmojiHeader("Animals")&&i),i},null,null)),(e()(),lu(7,0,null,null,1,"a",[["class","icon-emoji-size"],["data-title","Animals & Nature"],["id","emoji-icon-li-Animals"]],null,null,null,null,null)),(e()(),lu(8,0,null,null,0,"i",[["class","icon-emoji-animal"]],null,null,null,null,null)),(e()(),lu(9,0,null,null,2,"li",[["id","emoji-icon-Activities"]],null,[[null,"click"]],function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.EmojiHeader("Activities")&&i),i},null,null)),(e()(),lu(10,0,null,null,1,"a",[["class","icon-emoji-size"],["data-title","Activities"],["id","emoji-icon-li-Activities"]],null,null,null,null,null)),(e()(),lu(11,0,null,null,0,"i",[["class","icon-emoji-activity"]],null,null,null,null,null)),(e()(),lu(12,0,null,null,2,"li",[["id","emoji-icon-People"]],null,[[null,"click"]],function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.EmojiHeader("People")&&i),i},null,null)),(e()(),lu(13,0,null,null,1,"a",[["class","icon-emoji-size"],["data-title","People"],["id","emoji-icon-li-People"]],null,null,null,null,null)),(e()(),lu(14,0,null,null,0,"i",[["class","icon-emoji-people"]],null,null,null,null,null)),(e()(),lu(15,0,null,null,2,"li",[["id","emoji-icon-Objects"]],null,[[null,"click"]],function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.EmojiHeader("Objects")&&i),i},null,null)),(e()(),lu(16,0,null,null,1,"a",[["class","icon-emoji-size"],["data-title","Objects & Symbols"],["id","emoji-icon-li-Objects"]],null,null,null,null,null)),(e()(),lu(17,0,null,null,0,"i",[["class","icon-emoji-object"]],null,null,null,null,null)),(e()(),lu(18,0,null,null,2,"li",[["id","emoji-icon-Places"]],null,[[null,"click"]],function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.EmojiHeader("Places")&&i),i},null,null)),(e()(),lu(19,0,null,null,1,"a",[["class","icon-emoji-size"],["data-title","Travel & Places"],["id","emoji-icon-li-Places"]],null,null,null,null,null)),(e()(),lu(20,0,null,null,0,"i",[["class","icon-emoji-place"]],null,null,null,null,null)),(e()(),lu(21,0,null,null,2,"li",[["id","emoji-icon-Food"]],null,[[null,"click"]],function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.EmojiHeader("Food")&&i),i},null,null)),(e()(),lu(22,0,null,null,1,"a",[["class","icon-emoji-size"],["data-title","Food & Drink"],["id","emoji-icon-li-Food"]],null,null,null,null,null)),(e()(),lu(23,0,null,null,0,"i",[["class","icon-emoji-food"]],null,null,null,null,null)),(e()(),lu(24,0,null,null,2,"li",[["id","emoji-icon-Clothing"]],null,[[null,"click"]],function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.EmojiHeader("Clothing")&&i),i},null,null)),(e()(),lu(25,0,null,null,1,"a",[["class","icon-emoji-size"],["data-title","Clothing & Accessories"],["id","emoji-icon-li-Clothing"]],null,null,null,null,null)),(e()(),lu(26,0,null,null,0,"i",[["class","icon-emoji-cloth"]],null,null,null,null,null)),(e()(),lu(27,0,null,null,2,"li",[["id","emoji-icon-Sports"]],null,[[null,"click"]],function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.EmojiHeader("Sports")&&i),i},null,null)),(e()(),lu(28,0,null,null,1,"a",[["class","icon-emoji-size"],["data-title","Sports & Games"],["id","emoji-icon-li-Sports"]],null,null,null,null,null)),(e()(),lu(29,0,null,null,0,"i",[["class","icon-emoji-sport"]],null,null,null,null,null)),(e()(),lu(30,0,[[4,0],["emoji_content",1]],null,27,"div",[["id","emoji-div"]],null,[[null,"click"]],function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.EmojiContentAppend(n)&&i),i},null,null)),(e()(),lu(31,0,null,null,2,"p",[["class","hide"],["id","Activities"]],null,null,null,null,null)),(e()(),iu(16777216,null,null,1,null,a_)),qu(33,278528,null,0,ep,[Oo,Al,Yo],{ngForOf:[0,"ngForOf"]},null),(e()(),lu(34,0,null,null,2,"p",[["class","show"],["id","Smileys"]],null,null,null,null,null)),(e()(),iu(16777216,null,null,1,null,c_)),qu(36,278528,null,0,ep,[Oo,Al,Yo],{ngForOf:[0,"ngForOf"]},null),(e()(),lu(37,0,null,null,2,"p",[["class","hide"],["id","Animals"]],null,null,null,null,null)),(e()(),iu(16777216,null,null,1,null,p_)),qu(39,278528,null,0,ep,[Oo,Al,Yo],{ngForOf:[0,"ngForOf"]},null),(e()(),lu(40,0,null,null,2,"p",[["class","hide"],["id","People"]],null,null,null,null,null)),(e()(),iu(16777216,null,null,1,null,d_)),qu(42,278528,null,0,ep,[Oo,Al,Yo],{ngForOf:[0,"ngForOf"]},null),(e()(),lu(43,0,null,null,2,"p",[["class","hide"],["id","Objects"]],null,null,null,null,null)),(e()(),iu(16777216,null,null,1,null,h_)),qu(45,278528,null,0,ep,[Oo,Al,Yo],{ngForOf:[0,"ngForOf"]},null),(e()(),lu(46,0,null,null,2,"p",[["class","hide"],["id","Places"]],null,null,null,null,null)),(e()(),iu(16777216,null,null,1,null,f_)),qu(48,278528,null,0,ep,[Oo,Al,Yo],{ngForOf:[0,"ngForOf"]},null),(e()(),lu(49,0,null,null,2,"p",[["class","hide"],["id","Food"]],null,null,null,null,null)),(e()(),iu(16777216,null,null,1,null,g_)),qu(51,278528,null,0,ep,[Oo,Al,Yo],{ngForOf:[0,"ngForOf"]},null),(e()(),lu(52,0,null,null,2,"p",[["class","hide"],["id","Clothing"]],null,null,null,null,null)),(e()(),iu(16777216,null,null,1,null,m_)),qu(54,278528,null,0,ep,[Oo,Al,Yo],{ngForOf:[0,"ngForOf"]},null),(e()(),lu(55,0,null,null,2,"p",[["class","hide"],["id","Sports"]],null,null,null,null,null)),(e()(),iu(16777216,null,null,1,null,v_)),qu(57,278528,null,0,ep,[Oo,Al,Yo],{ngForOf:[0,"ngForOf"]},null)],function(e,t){var n=t.component;e(t,1,0,n.EmojiWrapper?"showEmoji":"hideEmoji"),e(t,33,0,n.Emojis.Activities),e(t,36,0,n.Emojis.Smileys),e(t,39,0,n.Emojis.Animals),e(t,42,0,n.Emojis.People),e(t,45,0,n.Emojis.Objects),e(t,48,0,n.Emojis.Places),e(t,51,0,n.Emojis.Food),e(t,54,0,n.Emojis.Clothing),e(t,57,0,n.Emojis.Sports)},null)}function b_(e){return Cs(0,[(e()(),lu(0,0,null,null,39,"div",[["class","msgArea"],["id","msgArea"]],null,null,null,null,null)),(e()(),iu(16777216,null,null,1,null,JS)),qu(2,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,KS)),qu(4,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,QS)),qu(6,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,r_)),qu(8,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,u_)),qu(10,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,s_)),qu(12,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,y_)),qu(14,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),lu(15,0,null,null,24,"div",[["class","chatAdons"]],null,null,null,null,null)),(e()(),lu(16,0,null,null,5,"button",[["class","svgOnHover tooltip top"]],null,[[null,"click"]],function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.keyDownFunction(n)&&i),i},null,null)),qu(17,278528,null,0,Xc,[Yo,er,Li,zi],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(e()(),lu(18,0,null,null,0,"img",[["class","svg"],["src","/cw/assets/img/icons/svg/send-outline.svg"],["width","25"]],null,null,null,null,null)),(e()(),lu(19,0,null,null,0,"img",[["class","svg hover"],["src","/cw/assets/img/icons/svg/send-filled.svg"],["width","25"]],null,null,null,null,null)),(e()(),lu(20,0,null,null,1,"span",[["class","tooltip-inner"]],null,null,null,null,null)),(e()(),ys(-1,null,["Send"])),(e()(),lu(22,0,null,null,5,"button",[["class","svgOnHover tooltip top"]],null,[[null,"click"]],function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.EmojiTab(n)&&i),i},null,null)),qu(23,278528,null,0,Xc,[Yo,er,Li,zi],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(e()(),lu(24,0,null,null,0,"img",[["class","svg"],["id","emoji-btn"],["src","/cw/assets/img/icons/svg/smiley-outline.svg"],["width","25"]],null,null,null,null,null)),(e()(),lu(25,0,null,null,0,"img",[["class","svg hover"],["id","emoji-btn"],["src","/cw/assets/img/icons/svg/smiley-filled.svg"],["width","25"]],null,null,null,null,null)),(e()(),lu(26,0,null,null,1,"span",[["class","tooltip-inner"]],null,null,null,null,null)),(e()(),ys(-1,null,["Emojis"])),(e()(),lu(28,0,null,null,5,"button",[["class","svgOnHover tooltip top"]],null,[[null,"click"]],function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.startRecording()&&i),i},null,null)),qu(29,278528,null,0,Xc,[Yo,er,Li,zi],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(e()(),lu(30,0,null,null,0,"img",[["class","svg"],["src","/cw/assets/img/icons/svg/mic-on-outline.svg"],["width","25"]],null,null,null,null,null)),(e()(),lu(31,0,null,null,0,"img",[["class","svg hover"],["src","/cw/assets/img/icons/svg/mic-on-filled.svg"],["width","25"]],null,null,null,null,null)),(e()(),lu(32,0,null,null,1,"span",[["class","tooltip-inner"]],null,null,null,null,null)),(e()(),ys(-1,null,["Voice Note"])),(e()(),lu(34,0,null,null,5,"label",[["class","svgOnHover tooltip top-right"],["id","attachmentBox"]],null,null,null,null,null)),(e()(),lu(35,0,null,null,0,"img",[["class","svg"],["src","/cw/assets/img/icons/svg/attach-outline.svg"],["width","25"]],null,null,null,null,null)),(e()(),lu(36,0,null,null,0,"img",[["class","svg hover"],["src","/cw/assets/img/icons/svg/attach-filled.svg"],["width","25"]],null,null,null,null,null)),(e()(),lu(37,0,[[1,0],["fileInput",1]],null,0,"input",[["class","hide"],["id","attachment"],["multiple","multiple"],["type","file"]],[[8,"disabled",0]],[[null,"change"]],function(e,t,n){var i=!0;return"change"===t&&(i=!1!==e.component.FileSelected(n)&&i),i},null,null)),(e()(),lu(38,0,null,null,1,"span",[["class","tooltip-inner"]],null,null,null,null,null)),(e()(),ys(-1,null,["Attach File"]))],function(e,t){var n=t.component;e(t,2,0,n.recordingStarted),e(t,4,0,n.userMediaError),e(t,6,0,n.noAgentWarning),e(t,8,0,n.file||n.audioError),e(t,10,0,n.Session&&4!=n.Session.state),e(t,12,0,n.Session&&4==n.Session.state),e(t,14,0,n.EmojiWrapper),e(t,17,0,"svgOnHover tooltip top",n.plainText||n.file?"":"disabled"),e(t,23,0,"svgOnHover tooltip top",n.EmojiWrapper?"active":""),e(t,29,0,"svgOnHover tooltip top",n.recordingStarted?"disabled":"")},function(e,t){e(t,37,0,!t.component.fileSharingPermission)})}function D_(e){return Cs(0,[Wu(0,fv,[]),as(671088640,1,{fileInput:0}),as(671088640,2,{messageTextArea:0}),as(671088640,3,{EmojiHead:0}),as(671088640,4,{EmojiContent:0}),(e()(),iu(16777216,null,null,1,null,b_)),qu(6,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null)],function(e,t){e(t,6,0,!t.component.chatEnded)},null)}var C_=function(){function e(e,t){var n=this;this._dataService=e,this._appservice=t,this.Messages=[],this.scrollHeight=0,this.autoScroll=!1,this.subscription=[],this.imageError=!1,this.subscription.push(this._appservice.Settings.subscribe(function(e){e&&(n.themeSettings=e.themeSettings,n.displaySettings=e.messageWindow)})),this.subscription.push(this._appservice.Session.subscribe(function(e){e&&(n.Session=e)})),this.subscription.push(this._dataService.SelectedConversation.subscribe(function(e){e&&e.msgList&&e.msgList.length>0&&(n.Messages=e.msgList,n.Conversation=e.conversationDetails)}))}return e.prototype.ngAfterViewInit=function(){},e.prototype.ngAfterViewChecked=function(){},e.prototype.CheckAttachmentType=function(e){return"string"==typeof e},e.prototype.ngOnInit=function(){},e.prototype.ImageBroken=function(){this.imageError=!0},e.prototype.ngOnDestroy=function(){this.subscription.map(function(e){e.unsubscribe()})},e}(),S_=Er({encapsulation:2,styles:[[""]],data:{}});function __(e){return Cs(0,[(e()(),lu(0,0,null,null,7,"div",[["class","day-separator clearfix"]],null,null,null,null,null)),(e()(),lu(1,0,null,null,6,"span",[["class","badge"]],null,null,null,null,null)),(e()(),lu(2,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),ys(3,null,["",""])),(e()(),lu(4,0,null,null,3,"span",[["class","date"]],null,null,null,null,null)),(e()(),ys(5,null,[""," ",""])),gs(6,2),gs(7,2)],null,function(e,t){e(t,3,0,t.parent.context.$implicit.body);var n=wr(t,5,0,e(t,6,0,Ou(t.parent.parent.parent.parent,0),t.parent.context.$implicit.date,"mediumDate")),i=wr(t,5,1,e(t,7,0,Ou(t.parent.parent.parent.parent,0),t.parent.context.$implicit.date,"shortTime"));e(t,5,0,n,i)})}function w_(e){return Cs(0,[(e()(),lu(0,0,null,null,0,"img",[["height","auto"],["src","/cw/assets/img/icons/svg/attach-black.svg"],["width","20"]],null,null,null,null,null))],null,null)}function x_(e){return Cs(0,[(e()(),lu(0,0,null,null,0,"img",[["height","auto"],["width","100%"]],[[8,"src",4]],null,null,null,null))],null,function(e,t){e(t,0,0,eu(1,"",t.parent.parent.context.$implicit.body,""))})}function F_(e){return Cs(0,[(e()(),lu(0,0,null,null,0,"audio",[["controls",""]],[[8,"src",4]],null,null,null,null))],null,function(e,t){e(t,0,0,eu(1,"",t.parent.parent.context.$implicit.body,""))})}function E_(e){return Cs(0,[(e()(),lu(0,0,null,null,1,"video",[["controls",""],["width","250"]],null,null,null,null,null)),(e()(),lu(1,0,null,null,0,"source",[["type","video/mp4"]],[[8,"src",4]],null,null,null,null))],null,function(e,t){e(t,1,0,eu(1,"",t.parent.parent.context.$implicit.body,""))})}function k_(e){return Cs(0,[(e()(),lu(0,0,null,null,35,"div",[["class","chat-text attachment"]],null,null,null,null,null)),qu(1,278528,null,0,op,[er,Li,zi],{ngStyle:[0,"ngStyle"]},null),ms(2,{"background-color":0,color:1}),ms(3,{"background-color":0,color:1}),(e()(),lu(4,0,null,null,27,"a",[],[[8,"href",4],[8,"target",0]],null,null,null,null)),qu(5,278528,null,0,Xc,[Yo,er,Li,zi],{ngClass:[0,"ngClass"]},null),gs(6,1),gs(7,1),gs(8,1),gs(9,1),gs(10,1),gs(11,1),gs(12,1),(e()(),lu(13,0,null,null,13,"div",[["class","thumbnail"]],null,null,null,null,null)),(e()(),iu(16777216,null,null,3,null,w_)),qu(15,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),gs(16,1),gs(17,1),(e()(),iu(16777216,null,null,2,null,x_)),qu(19,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),gs(20,1),(e()(),iu(16777216,null,null,2,null,F_)),qu(22,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),gs(23,1),(e()(),iu(16777216,null,null,2,null,E_)),qu(25,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),gs(26,1),(e()(),lu(27,0,null,null,4,"div",[["class","file-name tooltip top"]],null,null,null,null,null)),(e()(),lu(28,0,null,null,1,"span",[["class","ellipsis"]],null,null,null,null,null)),(e()(),ys(29,null,["",""])),(e()(),lu(30,0,null,null,1,"span",[["class","tooltip-inner"]],null,null,null,null,null)),(e()(),ys(31,null,["",""])),(e()(),lu(32,0,null,null,3,"span",[["class","arrow"]],null,null,null,null,null)),qu(33,278528,null,0,op,[er,Li,zi],{ngStyle:[0,"ngStyle"]},null),ms(34,{"border-top-color":0}),ms(35,{"border-top-color":0})],function(e,t){var n=t.component,i=n.themeSettings?n.ApplyHeaderColorWithGradient(n.themeSettings.headerColor):n.displaySettings?"Visitors"==t.parent.context.$implicit.type?e(t,2,0,n.displaySettings.sentBGColor,n.displaySettings.sentForeColor):e(t,3,0,n.displaySettings.recieveBGColor,n.displaySettings.recieveForeColor):"";e(t,1,0,i);var l="data"==wr(t,5,0,e(t,6,0,Ou(t.parent.parent.parent.parent,1),t.parent.context.$implicit.body))?"file":"image"==wr(t,5,0,e(t,7,0,Ou(t.parent.parent.parent.parent,1),t.parent.context.$implicit.body))?"image":"audio"==wr(t,5,0,e(t,8,0,Ou(t.parent.parent.parent.parent,1),t.parent.context.$implicit.body))?"audio":"document"==wr(t,5,0,e(t,9,0,Ou(t.parent.parent.parent.parent,1),t.parent.context.$implicit.body))?"document":"video"==wr(t,5,0,e(t,10,0,Ou(t.parent.parent.parent.parent,1),t.parent.context.$implicit.body))?"video":"";e(t,5,0,l);var o="document"==wr(t,15,0,e(t,16,0,Ou(t.parent.parent.parent.parent,1),t.parent.context.$implicit.body))||"data"==wr(t,15,0,e(t,17,0,Ou(t.parent.parent.parent.parent,1),t.parent.context.$implicit.body));e(t,15,0,o);var r=t.parent.context.$implicit.attachment&&"image"==wr(t,19,0,e(t,20,0,Ou(t.parent.parent.parent.parent,1),t.parent.context.$implicit.body));e(t,19,0,r);var u=t.parent.context.$implicit.attachment&&"audio"==wr(t,22,0,e(t,23,0,Ou(t.parent.parent.parent.parent,1),t.parent.context.$implicit.body));e(t,22,0,u);var s=t.parent.context.$implicit.attachment&&"video"==wr(t,25,0,e(t,26,0,Ou(t.parent.parent.parent.parent,1),t.parent.context.$implicit.body));e(t,25,0,s);var a=n.displaySettings?"Visitors"==t.parent.context.$implicit.type?e(t,34,0,n.displaySettings.sentBGColor):e(t,35,0,n.displaySettings.recieveBGColor):"";e(t,33,0,a)},function(e,t){var n=eu(1,"",t.parent.context.$implicit.body,""),i="document"!=wr(t,4,1,e(t,11,0,Ou(t.parent.parent.parent.parent,1),t.parent.context.$implicit.body))||"data"!=wr(t,4,1,e(t,12,0,Ou(t.parent.parent.parent.parent,1),t.parent.context.$implicit.body))?"self":"_blank";e(t,4,0,n,i),e(t,29,0,t.parent.context.$implicit.filename),e(t,31,0,t.parent.context.$implicit.filename)})}function A_(e){return Cs(0,[(e()(),lu(0,0,null,null,0,"img",[["class","svg"],["height","100"],["width","auto"]],[[8,"src",4]],null,null,null,null))],null,function(e,t){e(t,0,0,eu(1,"",t.parent.context.$implicit.path,""))})}function T_(e){return Cs(0,[(e()(),lu(0,0,null,null,0,"img",[["height","auto"],["src","/cw/assets/img/icons/svg/attach-black.svg"],["width","20"]],null,null,null,null,null))],null,null)}function I_(e){return Cs(0,[(e()(),lu(0,0,null,null,0,"audio",[["controls",""]],[[8,"src",4]],null,null,null,null))],null,function(e,t){e(t,0,0,eu(1,"",t.parent.context.$implicit.path,""))})}function B_(e){return Cs(0,[(e()(),lu(0,0,null,null,1,"video",[["controls",""],["width","250"]],null,null,null,null,null)),(e()(),lu(1,0,null,null,0,"source",[["type","video/mp4"]],[[8,"src",4]],null,null,null,null))],null,function(e,t){e(t,1,0,eu(1,"",t.parent.context.$implicit.path,""))})}function O_(e){return Cs(0,[(e()(),lu(0,0,null,null,25,"a",[["target","_blank"]],[[8,"href",4],[8,"target",0]],null,null,null,null)),qu(1,278528,null,0,Xc,[Yo,er,Li,zi],{ngClass:[0,"ngClass"]},null),gs(2,1),gs(3,1),gs(4,1),gs(5,1),gs(6,1),(e()(),lu(7,0,null,null,13,"div",[["class","thumbnail"]],null,null,null,null,null)),(e()(),iu(16777216,null,null,2,null,A_)),qu(9,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),gs(10,1),(e()(),iu(16777216,null,null,3,null,T_)),qu(12,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),gs(13,1),gs(14,1),(e()(),iu(16777216,null,null,2,null,I_)),qu(16,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),gs(17,1),(e()(),iu(16777216,null,null,2,null,B_)),qu(19,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),gs(20,1),(e()(),lu(21,0,null,null,4,"div",[["class","file-name tooltip top"]],null,null,null,null,null)),(e()(),lu(22,0,null,null,1,"span",[["class","ellipsis"]],null,null,null,null,null)),(e()(),ys(23,null,["",""])),(e()(),lu(24,0,null,null,1,"span",[["class","tooltip-inner"]],null,null,null,null,null)),(e()(),ys(25,null,["",""]))],function(e,t){var n="data"==wr(t,1,0,e(t,2,0,Ou(t.parent.parent.parent.parent.parent,1),t.context.$implicit.filename))?"file":"image"==wr(t,1,0,e(t,3,0,Ou(t.parent.parent.parent.parent.parent,1),t.context.$implicit.filename))?"image":"audio"==wr(t,1,0,e(t,4,0,Ou(t.parent.parent.parent.parent.parent,1),t.context.$implicit.filename))?"audio":"document"==wr(t,1,0,e(t,5,0,Ou(t.parent.parent.parent.parent.parent,1),t.context.$implicit.filename))?"document":"";e(t,1,0,n);var i="image"==wr(t,9,0,e(t,10,0,Ou(t.parent.parent.parent.parent.parent,1),t.context.$implicit.filename));e(t,9,0,i);var l="data"==wr(t,12,0,e(t,13,0,Ou(t.parent.parent.parent.parent.parent,1),t.context.$implicit.filename))||"document"==wr(t,12,0,e(t,14,0,Ou(t.parent.parent.parent.parent.parent,1),t.context.$implicit.filename));e(t,12,0,l);var o="audio"==wr(t,16,0,e(t,17,0,Ou(t.parent.parent.parent.parent.parent,1),t.context.$implicit.filename));e(t,16,0,o);var r="video"==wr(t,19,0,e(t,20,0,Ou(t.parent.parent.parent.parent.parent,1),t.context.$implicit.filename));e(t,19,0,r)},function(e,t){var n=eu(1,"",t.context.$implicit.path,""),i="document"==wr(t,0,1,e(t,6,0,Ou(t.parent.parent.parent.parent.parent,1),t.context.$implicit.filename))?"_parent":"_blank";e(t,0,0,n,i),e(t,23,0,t.context.$implicit.filename),e(t,25,0,t.context.$implicit.filename)})}function R_(e){return Cs(0,[(e()(),lu(0,0,null,null,9,"div",[["class","chat-text attachment"]],null,null,null,null,null)),qu(1,278528,null,0,op,[er,Li,zi],{ngStyle:[0,"ngStyle"]},null),ms(2,{"background-color":0,color:1}),ms(3,{"background-color":0,color:1}),(e()(),iu(16777216,null,null,1,null,O_)),qu(5,278528,null,0,ep,[Oo,Al,Yo],{ngForOf:[0,"ngForOf"]},null),(e()(),lu(6,0,null,null,3,"span",[["class","arrow"]],null,null,null,null,null)),qu(7,278528,null,0,op,[er,Li,zi],{ngStyle:[0,"ngStyle"]},null),ms(8,{"border-top-color":0}),ms(9,{"border-top-color":0})],function(e,t){var n=t.component,i=n.displaySettings?"Visitors"==t.parent.context.$implicit.type?e(t,2,0,n.displaySettings.sentBGColor,n.displaySettings.sentForeColor):e(t,3,0,n.displaySettings.recieveBGColor,n.displaySettings.recieveForeColor):"";e(t,1,0,i),e(t,5,0,t.parent.context.$implicit.body);var l=n.displaySettings?"Visitors"==t.parent.context.$implicit.type?e(t,8,0,n.displaySettings.sentBGColor):e(t,9,0,n.displaySettings.recieveBGColor):"";e(t,7,0,l)},null)}function M_(e){return Cs(0,[(e()(),lu(0,0,null,null,12,"div",[["class","chat-text"]],null,null,null,null,null)),qu(1,278528,null,0,op,[er,Li,zi],{ngStyle:[0,"ngStyle"]},null),ms(2,{"background-color":0,color:1}),ms(3,{"background-color":0,color:1}),(e()(),lu(4,0,null,null,4,"p",[],null,null,null,null,null)),qu(5,278528,null,0,Xc,[Yo,er,Li,zi],{ngClass:[0,"ngClass"]},null),gs(6,1),(e()(),lu(7,0,null,null,1,"span",[],[[8,"innerHTML",1]],null,null,null,null)),gs(8,2),(e()(),lu(9,0,null,null,3,"span",[["class","arrow"]],null,null,null,null,null)),qu(10,278528,null,0,op,[er,Li,zi],{ngStyle:[0,"ngStyle"]},null),ms(11,{"border-top-color":0}),ms(12,{"border-top-color":0})],function(e,t){var n=t.component,i=n.displaySettings?"Visitors"==t.parent.context.$implicit.type?e(t,2,0,n.displaySettings.sentBGColor,n.displaySettings.sentForeColor):e(t,3,0,n.displaySettings.recieveBGColor,n.displaySettings.recieveForeColor):"";e(t,1,0,i);var l=wr(t,5,0,e(t,6,0,Ou(t.parent.parent.parent.parent,2),t.parent.context.$implicit.body))?"onlyEmoji":"";e(t,5,0,l);var o=n.displaySettings?"Visitors"==t.parent.context.$implicit.type?e(t,11,0,n.displaySettings.sentBGColor):e(t,12,0,n.displaySettings.recieveBGColor):"";e(t,10,0,o)},function(e,t){var n=wr(t,7,0,e(t,8,0,Ou(t.parent.parent.parent.parent,3),t.parent.context.$implicit.body,"html"));e(t,7,0,n)})}function P_(e){return Cs(0,[(e()(),lu(0,0,null,null,8,"div",[["class","input-group-addon"]],null,null,null,null,null)),(e()(),lu(1,0,null,null,7,"div",[["class","pretty p-svg p-toggle m-0"]],null,null,null,null,null)),(e()(),lu(2,0,null,null,0,"input",[["disabled",""],["type","checkbox"]],null,null,null,null,null)),(e()(),lu(3,0,null,null,2,"div",[["class","state p-success-o p-on"]],null,null,null,null,null)),(e()(),lu(4,0,null,null,0,"img",[["class","svg"],["src","/cw/assets/img/icons/svg/show-black.svg"],["width","15"]],null,null,null,null,null)),(e()(),lu(5,0,null,null,0,"label",[["class","b-0"]],null,null,null,null,null)),(e()(),lu(6,0,null,null,2,"div",[["class","state p-black-o p-off"]],null,null,null,null,null)),(e()(),lu(7,0,null,null,0,"img",[["class","svg"],["src","/cw/assets/img/icons/svg/hide-black.svg"],["width","15"]],null,null,null,null,null)),(e()(),lu(8,0,null,null,0,"label",[["class","b-0"]],null,null,null,null,null))],null,null)}function j_(e){return Cs(0,[(e()(),lu(0,0,null,null,6,"div",[["class","input-block"]],null,null,null,null,null)),(e()(),lu(1,0,null,null,1,"label",[],null,null,null,null,null)),(e()(),ys(2,null,[" ","",""])),(e()(),lu(3,0,null,null,3,"div",[["class","input-group"]],null,null,null,null,null)),(e()(),lu(4,0,null,null,0,"input",[["class","form-control"],["disabled",""]],[[8,"id",0],[8,"name",0],[8,"placeholder",0],[8,"type",0],[8,"value",0]],null,null,null,null)),(e()(),iu(16777216,null,null,1,null,P_)),qu(6,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null)],function(e,t){e(t,6,0,"password"==t.parent.context.$implicit.type)},function(e,t){e(t,2,0,t.parent.context.$implicit.label,t.parent.context.$implicit.validation?"*":""),e(t,4,0,eu(1,"",t.parent.context.$implicit.id,""),eu(1,"",t.parent.context.$implicit.id,""),eu(1,"",t.parent.context.$implicit.placeholder,""),eu(1,"",t.parent.context.$implicit.type,""),eu(1,"",t.parent.context.$implicit.submittedData,""))})}function N_(e){return Cs(0,[(e()(),lu(0,0,null,null,4,"div",[["class","pretty p-default p-round m-b-7"]],null,null,null,null,null)),(e()(),lu(1,0,null,null,0,"input",[["disabled",""]],[[8,"id",0],[8,"checked",0],[8,"type",0],[8,"value",0],[8,"name",0]],null,null,null,null)),(e()(),lu(2,0,null,null,2,"div",[["class","state"]],null,null,null,null,null)),(e()(),lu(3,0,null,null,1,"label",[],null,null,null,null,null)),(e()(),ys(4,null,["",""]))],null,function(e,t){e(t,1,0,eu(1,"",t.parent.parent.context.$implicit.id,""),t.parent.parent.context.$implicit.submittedData,eu(1,"",t.parent.parent.context.$implicit.type,""),eu(1,"",t.context.$implicit.key,""),eu(1,"",t.parent.parent.context.$implicit.id,"")),e(t,4,0,t.context.$implicit.value)})}function L_(e){return Cs(0,[(e()(),lu(0,0,null,null,4,"div",[["class","input-block"]],null,null,null,null,null)),(e()(),lu(1,0,null,null,1,"label",[],null,null,null,null,null)),(e()(),ys(2,null,["","",""])),(e()(),iu(16777216,null,null,1,null,N_)),qu(4,278528,null,0,ep,[Oo,Al,Yo],{ngForOf:[0,"ngForOf"]},null)],function(e,t){e(t,4,0,t.parent.context.$implicit.options)},function(e,t){e(t,2,0,t.parent.context.$implicit.label,t.parent.context.$implicit.validation?"*":"")})}function V_(e){return Cs(0,[(e()(),lu(0,0,null,null,7,"div",[["class","input-block"]],null,null,null,null,null)),(e()(),lu(1,0,null,null,1,"label",[],null,null,null,null,null)),(e()(),ys(2,null,[" ","",""])),(e()(),lu(3,0,null,null,4,"div",[["class","pretty p-default p-round"]],null,null,null,null,null)),(e()(),lu(4,0,null,null,0,"input",[["class","form-control"],["disabled",""]],[[8,"id",0],[8,"checked",0],[8,"type",0],[8,"value",0]],null,null,null,null)),(e()(),lu(5,0,null,null,2,"div",[["class","state"]],null,null,null,null,null)),(e()(),lu(6,0,null,null,1,"label",[],null,null,null,null,null)),(e()(),ys(7,null,["",""]))],null,function(e,t){e(t,2,0,t.parent.context.$implicit.label,t.parent.context.$implicit.validation?"*":""),e(t,4,0,eu(1,"",t.parent.context.$implicit.id,""),t.parent.context.$implicit.submittedData,eu(1,"",t.parent.context.$implicit.type,""),eu(1,"",t.parent.context.$implicit.value[0],"")),e(t,7,0,t.parent.context.$implicit.value[0])})}function $_(e){return Cs(0,[(e()(),lu(0,0,null,null,3,"option",[["disabled","true"]],[[8,"selected",0]],null,null,null,null)),qu(1,147456,null,0,gf,[Li,zi,[8,null]],{value:[0,"value"]},null),qu(2,147456,null,0,yf,[Li,zi,[8,null]],{value:[0,"value"]},null),(e()(),ys(3,null,[" "," "]))],function(e,t){e(t,1,0,eu(1,"",t.parent.parent.context.$implicit.submittedData,"")),e(t,2,0,eu(1,"",t.parent.parent.context.$implicit.submittedData,""))},function(e,t){e(t,0,0,t.parent.parent.context.$implicit.submittedData),e(t,3,0,t.parent.parent.context.$implicit.submittedData)})}function U_(e){return Cs(0,[(e()(),lu(0,0,null,null,3,"option",[["disabled","true"]],null,null,null,null,null)),qu(1,147456,null,0,gf,[Li,zi,[8,null]],{value:[0,"value"]},null),qu(2,147456,null,0,yf,[Li,zi,[8,null]],{value:[0,"value"]},null),(e()(),ys(3,null,[" "," "]))],function(e,t){e(t,1,0,eu(1,"",t.context.$implicit.key,"")),e(t,2,0,eu(1,"",t.context.$implicit.key,""))},function(e,t){e(t,3,0,t.context.$implicit.value)})}function H_(e){return Cs(0,[(e()(),lu(0,0,null,null,8,"div",[["class","input-block"]],null,null,null,null,null)),(e()(),lu(1,0,null,null,1,"label",[],null,null,null,null,null)),(e()(),ys(2,null,[" ","",""])),(e()(),lu(3,0,null,null,5,"div",[["class","sel style1"]],null,null,null,null,null)),(e()(),lu(4,0,null,null,4,"select",[["class","form-control"]],[[8,"name",0],[8,"id",0]],null,null,null,null)),(e()(),iu(16777216,null,null,1,null,$_)),qu(6,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,U_)),qu(8,278528,null,0,ep,[Oo,Al,Yo],{ngForOf:[0,"ngForOf"]},null)],function(e,t){e(t,6,0,t.parent.context.$implicit.submittedData),e(t,8,0,t.parent.context.$implicit.options)},function(e,t){e(t,2,0,t.parent.context.$implicit.label,t.parent.context.$implicit.validation?"*":""),e(t,4,0,eu(1,"",t.parent.context.$implicit.id,""),eu(1,"",t.parent.context.$implicit.id,""))})}function z_(e){return Cs(0,[(e()(),iu(16777216,null,null,1,null,j_)),qu(1,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,L_)),qu(3,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,V_)),qu(5,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,H_)),qu(7,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(0,null,null,0))],function(e,t){e(t,1,0,"text"==t.context.$implicit.type||"password"==t.context.$implicit.type||"email"==t.context.$implicit.type),e(t,3,0,"radio"==t.context.$implicit.type),e(t,5,0,"checkbox"==t.context.$implicit.type),e(t,7,0,"dropdown"==t.context.$implicit.type)},null)}function G_(e){return Cs(0,[(e()(),lu(0,0,null,null,1,"b",[],null,null,null,null,null)),(e()(),ys(1,null,["",""]))],null,function(e,t){e(t,1,0,t.parent.parent.context.$implicit.form[0].formFooter)})}function q_(e){return Cs(0,[(e()(),lu(0,0,null,null,15,"div",[["class","clearfix canned-access-form"]],null,null,null,null,null)),(e()(),lu(1,0,null,null,1,"h4",[["class","clearfix"]],null,null,null,null,null)),(e()(),ys(2,null,["",""])),(e()(),lu(3,0,null,null,0,"hr",[["class","bg-gray clearfix"]],null,null,null,null,null)),(e()(),lu(4,0,null,null,6,"form",[["id","formInputs"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(e,t,n){var i=!0;return"submit"===t&&(i=!1!==Ou(e,6).onSubmit(n)&&i),"reset"===t&&(i=!1!==Ou(e,6).onReset()&&i),i},null,null)),qu(5,16384,null,0,Gf,[],null,null),qu(6,4210688,null,0,Nf,[[8,null],[8,null]],null,null),Ju(2048,null,zh,null,[Nf]),qu(8,16384,null,0,Af,[[4,zh]],null,null),(e()(),iu(16777216,null,null,1,null,z_)),qu(10,278528,null,0,ep,[Oo,Al,Yo],{ngForOf:[0,"ngForOf"]},null),(e()(),lu(11,0,null,null,0,"hr",[["class","bg-gray"]],null,null,null,null,null)),(e()(),iu(16777216,null,null,1,null,G_)),qu(13,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),lu(14,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),lu(15,0,null,null,0,"br",[],null,null,null,null,null))],function(e,t){e(t,10,0,t.parent.context.$implicit.form[0].formFields),e(t,13,0,t.parent.context.$implicit.form[0].formFooter)},function(e,t){e(t,2,0,t.parent.context.$implicit.form[0].formHeader?t.parent.context.$implicit.form[0].formHeader:"Form"),e(t,4,0,Ou(t,8).ngClassUntouched,Ou(t,8).ngClassTouched,Ou(t,8).ngClassPristine,Ou(t,8).ngClassDirty,Ou(t,8).ngClassValid,Ou(t,8).ngClassInvalid,Ou(t,8).ngClassPending)})}function W_(e){return Cs(0,[(e()(),lu(0,0,null,null,2,"span",[["class","msg-status text-blue"]],null,null,null,null,null)),(e()(),lu(1,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),ys(-1,null,["Seen"]))],null,null)}function J_(e){return Cs(0,[(e()(),lu(0,0,null,null,2,"span",[["class","msg-status"]],null,null,null,null,null)),(e()(),lu(1,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),ys(-1,null,["Delivered"]))],null,null)}function K_(e){return Cs(0,[(e()(),lu(0,0,null,null,2,"span",[["class","msg-status text-red"]],null,null,null,null,null)),(e()(),lu(1,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),ys(-1,null,["Failed"]))],null,null)}function Q_(e){return Cs(0,[(e()(),lu(0,0,null,null,13,"div",[["class","chat-info"]],null,null,null,null,null)),qu(1,278528,null,0,op,[er,Li,zi],{ngStyle:[0,"ngStyle"]},null),ms(2,{color:0}),ms(3,{color:0}),(e()(),lu(4,0,null,null,3,"span",[],null,null,null,null,null)),(e()(),ys(5,null,[""," ",""])),gs(6,2),gs(7,2),(e()(),iu(16777216,null,null,1,null,W_)),qu(9,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,J_)),qu(11,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,K_)),qu(13,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component,i=n.displaySettings?"Visitors"==t.parent.context.$implicit.type?e(t,2,0,n.displaySettings.sentForeColor):e(t,3,0,n.displaySettings.recieveForeColor):"";e(t,1,0,i),e(t,9,0,t.parent.context.$implicit.sent&&"Visitors"==t.parent.context.$implicit.type),e(t,11,0,!t.parent.context.$implicit.sent&&t.parent.context.$implicit.delivered&&"Visitors"==t.parent.context.$implicit.type),e(t,13,0,t.parent.context.$implicit.retry&&"Visitors"==t.parent.context.$implicit.type)},function(e,t){var n=wr(t,5,0,e(t,6,0,Ou(t.parent.parent.parent.parent,0),t.parent.context.$implicit.date,"mediumDate")),i=wr(t,5,1,e(t,7,0,Ou(t.parent.parent.parent.parent,0),t.parent.context.$implicit.date,"shortTime"));e(t,5,0,n,i)})}function Z_(e){return Cs(0,[(e()(),lu(0,0,null,null,13,"div",[],null,null,null,null,null)),qu(1,278528,null,0,Xc,[Yo,er,Li,zi],{ngClass:[0,"ngClass"]},null),(e()(),iu(16777216,null,null,1,null,__)),qu(3,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,k_)),qu(5,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,R_)),qu(7,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,M_)),qu(9,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,q_)),qu(11,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,Q_)),qu(13,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component;e(t,1,0,"Visitors"==t.context.$implicit.type?"chat-msg msg_sent":"Events"==t.context.$implicit.type?"chat-msg":"chat-msg msg_recieved"),e(t,3,0,"Events"==t.context.$implicit.type),e(t,5,0,""!=t.context.$implicit.body&&t.context.$implicit.attachment&&n.CheckAttachmentType(t.context.$implicit.body)&&"Events"!=t.context.$implicit.type),e(t,7,0,""!=t.context.$implicit.body&&t.context.$implicit.attachment&&!n.CheckAttachmentType(t.context.$implicit.body)&&t.context.$implicit.body.length&&"Events"!=t.context.$implicit.type),e(t,9,0,""!=t.context.$implicit.body&&!t.context.$implicit.attachment&&"Events"!=t.context.$implicit.type),e(t,11,0,t.context.$implicit.form&&t.context.$implicit.form.length&&"Events"!=t.context.$implicit.type),e(t,13,0,(""!=t.context.$implicit.body||t.context.$implicit.form&&t.context.$implicit.form.length)&&"Events"!=t.context.$implicit.type)},null)}function X_(e){return Cs(0,[(e()(),lu(0,0,null,null,2,"div",[["class","messages clearfix"]],null,null,null,null,null)),(e()(),iu(16777216,null,null,1,null,Z_)),qu(2,278528,null,0,ep,[Oo,Al,Yo],{ngForOf:[0,"ngForOf"]},null)],function(e,t){e(t,2,0,t.component.Messages)},null)}function Y_(e){return Cs(0,[(e()(),lu(0,0,null,null,2,"div",[["class","msgList"],["id","msgList"]],null,null,null,null,null)),(e()(),iu(16777216,null,null,1,null,X_)),qu(2,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component;e(t,2,0,n.Messages&&n.Messages.length)},null)}function ew(e){return Cs(0,[Wu(0,sp,[or]),Wu(0,qg,[]),Wu(0,Wg,[]),Wu(0,Bb,[bh]),(e()(),iu(16777216,null,null,1,null,Y_)),qu(5,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null)],function(e,t){e(t,5,0,t.component.Session.agent)},null)}var tw=function(){function e(e,t,n){var i=this;this._appStateService=e,this._dataService=t,this.dialog=n,this.subscriptions=[],this.dialogOn=!1,this.dialogOnExternal=!1,this.session=void 0,this.count=0,this.ViewingChatHistory=!1,this.SelectedConversation=[{}],this.chatEnded=!1,this.subscriptions.push(this._appStateService.RegisterFormDialogOpened.subscribe(function(e){i.dialogOnExternal=e})),this._appStateService.Maximized.getValue()&&this._appStateService.SetMessageCount(0),this.subscriptions.push(this._appStateService.Session.subscribe(function(e){e&&(i.session=e,setTimeout(function(){!i.session||4!=i.session.state&&5!=i.session.state||i.dialogOn||i.dialogOnExternal||i.showRegitrationForm||(i.dialogOn=!0,i._dataService.UpdateCredentials.next(!0),i.dialog.open(Dg,{panelClass:["dialog-inner"],autoFocus:!0}).afterClosed().subscribe(function(e){}))},0),2==e.state&&i._appStateService.IsNoAgent(e.agent)&&i.dialogOn&&i.dialog.closeAll())})),this.subscriptions.push(this._dataService.ViewingChatHistory.subscribe(function(e){i.ViewingChatHistory=e})),this.subscriptions.push(this._dataService.SelectedConversation.subscribe(function(e){e&&(i.SelectedConversation=e)})),this.subscriptions.push(this._appStateService.endChat.subscribe(function(e){i.chatEnded=e}))}return e.prototype.ngOnInit=function(){},e.prototype.ngAfterViewInit=function(){},e.prototype.ngOnDestroy=function(){this.subscriptions.map(function(e){e.unsubscribe()})},e}(),nw=Er({encapsulation:2,styles:[[""]],data:{}});function iw(e){return Cs(0,[(e()(),lu(0,0,null,null,1,"app-message-list",[],null,null,null,NS,$C)),qu(1,12828672,null,0,VC,[tg,Zf,yd],null,null)],function(e,t){e(t,1,0)},null)}function lw(e){return Cs(0,[(e()(),lu(0,0,null,null,1,"app-message-form",[["class","chatContentFooterArea"],["id","chatContentFooterArea"]],null,null,null,D_,WS)),qu(1,4308992,null,0,qS,[tg,Zf,HS,yd],null,null)],function(e,t){e(t,1,0)},null)}function ow(e){return Cs(0,[(e()(),lu(0,0,null,null,1,"app-conversation-info",[],null,null,null,ew,S_)),qu(1,12828672,null,0,C_,[tg,Zf],null,null)],function(e,t){e(t,1,0)},null)}function rw(e){return Cs(0,[(e()(),iu(16777216,null,null,1,null,iw)),qu(1,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,lw)),qu(3,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,ow)),qu(5,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component;e(t,1,0,!n.ViewingChatHistory),e(t,3,0,!n.ViewingChatHistory&&!n.chatEnded),e(t,5,0,n.ViewingChatHistory)},null)}var uw=function(){function e(){}return e.prototype.transform=function(e){var t=["January","February","March","April","May","June","July","August","September","October","November","December"],n=Date.parse(e),i=Date.parse((new Date).toLocaleString());return(i-n)/1e3/60/60/24/365>1?new Date(e).getDate()+" "+t[new Date(e).getMonth()]+"' "+new Date(e).getFullYear().toString().slice(2,4):(i-n)/1e3/60/60/24>1?new Date(e).getDate()+" "+t[new Date(e).getMonth()]:(i-n)/1e3/60/60>1?Math.floor((i-n)/1e3/60/60)+" hours ago":(i-n)/1e3/60>1?Math.floor((i-n)/1e3/60)+" minutes ago":(i-n)/1e3/60<1?new Date(e).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}):void 0},e}(),sw=function(){function e(e,t){var n=this;this._dataService=e,this._appStateService=t,this.Conversations=[],this.subscriptions=[],this.scrollHeight=0,this.autoScroll=!1,this.LoadingMessage=!1,this.ifNoMoreRecentChats=!1,this.ErrorRecentChats=!1,this.subscriptions.push(this._appStateService.Session.subscribe(function(e){e&&(n.Session=e)})),this.subscriptions.push(this._dataService.Conversations.subscribe(function(e){e.length>0&&(n.Conversations=e),n._appStateService.SaveStorage("conversations",n.Conversations)})),this.subscriptions.push(this._dataService.noMoreRecentChatsToShow.subscribe(function(e){n.ifNoMoreRecentChats=e}))}return e.prototype.ngOnInit=function(){},e.prototype.CheckAttachmentType=function(e){return"string"==typeof e},e.prototype.SelectConversation=function(e){this._dataService.ShowSelectedChat(e)},e.prototype.ngOnDestroy=function(){this.subscriptions.map(function(e){e.unsubscribe()})},e.prototype.ngOnDetroy=function(){this.subscriptions.map(function(e){e.unsubscribe()})},e.prototype.LoadMore=function(){var e=this;this.ifNoMoreRecentChats||(this.LoadingMessage=!0,this._dataService.GetMoreRecentChatsRest(this.Session.deviceID,this.Conversations[this.Conversations.length-1]._id).subscribe(function(t){e.ErrorRecentChats=!1,e.LoadingMessage=!1},function(t){e.ErrorRecentChats=!0,e.LoadingMessage=!1}))},e}(),aw=Er({encapsulation:2,styles:[[""]],data:{}});function cw(e){return Cs(0,[(e()(),lu(0,0,null,null,3,"div",[["class","initials"]],null,null,null,null,null)),(e()(),ys(1,null,["",""])),Wu(0,cp,[]),gs(3,1)],null,function(e,t){var n=wr(t,1,0,e(t,3,0,Ou(t.parent.parent.parent,0),wr(t,1,0,Ou(t,2).transform(t.parent.context.$implicit.visitorName,0,1))));e(t,1,0,n)})}function pw(e){return Cs(0,[(e()(),lu(0,0,null,null,3,"span",[["class","ellipsis"]],null,null,null,null,null)),qu(1,278528,null,0,op,[er,Li,zi],{ngStyle:[0,"ngStyle"]},null),ms(2,{color:0}),(e()(),ys(3,null,["",""]))],function(e,t){var n=t.component,i=n.themeSettings?e(t,2,0,n.themeSettings.contentColor):"";e(t,1,0,i)},function(e,t){e(t,3,0,t.parent.context.$implicit.agentName?t.parent.context.$implicit.agentName:t.parent.context.$implicit.agentEmail)})}function dw(e){return Cs(0,[(e()(),lu(0,0,null,null,3,"span",[["class","ellipsis"],["style","font-style: italic;"]],null,null,null,null,null)),qu(1,278528,null,0,op,[er,Li,zi],{ngStyle:[0,"ngStyle"]},null),ms(2,{color:0}),(e()(),ys(-1,null,["(no agent)"]))],function(e,t){var n=t.component,i=n.themeSettings?e(t,2,0,n.themeSettings.contentColor):"";e(t,1,0,i)},null)}function hw(e){return Cs(0,[(e()(),lu(0,0,null,null,1,"span",[["class","last-message ellipsis w65"]],null,null,null,null,null)),(e()(),ys(1,null,["",""]))],null,function(e,t){e(t,1,0,t.parent.context.$implicit.lastMessage.chatFormData)})}function fw(e){return Cs(0,[(e()(),lu(0,0,null,null,1,"span",[["class","last-message ellipsis w65"]],[[8,"innerHTML",1]],null,null,null,null)),gs(1,2)],null,function(e,t){var n=wr(t,0,0,e(t,1,0,Ou(t.parent.parent.parent,1),t.parent.context.$implicit.lastMessage.body,"html"));e(t,0,0,n)})}function gw(e){return Cs(0,[(e()(),lu(0,0,null,null,1,"span",[["class","last-message ellipsis w65"]],null,null,null,null,null)),(e()(),ys(1,null,["##",""]))],null,function(e,t){e(t,1,0,t.parent.context.$implicit.lastMessage.form[0].formName)})}function mw(e){return Cs(0,[(e()(),lu(0,0,null,null,2,"span",[],null,null,null,null,null)),(e()(),ys(1,null,["",""])),gs(2,1)],null,function(e,t){var n="image"==wr(t,1,0,e(t,2,0,Ou(t.parent.parent.parent,2),t.parent.context.$implicit.lastMessage.body))?" Image":" Document";e(t,1,0,n)})}function vw(e){return Cs(0,[(e()(),lu(0,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),ys(1,null,["Attachments (",")"]))],null,function(e,t){e(t,1,0,t.parent.context.$implicit.lastMessage.body.length)})}function yw(e){return Cs(0,[(e()(),lu(0,0,null,null,2,"span",[],null,null,null,null,null)),(e()(),ys(1,null,["",""])),gs(2,1)],null,function(e,t){var n="image"==wr(t,1,0,e(t,2,0,Ou(t.parent.parent.parent,2),t.parent.context.$implicit.lastMessage.body[0].filename))?" Image":" Document";e(t,1,0,n)})}function bw(e){return Cs(0,[(e()(),lu(0,0,null,null,2,"small",[["class","date-time"]],null,null,null,null,null)),(e()(),ys(1,null,["",""])),gs(2,1)],null,function(e,t){var n=wr(t,1,0,e(t,2,0,Ou(t.parent.parent.parent,3),t.parent.context.$implicit.createdOn));e(t,1,0,n)})}function Dw(e){return Cs(0,[(e()(),lu(0,0,null,null,21,"li",[["class","item clearfix"]],null,[[null,"click"]],function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.SelectConversation(e.context.index)&&i),i},null,null)),(e()(),iu(16777216,null,null,1,null,cw)),qu(2,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),lu(3,0,null,null,18,"div",[["class","chat-text"]],null,null,null,null,null)),(e()(),iu(16777216,null,null,1,null,pw)),qu(5,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,dw)),qu(7,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,hw)),qu(9,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,fw)),qu(11,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,gw)),qu(13,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,mw)),qu(15,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,vw)),qu(17,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,yw)),qu(19,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,bw)),qu(21,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component;e(t,2,0,t.context.$implicit.visitorName),e(t,5,0,t.context.$implicit.agentEmail),e(t,7,0,!t.context.$implicit.agentEmail),e(t,9,0,!t.context.$implicit.lastMessage.attachment&&t.context.$implicit.lastMessage.chatFormData),e(t,11,0,!t.context.$implicit.lastMessage.attachment&&!t.context.$implicit.lastMessage.chatFormData),e(t,13,0,t.context.$implicit.lastMessage.form&&t.context.$implicit.lastMessage.form.length&&!t.context.$implicit.lastMessage.chatFormData),e(t,15,0,t.context.$implicit.lastMessage.attachment&&n.CheckAttachmentType(t.context.$implicit.lastMessage.body)&&!t.context.$implicit.lastMessage.chatFormData),e(t,17,0,t.context.$implicit.lastMessage.attachment&&!n.CheckAttachmentType(t.context.$implicit.lastMessage.body)&&t.context.$implicit.lastMessage.body.length&&t.context.$implicit.lastMessage.body.length>1&&!t.context.$implicit.lastMessage.chatFormData),e(t,19,0,t.context.$implicit.lastMessage.attachment&&!n.CheckAttachmentType(t.context.$implicit.lastMessage.body)&&t.context.$implicit.lastMessage.body.length&&t.context.$implicit.lastMessage.body.length<2),e(t,21,0,""!=t.context.$implicit.body)},null)}function Cw(e){return Cs(0,[(e()(),lu(0,0,null,null,2,"ul",[["class","list-items"]],null,null,null,null,null)),(e()(),iu(16777216,null,null,1,null,Dw)),qu(2,278528,null,0,ep,[Oo,Al,Yo],{ngForOf:[0,"ngForOf"]},null)],function(e,t){e(t,2,0,t.component.Conversations)},null)}function Sw(e){return Cs(0,[(e()(),lu(0,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),ys(-1,null,["Loading"]))],null,null)}function _w(e){return Cs(0,[(e()(),lu(0,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),ys(-1,null,["Load More"]))],null,null)}function ww(e){return Cs(0,[(e()(),lu(0,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),ys(-1,null,["No More Recent Chats Found"]))],null,null)}function xw(e){return Cs(0,[(e()(),lu(0,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),ys(-1,null,["Error in Loading Recent Chats. Please Try Again"]))],null,null)}function Fw(e){return Cs(0,[Wu(0,up,[]),Wu(0,Bb,[bh]),Wu(0,qg,[]),Wu(0,uw,[]),(e()(),iu(16777216,null,null,1,null,Cw)),qu(5,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),lu(6,0,null,null,9,"button",[["class","btn btn-block bg-charcoal"],["type","button"]],null,[[null,"click"]],function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.LoadMore()&&i),i},null,null)),qu(7,278528,null,0,Xc,[Yo,er,Li,zi],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(e()(),iu(16777216,null,null,1,null,Sw)),qu(9,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,_w)),qu(11,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,ww)),qu(13,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,xw)),qu(15,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component;e(t,5,0,n.Session&&n.Conversations.length>0),e(t,7,0,"btn btn-block bg-charcoal",n.LoadingMessage?"btnSpinner":""),e(t,9,0,n.LoadingMessage),e(t,11,0,!n.ifNoMoreRecentChats&&!n.ErrorRecentChats&&!n.LoadingMessage),e(t,13,0,n.ifNoMoreRecentChats&&!n.ErrorRecentChats&&!n.LoadingMessage),e(t,15,0,n.ErrorRecentChats&&!n.LoadingMessage)},null)}var Ew={production:!0,dev:!1,local:!1,cdnAddress:"https://app.beelinks.solutions",serverAddress:"https://app.beelinks.solutions",socketServerAddress:"https://live.beelinks.solutions",mediaServerAddress:"https://app.beelinks.solutions",botURL:"https://bot.beelinks.solutions",redisURL:"https://app.beelinks.solutions",agentServiceUrl:"https://app.beelinks.solutions"},kw=function(){function e(e,t,n,i,l,o,r,u){var s=this;this._postMessageService=e,this._dataService=t,this._appStateService=n,this._callingService=i,this._socketService=l,this._restService=o,this.dialog=r,this._uploadingService=u,this.subscriptions=[],this.session=void 0,this.state=0,this.view=void 0,this.themeSettings=void 0,this.messageWindow=void 0,this.contentSettings=void 0,this.newsList=void 0,this.agentsList=void 0,this.promotionsList=void 0,this.showNotification=!1,this.muted=!1,this.firstLoad=0,this.chatEnded=!0,this.viewingChatHistory=!1,this.heading="",this.helpWindow=!1,this.helpWindowLoading=!1,this.status=!1,this.isMobile=!1,this.disconnectDialogOpened=!1,this.banned=!1,this.fileAsUrl=[],this.files=[],this.fileReader=[],this.attachmentGallery=void 0,this.feedbackOpened=!1,this.forceEndedChat=!1,this.showMoreMenu=!1,this.loading=!0,this.Messages=[],this.subscriptions.push(this._appStateService.NotificationCount.subscribe(function(e){setTimeout(function(){s.showNotification=0!=e},0)})),this.subscriptions.push(this._appStateService.endChat.subscribe(function(e){s.chatEnded=e})),this.subscriptions.push(this._appStateService.showMoreMenu.subscribe(function(e){s.showMoreMenu=e})),this.subscriptions.push(this._callingService.CallRecieved().subscribe(function(e){e&&s.dialog.open(Uv,{panelClass:["recieving-dialog","dialog-inner"],disableClose:!0,autoFocus:!0}).afterClosed().subscribe(function(e){s._callingService.EndCall()})})),this.subscriptions.push(this._dataService.ViewingChatHistory.subscribe(function(e){s.viewingChatHistory=e})),this.subscriptions.push(this._dataService.forceEndedChat.subscribe(function(e){s.forceEndedChat=e})),this.subscriptions.push(this._appStateService.Muted.subscribe(function(e){setTimeout(function(){s.muted=e},0)})),this.subscriptions.push(this._appStateService.PlayAudio.subscribe(function(e){s.muted||s.notifSound.nativeElement.play()})),this.subscriptions.push(this._dataService.News.subscribe(function(e){s.newsList=e})),this.subscriptions.push(this._dataService.Promotions.subscribe(function(e){s.promotionsList=e})),this.subscriptions.push(this._dataService.viewMode.subscribe(function(e){s.view=e,s.firstLoad++})),this.subscriptions.push(this._dataService.attachmentGallery.subscribe(function(e){s.attachmentGallery=e})),this.subscriptions.push(this._postMessageService.resizingEvent.subscribe(function(e){s.isMobile=e})),this.subscriptions.push(this._dataService.LostAgent.subscribe(function(e){e&&(s._dataService.UpdateAgentTypingState(!1),s._postMessageService.SendMessage("noAgent",{},"bz-cb"),s.dialog.open(jv,{panelClass:["dialog-inner"],disableClose:!0,autoFocus:!0}).afterClosed().subscribe(function(e){e&&"Yes"==e.status&&s.dialog.open(lg,{panelClass:["dialog-inner"],autoFocus:!0}).afterClosed().subscribe(function(e){e&&"chat"==e.result&&s._dataService.viewMode.next("message-window")})}))})),this.subscriptions.push(this._appStateService.Session.subscribe(function(e){e&&(s.session=e,s.state=s.session.state,s.isMobile=s.session.isMobile,4!=s.state&&5!=s.state||s._dataService.viewMode.next("message-window"))})),this.subscriptions.push(this._appStateService.Settings.subscribe(function(e){e&&(s.themeSettings=e.themeSettings,s.messageWindow=e.messageWindow,s.feedbackForm=e.feedbackForm)})),this.subscriptions.push(this._dataService.banned.subscribe(function(e){s.banned=e})),this.subscriptions.push(this._appStateService.ShowEndchatDialog.subscribe(function(e){e&&(s._appStateService.ShowEndchatDialog.next(!1),e?s.ShowFeedBackDialog(!0):s.dialog.open(Sm,{panelClass:["dialog-inner"],disableClose:!0,autoFocus:!0}).afterClosed().subscribe(function(e){e&&"ok"==e.status&&s.dialog.open(Cm,{panelClass:["dialog-inner"],disableClose:!0,autoFocus:!0}).afterClosed().subscribe(function(e){s.dialog.closeAll()})}))})),this.subscriptions.push(this._dataService.AgentList.subscribe(function(e){s.agentsList=e})),this.subscriptions.push(this._dataService.restartingApp.subscribe(function(e){s.restartingApp=e})),this.subscriptions.push(this._postMessageService.helpWindow.subscribe(function(e){s.helpWindow=e,e&&(s.helpWindowLoading=!0,s.dialog.open(Ry,{disableClose:!0,autoFocus:!0}).afterClosed().subscribe(function(e){s.helpWindowLoading=!1}))})),this.subscriptions.push(this._socketService.GetDisconnectionStatus().subscribe(function(e){var t;s.session&&(s.status=e,s._appStateService.Session.getValue()&&(t=s._appStateService.GetStorage("sessionStart")),e&&(1==s.session.state||5==s.session.state||s.chatEnded?t&&s.ShowDisconnectDialog():s.session.id||s.session._id?s._restService.SendXMLHttpRequest(s._appStateService.RedisServiceAddress.getValue()+(Ew.production?"/agent/checkSID":"/agents/checkSID"),"POST",JSON.stringify({sid:s.session.id||s.session._id}),!1,!0,[{name:"Content-Type",value:"application/json"}]).subscribe(function(e){var t=JSON.parse(e);t&&"ok"==t.status&&s._dataService.ServerDisconnection()},function(e){t&&s.ShowDisconnectDialog()}):s.ShowDisconnectDialog()))})),this.subscriptions.push(this._dataService.loading.subscribe(function(e){s.loading=e})),this.subscriptions.push(this._dataService.Messages.subscribe(function(e){s.Messages=e}))}return e.prototype.onclick=function(e){this._appStateService.showMoreMenu.getValue()&&this._appStateService.showMoreMenu.next(!1)},e.prototype.ngOnInit=function(){},e.prototype.ngOnDestroy=function(){this.subscriptions.map(function(e){e.unsubscribe()})},e.prototype.SvgChangeColor=function(e){var t=this.logo.nativeElement.contentDocument.getElementsByTagName("path").item(0);t&&t.setAttribute("fill",this.themeSettings.dialogLogoColor)},e.prototype.GoBack=function(){this._dataService.ViewingChatHistory.next(!1),this._dataService.viewMode.next("home"),this._dataService.SelectedConversation.next({})},e.prototype.ShowDisconnectDialog=function(){var e=this;this.disconnectDialogOpened||this.chatEnded||(this.disconnectDialogOpened=!0,this._dataService.UpdateAgentTypingState(!1),this.dialog.closeAll(),this.session&&(3==this.session.state||4==this.session.state||2==this.session.state)&&this.session.clientID&&this._appStateService.SaveStorage("disconnectionTime",(new Date).toString()),this.dialog.open(Vy,{disableClose:!0,autoFocus:!0,backdropClass:"opacity1",panelClass:["confirmation-dialog"]}).afterClosed().subscribe(function(t){e.status=!1,e.disconnectDialogOpened=!1}))},e.prototype.ShowFeedBackDialog=function(e){var t=this;this.feedbackOpened&&this.forceEndedChat||5==this.session.state||(this.Messages&&this.Messages.length>0&&!this.feedbackOpened&&this.feedbackForm.feedbackRequired?(e&&this._dataService.EndChat(!1),this.feedbackOpened=!0,this.dialog.open(Nm,{panelClass:["dialog-inner","scrollable-dialog"],autoFocus:!0}).afterClosed().subscribe(function(n){t.feedbackOpened=!1,n&&n.status&&(e||t._dataService.EndChat(!1),t.dialog.open(Cm,{disableClose:!0,autoFocus:!0}).afterClosed().subscribe(function(e){t.dialog.closeAll()}))},function(e){t.feedbackOpened=!1})):(this._dataService.EndChat(!1),this.forceEndedChat||this._dataService.AppendEventsMessages("Chat Ended",!0),setTimeout(function(){t._dataService.SubmitSurveyRest({},{}).subscribe(function(e){e&&t._dataService.ClearSessionData().subscribe(function(e){e&&t.dialog.open(Cm,{disableClose:!0,autoFocus:!0}).afterClosed().subscribe(function(e){t.dialog.closeAll()})})},function(e){})},0)))},e.prototype.CloseChat=function(){var e=this;this.session&&this.session.state>1&&this.session.state<9?this.dialog.open(Om,{panelClass:["dialog-inner"],autoFocus:!0}).afterClosed().subscribe(function(t){t&&t.close&&(8!=e.session.state&&e._dataService.SendTypingEventRest(!1),e._dataService.UpdateAgentTypingState(!1),e.ShowFeedBackDialog(!1))}):this._postMessageService.SendMessage("maximize",{},"bz-cb")},e.prototype.FeedBackAfterDisconnect=function(){var e=this;this.dialog.open(Nm,{panelClass:["dialog-inner","scrollable-dialog"],autoFocus:!0}).afterClosed().subscribe(function(t){e.feedbackOpened=!1,t&&t.status&&(e._dataService.EndChat(!1),e.dialog.open(Cm,{disableClose:!0,autoFocus:!0}).afterClosed().subscribe(function(t){e.dialog.closeAll()}))},function(t){e.feedbackOpened=!1})},e.prototype.StartOver=function(e){var t=this;this._dataService.ClearSessionData().subscribe(function(e){e&&t._dataService.SessionStartOver(!0).subscribe(function(e){})})},e.prototype.GoToMessages=function(){this._dataService.UpdateMessageSentStatusRest(),this._appStateService.SetMessageCount(0),this._dataService.viewMode.next("message-window")},e.prototype.SvgLoad=function(e,t){e.getElementsByTagName("path").item(0).setAttribute("fill",this.themeSettings[t])},e.prototype.ToggleMute=function(e,t){t.stopImmediatePropagation(),t.stopPropagation(),this._appStateService.ToggleMute(e)},e.prototype.ApplyHeaderColorWithGradient=function(e){return JSON.parse(JSON.parse(JSON.stringify('{\n      "background": "linear-gradient(20deg,'+this.themeSettings.headerSecondryColor+" 30%, "+this.themeSettings.headerColor+' 100%)"\n    }')))},e.prototype.Minimize=function(){this._postMessageService.SendMessage("maximize",{},"bz-cb")},e.prototype.ShowMoreMenu=function(e,t){t.stopImmediatePropagation(),t.stopPropagation(),this._appStateService.showMoreMenu.next(e)},e.prototype.SendTranscript=function(e){e.stopImmediatePropagation(),e.stopPropagation(),this._appStateService.showMoreMenu.next(!1),this.dialog.open(Ub,{panelClass:["dialog-inner"],disableClose:!0,autoFocus:!0}).afterClosed().subscribe(function(e){})},e.prototype.OnDragOver=function(e){2!=this.session.state&&3!=this.session.state&&4!=this.session.state&&8!=this.session.state||"message-window"!=this.view||(e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),this.isDragged=!0)},e.prototype.onDragLeave=function(e){this.isDragged=!1,2!=this.session.state&&3!=this.session.state&&4!=this.session.state&&8!=this.session.state||"message-window"!=this.view||(e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation())},e.prototype.onDrop=function(e){var t=this;2!=this.session.state&&3!=this.session.state&&4!=this.session.state&&8!=this.session.state||"message-window"!=this.view||(e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),this.onDropObservable(e.dataTransfer.items).subscribe(function(e){e&&e.length&&t._dataService.attachmentGallery.next({filesUrls:e,files:t.files}),t.fileAsUrl=[],t.files=[],t.fileReader=[]}))},e.prototype.onDropObservable=function(e){var t=this;try{if(this.isDragged=!1,e)return Array.from(e).map(function(e,n){"file"===e.kind&&(t.files.push(e.getAsFile()),t.fileReader[n]=new FileReader,t.fileReader[n].readAsDataURL(t.files[n]),t.fileAsUrl.push(t.SaveAsURL(n)))}),Object(US.forkJoin)(this.fileAsUrl)}catch(n){}},e.prototype.SaveAsURL=function(e,t){var n=this;return new _(function(t){n.fileReader[e].addEventListener("load",function(i){t.next({url:i.target.result,file:n.files[e]}),t.complete()})})},e}(),Aw=Er({encapsulation:2,styles:[['.loader-main{height:-webkit-fit-content;height:-moz-fit-content;height:fit-content;top:0;position:absolute;bottom:0;left:0;right:0;margin:auto}.overlay-drag{border:dashed 3px var(--gray-dark);background-color:var(--white-alpha7);display:-webkit-box;display:flex;align-content:center;-webkit-box-align:center;align-items:center;-webkit-box-pack:center;justify-content:center;font-size:30px;font-weight:700;position:absolute;left:0;top:0;width:100%;text-align:center;height:100%;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:999}.overlay-drag:after{content:"Drop Files Here";color:var(--gray)}']],data:{}});function Tw(e){return Cs(0,[(e()(),lu(0,0,null,null,1,"app-notification",[],null,[[null,"click"]],function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.GoToMessages()&&i),i},Xb,Zb)),qu(1,245760,null,0,Qb,[Zf,tg],null,null)],function(e,t){e(t,1,0)},null)}function Iw(e){return Cs(0,[(e()(),lu(0,0,null,null,3,"button",[["class","cd-btn svgOnHover tooltip bottom"],["id","cd-home"]],null,[[null,"click"]],function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.GoBack()&&i),i},null,null)),(e()(),lu(1,0,[["back",1]],null,0,"object",[["data","/cw/assets/img/icons/svg/home.svg"],["type","image/svg+xml"],["width","100%"]],null,[[null,"load"]],function(e,t,n){var i=!0;return"load"===t&&(i=!1!==e.component.SvgLoad(Ou(e,1).contentDocument,"headerTextColor")&&i),i},null,null)),(e()(),lu(2,0,null,null,1,"span",[["class","tooltip-inner"]],null,null,null,null,null)),(e()(),ys(-1,null,["Home"]))],null,null)}function Bw(e){return Cs(0,[(e()(),lu(0,0,null,null,3,"button",[["class","cd-btn svgOnHover tooltip bottom"],["id","cd-minimize"]],null,[[null,"click"]],function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.Minimize()&&i),i},null,null)),(e()(),lu(1,0,[["minimize",1]],null,0,"object",[["data","/cw/assets/img/icons/svg/minimize.svg"],["type","image/svg+xml"],["width","100%"]],null,[[null,"load"]],function(e,t,n){var i=!0;return"load"===t&&(i=!1!==e.component.SvgLoad(Ou(e,1).contentDocument,"headerTextColor")&&i),i},null,null)),(e()(),lu(2,0,null,null,1,"span",[["class","tooltip-inner"]],null,null,null,null,null)),(e()(),ys(-1,null,["Minimize"]))],null,null)}function Ow(e){return Cs(0,[(e()(),lu(0,0,null,null,3,"button",[["class","cd-btn svgOnHover tooltip bottom-right"],["id","cd-close"]],null,[[null,"click"]],function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.CloseChat()&&i),i},null,null)),(e()(),lu(1,0,[["close",1]],null,0,"object",[["data","/cw/assets/img/icons/svg/cancel.svg"],["type","image/svg+xml"],["width","100%"]],null,[[null,"load"]],function(e,t,n){var i=!0;return"load"===t&&(i=!1!==e.component.SvgLoad(Ou(e,1).contentDocument,"headerTextColor")&&i),i},null,null)),(e()(),lu(2,0,null,null,1,"span",[["class","tooltip-inner"]],null,null,null,null,null)),(e()(),ys(-1,null,["End Chat"]))],null,null)}function Rw(e){return Cs(0,[(e()(),lu(0,0,null,null,4,"li",[["class","svgOnHover"]],null,[[null,"click"]],function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.SendTranscript(n)&&i),i},null,null)),(e()(),lu(1,0,[["sendTranscript",1]],null,0,"img",[["class","svg"],["src","/cw/assets/img/icons/svg/transcript-outline.svg"]],null,null,null,null,null)),(e()(),lu(2,0,[["sendTranscript",1]],null,0,"img",[["class","svg hover"],["src","/cw/assets/img/icons/svg/transcript-filled.svg"]],null,null,null,null,null)),(e()(),lu(3,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),ys(-1,null,["Send Transcript"]))],null,null)}function Mw(e){return Cs(0,[(e()(),lu(0,0,[["vol",1]],null,0,"img",[["class","svg"],["src","/cw/assets/img/icons/svg/volume-on-outline.svg"]],null,null,null,null,null))],null,null)}function Pw(e){return Cs(0,[(e()(),lu(0,0,[["vol",1]],null,0,"img",[["class","svg hover"],["src","/cw/assets/img/icons/svg/volume-on-filled.svg"]],null,null,null,null,null))],null,null)}function jw(e){return Cs(0,[(e()(),lu(0,0,[["vol",1]],null,0,"img",[["class","svg"],["src","/cw/assets/img/icons/svg/volume-off-outline.svg"]],null,null,null,null,null))],null,null)}function Nw(e){return Cs(0,[(e()(),lu(0,0,[["vol",1]],null,0,"img",[["class","svg hover"],["src","/cw/assets/img/icons/svg/volume-off-filled.svg"]],null,null,null,null,null))],null,null)}function Lw(e){return Cs(0,[(e()(),lu(0,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),ys(-1,null,["Mute Sounds"]))],null,null)}function Vw(e){return Cs(0,[(e()(),lu(0,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),ys(-1,null,["Enable Sounds"]))],null,null)}function $w(e){return Cs(0,[(e()(),lu(0,0,null,null,4,"li",[["class","svgOnHover"]],null,[[null,"click"]],function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.FeedBackAfterDisconnect()&&i),i},null,null)),(e()(),lu(1,0,[["sendTranscript",1]],null,0,"img",[["class","svg"],["src","/cw/assets/img/icons/svg/transcript-outline.svg"]],null,null,null,null,null)),(e()(),lu(2,0,[["sendTranscript",1]],null,0,"img",[["class","svg hover"],["src","/cw/assets/img/icons/svg/transcript-filled.svg"]],null,null,null,null,null)),(e()(),lu(3,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),ys(-1,null,["Submit Feedback"]))],null,null)}function Uw(e){return Cs(0,[(e()(),lu(0,0,null,null,4,"li",[["class","svgOnHover"]],null,[[null,"click"]],function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.StartOver(n)&&i),i},null,null)),(e()(),lu(1,0,[["sendTranscript",1]],null,0,"img",[["class","svg"],["src","/cw/assets/img/icons/svg/transcript-outline.svg"]],null,null,null,null,null)),(e()(),lu(2,0,[["sendTranscript",1]],null,0,"img",[["class","svg hover"],["src","/cw/assets/img/icons/svg/transcript-filled.svg"]],null,null,null,null,null)),(e()(),lu(3,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),ys(-1,null,["Start Over"]))],null,null)}function Hw(e){return Cs(0,[(e()(),lu(0,0,null,null,19,"ul",[["class","more-dropdown"]],null,null,null,null,null)),(e()(),iu(16777216,null,null,1,null,Rw)),qu(2,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),lu(3,0,null,null,12,"li",[["class","svgOnHover"],["id","cd-volume"]],null,[[null,"click"]],function(e,t,n){var i=!0,l=e.component;return"click"===t&&(i=!1!==l.ToggleMute(l.muted=!l.muted,n)&&i),i},null,null)),(e()(),iu(16777216,null,null,1,null,Mw)),qu(5,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,Pw)),qu(7,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,jw)),qu(9,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,Nw)),qu(11,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,Lw)),qu(13,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,Vw)),qu(15,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,$w)),qu(17,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,Uw)),qu(19,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component;e(t,2,0,n.session&&(2==n.state||3==n.state)),e(t,5,0,!n.muted),e(t,7,0,!n.muted),e(t,9,0,n.muted),e(t,11,0,n.muted),e(t,13,0,!n.muted),e(t,15,0,n.muted),e(t,17,0,n.session&&(2==n.state||3==n.state||4==n.state||7==n.state||8==n.state)&&n.chatEnded&&n.feedbackForm.feedbackRequired&&n.Messages&&n.Messages.length),e(t,19,0,n.session&&(2==n.state||3==n.state||4==n.state||5==n.state||7==n.state||8==n.state)&&n.chatEnded)},null)}function zw(e){return Cs(0,[(e()(),lu(0,0,null,null,1,"app-agent-info",[["class","agentInfo"],["id","agentInfo"]],null,null,null,pD,eD)),qu(1,245760,null,0,Yb,[Zf,tg,mv,yd],null,null)],function(e,t){e(t,1,0)},null)}function Gw(e){return Cs(0,[(e()(),lu(0,0,null,null,1,"app-conversation-header",[["class","agentInfo"]],null,null,null,wD,hD)),qu(1,245760,null,0,dD,[Zf,tg],null,null)],function(e,t){e(t,1,0)},null)}function qw(e){return Cs(0,[(e()(),lu(0,0,null,null,1,"app-agentlist",[["class","agentsList"],["id","agentsList"]],null,null,null,OD,FD)),qu(1,245760,null,0,xD,[tg],null,null)],function(e,t){e(t,1,0)},null)}function Ww(e){return Cs(0,[(e()(),lu(0,0,null,null,1,"app-news",[["class","newsList"],["id","newsList"]],null,null,null,qD,MD)),qu(1,245760,null,0,RD,[tg],null,null)],function(e,t){e(t,1,0)},null)}function Jw(e){return Cs(0,[(e()(),lu(0,0,null,null,1,"app-home",[],null,null,null,LC,OC)),qu(1,245760,null,0,BC,[tg,Zf,yd],null,null)],function(e,t){e(t,1,0)},null)}function Kw(e){return Cs(0,[(e()(),lu(0,0,null,null,1,"app-message-window",[],null,null,null,rw,nw)),qu(1,4440064,null,0,tw,[Zf,tg,yd],{showRegitrationForm:[0,"showRegitrationForm"]},null)],function(e,t){e(t,1,0,t.component.viewingChatHistory)},null)}function Qw(e){return Cs(0,[(e()(),lu(0,0,null,null,0,"div",[["class","overlay-drag"]],null,null,null,null,null))],null,null)}function Zw(e){return Cs(0,[(e()(),lu(0,0,null,null,1,"app-conversation-window",[],null,null,null,Fw,aw)),qu(1,245760,null,0,sw,[tg,Zf],null,null)],function(e,t){e(t,1,0)},null)}function Xw(e){return Cs(0,[(e()(),lu(0,0,null,null,3,"div",[["class","loader-main text-center clearfix"]],null,null,null,null,null)),(e()(),lu(1,0,[[2,0],["logo",1]],null,0,"object",[["class","m-b-20"],["data","/cw/assets/img/icons/svg/chat-icon.svg"],["height","auto"],["id","logo"],["name","logo"],["type","image/svg+xml"],["width","80"]],null,[[null,"load"]],function(e,t,n){var i=!0;return"load"===t&&(i=!1!==e.component.SvgChangeColor(n)&&i),i},null,null)),(e()(),lu(2,0,null,null,1,"h6",[["class","title-with-border border-gray"]],null,null,null,null,null)),(e()(),ys(-1,null,["Loading"]))],null,null)}function Yw(e){return Cs(0,[(e()(),lu(0,0,null,null,48,"div",[["class","cd-form active"]],[[8,"id",0]],null,null,null,null)),qu(1,278528,null,0,Xc,[Yo,er,Li,zi],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),vs(32,2,new Array(2)),qu(3,278528,null,0,op,[er,Li,zi],{ngStyle:[0,"ngStyle"]},null),Wu(0,ap,[]),Wu(0,ap,[]),ms(6,{"background-image":0,"background-position":1,"background-repeat":2,"background-size":3}),ms(7,{"background-color":0}),(e()(),lu(8,0,[[1,0],["notifSound",1]],null,0,"audio",[["class","hide"],["src","/cw/assets/audio/beep-3.wav"]],null,null,null,null,null)),(e()(),lu(9,0,null,null,28,"div",[["class","chatHeaderArea"],["id","chatHeaderArea"]],null,null,null,null,null)),qu(10,278528,null,0,Xc,[Yo,er,Li,zi],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),qu(11,278528,null,0,op,[er,Li,zi],{ngStyle:[0,"ngStyle"]},null),(e()(),lu(12,0,null,null,17,"div",[["class","headerTools"],["id","headerTools"]],null,null,null,null,null)),(e()(),lu(13,0,null,null,4,"h1",[],null,null,null,null,null)),qu(14,278528,null,0,op,[er,Li,zi],{ngStyle:[0,"ngStyle"]},null),ms(15,{color:0}),(e()(),lu(16,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),ys(17,null,["",""])),(e()(),iu(16777216,null,null,1,null,Tw)),qu(19,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,Iw)),qu(21,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,Bw)),qu(23,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,Ow)),qu(25,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),lu(26,0,null,null,1,"button",[["class","cd-btn p-0"],["id","cd-more"]],null,[[null,"click"]],function(e,t,n){var i=!0,l=e.component;return"click"===t&&(i=!1!==l.ShowMoreMenu(!l.showMoreMenu,n)&&i),i},null,null)),(e()(),lu(27,0,[["more",1]],null,0,"object",[["data","/cw/assets/img/icons/svg/more.svg"],["type","image/svg+xml"],["width","100%"]],null,[[null,"load"]],function(e,t,n){var i=!0;return"load"===t&&(i=!1!==e.component.SvgLoad(Ou(e,27).contentDocument,"headerTextColor")&&i),i},null,null)),(e()(),iu(16777216,null,null,1,null,Hw)),qu(29,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,zw)),qu(31,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,Gw)),qu(33,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,qw)),qu(35,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,Ww)),qu(37,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),lu(38,0,null,null,10,"div",[["class","chatContentArea"],["id","chatContentArea"]],null,[[null,"dragover"],[null,"drop"],[null,"dragleave"]],function(e,t,n){var i=!0,l=e.component;return"dragover"===t&&(i=!1!==l.OnDragOver(n)&&i),"drop"===t&&(i=!1!==l.onDrop(n)&&i),"dragleave"===t&&(i=!1!==l.onDragLeave(n)&&i),i},null,null)),(e()(),iu(16777216,null,null,1,null,Jw)),qu(40,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,Kw)),qu(42,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,Qw)),qu(44,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,Zw)),qu(46,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,Xw)),qu(48,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component,i=e(t,2,0,"home"==n.view&&n.firstLoad>1?"homeWindow":"message-window"==n.view&&n.firstLoad>1?"messageWindow":"",n.helpWindow?"helpWindow":"");e(t,1,0,"cd-form active",i);var l=n.themeSettings&&wr(t,3,0,Ou(t,4).transform(n.themeSettings.bgImage))!=wr(t,3,0,Ou(t,5).transform(nu))?e(t,6,0,"url("+n.themeSettings.bgImage.links+")","center center","no-repeat","cover"):e(t,7,0,n.themeSettings.bgColor);e(t,3,0,l),e(t,10,0,"chatHeaderArea","home"==n.view&&n.newsList&&!n.newsList.length&&n.agentsList&&!n.agentsList.length?"no-news no-agents":"home"==n.view&&n.newsList&&!n.newsList.length&&n.agentsList&&n.agentsList.length?"has-agent no-news":"home"==n.view&&n.newsList&&n.newsList.length&&n.agentsList&&!n.agentsList.length?"has-news no-agents":"home"==n.view&&n.newsList&&n.newsList.length&&n.agentsList&&n.agentsList.length?"has-news has-agents":"message-window"==n.view&&n.chatEnded||2==n.state?"no-agent-info":""),e(t,11,0,n.themeSettings?n.ApplyHeaderColorWithGradient(n.themeSettings.headerColor):"");var o=n.themeSettings?e(t,15,0,n.themeSettings.headerTextColor):"";e(t,14,0,o),e(t,19,0,n.showNotification),e(t,21,0,"message-window"==n.view||"conversation-window"==n.view),e(t,23,0,n.session),e(t,25,0,n.session&&(2==n.state||3==n.state||4==n.state||7==n.state||8==n.state)&&!n.chatEnded),e(t,29,0,n.showMoreMenu),e(t,31,0,!n.viewingChatHistory&&n.session&&(3==n.state||4==n.state||5==n.state||7==n.state||8==n.state)&&2!=n.state&&!n.chatEnded),e(t,33,0,n.session&&n.viewingChatHistory&&"home"!=n.view),e(t,35,0,n.session&&"home"==n.view&&(1==n.state||6==n.state)&&n.agentsList&&n.agentsList.length&&!n.viewingChatHistory),e(t,37,0,n.session&&"home"==n.view&&n.newsList&&n.newsList.length),e(t,40,0,n.session&&"home"==n.view),e(t,42,0,n.session&&"message-window"==n.view&&!n.restartingApp),e(t,44,0,n.isDragged),e(t,46,0,n.session&&"conversation-window"==n.view),e(t,48,0,!n.session)},function(e,t){var n=t.component;e(t,0,0,"home"==n.view?"homeWindow":"conversation-window"==n.view?"recentChatsWindow":"messageWindow"),e(t,17,0,n.messageWindow.heading)})}function ex(e){return Cs(0,[(e()(),lu(0,0,null,null,1,"app-preloader",[["type","page-bubble-pop"]],null,null,null,Ib,Cb)),qu(1,114688,null,0,Db,[],{type:[0,"type"]},null)],function(e,t){e(t,1,0,"page-bubble-pop")},null)}function tx(e){return Cs(0,[as(671088640,1,{notifSound:0}),as(671088640,2,{logo:0}),(e()(),iu(16777216,null,null,1,null,Yw)),qu(3,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null),(e()(),iu(16777216,null,null,1,null,ex)),qu(5,16384,null,0,np,[Oo,Al],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component;e(t,3,0,n.view&&(!n.helpWindowLoading||!n.status)),e(t,5,0,n.loading)},null)}var nx=Er({encapsulation:2,styles:[[""]],data:{}});function ix(e){return Cs(0,[(e()(),lu(0,0,null,null,1,"app-main",[],null,[[null,"click"]],function(e,t,n){var i=!0;return"click"===t&&(i=!1!==Ou(e,1).onclick(n)&&i),i},tx,Aw)),qu(1,245760,null,0,kw,[Ra,tg,Zf,mv,eg,Yf,yd,HS],null,null)],function(e,t){e(t,1,0)},null)}function lx(e){return Cs(0,[(e()(),lu(0,0,null,null,1,"app-root",[],null,[["window","beforeunload"],["window","keydown"],[null,"click"]],function(e,t,n){var i=!0;return"window:beforeunload"===t&&(i=!1!==Ou(e,1).beforeUnloadHander()&&i),"window:keydown"===t&&(i=!1!==Ou(e,1).onKeyDown(n)&&i),"click"===t&&(i=!1!==Ou(e,1).onclick(n)&&i),i},ix,nx)),qu(1,49152,null,0,Ma,[Ra],null,null)],null,null)}var ox=Su("app-root",Ma,lx,{},{},[]);function rx(){return"undefined"!=typeof process}function ux(e){switch(e.length){case 0:return new Ua;case 1:return e[0];default:return new Ha(e)}}function sx(e,t,n,i,l,o){void 0===l&&(l={}),void 0===o&&(o={});var r=[],u=[],s=-1,a=null;if(i.forEach(function(e){var n=e.offset,i=n==s,c=i&&a||{};Object.keys(e).forEach(function(n){var i=n,u=e[n];if("offset"!==n)switch(i=t.normalizePropertyName(i,r),u){case za:u=l[n];break;case Na:u=o[n];break;default:u=t.normalizeStyleValue(n,i,u,r)}c[i]=u}),i||u.push(c),a=c,s=n}),r.length)throw new Error("Unable to animate due to the following errors:\n - "+r.join("\n - "));return u}function ax(e,t,n,i){switch(t){case"start":e.onStart(function(){return i(n&&cx(n,"start",e))});break;case"done":e.onDone(function(){return i(n&&cx(n,"done",e))});break;case"destroy":e.onDestroy(function(){return i(n&&cx(n,"destroy",e))})}}function cx(e,t,n){var i=n.totalTime,l=px(e.element,e.triggerName,e.fromState,e.toState,t||e.phaseName,null==i?e.totalTime:i,!!n.disabled),o=e._data;return null!=o&&(l._data=o),l}function px(e,t,n,i,l,o,r){return void 0===l&&(l=""),void 0===o&&(o=0),{element:e,triggerName:t,fromState:n,toState:i,phaseName:l,totalTime:o,disabled:!!r}}function dx(e,t,n){var i;return e instanceof Map?(i=e.get(t))||e.set(t,i=n):(i=e[t])||(i=e[t]=n),i}function hx(e){var t=e.indexOf(":");return[e.substring(1,t),e.substr(t+1)]}var fx=function(e,t){return!1},gx=function(e,t){return!1},mx=function(e,t,n){return[]},vx=rx();if(vx||"undefined"!=typeof Element){if(fx=function(e,t){return e.contains(t)},vx||Element.prototype.matches)gx=function(e,t){return e.matches(t)};else{var yx=Element.prototype,bx=yx.matchesSelector||yx.mozMatchesSelector||yx.msMatchesSelector||yx.oMatchesSelector||yx.webkitMatchesSelector;bx&&(gx=function(e,t){return bx.apply(e,[t])})}mx=function(e,t,n){var l=[];if(n)l.push.apply(l,Object(i.__spread)(e.querySelectorAll(t)));else{var o=e.querySelector(t);o&&l.push(o)}return l}}var Dx=null,Cx=!1;function Sx(e){Dx||(Dx=("undefined"!=typeof document?document.body:null)||{},Cx=!!Dx.style&&"WebkitAppearance"in Dx.style);var t=!0;return Dx.style&&!function(e){return"ebkit"==e.substring(1,6)}(e)&&!(t=e in Dx.style)&&Cx&&(t="Webkit"+e.charAt(0).toUpperCase()+e.substr(1)in Dx.style),t}var _x=gx,wx=fx,xx=mx;function Fx(e){var t={};return Object.keys(e).forEach(function(n){var i=n.replace(/([a-z])([A-Z])/g,"$1-$2");t[i]=e[n]}),t}var Ex=function(){function e(){}return e.prototype.validateStyleProperty=function(e){return Sx(e)},e.prototype.matchesElement=function(e,t){return _x(e,t)},e.prototype.containsElement=function(e,t){return wx(e,t)},e.prototype.query=function(e,t,n){return xx(e,t,n)},e.prototype.computeStyle=function(e,t,n){return n||""},e.prototype.animate=function(e,t,n,i,l,o,r){return void 0===o&&(o=[]),new Ua(n,i)},e}(),kx=function(){function e(){}return e.NOOP=new Ex,e}(),Ax=1e3;function Tx(e){if("number"==typeof e)return e;var t=e.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:Ix(parseFloat(t[1]),t[2])}function Ix(e,t){switch(t){case"s":return e*Ax;default:return e}}function Bx(e,t,n){return e.hasOwnProperty("duration")?e:function(e,t,n){var i,l=0,o="";if("string"==typeof e){var r=e.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===r)return t.push('The provided timing value "'+e+'" is invalid.'),{duration:0,delay:0,easing:""};i=Ix(parseFloat(r[1]),r[2]);var u=r[3];null!=u&&(l=Ix(parseFloat(u),r[4]));var s=r[5];s&&(o=s)}else i=e;if(!n){var a=!1,c=t.length;i<0&&(t.push("Duration values below 0 are not allowed for this animation step."),a=!0),l<0&&(t.push("Delay values below 0 are not allowed for this animation step."),a=!0),a&&t.splice(c,0,'The provided timing value "'+e+'" is invalid.')}return{duration:i,delay:l,easing:o}}(e,t,n)}function Ox(e,t){return void 0===t&&(t={}),Object.keys(e).forEach(function(n){t[n]=e[n]}),t}function Rx(e,t,n){if(void 0===n&&(n={}),t)for(var i in e)n[i]=e[i];else Ox(e,n);return n}function Mx(e,t,n){return n?t+":"+n+";":""}function Px(e){for(var t="",n=0;n<e.style.length;n++)t+=Mx(0,i=e.style.item(n),e.style.getPropertyValue(i));for(var i in e.style)e.style.hasOwnProperty(i)&&!i.startsWith("_")&&(t+=Mx(0,i.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),e.style[i]));e.setAttribute("style",t)}function jx(e,t,n){e.style&&(Object.keys(t).forEach(function(i){var l=Gx(i);n&&!n.hasOwnProperty(i)&&(n[i]=e.style[l]),e.style[l]=t[i]}),rx()&&Px(e))}function Nx(e,t){e.style&&(Object.keys(t).forEach(function(t){var n=Gx(t);e.style[n]=""}),rx()&&Px(e))}function Lx(e){return Array.isArray(e)?1==e.length?e[0]:La(e):e}var Vx=new RegExp("{{\\s*(.+?)\\s*}}","g");function $x(e){var t=[];if("string"==typeof e){for(var n=e.toString(),i=void 0;i=Vx.exec(n);)t.push(i[1]);Vx.lastIndex=0}return t}function Ux(e,t,n){var i=e.toString(),l=i.replace(Vx,function(e,i){var l=t[i];return t.hasOwnProperty(i)||(n.push("Please provide a value for the animation param "+i),l=""),l.toString()});return l==i?e:l}function Hx(e){for(var t=[],n=e.next();!n.done;)t.push(n.value),n=e.next();return t}var zx=/-+([a-z0-9])/g;function Gx(e){return e.replace(zx,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e[1].toUpperCase()})}function qx(e,t){return 0===e||0===t}function Wx(e,t,n){var i=Object.keys(n);if(i.length&&t.length){var l=t[0],o=[];if(i.forEach(function(e){l.hasOwnProperty(e)||o.push(e),l[e]=n[e]}),o.length)for(var r=function(){var n=t[u];o.forEach(function(t){n[t]=Kx(e,t)})},u=1;u<t.length;u++)r()}return t}function Jx(e,t,n){switch(t.type){case 7:return e.visitTrigger(t,n);case 0:return e.visitState(t,n);case 1:return e.visitTransition(t,n);case 2:return e.visitSequence(t,n);case 3:return e.visitGroup(t,n);case 4:return e.visitAnimate(t,n);case 5:return e.visitKeyframes(t,n);case 6:return e.visitStyle(t,n);case 8:return e.visitReference(t,n);case 9:return e.visitAnimateChild(t,n);case 10:return e.visitAnimateRef(t,n);case 11:return e.visitQuery(t,n);case 12:return e.visitStagger(t,n);default:throw new Error("Unable to resolve animation metadata node #"+t.type)}}function Kx(e,t){return window.getComputedStyle(e)[t]}var Qx="*",Zx=new Set(["true","1"]),Xx=new Set(["false","0"]);function Yx(e,t){var n=Zx.has(e)||Xx.has(e),i=Zx.has(t)||Xx.has(t);return function(l,o){var r=e==Qx||e==l,u=t==Qx||t==o;return!r&&n&&"boolean"==typeof l&&(r=l?Zx.has(e):Xx.has(e)),!u&&i&&"boolean"==typeof o&&(u=o?Zx.has(t):Xx.has(t)),r&&u}}var eF=new RegExp("s*:selfs*,?","g");function tF(e,t,n){return new nF(e).build(t,n)}var nF=function(){function e(e){this._driver=e}return e.prototype.build=function(e,t){var n=new iF(t);return this._resetContextStyleTimingState(n),Jx(this,Lx(e),n)},e.prototype._resetContextStyleTimingState=function(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0},e.prototype.visitTrigger=function(e,t){var n=this,i=t.queryCount=0,l=t.depCount=0,o=[],r=[];return"@"==e.name.charAt(0)&&t.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),e.definitions.forEach(function(e){if(n._resetContextStyleTimingState(t),0==e.type){var u=e,s=u.name;s.toString().split(/\s*,\s*/).forEach(function(e){u.name=e,o.push(n.visitState(u,t))}),u.name=s}else if(1==e.type){var a=n.visitTransition(e,t);i+=a.queryCount,l+=a.depCount,r.push(a)}else t.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:e.name,states:o,transitions:r,queryCount:i,depCount:l,options:null}},e.prototype.visitState=function(e,t){var n=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(n.containsDynamicStyles){var l=new Set,o=i||{};if(n.styles.forEach(function(e){if(lF(e)){var t=e;Object.keys(t).forEach(function(e){$x(t[e]).forEach(function(e){o.hasOwnProperty(e)||l.add(e)})})}}),l.size){var r=Hx(l.values());t.errors.push('state("'+e.name+'", ...) must define default values for all the following style substitutions: '+r.join(", "))}}return{type:0,name:e.name,style:n,options:i?{params:i}:null}},e.prototype.visitTransition=function(e,t){t.queryCount=0,t.depCount=0;var n,i,l,o=Jx(this,Lx(e.animation),t);return{type:1,matchers:(n=e.expr,i=t.errors,l=[],"string"==typeof n?n.split(/\s*,\s*/).forEach(function(e){return function(e,t,n){if(":"==e[0]){var i=function(e,t){switch(e){case":enter":return"void => *";case":leave":return"* => void";case":increment":return function(e,t){return parseFloat(t)>parseFloat(e)};case":decrement":return function(e,t){return parseFloat(t)<parseFloat(e)};default:return t.push('The transition alias value "'+e+'" is not supported'),"* => *"}}(e,n);if("function"==typeof i)return void t.push(i);e=i}var l=e.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==l||l.length<4)return n.push('The provided transition expression "'+e+'" is not supported'),t;var o=l[1],r=l[2],u=l[3];t.push(Yx(o,u)),"<"!=r[0]||o==Qx&&u==Qx||t.push(Yx(u,o))}(e,l,i)}):l.push(n),l),animation:o,queryCount:t.queryCount,depCount:t.depCount,options:oF(e.options)}},e.prototype.visitSequence=function(e,t){var n=this;return{type:2,steps:e.steps.map(function(e){return Jx(n,e,t)}),options:oF(e.options)}},e.prototype.visitGroup=function(e,t){var n=this,i=t.currentTime,l=0,o=e.steps.map(function(e){t.currentTime=i;var o=Jx(n,e,t);return l=Math.max(l,t.currentTime),o});return t.currentTime=l,{type:3,steps:o,options:oF(e.options)}},e.prototype.visitAnimate=function(e,t){var n,i=function(e,t){var n=null;if(e.hasOwnProperty("duration"))n=e;else if("number"==typeof e)return rF(Bx(e,t).duration,0,"");var i=e;if(i.split(/\s+/).some(function(e){return"{"==e.charAt(0)&&"{"==e.charAt(1)})){var l=rF(0,0,"");return l.dynamic=!0,l.strValue=i,l}return rF((n=n||Bx(i,t)).duration,n.delay,n.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;var l=e.styles?e.styles:Va({});if(5==l.type)n=this.visitKeyframes(l,t);else{var o=e.styles,r=!1;if(!o){r=!0;var u={};i.easing&&(u.easing=i.easing),o=Va(u)}t.currentTime+=i.duration+i.delay;var s=this.visitStyle(o,t);s.isEmptyStep=r,n=s}return t.currentAnimateTimings=null,{type:4,timings:i,style:n,options:null}},e.prototype.visitStyle=function(e,t){var n=this._makeStyleAst(e,t);return this._validateStyleAst(n,t),n},e.prototype._makeStyleAst=function(e,t){var n=[];Array.isArray(e.styles)?e.styles.forEach(function(e){"string"==typeof e?e==Na?n.push(e):t.errors.push("The provided style string value "+e+" is not allowed."):n.push(e)}):n.push(e.styles);var i=!1,l=null;return n.forEach(function(e){if(lF(e)){var t=e,n=t.easing;if(n&&(l=n,delete t.easing),!i)for(var o in t)if(t[o].toString().indexOf("{{")>=0){i=!0;break}}}),{type:6,styles:n,easing:l,offset:e.offset,containsDynamicStyles:i,options:null}},e.prototype._validateStyleAst=function(e,t){var n=this,i=t.currentAnimateTimings,l=t.currentTime,o=t.currentTime;i&&o>0&&(o-=i.duration+i.delay),e.styles.forEach(function(e){"string"!=typeof e&&Object.keys(e).forEach(function(i){if(n._driver.validateStyleProperty(i)){var r,u,s,a=t.collectedStyles[t.currentQuerySelector],c=a[i],p=!0;c&&(o!=l&&o>=c.startTime&&l<=c.endTime&&(t.errors.push('The CSS property "'+i+'" that exists between the times of "'+c.startTime+'ms" and "'+c.endTime+'ms" is also being animated in a parallel animation between the times of "'+o+'ms" and "'+l+'ms"'),p=!1),o=c.startTime),p&&(a[i]={startTime:o,endTime:l}),t.options&&(r=t.errors,u=t.options.params||{},(s=$x(e[i])).length&&s.forEach(function(e){u.hasOwnProperty(e)||r.push("Unable to resolve the local animation param "+e+" in the given list of values")}))}else t.errors.push('The provided animation property "'+i+'" is not a supported CSS property for animations')})})},e.prototype.visitKeyframes=function(e,t){var n=this,i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push("keyframes() must be placed inside of a call to animate()"),i;var l=0,o=[],r=!1,u=!1,s=0,a=e.steps.map(function(e){var i=n._makeStyleAst(e,t),a=null!=i.offset?i.offset:function(e){if("string"==typeof e)return null;var t=null;if(Array.isArray(e))e.forEach(function(e){if(lF(e)&&e.hasOwnProperty("offset")){var n=e;t=parseFloat(n.offset),delete n.offset}});else if(lF(e)&&e.hasOwnProperty("offset")){var n=e;t=parseFloat(n.offset),delete n.offset}return t}(i.styles),c=0;return null!=a&&(l++,c=i.offset=a),u=u||c<0||c>1,r=r||c<s,s=c,o.push(c),i});u&&t.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),r&&t.errors.push("Please ensure that all keyframe offsets are in order");var c=e.steps.length,p=0;l>0&&l<c?t.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==l&&(p=1/(c-1));var d=c-1,h=t.currentTime,f=t.currentAnimateTimings,g=f.duration;return a.forEach(function(e,l){var r=p>0?l==d?1:p*l:o[l],u=r*g;t.currentTime=h+f.delay+u,f.duration=u,n._validateStyleAst(e,t),e.offset=r,i.styles.push(e)}),i},e.prototype.visitReference=function(e,t){return{type:8,animation:Jx(this,Lx(e.animation),t),options:oF(e.options)}},e.prototype.visitAnimateChild=function(e,t){return t.depCount++,{type:9,options:oF(e.options)}},e.prototype.visitAnimateRef=function(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:oF(e.options)}},e.prototype.visitQuery=function(e,t){var n=t.currentQuerySelector,l=e.options||{};t.queryCount++,t.currentQuery=e;var o=Object(i.__read)(function(e){var t=!!e.split(/\s*,\s*/).find(function(e){return":self"==e});return t&&(e=e.replace(eF,"")),[e=e.replace(/@\*/g,".ng-trigger").replace(/@\w+/g,function(e){return".ng-trigger-"+e.substr(1)}).replace(/:animating/g,".ng-animating"),t]}(e.selector),2),r=o[0],u=o[1];t.currentQuerySelector=n.length?n+" "+r:r,dx(t.collectedStyles,t.currentQuerySelector,{});var s=Jx(this,Lx(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=n,{type:11,selector:r,limit:l.limit||0,optional:!!l.optional,includeSelf:u,animation:s,originalSelector:e.selector,options:oF(e.options)}},e.prototype.visitStagger=function(e,t){t.currentQuery||t.errors.push("stagger() can only be used inside of query()");var n="full"===e.timings?{duration:0,delay:0,easing:"full"}:Bx(e.timings,t.errors,!0);return{type:12,animation:Jx(this,Lx(e.animation),t),timings:n,options:null}},e}(),iF=function(){return function(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}();function lF(e){return!Array.isArray(e)&&"object"==typeof e}function oF(e){var t;return e?(e=Ox(e)).params&&(e.params=(t=e.params)?Ox(t):null):e={},e}function rF(e,t,n){return{duration:e,delay:t,easing:n}}function uF(e,t,n,i,l,o,r,u){return void 0===r&&(r=null),void 0===u&&(u=!1),{type:1,element:e,keyframes:t,preStyleProps:n,postStyleProps:i,duration:l,delay:o,totalTime:l+o,easing:r,subTimeline:u}}var sF=function(){function e(){this._map=new Map}return e.prototype.consume=function(e){var t=this._map.get(e);return t?this._map.delete(e):t=[],t},e.prototype.append=function(e,t){var n=this._map.get(e);n||this._map.set(e,n=[]),n.push.apply(n,Object(i.__spread)(t))},e.prototype.has=function(e){return this._map.has(e)},e.prototype.clear=function(){this._map.clear()},e}(),aF=new RegExp(":enter","g"),cF=new RegExp(":leave","g");function pF(e,t,n,i,l,o,r,u,s,a){return void 0===o&&(o={}),void 0===r&&(r={}),void 0===a&&(a=[]),(new dF).buildKeyframes(e,t,n,i,l,o,r,u,s,a)}var dF=function(){function e(){}return e.prototype.buildKeyframes=function(e,t,n,i,l,o,r,u,s,a){void 0===a&&(a=[]),s=s||new sF;var c=new fF(e,t,s,i,l,a,[]);c.options=u,c.currentTimeline.setStyles([o],null,c.errors,u),Jx(this,n,c);var p=c.timelines.filter(function(e){return e.containsAnimation()});if(p.length&&Object.keys(r).length){var d=p[p.length-1];d.allowOnlyTimelineStyles()||d.setStyles([r],null,c.errors,u)}return p.length?p.map(function(e){return e.buildKeyframes()}):[uF(t,[],[],[],0,0,"",!1)]},e.prototype.visitTrigger=function(e,t){},e.prototype.visitState=function(e,t){},e.prototype.visitTransition=function(e,t){},e.prototype.visitAnimateChild=function(e,t){var n=t.subInstructions.consume(t.element);if(n){var i=t.createSubContext(e.options),l=t.currentTimeline.currentTime,o=this._visitSubInstructions(n,i,i.options);l!=o&&t.transformIntoNewTimeline(o)}t.previousNode=e},e.prototype.visitAnimateRef=function(e,t){var n=t.createSubContext(e.options);n.transformIntoNewTimeline(),this.visitReference(e.animation,n),t.transformIntoNewTimeline(n.currentTimeline.currentTime),t.previousNode=e},e.prototype._visitSubInstructions=function(e,t,n){var i=t.currentTimeline.currentTime,l=null!=n.duration?Tx(n.duration):null,o=null!=n.delay?Tx(n.delay):null;return 0!==l&&e.forEach(function(e){var n=t.appendInstructionToTimeline(e,l,o);i=Math.max(i,n.duration+n.delay)}),i},e.prototype.visitReference=function(e,t){t.updateOptions(e.options,!0),Jx(this,e.animation,t),t.previousNode=e},e.prototype.visitSequence=function(e,t){var n=this,i=t.subContextCount,l=t,o=e.options;if(o&&(o.params||o.delay)&&((l=t.createSubContext(o)).transformIntoNewTimeline(),null!=o.delay)){6==l.previousNode.type&&(l.currentTimeline.snapshotCurrentStyles(),l.previousNode=hF);var r=Tx(o.delay);l.delayNextStep(r)}e.steps.length&&(e.steps.forEach(function(e){return Jx(n,e,l)}),l.currentTimeline.applyStylesToKeyframe(),l.subContextCount>i&&l.transformIntoNewTimeline()),t.previousNode=e},e.prototype.visitGroup=function(e,t){var n=this,i=[],l=t.currentTimeline.currentTime,o=e.options&&e.options.delay?Tx(e.options.delay):0;e.steps.forEach(function(r){var u=t.createSubContext(e.options);o&&u.delayNextStep(o),Jx(n,r,u),l=Math.max(l,u.currentTimeline.currentTime),i.push(u.currentTimeline)}),i.forEach(function(e){return t.currentTimeline.mergeTimelineCollectedStyles(e)}),t.transformIntoNewTimeline(l),t.previousNode=e},e.prototype._visitTiming=function(e,t){if(e.dynamic){var n=e.strValue;return Bx(t.params?Ux(n,t.params,t.errors):n,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}},e.prototype.visitAnimate=function(e,t){var n=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;n.delay&&(t.incrementTime(n.delay),i.snapshotCurrentStyles());var l=e.style;5==l.type?this.visitKeyframes(l,t):(t.incrementTime(n.duration),this.visitStyle(l,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e},e.prototype.visitStyle=function(e,t){var n=t.currentTimeline,i=t.currentAnimateTimings;!i&&n.getCurrentStyleProperties().length&&n.forwardFrame();var l=i&&i.easing||e.easing;e.isEmptyStep?n.applyEmptyStep(l):n.setStyles(e.styles,l,t.errors,t.options),t.previousNode=e},e.prototype.visitKeyframes=function(e,t){var n=t.currentAnimateTimings,i=t.currentTimeline.duration,l=n.duration,o=t.createSubContext().currentTimeline;o.easing=n.easing,e.styles.forEach(function(e){o.forwardTime((e.offset||0)*l),o.setStyles(e.styles,e.easing,t.errors,t.options),o.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(o),t.transformIntoNewTimeline(i+l),t.previousNode=e},e.prototype.visitQuery=function(e,t){var n=this,i=t.currentTimeline.currentTime,l=e.options||{},o=l.delay?Tx(l.delay):0;o&&(6===t.previousNode.type||0==i&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=hF);var r=i,u=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!l.optional,t.errors);t.currentQueryTotal=u.length;var s=null;u.forEach(function(i,l){t.currentQueryIndex=l;var u=t.createSubContext(e.options,i);o&&u.delayNextStep(o),i===t.element&&(s=u.currentTimeline),Jx(n,e.animation,u),u.currentTimeline.applyStylesToKeyframe(),r=Math.max(r,u.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(r),s&&(t.currentTimeline.mergeTimelineCollectedStyles(s),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e},e.prototype.visitStagger=function(e,t){var n=t.parentContext,i=t.currentTimeline,l=e.timings,o=Math.abs(l.duration),r=o*(t.currentQueryTotal-1),u=o*t.currentQueryIndex;switch(l.duration<0?"reverse":l.easing){case"reverse":u=r-u;break;case"full":u=n.currentStaggerTime}var s=t.currentTimeline;u&&s.delayNextStep(u);var a=s.currentTime;Jx(this,e.animation,t),t.previousNode=e,n.currentStaggerTime=i.currentTime-a+(i.startTime-n.currentTimeline.startTime)},e}(),hF={},fF=function(){function e(e,t,n,i,l,o,r,u){this._driver=e,this.element=t,this.subInstructions=n,this._enterClassName=i,this._leaveClassName=l,this.errors=o,this.timelines=r,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=hF,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=u||new gF(this._driver,t,0),r.push(this.currentTimeline)}return Object.defineProperty(e.prototype,"params",{get:function(){return this.options.params},enumerable:!0,configurable:!0}),e.prototype.updateOptions=function(e,t){var n=this;if(e){var i=e,l=this.options;null!=i.duration&&(l.duration=Tx(i.duration)),null!=i.delay&&(l.delay=Tx(i.delay));var o=i.params;if(o){var r=l.params;r||(r=this.options.params={}),Object.keys(o).forEach(function(e){t&&r.hasOwnProperty(e)||(r[e]=Ux(o[e],r,n.errors))})}}},e.prototype._copyOptions=function(){var e={};if(this.options){var t=this.options.params;if(t){var n=e.params={};Object.keys(t).forEach(function(e){n[e]=t[e]})}}return e},e.prototype.createSubContext=function(t,n,i){void 0===t&&(t=null);var l=n||this.element,o=new e(this._driver,l,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(l,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(t),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o},e.prototype.transformIntoNewTimeline=function(e){return this.previousNode=hF,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline},e.prototype.appendInstructionToTimeline=function(e,t,n){var i={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+e.delay,easing:""},l=new mF(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(l),i},e.prototype.incrementTime=function(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)},e.prototype.delayNextStep=function(e){e>0&&this.currentTimeline.delayNextStep(e)},e.prototype.invokeQuery=function(e,t,n,l,o,r){var u=[];if(l&&u.push(this.element),e.length>0){e=(e=e.replace(aF,"."+this._enterClassName)).replace(cF,"."+this._leaveClassName);var s=this._driver.query(this.element,e,1!=n);0!==n&&(s=n<0?s.slice(s.length+n,s.length):s.slice(0,n)),u.push.apply(u,Object(i.__spread)(s))}return o||0!=u.length||r.push('`query("'+t+'")` returned zero elements. (Use `query("'+t+'", { optional: true })` if you wish to allow this.)'),u},e}(),gF=function(){function e(e,t,n,i){this._driver=e,this.element=t,this.startTime=n,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}return e.prototype.containsAnimation=function(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}},e.prototype.getCurrentStyleProperties=function(){return Object.keys(this._currentKeyframe)},Object.defineProperty(e.prototype,"currentTime",{get:function(){return this.startTime+this.duration},enumerable:!0,configurable:!0}),e.prototype.delayNextStep=function(e){var t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e},e.prototype.fork=function(t,n){return this.applyStylesToKeyframe(),new e(this._driver,t,n||this.currentTime,this._elementTimelineStylesLookup)},e.prototype._loadKeyframe=function(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))},e.prototype.forwardFrame=function(){this.duration+=1,this._loadKeyframe()},e.prototype.forwardTime=function(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()},e.prototype._updateStyle=function(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}},e.prototype.allowOnlyTimelineStyles=function(){return this._currentEmptyStepKeyframe!==this._currentKeyframe},e.prototype.applyEmptyStep=function(e){var t=this;e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(function(e){t._backFill[e]=t._globalTimelineStyles[e]||Na,t._currentKeyframe[e]=Na}),this._currentEmptyStepKeyframe=this._currentKeyframe},e.prototype.setStyles=function(e,t,n,i){var l=this;t&&(this._previousKeyframe.easing=t);var o=i&&i.params||{},r=function(e,t){var n,i={};return e.forEach(function(e){"*"===e?(n=n||Object.keys(t)).forEach(function(e){i[e]=Na}):Rx(e,!1,i)}),i}(e,this._globalTimelineStyles);Object.keys(r).forEach(function(e){var t=Ux(r[e],o,n);l._pendingStyles[e]=t,l._localTimelineStyles.hasOwnProperty(e)||(l._backFill[e]=l._globalTimelineStyles.hasOwnProperty(e)?l._globalTimelineStyles[e]:Na),l._updateStyle(e,t)})},e.prototype.applyStylesToKeyframe=function(){var e=this,t=this._pendingStyles,n=Object.keys(t);0!=n.length&&(this._pendingStyles={},n.forEach(function(n){e._currentKeyframe[n]=t[n]}),Object.keys(this._localTimelineStyles).forEach(function(t){e._currentKeyframe.hasOwnProperty(t)||(e._currentKeyframe[t]=e._localTimelineStyles[t])}))},e.prototype.snapshotCurrentStyles=function(){var e=this;Object.keys(this._localTimelineStyles).forEach(function(t){var n=e._localTimelineStyles[t];e._pendingStyles[t]=n,e._updateStyle(t,n)})},e.prototype.getFinalKeyframe=function(){return this._keyframes.get(this.duration)},Object.defineProperty(e.prototype,"properties",{get:function(){var e=[];for(var t in this._currentKeyframe)e.push(t);return e},enumerable:!0,configurable:!0}),e.prototype.mergeTimelineCollectedStyles=function(e){var t=this;Object.keys(e._styleSummary).forEach(function(n){var i=t._styleSummary[n],l=e._styleSummary[n];(!i||l.time>i.time)&&t._updateStyle(n,l.value)})},e.prototype.buildKeyframes=function(){var e=this;this.applyStylesToKeyframe();var t=new Set,n=new Set,i=1===this._keyframes.size&&0===this.duration,l=[];this._keyframes.forEach(function(o,r){var u=Rx(o,!0);Object.keys(u).forEach(function(e){var i=u[e];i==za?t.add(e):i==Na&&n.add(e)}),i||(u.offset=r/e.duration),l.push(u)});var o=t.size?Hx(t.values()):[],r=n.size?Hx(n.values()):[];if(i){var u=l[0],s=Ox(u);u.offset=0,s.offset=1,l=[u,s]}return uF(this.element,l,o,r,this.duration,this.startTime,this.easing,!1)},e}(),mF=function(e){function t(t,n,i,l,o,r,u){void 0===u&&(u=!1);var s=e.call(this,t,n,r.delay)||this;return s.element=n,s.keyframes=i,s.preStyleProps=l,s.postStyleProps=o,s._stretchStartingKeyframe=u,s.timings={duration:r.duration,delay:r.delay,easing:r.easing},s}return Object(i.__extends)(t,e),t.prototype.containsAnimation=function(){return this.keyframes.length>1},t.prototype.buildKeyframes=function(){var e=this.keyframes,t=this.timings,n=t.delay,i=t.duration,l=t.easing;if(this._stretchStartingKeyframe&&n){var o=[],r=i+n,u=n/r,s=Rx(e[0],!1);s.offset=0,o.push(s);var a=Rx(e[0],!1);a.offset=vF(u),o.push(a);for(var c=e.length-1,p=1;p<=c;p++){var d=Rx(e[p],!1);d.offset=vF((n+d.offset*i)/r),o.push(d)}i=r,n=0,l="",e=o}return uF(this.element,e,this.preStyleProps,this.postStyleProps,i,n,l,!0)},t}(gF);function vF(e,t){void 0===t&&(t=3);var n=Math.pow(10,t-1);return Math.round(e*n)/n}var yF=function(){return function(){}}(),bF=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.__extends)(t,e),t.prototype.normalizePropertyName=function(e,t){return Gx(e)},t.prototype.normalizeStyleValue=function(e,t,n,i){var l="",o=n.toString().trim();if(DF[t]&&0!==n&&"0"!==n)if("number"==typeof n)l="px";else{var r=n.match(/^[+-]?[\d\.]+([a-z]*)$/);r&&0==r[1].length&&i.push("Please provide a CSS unit value for "+e+":"+n)}return o+l},t}(yF),DF=CF("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(","));function CF(e){var t={};return e.forEach(function(e){return t[e]=!0}),t}function SF(e,t,n,i,l,o,r,u,s,a,c,p,d){return{type:0,element:e,triggerName:t,isRemovalTransition:l,fromState:n,fromStyles:o,toState:i,toStyles:r,timelines:u,queriedElements:s,preStyleProps:a,postStyleProps:c,totalTime:p,errors:d}}var _F={},wF=function(){function e(e,t,n){this._triggerName=e,this.ast=t,this._stateStyles=n}return e.prototype.match=function(e,t,n,i){return function(e,t,n,i,l){return e.some(function(e){return e(t,n,i,l)})}(this.ast.matchers,e,t,n,i)},e.prototype.buildStyles=function(e,t,n){var i=this._stateStyles["*"],l=this._stateStyles[e],o=i?i.buildStyles(t,n):{};return l?l.buildStyles(t,n):o},e.prototype.build=function(e,t,n,l,o,r,u,s,a,c){var p=[],d=this.ast.options&&this.ast.options.params||_F,h=this.buildStyles(n,u&&u.params||_F,p),f=s&&s.params||_F,g=this.buildStyles(l,f,p),m=new Set,v=new Map,y=new Map,b="void"===l,D={params:Object(i.__assign)({},d,f)},C=c?[]:pF(e,t,this.ast.animation,o,r,h,g,D,a,p),S=0;if(C.forEach(function(e){S=Math.max(e.duration+e.delay,S)}),p.length)return SF(t,this._triggerName,n,l,b,h,g,[],[],v,y,S,p);C.forEach(function(e){var n=e.element,i=dx(v,n,{});e.preStyleProps.forEach(function(e){return i[e]=!0});var l=dx(y,n,{});e.postStyleProps.forEach(function(e){return l[e]=!0}),n!==t&&m.add(n)});var _=Hx(m.values());return SF(t,this._triggerName,n,l,b,h,g,C,_,v,y,S)},e}(),xF=function(){function e(e,t){this.styles=e,this.defaultParams=t}return e.prototype.buildStyles=function(e,t){var n={},i=Ox(this.defaultParams);return Object.keys(e).forEach(function(t){var n=e[t];null!=n&&(i[t]=n)}),this.styles.styles.forEach(function(e){if("string"!=typeof e){var l=e;Object.keys(l).forEach(function(e){var o=l[e];o.length>1&&(o=Ux(o,i,t)),n[e]=o})}}),n},e}(),FF=function(){function e(e,t){var n=this;this.name=e,this.ast=t,this.transitionFactories=[],this.states={},t.states.forEach(function(e){n.states[e.name]=new xF(e.style,e.options&&e.options.params||{})}),EF(this.states,"true","1"),EF(this.states,"false","0"),t.transitions.forEach(function(t){n.transitionFactories.push(new wF(e,t,n.states))}),this.fallbackTransition=new wF(e,{type:1,animation:{type:2,steps:[],options:null},matchers:[function(e,t){return!0}],options:null,queryCount:0,depCount:0},this.states)}return Object.defineProperty(e.prototype,"containsQueries",{get:function(){return this.ast.queryCount>0},enumerable:!0,configurable:!0}),e.prototype.matchTransition=function(e,t,n,i){return this.transitionFactories.find(function(l){return l.match(e,t,n,i)})||null},e.prototype.matchStyles=function(e,t,n){return this.fallbackTransition.buildStyles(e,t,n)},e}();function EF(e,t,n){e.hasOwnProperty(t)?e.hasOwnProperty(n)||(e[n]=e[t]):e.hasOwnProperty(n)&&(e[t]=e[n])}var kF=new sF,AF=function(){function e(e,t,n){this.bodyNode=e,this._driver=t,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}return e.prototype.register=function(e,t){var n=[],i=tF(this._driver,t,n);if(n.length)throw new Error("Unable to build the animation due to the following errors: "+n.join("\n"));this._animations[e]=i},e.prototype._buildPlayer=function(e,t,n){var i=e.element,l=sx(0,this._normalizer,0,e.keyframes,t,n);return this._driver.animate(i,l,e.duration,e.delay,e.easing,[],!0)},e.prototype.create=function(e,t,n){var i=this;void 0===n&&(n={});var l,o=[],r=this._animations[e],u=new Map;if(r?(l=pF(this._driver,t,r,"ng-enter","ng-leave",{},{},n,kF,o)).forEach(function(e){var t=dx(u,e.element,{});e.postStyleProps.forEach(function(e){return t[e]=null})}):(o.push("The requested animation doesn't exist or has already been destroyed"),l=[]),o.length)throw new Error("Unable to create the animation due to the following errors: "+o.join("\n"));u.forEach(function(e,t){Object.keys(e).forEach(function(n){e[n]=i._driver.computeStyle(t,n,Na)})});var s=ux(l.map(function(e){var t=u.get(e.element);return i._buildPlayer(e,{},t)}));return this._playersById[e]=s,s.onDestroy(function(){return i.destroy(e)}),this.players.push(s),s},e.prototype.destroy=function(e){var t=this._getPlayer(e);t.destroy(),delete this._playersById[e];var n=this.players.indexOf(t);n>=0&&this.players.splice(n,1)},e.prototype._getPlayer=function(e){var t=this._playersById[e];if(!t)throw new Error("Unable to find the timeline player referenced by "+e);return t},e.prototype.listen=function(e,t,n,i){var l=px(t,"","","");return ax(this._getPlayer(e),n,l,i),function(){}},e.prototype.command=function(e,t,n,i){if("register"!=n)if("create"!=n){var l=this._getPlayer(e);switch(n){case"play":l.play();break;case"pause":l.pause();break;case"reset":l.reset();break;case"restart":l.restart();break;case"finish":l.finish();break;case"init":l.init();break;case"setPosition":l.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}else this.create(e,t,i[0]||{});else this.register(e,i[0])},e}(),TF=[],IF={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},BF={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},OF="__ng_removed",RF=function(){function e(e,t){void 0===t&&(t=""),this.namespaceId=t;var n=e&&e.hasOwnProperty("value");if(this.value=function(e){return null!=e?e:null}(n?e.value:e),n){var i=Ox(e);delete i.value,this.options=i}else this.options={};this.options.params||(this.options.params={})}return Object.defineProperty(e.prototype,"params",{get:function(){return this.options.params},enumerable:!0,configurable:!0}),e.prototype.absorbOptions=function(e){var t=e.params;if(t){var n=this.options.params;Object.keys(t).forEach(function(e){null==n[e]&&(n[e]=t[e])})}},e}(),MF=new RF("void"),PF=function(){function e(e,t,n){this.id=e,this.hostElement=t,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,zF(t,this._hostClassName)}return e.prototype.listen=function(e,t,n,i){var l,o=this;if(!this._triggers.hasOwnProperty(t))throw new Error('Unable to listen on the animation trigger event "'+n+'" because the animation trigger "'+t+"\" doesn't exist!");if(null==n||0==n.length)throw new Error('Unable to listen on the animation trigger "'+t+'" because the provided event is undefined!');if("start"!=(l=n)&&"done"!=l)throw new Error('The provided animation trigger event "'+n+'" for the animation trigger "'+t+'" is not supported!');var r=dx(this._elementListeners,e,[]),u={name:t,phase:n,callback:i};r.push(u);var s=dx(this._engine.statesByElement,e,{});return s.hasOwnProperty(t)||(zF(e,"ng-trigger"),zF(e,"ng-trigger-"+t),s[t]=MF),function(){o._engine.afterFlush(function(){var e=r.indexOf(u);e>=0&&r.splice(e,1),o._triggers[t]||delete s[t]})}},e.prototype.register=function(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)},e.prototype._getTrigger=function(e){var t=this._triggers[e];if(!t)throw new Error('The provided animation trigger "'+e+'" has not been registered!');return t},e.prototype.trigger=function(e,t,n,i){var l=this;void 0===i&&(i=!0);var o=this._getTrigger(t),r=new NF(this.id,t,e),u=this._engine.statesByElement.get(e);u||(zF(e,"ng-trigger"),zF(e,"ng-trigger-"+t),this._engine.statesByElement.set(e,u={}));var s=u[t],a=new RF(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&s&&a.absorbOptions(s.options),u[t]=a,s||(s=MF),"void"===a.value||s.value!==a.value){var c=dx(this._engine.playersByElement,e,[]);c.forEach(function(e){e.namespaceId==l.id&&e.triggerName==t&&e.queued&&e.destroy()});var p=o.matchTransition(s.value,a.value,e,a.params),d=!1;if(!p){if(!i)return;p=o.fallbackTransition,d=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:p,fromState:s,toState:a,player:r,isFallbackTransition:d}),d||(zF(e,"ng-animate-queued"),r.onStart(function(){GF(e,"ng-animate-queued")})),r.onDone(function(){var t=l.players.indexOf(r);t>=0&&l.players.splice(t,1);var n=l._engine.playersByElement.get(e);if(n){var i=n.indexOf(r);i>=0&&n.splice(i,1)}}),this.players.push(r),c.push(r),r}if(!function(e,t){var n=Object.keys(e),i=Object.keys(t);if(n.length!=i.length)return!1;for(var l=0;l<n.length;l++){var o=n[l];if(!t.hasOwnProperty(o)||e[o]!==t[o])return!1}return!0}(s.params,a.params)){var h=[],f=o.matchStyles(s.value,s.params,h),g=o.matchStyles(a.value,a.params,h);h.length?this._engine.reportError(h):this._engine.afterFlush(function(){Nx(e,f),jx(e,g)})}},e.prototype.deregister=function(e){var t=this;delete this._triggers[e],this._engine.statesByElement.forEach(function(t,n){delete t[e]}),this._elementListeners.forEach(function(n,i){t._elementListeners.set(i,n.filter(function(t){return t.name!=e}))})},e.prototype.clearElementCache=function(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);var t=this._engine.playersByElement.get(e);t&&(t.forEach(function(e){return e.destroy()}),this._engine.playersByElement.delete(e))},e.prototype._signalRemovalForInnerTriggers=function(e,t,n){var i=this;void 0===n&&(n=!1),this._engine.driver.query(e,".ng-trigger",!0).forEach(function(e){if(!e[OF]){var n=i._engine.fetchNamespacesByElement(e);n.size?n.forEach(function(n){return n.triggerLeaveAnimation(e,t,!1,!0)}):i.clearElementCache(e)}})},e.prototype.triggerLeaveAnimation=function(e,t,n,i){var l=this,o=this._engine.statesByElement.get(e);if(o){var r=[];if(Object.keys(o).forEach(function(t){if(l._triggers[t]){var n=l.trigger(e,t,"void",i);n&&r.push(n)}}),r.length)return this._engine.markElementAsRemoved(this.id,e,!0,t),n&&ux(r).onDone(function(){return l._engine.processLeaveNode(e)}),!0}return!1},e.prototype.prepareLeaveAnimationListeners=function(e){var t=this,n=this._elementListeners.get(e);if(n){var i=new Set;n.forEach(function(n){var l=n.name;if(!i.has(l)){i.add(l);var o=t._triggers[l].fallbackTransition,r=t._engine.statesByElement.get(e)[l]||MF,u=new RF("void"),s=new NF(t.id,l,e);t._engine.totalQueuedPlayers++,t._queue.push({element:e,triggerName:l,transition:o,fromState:r,toState:u,player:s,isFallbackTransition:!0})}})}},e.prototype.removeNode=function(e,t){var n=this,i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t,!0),!this.triggerLeaveAnimation(e,t,!0)){var l=!1;if(i.totalAnimations){var o=i.players.length?i.playersByQueriedElement.get(e):[];if(o&&o.length)l=!0;else for(var r=e;r=r.parentNode;)if(i.statesByElement.get(r)){l=!0;break}}this.prepareLeaveAnimationListeners(e),l?i.markElementAsRemoved(this.id,e,!1,t):(i.afterFlush(function(){return n.clearElementCache(e)}),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}},e.prototype.insertNode=function(e,t){zF(e,this._hostClassName)},e.prototype.drainQueuedTransitions=function(e){var t=this,n=[];return this._queue.forEach(function(i){var l=i.player;if(!l.destroyed){var o=i.element,r=t._elementListeners.get(o);r&&r.forEach(function(t){if(t.name==i.triggerName){var n=px(o,i.triggerName,i.fromState.value,i.toState.value);n._data=e,ax(i.player,t.phase,n,t.callback)}}),l.markedForDestroy?t._engine.afterFlush(function(){l.destroy()}):n.push(i)}}),this._queue=[],n.sort(function(e,n){var i=e.transition.ast.depCount,l=n.transition.ast.depCount;return 0==i||0==l?i-l:t._engine.driver.containsElement(e.element,n.element)?1:-1})},e.prototype.destroy=function(e){this.players.forEach(function(e){return e.destroy()}),this._signalRemovalForInnerTriggers(this.hostElement,e)},e.prototype.elementContainsData=function(e){var t=!1;return this._elementListeners.has(e)&&(t=!0),!!this._queue.find(function(t){return t.element===e})||t},e}(),jF=function(){function e(e,t,n){this.bodyNode=e,this.driver=t,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=function(e,t){}}return e.prototype._onRemovalComplete=function(e,t){this.onRemovalComplete(e,t)},Object.defineProperty(e.prototype,"queuedPlayers",{get:function(){var e=[];return this._namespaceList.forEach(function(t){t.players.forEach(function(t){t.queued&&e.push(t)})}),e},enumerable:!0,configurable:!0}),e.prototype.createNamespace=function(e,t){var n=new PF(e,t,this);return t.parentNode?this._balanceNamespaceList(n,t):(this.newHostElements.set(t,n),this.collectEnterElement(t)),this._namespaceLookup[e]=n},e.prototype._balanceNamespaceList=function(e,t){var n=this._namespaceList.length-1;if(n>=0){for(var i=!1,l=n;l>=0;l--)if(this.driver.containsElement(this._namespaceList[l].hostElement,t)){this._namespaceList.splice(l+1,0,e),i=!0;break}i||this._namespaceList.splice(0,0,e)}else this._namespaceList.push(e);return this.namespacesByHostElement.set(t,e),e},e.prototype.register=function(e,t){var n=this._namespaceLookup[e];return n||(n=this.createNamespace(e,t)),n},e.prototype.registerTrigger=function(e,t,n){var i=this._namespaceLookup[e];i&&i.register(t,n)&&this.totalAnimations++},e.prototype.destroy=function(e,t){var n=this;if(e){var i=this._fetchNamespace(e);this.afterFlush(function(){n.namespacesByHostElement.delete(i.hostElement),delete n._namespaceLookup[e];var t=n._namespaceList.indexOf(i);t>=0&&n._namespaceList.splice(t,1)}),this.afterFlushAnimationsDone(function(){return i.destroy(t)})}},e.prototype._fetchNamespace=function(e){return this._namespaceLookup[e]},e.prototype.fetchNamespacesByElement=function(e){var t=new Set,n=this.statesByElement.get(e);if(n)for(var i=Object.keys(n),l=0;l<i.length;l++){var o=n[i[l]].namespaceId;if(o){var r=this._fetchNamespace(o);r&&t.add(r)}}return t},e.prototype.trigger=function(e,t,n,i){if(LF(t)){var l=this._fetchNamespace(e);if(l)return l.trigger(t,n,i),!0}return!1},e.prototype.insertNode=function(e,t,n,i){if(LF(t)){var l=t[OF];if(l&&l.setForRemoval){l.setForRemoval=!1,l.setForMove=!0;var o=this.collectedLeaveElements.indexOf(t);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){var r=this._fetchNamespace(e);r&&r.insertNode(t,n)}i&&this.collectEnterElement(t)}},e.prototype.collectEnterElement=function(e){this.collectedEnterElements.push(e)},e.prototype.markElementAsDisabled=function(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),zF(e,"ng-animate-disabled")):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),GF(e,"ng-animate-disabled"))},e.prototype.removeNode=function(e,t,n){if(LF(t)){var i=e?this._fetchNamespace(e):null;i?i.removeNode(t,n):this.markElementAsRemoved(e,t,!1,n)}else this._onRemovalComplete(t,n)},e.prototype.markElementAsRemoved=function(e,t,n,i){this.collectedLeaveElements.push(t),t[OF]={namespaceId:e,setForRemoval:i,hasAnimation:n,removedBeforeQueried:!1}},e.prototype.listen=function(e,t,n,i,l){return LF(t)?this._fetchNamespace(e).listen(t,n,i,l):function(){}},e.prototype._buildInstruction=function(e,t,n,i,l){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,n,i,e.fromState.options,e.toState.options,t,l)},e.prototype.destroyInnerAnimations=function(e){var t=this,n=this.driver.query(e,".ng-trigger",!0);n.forEach(function(e){return t.destroyActiveAnimationsForElement(e)}),0!=this.playersByQueriedElement.size&&(n=this.driver.query(e,".ng-animating",!0)).forEach(function(e){return t.finishActiveQueriedAnimationOnElement(e)})},e.prototype.destroyActiveAnimationsForElement=function(e){var t=this.playersByElement.get(e);t&&t.forEach(function(e){e.queued?e.markedForDestroy=!0:e.destroy()})},e.prototype.finishActiveQueriedAnimationOnElement=function(e){var t=this.playersByQueriedElement.get(e);t&&t.forEach(function(e){return e.finish()})},e.prototype.whenRenderingDone=function(){var e=this;return new Promise(function(t){if(e.players.length)return ux(e.players).onDone(function(){return t()});t()})},e.prototype.processLeaveNode=function(e){var t=this,n=e[OF];if(n&&n.setForRemoval){if(e[OF]=IF,n.namespaceId){this.destroyInnerAnimations(e);var i=this._fetchNamespace(n.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,n.setForRemoval)}this.driver.matchesElement(e,".ng-animate-disabled")&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(function(e){t.markElementAsDisabled(e,!1)})},e.prototype.flush=function(e){var t=this;void 0===e&&(e=-1);var n=[];if(this.newHostElements.size&&(this.newHostElements.forEach(function(e,n){return t._balanceNamespaceList(e,n)}),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(var i=0;i<this.collectedEnterElements.length;i++)zF(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){var l=[];try{n=this._flushAnimations(l,e)}finally{for(i=0;i<l.length;i++)l[i]()}}else for(i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(function(e){return e()}),this._flushFns=[],this._whenQuietFns.length){var o=this._whenQuietFns;this._whenQuietFns=[],n.length?ux(n).onDone(function(){o.forEach(function(e){return e()})}):o.forEach(function(e){return e()})}},e.prototype.reportError=function(e){throw new Error("Unable to process animations due to the following failed trigger transitions\n "+e.join("\n"))},e.prototype._flushAnimations=function(e,t){var n=this,l=new sF,o=[],r=new Map,u=[],s=new Map,a=new Map,c=new Map,p=new Set;this.disabledNodes.forEach(function(e){p.add(e);for(var t=n.driver.query(e,".ng-animate-queued",!0),i=0;i<t.length;i++)p.add(t[i])});var d=this.bodyNode,h=Array.from(this.statesByElement.keys()),f=UF(h,this.collectedEnterElements),g=new Map,m=0;f.forEach(function(e,t){var n="ng-enter"+m++;g.set(t,n),e.forEach(function(e){return zF(e,n)})});for(var v=[],y=new Set,b=new Set,D=0;D<this.collectedLeaveElements.length;D++)(j=(P=this.collectedLeaveElements[D])[OF])&&j.setForRemoval&&(v.push(P),y.add(P),j.hasAnimation?this.driver.query(P,".ng-star-inserted",!0).forEach(function(e){return y.add(e)}):b.add(P));var C=new Map,S=UF(h,Array.from(y));S.forEach(function(e,t){var n="ng-leave"+m++;C.set(t,n),e.forEach(function(e){return zF(e,n)})}),e.push(function(){f.forEach(function(e,t){var n=g.get(t);e.forEach(function(e){return GF(e,n)})}),S.forEach(function(e,t){var n=C.get(t);e.forEach(function(e){return GF(e,n)})}),v.forEach(function(e){n.processLeaveNode(e)})});for(var _=[],w=[],x=this._namespaceList.length-1;x>=0;x--)this._namespaceList[x].drainQueuedTransitions(t).forEach(function(e){var t=e.player,i=e.element;if(_.push(t),n.collectedEnterElements.length){var r=i[OF];if(r&&r.setForMove)return void t.destroy()}var p=!d||!n.driver.containsElement(d,i),h=C.get(i),f=g.get(i),m=n._buildInstruction(e,l,f,h,p);if(m.errors&&m.errors.length)w.push(m);else{if(p)return t.onStart(function(){return Nx(i,m.fromStyles)}),t.onDestroy(function(){return jx(i,m.toStyles)}),void o.push(t);if(e.isFallbackTransition)return t.onStart(function(){return Nx(i,m.fromStyles)}),t.onDestroy(function(){return jx(i,m.toStyles)}),void o.push(t);m.timelines.forEach(function(e){return e.stretchStartingKeyframe=!0}),l.append(i,m.timelines),u.push({instruction:m,player:t,element:i}),m.queriedElements.forEach(function(e){return dx(s,e,[]).push(t)}),m.preStyleProps.forEach(function(e,t){var n=Object.keys(e);if(n.length){var i=a.get(t);i||a.set(t,i=new Set),n.forEach(function(e){return i.add(e)})}}),m.postStyleProps.forEach(function(e,t){var n=Object.keys(e),i=c.get(t);i||c.set(t,i=new Set),n.forEach(function(e){return i.add(e)})})}});if(w.length){var F=[];w.forEach(function(e){F.push("@"+e.triggerName+" has failed due to:\n"),e.errors.forEach(function(e){return F.push("- "+e+"\n")})}),_.forEach(function(e){return e.destroy()}),this.reportError(F)}var E=new Map,k=new Map;u.forEach(function(e){var t=e.element;l.has(t)&&(k.set(t,t),n._beforeAnimationBuild(e.player.namespaceId,e.instruction,E))}),o.forEach(function(e){var t=e.element;n._getPreviousPlayers(t,!1,e.namespaceId,e.triggerName,null).forEach(function(e){dx(E,t,[]).push(e),e.destroy()})});var A=v.filter(function(e){return WF(e,a,c)}),T=new Map;$F(T,this.driver,b,c,Na).forEach(function(e){WF(e,a,c)&&A.push(e)});var I=new Map;f.forEach(function(e,t){$F(I,n.driver,new Set(e),a,za)}),A.forEach(function(e){var t=T.get(e),n=I.get(e);T.set(e,Object(i.__assign)({},t,n))});var B=[],O=[],R={};u.forEach(function(e){var t=e.element,i=e.player,u=e.instruction;if(l.has(t)){if(p.has(t))return i.onDestroy(function(){return jx(t,u.toStyles)}),i.disabled=!0,i.overrideTotalTime(u.totalTime),void o.push(i);var s=R;if(k.size>1){for(var a=t,c=[];a=a.parentNode;){var d=k.get(a);if(d){s=d;break}c.push(a)}c.forEach(function(e){return k.set(e,s)})}var h=n._buildAnimation(i.namespaceId,u,E,r,I,T);if(i.setRealPlayer(h),s===R)B.push(i);else{var f=n.playersByElement.get(s);f&&f.length&&(i.parentPlayer=ux(f)),o.push(i)}}else Nx(t,u.fromStyles),i.onDestroy(function(){return jx(t,u.toStyles)}),O.push(i),p.has(t)&&o.push(i)}),O.forEach(function(e){var t=r.get(e.element);if(t&&t.length){var n=ux(t);e.setRealPlayer(n)}}),o.forEach(function(e){e.parentPlayer?e.syncPlayerEvents(e.parentPlayer):e.destroy()});for(var M=0;M<v.length;M++){var P,j=(P=v[M])[OF];if(GF(P,"ng-leave"),!j||!j.hasAnimation){var N=[];if(s.size){var L=s.get(P);L&&L.length&&N.push.apply(N,Object(i.__spread)(L));for(var V=this.driver.query(P,".ng-animating",!0),$=0;$<V.length;$++){var U=s.get(V[$]);U&&U.length&&N.push.apply(N,Object(i.__spread)(U))}}var H=N.filter(function(e){return!e.destroyed});H.length?qF(this,P,H):this.processLeaveNode(P)}}return v.length=0,B.forEach(function(e){n.players.push(e),e.onDone(function(){e.destroy();var t=n.players.indexOf(e);n.players.splice(t,1)}),e.play()}),B},e.prototype.elementContainsData=function(e,t){var n=!1,i=t[OF];return i&&i.setForRemoval&&(n=!0),this.playersByElement.has(t)&&(n=!0),this.playersByQueriedElement.has(t)&&(n=!0),this.statesByElement.has(t)&&(n=!0),this._fetchNamespace(e).elementContainsData(t)||n},e.prototype.afterFlush=function(e){this._flushFns.push(e)},e.prototype.afterFlushAnimationsDone=function(e){this._whenQuietFns.push(e)},e.prototype._getPreviousPlayers=function(e,t,n,i,l){var o=[];if(t){var r=this.playersByQueriedElement.get(e);r&&(o=r)}else{var u=this.playersByElement.get(e);if(u){var s=!l||"void"==l;u.forEach(function(e){e.queued||(s||e.triggerName==i)&&o.push(e)})}}return(n||i)&&(o=o.filter(function(e){return!(n&&n!=e.namespaceId||i&&i!=e.triggerName)})),o},e.prototype._beforeAnimationBuild=function(e,t,n){var l,o,r=t.element,u=t.isRemovalTransition?void 0:e,s=t.isRemovalTransition?void 0:t.triggerName,a=function(e){var i=e.element,l=i!==r,o=dx(n,i,[]);c._getPreviousPlayers(i,l,u,s,t.toState).forEach(function(e){var t=e.getRealPlayer();t.beforeDestroy&&t.beforeDestroy(),e.destroy(),o.push(e)})},c=this;try{for(var p=Object(i.__values)(t.timelines),d=p.next();!d.done;d=p.next())a(d.value)}catch(h){l={error:h}}finally{try{d&&!d.done&&(o=p.return)&&o.call(p)}finally{if(l)throw l.error}}Nx(r,t.fromStyles)},e.prototype._buildAnimation=function(e,t,n,i,l,o){var r=this,u=t.triggerName,s=t.element,a=[],c=new Set,p=new Set,d=t.timelines.map(function(t){var d=t.element;c.add(d);var h=d[OF];if(h&&h.removedBeforeQueried)return new Ua(t.duration,t.delay);var f,g,m=d!==s,v=(f=(n.get(d)||TF).map(function(e){return e.getRealPlayer()}),g=[],function e(t,n){for(var i=0;i<t.length;i++){var l=t[i];l instanceof Ha?e(l.players,n):n.push(l)}}(f,g),g).filter(function(e){return!!e.element&&e.element===d}),y=l.get(d),b=o.get(d),D=sx(0,r._normalizer,0,t.keyframes,y,b),C=r._buildPlayer(t,D,v);if(t.subTimeline&&i&&p.add(d),m){var S=new NF(e,u,d);S.setRealPlayer(C),a.push(S)}return C});a.forEach(function(e){dx(r.playersByQueriedElement,e.element,[]).push(e),e.onDone(function(){return function(e,t,n){var i;if(e instanceof Map){if(i=e.get(t)){if(i.length){var l=i.indexOf(n);i.splice(l,1)}0==i.length&&e.delete(t)}}else(i=e[t])&&(i.length&&(l=i.indexOf(n),i.splice(l,1)),0==i.length&&delete e[t]);return i}(r.playersByQueriedElement,e.element,e)})}),c.forEach(function(e){return zF(e,"ng-animating")});var h=ux(d);return h.onDestroy(function(){c.forEach(function(e){return GF(e,"ng-animating")}),jx(s,t.toStyles)}),p.forEach(function(e){dx(i,e,[]).push(h)}),h},e.prototype._buildPlayer=function(e,t,n){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,n):new Ua(e.duration,e.delay)},e}(),NF=function(){function e(e,t,n){this.namespaceId=e,this.triggerName=t,this.element=n,this._player=new Ua,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}return e.prototype.setRealPlayer=function(e){var t=this;this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(function(n){t._queuedCallbacks[n].forEach(function(t){return ax(e,n,void 0,t)})}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)},e.prototype.getRealPlayer=function(){return this._player},e.prototype.overrideTotalTime=function(e){this.totalTime=e},e.prototype.syncPlayerEvents=function(e){var t=this,n=this._player;n.triggerCallback&&e.onStart(function(){return n.triggerCallback("start")}),e.onDone(function(){return t.finish()}),e.onDestroy(function(){return t.destroy()})},e.prototype._queueEvent=function(e,t){dx(this._queuedCallbacks,e,[]).push(t)},e.prototype.onDone=function(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)},e.prototype.onStart=function(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)},e.prototype.onDestroy=function(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)},e.prototype.init=function(){this._player.init()},e.prototype.hasStarted=function(){return!this.queued&&this._player.hasStarted()},e.prototype.play=function(){!this.queued&&this._player.play()},e.prototype.pause=function(){!this.queued&&this._player.pause()},e.prototype.restart=function(){!this.queued&&this._player.restart()},e.prototype.finish=function(){this._player.finish()},e.prototype.destroy=function(){this.destroyed=!0,this._player.destroy()},e.prototype.reset=function(){!this.queued&&this._player.reset()},e.prototype.setPosition=function(e){this.queued||this._player.setPosition(e)},e.prototype.getPosition=function(){return this.queued?0:this._player.getPosition()},e.prototype.triggerCallback=function(e){var t=this._player;t.triggerCallback&&t.triggerCallback(e)},e}();function LF(e){return e&&1===e.nodeType}function VF(e,t){var n=e.style.display;return e.style.display=null!=t?t:"none",n}function $F(e,t,n,i,l){var o=[];n.forEach(function(e){return o.push(VF(e))});var r=[];i.forEach(function(n,i){var o={};n.forEach(function(e){var n=o[e]=t.computeStyle(i,e,l);n&&0!=n.length||(i[OF]=BF,r.push(i))}),e.set(i,o)});var u=0;return n.forEach(function(e){return VF(e,o[u++])}),r}function UF(e,t){var n=new Map;if(e.forEach(function(e){return n.set(e,[])}),0==t.length)return n;var i=new Set(t),l=new Map;return t.forEach(function(e){var t=function e(t){if(!t)return 1;var o=l.get(t);if(o)return o;var r=t.parentNode;return o=n.has(r)?r:i.has(r)?1:e(r),l.set(t,o),o}(e);1!==t&&n.get(t).push(e)}),n}var HF="$$classes";function zF(e,t){if(e.classList)e.classList.add(t);else{var n=e[HF];n||(n=e[HF]={}),n[t]=!0}}function GF(e,t){if(e.classList)e.classList.remove(t);else{var n=e[HF];n&&delete n[t]}}function qF(e,t,n){ux(n).onDone(function(){return e.processLeaveNode(t)})}function WF(e,t,n){var i=n.get(e);if(!i)return!1;var l=t.get(e);return l?i.forEach(function(e){return l.add(e)}):t.set(e,i),n.delete(e),!0}var JF=function(){function e(e,t,n){var i=this;this.bodyNode=e,this._driver=t,this._triggerCache={},this.onRemovalComplete=function(e,t){},this._transitionEngine=new jF(e,t,n),this._timelineEngine=new AF(e,t,n),this._transitionEngine.onRemovalComplete=function(e,t){return i.onRemovalComplete(e,t)}}return e.prototype.registerTrigger=function(e,t,n,i,l){var o=e+"-"+i,r=this._triggerCache[o];if(!r){var u=[],s=tF(this._driver,l,u);if(u.length)throw new Error('The animation trigger "'+i+'" has failed to build due to the following errors:\n - '+u.join("\n - "));r=function(e,t){return new FF(e,t)}(i,s),this._triggerCache[o]=r}this._transitionEngine.registerTrigger(t,i,r)},e.prototype.register=function(e,t){this._transitionEngine.register(e,t)},e.prototype.destroy=function(e,t){this._transitionEngine.destroy(e,t)},e.prototype.onInsert=function(e,t,n,i){this._transitionEngine.insertNode(e,t,n,i)},e.prototype.onRemove=function(e,t,n){this._transitionEngine.removeNode(e,t,n)},e.prototype.disableAnimations=function(e,t){this._transitionEngine.markElementAsDisabled(e,t)},e.prototype.process=function(e,t,n,l){if("@"==n.charAt(0)){var o=Object(i.__read)(hx(n),2);this._timelineEngine.command(o[0],t,o[1],l)}else this._transitionEngine.trigger(e,t,n,l)},e.prototype.listen=function(e,t,n,l,o){if("@"==n.charAt(0)){var r=Object(i.__read)(hx(n),2);return this._timelineEngine.listen(r[0],t,r[1],o)}return this._transitionEngine.listen(e,t,n,l,o)},e.prototype.flush=function(e){void 0===e&&(e=-1),this._transitionEngine.flush(e)},Object.defineProperty(e.prototype,"players",{get:function(){return this._transitionEngine.players.concat(this._timelineEngine.players)},enumerable:!0,configurable:!0}),e.prototype.whenRenderingDone=function(){return this._transitionEngine.whenRenderingDone()},e}();function KF(e,t){var n=null,i=null;return Array.isArray(t)&&t.length?(n=ZF(t[0]),t.length>1&&(i=ZF(t[t.length-1]))):t&&(n=ZF(t)),n||i?new QF(e,n,i):null}var QF=function(){function e(t,n,i){this._element=t,this._startStyles=n,this._endStyles=i,this._state=0;var l=e.initialStylesByElement.get(t);l||e.initialStylesByElement.set(t,l={}),this._initialStyles=l}return e.prototype.start=function(){this._state<1&&(this._startStyles&&jx(this._element,this._startStyles,this._initialStyles),this._state=1)},e.prototype.finish=function(){this.start(),this._state<2&&(jx(this._element,this._initialStyles),this._endStyles&&(jx(this._element,this._endStyles),this._endStyles=null),this._state=1)},e.prototype.destroy=function(){this.finish(),this._state<3&&(e.initialStylesByElement.delete(this._element),this._startStyles&&(Nx(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Nx(this._element,this._endStyles),this._endStyles=null),jx(this._element,this._initialStyles),this._state=3)},e.initialStylesByElement=new WeakMap,e}();function ZF(e){for(var t=null,n=Object.keys(e),i=0;i<n.length;i++){var l=n[i];XF(l)&&((t=t||{})[l]=e[l])}return t}function XF(e){return"display"===e||"position"===e}var YF="animation",eE="animationend",tE=function(){function e(e,t,n,i,l,o,r){var u=this;this._element=e,this._name=t,this._duration=n,this._delay=i,this._easing=l,this._fillMode=o,this._onDoneFn=r,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=function(e){return u._handleCallback(e)}}return e.prototype.apply=function(){var e,t,n;t=this._duration+"ms "+this._easing+" "+this._delay+"ms 1 normal "+this._fillMode+" "+this._name,(n=uE(e=this._element,"").trim()).length&&(function(e,t){for(var n=0;n<e.length;n++)","===e.charAt(n)&&0}(n),t=n+", "+t),rE(e,"",t),oE(this._element,this._eventFn,!1),this._startTime=Date.now()},e.prototype.pause=function(){nE(this._element,this._name,"paused")},e.prototype.resume=function(){nE(this._element,this._name,"running")},e.prototype.setPosition=function(e){var t=iE(this._element,this._name);this._position=e*this._duration,rE(this._element,"Delay","-"+this._position+"ms",t)},e.prototype.getPosition=function(){return this._position},e.prototype._handleCallback=function(e){var t=e._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(e.elapsedTime.toFixed(3));e.animationName==this._name&&Math.max(t-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()},e.prototype.finish=function(){this._finished||(this._finished=!0,this._onDoneFn(),oE(this._element,this._eventFn,!0))},e.prototype.destroy=function(){var e,t,n,i;this._destroyed||(this._destroyed=!0,this.finish(),t=this._name,(i=lE(n=uE(e=this._element,"").split(","),t))>=0&&(n.splice(i,1),rE(e,"",n.join(","))))},e}();function nE(e,t,n){rE(e,"PlayState",n,iE(e,t))}function iE(e,t){var n=uE(e,"");return n.indexOf(",")>0?lE(n.split(","),t):lE([n],t)}function lE(e,t){for(var n=0;n<e.length;n++)if(e[n].indexOf(t)>=0)return n;return-1}function oE(e,t,n){n?e.removeEventListener(eE,t):e.addEventListener(eE,t)}function rE(e,t,n,i){var l=YF+t;if(null!=i){var o=e.style[l];if(o.length){var r=o.split(",");r[i]=n,n=r.join(",")}}e.style[l]=n}function uE(e,t){return e.style[YF+t]}var sE="linear",aE=function(){function e(e,t,n,i,l,o,r,u){this.element=e,this.keyframes=t,this.animationName=n,this._duration=i,this._delay=l,this._finalStyles=r,this._specialStyles=u,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=o||sE,this.totalTime=i+l,this._buildStyler()}return e.prototype.onStart=function(e){this._onStartFns.push(e)},e.prototype.onDone=function(e){this._onDoneFns.push(e)},e.prototype.onDestroy=function(e){this._onDestroyFns.push(e)},e.prototype.destroy=function(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(function(e){return e()}),this._onDestroyFns=[])},e.prototype._flushDoneFns=function(){this._onDoneFns.forEach(function(e){return e()}),this._onDoneFns=[]},e.prototype._flushStartFns=function(){this._onStartFns.forEach(function(e){return e()}),this._onStartFns=[]},e.prototype.finish=function(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())},e.prototype.setPosition=function(e){this._styler.setPosition(e)},e.prototype.getPosition=function(){return this._styler.getPosition()},e.prototype.hasStarted=function(){return this._state>=2},e.prototype.init=function(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())},e.prototype.play=function(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()},e.prototype.pause=function(){this.init(),this._styler.pause()},e.prototype.restart=function(){this.reset(),this.play()},e.prototype.reset=function(){this._styler.destroy(),this._buildStyler(),this._styler.apply()},e.prototype._buildStyler=function(){var e=this;this._styler=new tE(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",function(){return e.finish()})},e.prototype.triggerCallback=function(e){var t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(function(e){return e()}),t.length=0},e.prototype.beforeDestroy=function(){var e=this;this.init();var t={};if(this.hasStarted()){var n=this._state>=3;Object.keys(this._finalStyles).forEach(function(i){"offset"!=i&&(t[i]=n?e._finalStyles[i]:Kx(e.element,i))})}this.currentSnapshot=t},e}(),cE=function(e){function t(t,n){var i=e.call(this)||this;return i.element=t,i._startingStyles={},i.__initialized=!1,i._styles=Fx(n),i}return Object(i.__extends)(t,e),t.prototype.init=function(){var t=this;!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(function(e){t._startingStyles[e]=t.element.style[e]}),e.prototype.init.call(this))},t.prototype.play=function(){var t=this;this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(function(e){return t.element.style.setProperty(e,t._styles[e])}),e.prototype.play.call(this))},t.prototype.destroy=function(){var t=this;this._startingStyles&&(Object.keys(this._startingStyles).forEach(function(e){var n=t._startingStyles[e];n?t.element.style.setProperty(e,n):t.element.style.removeProperty(e)}),this._startingStyles=null,e.prototype.destroy.call(this))},t}(Ua),pE=function(){function e(){this._count=0,this._head=document.querySelector("head"),this._warningIssued=!1}return e.prototype.validateStyleProperty=function(e){return Sx(e)},e.prototype.matchesElement=function(e,t){return _x(e,t)},e.prototype.containsElement=function(e,t){return wx(e,t)},e.prototype.query=function(e,t,n){return xx(e,t,n)},e.prototype.computeStyle=function(e,t,n){return window.getComputedStyle(e)[t]},e.prototype.buildKeyframeElement=function(e,t,n){n=n.map(function(e){return Fx(e)});var i="@keyframes "+t+" {\n",l="";n.forEach(function(e){l=" ";var t=parseFloat(e.offset);i+=""+l+100*t+"% {\n",l+=" ",Object.keys(e).forEach(function(t){var n=e[t];switch(t){case"offset":return;case"easing":return void(n&&(i+=l+"animation-timing-function: "+n+";\n"));default:return void(i+=""+l+t+": "+n+";\n")}}),i+=l+"}\n"}),i+="}\n";var o=document.createElement("style");return o.innerHTML=i,o},e.prototype.animate=function(e,t,n,i,l,o,r){void 0===o&&(o=[]),r&&this._notifyFaultyScrubber();var u=o.filter(function(e){return e instanceof aE}),s={};qx(n,i)&&u.forEach(function(e){var t=e.currentSnapshot;Object.keys(t).forEach(function(e){return s[e]=t[e]})});var a=function(e){var t={};return e&&(Array.isArray(e)?e:[e]).forEach(function(e){Object.keys(e).forEach(function(n){"offset"!=n&&"easing"!=n&&(t[n]=e[n])})}),t}(t=Wx(e,t,s));if(0==n)return new cE(e,a);var c="gen_css_kf_"+this._count++,p=this.buildKeyframeElement(e,c,t);document.querySelector("head").appendChild(p);var d=KF(e,t),h=new aE(e,t,c,n,i,l,a,d);return h.onDestroy(function(){var e;(e=p).parentNode.removeChild(e)}),h},e.prototype._notifyFaultyScrubber=function(){this._warningIssued||(console.warn("@angular/animations: please load the web-animations.js polyfill to allow programmatic access...\n","  visit http://bit.ly/IWukam to learn more about using the web-animation-js polyfill."),this._warningIssued=!0)},e}(),dE=function(){function e(e,t,n,i){this.element=e,this.keyframes=t,this.options=n,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}return e.prototype._onFinish=function(){this._finished||(this._finished=!0,this._onDoneFns.forEach(function(e){return e()}),this._onDoneFns=[])},e.prototype.init=function(){this._buildPlayer(),this._preparePlayerBeforeStart()},e.prototype._buildPlayer=function(){var e=this;if(!this._initialized){this._initialized=!0;var t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",function(){return e._onFinish()})}},e.prototype._preparePlayerBeforeStart=function(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()},e.prototype._triggerWebAnimation=function(e,t,n){return e.animate(t,n)},e.prototype.onStart=function(e){this._onStartFns.push(e)},e.prototype.onDone=function(e){this._onDoneFns.push(e)},e.prototype.onDestroy=function(e){this._onDestroyFns.push(e)},e.prototype.play=function(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(function(e){return e()}),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()},e.prototype.pause=function(){this.init(),this.domPlayer.pause()},e.prototype.finish=function(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()},e.prototype.reset=function(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1},e.prototype._resetDomPlayerState=function(){this.domPlayer&&this.domPlayer.cancel()},e.prototype.restart=function(){this.reset(),this.play()},e.prototype.hasStarted=function(){return this._started},e.prototype.destroy=function(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(function(e){return e()}),this._onDestroyFns=[])},e.prototype.setPosition=function(e){this.domPlayer.currentTime=e*this.time},e.prototype.getPosition=function(){return this.domPlayer.currentTime/this.time},Object.defineProperty(e.prototype,"totalTime",{get:function(){return this._delay+this._duration},enumerable:!0,configurable:!0}),e.prototype.beforeDestroy=function(){var e=this,t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(function(n){"offset"!=n&&(t[n]=e._finished?e._finalKeyframe[n]:Kx(e.element,n))}),this.currentSnapshot=t},e.prototype.triggerCallback=function(e){var t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(function(e){return e()}),t.length=0},e}(),hE=function(){function e(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(fE().toString()),this._cssKeyframesDriver=new pE}return e.prototype.validateStyleProperty=function(e){return Sx(e)},e.prototype.matchesElement=function(e,t){return _x(e,t)},e.prototype.containsElement=function(e,t){return wx(e,t)},e.prototype.query=function(e,t,n){return xx(e,t,n)},e.prototype.computeStyle=function(e,t,n){return window.getComputedStyle(e)[t]},e.prototype.overrideWebAnimationsSupport=function(e){this._isNativeImpl=e},e.prototype.animate=function(e,t,n,i,l,o,r){if(void 0===o&&(o=[]),!r&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(e,t,n,i,l,o);var u={duration:n,delay:i,fill:0==i?"both":"forwards"};l&&(u.easing=l);var s={},a=o.filter(function(e){return e instanceof dE});qx(n,i)&&a.forEach(function(e){var t=e.currentSnapshot;Object.keys(t).forEach(function(e){return s[e]=t[e]})});var c=KF(e,t=Wx(e,t=t.map(function(e){return Rx(e,!1)}),s));return new dE(e,t,u,c)},e}();function fE(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}var gE=function(e){function t(t,n){var i=e.call(this)||this;return i._nextAnimationId=0,i._renderer=t.createRenderer(n.body,{id:"0",encapsulation:Ie.None,styles:[],data:{animation:[]}}),i}return Object(i.__extends)(t,e),t.prototype.build=function(e){var t=this._nextAnimationId.toString();this._nextAnimationId++;var n=Array.isArray(e)?La(e):e;return yE(this._renderer,null,t,"register",[n]),new mE(t,this._renderer)},t}(Pa),mE=function(e){function t(t,n){var i=e.call(this)||this;return i._id=t,i._renderer=n,i}return Object(i.__extends)(t,e),t.prototype.create=function(e,t){return new vE(this._id,e,t||{},this._renderer)},t}(ja),vE=function(){function e(e,t,n,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}return e.prototype._listen=function(e,t){return this._renderer.listen(this.element,"@@"+this.id+":"+e,t)},e.prototype._command=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return yE(this._renderer,this.element,this.id,e,t)},e.prototype.onDone=function(e){this._listen("done",e)},e.prototype.onStart=function(e){this._listen("start",e)},e.prototype.onDestroy=function(e){this._listen("destroy",e)},e.prototype.init=function(){this._command("init")},e.prototype.hasStarted=function(){return this._started},e.prototype.play=function(){this._command("play"),this._started=!0},e.prototype.pause=function(){this._command("pause")},e.prototype.restart=function(){this._command("restart")},e.prototype.finish=function(){this._command("finish")},e.prototype.destroy=function(){this._command("destroy")},e.prototype.reset=function(){this._command("reset")},e.prototype.setPosition=function(e){this._command("setPosition",e)},e.prototype.getPosition=function(){return 0},e}();function yE(e,t,n,i,l){return e.setProperty(t,"@@"+n+":"+i,l)}var bE=function(){function e(e,t,n){this.delegate=e,this.engine=t,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),t.onRemovalComplete=function(e,t){t&&t.parentNode(e)&&t.removeChild(e.parentNode,e)}}return e.prototype.createRenderer=function(e,t){var n=this,i=this.delegate.createRenderer(e,t);if(!(e&&t&&t.data&&t.data.animation)){var l=this._rendererCache.get(i);return l||(l=new DE("",i,this.engine),this._rendererCache.set(i,l)),l}var o=t.id,r=t.id+"-"+this._currentId;return this._currentId++,this.engine.register(r,e),t.data.animation.forEach(function(t){return n.engine.registerTrigger(o,r,e,t.name,t)}),new CE(this,r,i,this.engine)},e.prototype.begin=function(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()},e.prototype._scheduleCountTask=function(){var e=this;this.promise.then(function(){e._microtaskId++})},e.prototype.scheduleListenerCallback=function(e,t,n){var l=this;e>=0&&e<this._microtaskId?this._zone.run(function(){return t(n)}):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(function(){l._zone.run(function(){l._animationCallbacksBuffer.forEach(function(e){var t=Object(i.__read)(e,2);(0,t[0])(t[1])}),l._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([t,n]))},e.prototype.end=function(){var e=this;this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(function(){e._scheduleCountTask(),e.engine.flush(e._microtaskId)}),this.delegate.end&&this.delegate.end()},e.prototype.whenRenderingDone=function(){return this.engine.whenRenderingDone()},e}(),DE=function(){function e(e,t,n){this.namespaceId=e,this.delegate=t,this.engine=n,this.destroyNode=this.delegate.destroyNode?function(e){return t.destroyNode(e)}:null}return Object.defineProperty(e.prototype,"data",{get:function(){return this.delegate.data},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()},e.prototype.createElement=function(e,t){return this.delegate.createElement(e,t)},e.prototype.createComment=function(e){return this.delegate.createComment(e)},e.prototype.createText=function(e){return this.delegate.createText(e)},e.prototype.appendChild=function(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)},e.prototype.insertBefore=function(e,t,n){this.delegate.insertBefore(e,t,n),this.engine.onInsert(this.namespaceId,t,e,!0)},e.prototype.removeChild=function(e,t){this.engine.onRemove(this.namespaceId,t,this.delegate)},e.prototype.selectRootElement=function(e,t){return this.delegate.selectRootElement(e,t)},e.prototype.parentNode=function(e){return this.delegate.parentNode(e)},e.prototype.nextSibling=function(e){return this.delegate.nextSibling(e)},e.prototype.setAttribute=function(e,t,n,i){this.delegate.setAttribute(e,t,n,i)},e.prototype.removeAttribute=function(e,t,n){this.delegate.removeAttribute(e,t,n)},e.prototype.addClass=function(e,t){this.delegate.addClass(e,t)},e.prototype.removeClass=function(e,t){this.delegate.removeClass(e,t)},e.prototype.setStyle=function(e,t,n,i){this.delegate.setStyle(e,t,n,i)},e.prototype.removeStyle=function(e,t,n){this.delegate.removeStyle(e,t,n)},e.prototype.setProperty=function(e,t,n){"@"==t.charAt(0)&&"@.disabled"==t?this.disableAnimations(e,!!n):this.delegate.setProperty(e,t,n)},e.prototype.setValue=function(e,t){this.delegate.setValue(e,t)},e.prototype.listen=function(e,t,n){return this.delegate.listen(e,t,n)},e.prototype.disableAnimations=function(e,t){this.engine.disableAnimations(e,t)},e}(),CE=function(e){function t(t,n,i,l){var o=e.call(this,n,i,l)||this;return o.factory=t,o.namespaceId=n,o}return Object(i.__extends)(t,e),t.prototype.setProperty=function(e,t,n){"@"==t.charAt(0)?"."==t.charAt(1)&&"@.disabled"==t?this.disableAnimations(e,n=void 0===n||!!n):this.engine.process(this.namespaceId,e,t.substr(1),n):this.delegate.setProperty(e,t,n)},t.prototype.listen=function(e,t,n){var l,o,r,u=this;if("@"==t.charAt(0)){var s=function(e){switch(e){case"body":return document.body;case"document":return document;case"window":return window;default:return e}}(e),a=t.substr(1),c="";return"@"!=a.charAt(0)&&(a=(l=Object(i.__read)((o=a,r=o.indexOf("."),[o.substring(0,r),o.substr(r+1)]),2))[0],c=l[1]),this.engine.listen(this.namespaceId,s,a,c,function(e){u.factory.scheduleListenerCallback(e._data||-1,n,e)})}return this.delegate.listen(e,t,n)},t}(DE),SE=function(e){function t(t,n,i){return e.call(this,t.body,n,i)||this}return Object(i.__extends)(t,e),t}(JF);function _E(){return"function"==typeof fE()?new hE:new pE}function wE(){return new bF}function xE(e,t,n){return new bE(e,t,n)}var FE=new me("AnimationModuleType"),EE=function(){return function(){}}(),kE=Fa(Aa,[Ma],function(e){return function(e){for(var t={},n=[],i=!1,l=0;l<e.length;l++){var o=e[l];o.token===gi&&!0===o.value&&(i=!0),1073741824&o.flags&&n.push(o.token),o.index=l,t[_r(o.token)]=o}return{factory:null,providersByKey:t,providers:e,modules:n,isRoot:i}}([hu(512,Oi,Ri,[[8,[$h,bg,Ig,Gg,mm,Dm,Bm,jm,rv,hv,Pv,$v,uy,dy,my,Oy,Ly,Zy,bb,$b,Kb,ox]],[3,Oi],Pi]),hu(5120,or,sr,[[3,or]]),hu(4608,Qc,Zc,[or,[2,Kc]]),hu(4608,lo,lo,[]),hu(5120,zl,Gl,[]),hu(5120,Yo,rr,[]),hu(5120,er,ur,[]),hu(4608,bh,Dh,[dp]),hu(6144,Wi,null,[bh]),hu(4608,dh,fh,[]),hu(5120,Ld,function(e,t,n,i,l,o,r,u){return[new ch(e,t,n),new yh(i),new gh(l,o,r,u)]},[dp,po,Jl,dp,dp,dh,Ql,[2,hh]]),hu(4608,Vd,Vd,[Ld,po]),hu(135680,Hd,Hd,[dp]),hu(4608,Qd,Qd,[Vd,Hd,zl]),hu(5120,kx,_E,[]),hu(5120,yF,wE,[]),hu(4608,JF,SE,[dp,kx,yF]),hu(5120,Ui,xE,[Qd,JF,po]),hu(6144,Ud,null,[Hd]),hu(4608,Do,Do,[po]),hu(4608,Pa,gE,[Ui,Td]),hu(4608,od,od,[zp,Zp,Oi,id,Qp,ti,po,dp,mp,[2,fc]]),hu(5120,rd,ud,[od]),hu(5120,md,vd,[od]),hu(135680,yd,yd,[od,ti,[2,fc],[2,gd],md,[3,yd],Zp]),hu(4608,sf,sf,[]),hu(4608,Ra,Ra,[]),hu(4608,Zf,Zf,[Ra]),hu(4608,Yf,Yf,[Zf]),hu(4608,eg,eg,[Zf,Yf]),hu(4608,tg,tg,[Ra,eg,Zf,Yf]),hu(4608,HS,HS,[Zf,eg,Yf]),hu(4608,mv,mv,[eg,Zf,yd]),hu(1073742336,pp,pp,[]),hu(1024,Ll,kh,[]),hu(1024,Ul,function(e){return[(t=e,Pd("probe",Nd),Pd("coreTokens",Object(i.__assign)({},jd,(t||[]).reduce(function(e,t){return e[t.name]=t.token,e},{}))),function(){return Nd})];var t},[[2,wo]]),hu(512,Hl,Hl,[[2,Ul]]),hu(131584,Ao,Ao,[po,Ql,ti,Ll,Oi,Hl]),hu(1073742336,ar,ar,[Ao]),hu(1073742336,Ah,Ah,[[3,Ah]]),hu(1073742336,EE,EE,[]),hu(1073742336,vp,vp,[]),hu(1073742336,Xa,Xa,[]),hu(1073742336,Op,Op,[]),hu(1073742336,Mp,Mp,[]),hu(1073742336,sd,sd,[]),hu(1073742336,Ph,Ph,[[2,Mh],[2,hh]]),hu(1073742336,Dd,Dd,[]),hu(1073742336,qf,qf,[]),hu(1073742336,Wf,Wf,[]),hu(1073742336,Aa,Aa,[]),hu(256,gi,!0,[]),hu(256,FE,"BrowserAnimations",[])])});ka.production&&function(){if(il)throw new Error("Cannot enable prod mode after platform setup.");nl=!1}(),Eh().bootstrapModuleFactory(kE).catch(function(e){return console.error(e)})},zfKp:function(e,t,n){"use strict";t.observable="function"==typeof Symbol&&Symbol.observable||"@@observable"}},[[0,0]]]);